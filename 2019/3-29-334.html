<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="content-language" content="zh-CN"/>
    <meta name="author" content="WeiyiGeek" />
    <meta name="msvalidate.01" content="5C552FB1D885E0E11D2957EC958C8018" />
    <meta name="shenma-site-verification" content="4c655e91c76be0a93c1b6954c666c9d6_1649049085"/>
    <meta name="bytedance-verification-code" content="lKs4FqwCHSJ3A/c5tT7X" />
    <meta name="sogou_site_verification" content="OC65iET6Bk" />
    
    <title>🌐 3.Python3基础入门学习笔记(三)|WeiyiGeek Blog|唯一极客Geek-IT网络安全运维开发技术知识分享-博客站点</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    
    <meta name="keywords" content="编程入门学习">
    <meta name="Description" content="WeiyiGeek-唯一极客博客站点,关注于网络安全运维,Web安全开发,IOT物联网安全开发,应用开发,分享技术学习知识与入坑解决,提升网络安全技术与自身技术能力,立志维护大众网络安全为己任,做一个对国家有用的人,为实现中华民族伟大复兴的中国梦不懈奋斗">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/jquery/3.5.2-jquery.fancybox.min.css?v=1.6.6" />
    <link rel="stylesheet" href="/css/style.css?v=1.6.6">
    <!--  -->
     <script type="text/javascript" src="/js/custom/articlecost.js?v=1.6.6"></script> 
    <link rel="stylesheet" href="/css/third-party/gitalk.css?v=1.6.6"> 
        
    <script type="text/javascript">
        // Data Center
        var DC = {
          reward:	true,
          lv: JSON.parse('{"enable":false,"app_id":null,"app_key":null,"icon":true}'),
          v: JSON.parse('{"enable":false,"appid":null,"appkey":null,"notify":true,"verify":true,"placeholder":"give me some sugers plz...","avatar":"wavatar"}')
        };
    </script>
    <script type="text/javascript">window.lazyScripts=[];</script>
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="WeiyiGeek Blog" type="application/atom+xml">
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="/img/brand.jpg" class="brand-bg" alt="WeiyiGeek-backgroud">
      
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg" alt="WeiyiGeek-头像">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">WeiyiGeek</h5>
          <a href="mailto:master@weiyigeek.top" title="master@weiyigeek.top" class="mail">
            <span>m</span><span>a</span><span>s</span><span>t</span><span>e</span><span>r</span><span>@</span><span>w</span><span>e</span><span>i</span><span>y</span><span>i</span><span>g</span><span>e</span><span>e</span><span>k</span><span>.</span><span>t</span><span>o</span><span>p</span>
          </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://weiyigeek.top/img/wechat-search.png" target="_blank">
                  <i class="icon icon-lg icon-wechat"></i>
                </a>
              </li>
            
              <li>
                <a href="https://github.com/weiyigeek" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
              <li>
                <a href="https://t.me/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-telegram"></i>
                </a>
              </li>
            
              <li>
                <a href="https://twitter.com/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-twitter"></i>
                </a>
              </li>
            
              <li>
                <a href="https://weibo.com/615643678" target="_blank">
                  <i class="icon icon-lg icon-weibo"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                首页
              </a>
            </li>
        
            <li class="">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                文章分类
              </a>
            </li>
        
            <li class="">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                文章标签
              </a>
            </li>
        
            <li class="">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                文章归档
              </a>
            </li>
        
            <li class="">
              <a href="/2018/1-1-1.html"  >
                <i class="icon icon-lg icon-mortar-board"></i>
                学习之路
              </a>
            </li>
        
            <li class="">
              <a href="/books"  >
                <i class="icon icon-lg icon-book"></i>
                学习书籍
              </a>
            </li>
        
            <li class="">
              <a href="/about"  >
                <i class="icon icon-lg icon-user"></i>
                关于作者
              </a>
            </li>
        
            <li class="">
              <a href="/links"  >
                <i class="icon icon-lg icon-link"></i>
                站点导航
              </a>
            </li>
        
            <li class="">
              <a href="/img/share-wechat.jpg" target="_blank" >
                <i class="icon icon-lg icon-wechat"></i>
                公众账号
              </a>
            </li>
        
            <li class="">
              <a href="https://space.bilibili.com/385802642" target="_blank" >
                <i class="icon icon-lg icon-youtube-play"></i>
                哔哩哔哩
              </a>
            </li>
        
            <li class="">
              <a href="https://github.com/weiyigeek" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="">
              <a href="https://twitter.com/WeiyiGeek" target="_blank" >
                <i class="icon icon-lg icon-twitter"></i>
                Twitter
              </a>
            </li>
        
            <li class="">
              <a href="https://weibo.com/615643678" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>3.Python3基础入门学习笔记(三)</span>
            
        </div>

        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        

        
            <a href="/atom.xml" class="header-icon pull-right waves-effect waves-circle waves-light">
                <i class="icon icon-lg icon-rss"></i>
            </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="/img/banner.jpg" class="header-bg" alt="文章头部背景">
    <div class="container fade-scale">
        <h1 class="title">3.Python3基础入门学习笔记(三)</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-03-29T05:34:30.000Z" itemprop="datePublished" class="page-time">
  2019-03-29
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Python3/">Python3</a></li></ul>


            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>


<div class="container body-wrap" style="display: none;">
  <article id="post-编程世界/Python/基础学习/3.Python3基础入门学习笔记(三)"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">3.Python3基础入门学习笔记(三)</h1>
        <div class="post-meta">
            <time class="post-time" title="2019-03-29 13:34:30" datetime="2019-03-29T05:34:30.000Z"  itemprop="datePublished">2019-03-29</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Python3/">Python3</a></li></ul>



            

            


            
        </div>
        <span class="post-href" style="display: none;">|</span>
        <!-- 微信公众号关注/文章版权复制 -->
        
          <div id="btw-mask" style="position: fixed; top: 0px; right: 0px; bottom: 0px; left: 0px; opacity: 0.7; z-index: 999; background: rgb(0, 0, 0); display:none"></div>
<div id="btw-modal" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 360px; text-align: center; font-size: 13px; background: rgb(255, 255, 255); border-radius: 10px; z-index: 9999; font-family: PingFangSC-Regular, sans-serif;display:none">
<span id="btw-modal-close-btn" style="position: absolute; top: 5px; right: 15px; line-height: 1.8; font-size: 15px; cursor: pointer; opacity: 0.2; z-index: 9999; color: rgb(0, 0, 0); background: none; border: none; outline: none;">X</span>
<p id="btw-modal-header" style="margin-top: 40px; line-height: 1.8; font-size: 13px; ">
<b style="color:#6190e8;">你好看友,欢迎关注博主微信公众号哟! ❤ <br> 这将是我持续更新文章的动力源泉，谢谢支持！(๑′ᴗ‵๑) </b> <br> 如不想关注请点击右上角的【X】即可关闭继续浏览文章.<br>  <b style="color:red;"> 温馨提示: 未解锁的用户不能粘贴复制文章内容哟!</b> <br>
<br>Method 1.Please visit <strong><a href="https://twitter.com/WeiyiGeek" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">【My Twitter】</a></strong>. There is an article verification code in the homepage.
<br>方式2.请访问本博主的B站<strong><a href="https://space.bilibili.com/385802642" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">【WeiyiGeek】</a></strong>首页关注UP主,<br>将自动随机获取解锁验证码。
<br>方式3.扫一扫下方二维码，关注本站<strong>官方公众号</strong><br>
回复：<strong style="color: rgb(240, 65, 52);">验证码</strong>
将获取<strong style="color: rgb(240, 65, 52);">解锁(有效期7天)</strong>本站所有技术文章哟!</p>
<img src="/img/wechat-search.png" style="width: 300px; margin-top: 10px;">
<div id="btw-modal-input-code" style="margin-top: 20px; background: rgb(255, 255, 255);">
  <input id="btw-modal-input" type="number" minlength="4" maxlength="4" placeholder="请输入验证码|Verification Code"
    style="width: 165px; height: 32px; line-height: 32px; padding: 0px 10px; margin: 0px 10px; font-size: 13px; text-rendering: auto; text-transform: none; cursor: text; outline: none; box-sizing: border-box; border: 1px solid rgb(221, 221, 221); -webkit-appearance: textfield; background-color: white; -webkit-rtl-ordering: logical;"/>
  <button id="btw-submit-btn" onclick="yzm_vertify()"
    style="padding: 0px 20px; height: 32px; font-size: 14px; outline: none; border: none; color: rgb(255, 255, 255); background: rgb(222, 104, 109); cursor: pointer;">提
    交</button> </div>
<p id="btw-footer" style="margin: 40px 0px 20px; color: rgb(153, 153, 153);">@WeiyiGeek - 为了能到远方，脚下的每一步都不能少</p>
</div>
            
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <p>[TOC]</p>
<h3 id="10-Python-文件操作与处理"><a href="#10-Python-文件操作与处理" class="headerlink" title="10.Python 文件操作与处理"></a>10.Python 文件操作与处理</h3><a id="more"></a>
<p><em>描述：</em> 我们所知道常用的操作系统有Windows,Mac,LINUX,UNIX,这些操作系统底层对于文件系统的访问工作原理是不一样的,因此您可能要针对不同的操作系统来考虑使用那些系统模块,即修改不同的代码。但是Python中有了OS模块,我们不需要关心什么操作系统下使用什么模块,OS模块会帮你选择正确的模块并调用。</p>
<p>在Python对于FILE文件最重要的方法是open()方法Z,用于打开一个文件,并返回文件对象,对文件进行处理过程都需要使用到这个函数;<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">open(file, mode=<span class="string">'rt'</span>)  <span class="comment"># 默认为文本模式只读打开,如果要以二进制模式打开,加上 b 。</span></span><br><span class="line">open(file, mode=<span class="string">'rt'</span>, [buffering=<span class="number">-1</span>, encoding=<span class="literal">None</span>, errors=<span class="literal">None</span>, newline=<span class="literal">None</span>, closefd=<span class="literal">True</span>, opener=<span class="literal">None</span>])  <span class="comment">#完整语法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#参数说明:</span></span><br><span class="line">file: 必需,文件路径（相对或者绝对路径）。</span><br><span class="line">mode: 可选,文件打开模式</span><br><span class="line">buffering: 设置缓冲</span><br><span class="line">encoding: 一般使用utf8</span><br><span class="line">errors: 报错级别</span><br><span class="line">newline: 区分换行符</span><br><span class="line">closefd: 传入的file参数类型</span><br><span class="line"></span><br><span class="line"><span class="comment">#如果该文件无法被打开,会抛出 OSError</span></span><br><span class="line"><span class="comment">#File对象的方法参考笔记中Python3内置函数</span></span><br></pre></td></tr></table></figure></p>
<h4 id="10-1-Python文件系统"><a href="#10-1-Python文件系统" class="headerlink" title="10.1 Python文件系统"></a>10.1 Python文件系统</h4><p>使用Python进行文件的打开与内容的读取,写入内容,需要注意写入中文字符 <em>（选择utf-8编码）</em><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="comment">#coding:utf-8</span></span><br><span class="line"><span class="comment">#原理：文件系统</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#/****案例1：文件内容遍历***/</span></span><br><span class="line">file = open(<span class="string">'python.txt'</span>,<span class="string">'r+'</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#不建议使用下面的方式进行输出文件中的内容;</span></span><br><span class="line"><span class="comment"># file.seek(0,0)</span></span><br><span class="line"><span class="comment"># lines = list(file)</span></span><br><span class="line"><span class="comment"># for eachline in lines:</span></span><br><span class="line"><span class="comment">#     print(eachline,end="")</span></span><br><span class="line"><span class="comment">#替代的方法直接采用文件对象方式（推荐）</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"文件描述符为: %d"</span> %file.fileno())</span><br><span class="line">print(<span class="string">"是否连接到一个终端设备"</span>,file.isatty())</span><br><span class="line"></span><br><span class="line">file.seek(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"><span class="keyword">for</span> eachline <span class="keyword">in</span> file:</span><br><span class="line">    print(eachline,end=<span class="string">""</span>)</span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#/**** 案例2:文件内容分割  ***/</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save_file</span><span class="params">(boy,girl,count)</span>:</span></span><br><span class="line">    file_name_boy = <span class="string">'boy_'</span>+str(count)+<span class="string">'.txt'</span></span><br><span class="line">    file_name_girl = <span class="string">'girl_'</span>+str(count)+<span class="string">'.txt'</span></span><br><span class="line"></span><br><span class="line">    afile = open(file_name_boy,<span class="string">'w'</span>,encoding=<span class="string">'utf-8'</span>)  <span class="comment">#注意写入coding</span></span><br><span class="line">    bfile = open(file_name_girl,<span class="string">'w'</span>,encoding=<span class="string">'utf-8'</span>)  </span><br><span class="line"></span><br><span class="line">    afile.writelines(girl)</span><br><span class="line">    bfile.writelines(boy)</span><br><span class="line"></span><br><span class="line">    afile.close()</span><br><span class="line">    bfile.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">split_file</span><span class="params">(filename)</span>:</span></span><br><span class="line">    f = open(filename,<span class="string">'r'</span>,encoding=<span class="string">'utf-8'</span>) <span class="comment">#注意读取coding</span></span><br><span class="line">    Aauthor = []</span><br><span class="line">    Bauthor = []</span><br><span class="line">    count = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> lines <span class="keyword">in</span> f:</span><br><span class="line">        <span class="keyword">if</span> lines[:<span class="number">6</span>] != <span class="string">'======'</span>:</span><br><span class="line">            (role,spoken) = lines.split(<span class="string">':'</span>)</span><br><span class="line">            <span class="keyword">if</span> role == <span class="string">'A'</span>:</span><br><span class="line">                Aauthor.append(spoken) <span class="comment">#列表添加</span></span><br><span class="line">            <span class="keyword">elif</span> role == <span class="string">'B'</span>:</span><br><span class="line">                Bauthor.append(spoken)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            save_file(Bauthor,Aauthor,count)</span><br><span class="line">            <span class="comment">#重新将A/B置为空列表</span></span><br><span class="line">            Aauthor = []</span><br><span class="line">            Bauthor = []</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#在循环结束后需要进行一次文件保持,因为只有两次 '======',初学者容易犯错</span></span><br><span class="line">    save_file(Bauthor,Aauthor,count)  <span class="comment">#关键点</span></span><br><span class="line">    f.close()</span><br><span class="line">split_file(<span class="string">'demo2-10.txt'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">########################### 测试结果 ########################################</span></span><br><span class="line"><span class="comment"># C:\Users\Administrator\Desktop\Python\2&gt;python demo2-10.py</span></span><br><span class="line"><span class="comment"># 文件描述符为: 3</span></span><br><span class="line"><span class="comment"># 是否连接到一个终端设备 False</span></span><br><span class="line"><span class="comment"># #1：测试</span></span><br><span class="line"><span class="comment"># #2: nAME = wEIYIgeek</span></span><br><span class="line"><span class="comment"># #3：password = 123456</span></span><br></pre></td></tr></table></figure></p>
<h4 id="10-2-Python文件写入反序列化"><a href="#10-2-Python文件写入反序列化" class="headerlink" title="10.2 Python文件写入反序列化"></a>10.2 Python文件写入反序列化</h4><p>描述：采用二进制的形式将python各类数据类型存储进磁盘中,相当于数据库反序列化,需要导入pickle包进行读入读出操作;</p>
<p>pickle的实质就是利用一些算法将你的数据对象“腌制”成二进制文件,存储在磁盘上,当然也可以放在数据库或者通过网络传输到另一台计算机上。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="comment">#功能：数据序列化(二进制)</span></span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">value = dict.fromkeys((<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>),<span class="string">'pickle'</span>)</span><br><span class="line">print(value)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pkldown</span><span class="params">(filename)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> os.path.exists(filename):</span><br><span class="line">        print(<span class="string">"文件已经存在正在打开"</span>,end=<span class="string">""</span>)</span><br><span class="line">        f = open(filename,<span class="string">'wb'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        f = open(filename,<span class="string">'wb'</span>)</span><br><span class="line"></span><br><span class="line">    pickle.dump(value,f)</span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pklget</span><span class="params">(filename)</span>:</span></span><br><span class="line">    f = open(filename,<span class="string">'rb'</span>)</span><br><span class="line">    getv = pickle.load(f)  <span class="comment">#注意要先使用'rb'的模式open文件哦</span></span><br><span class="line">    f.close()</span><br><span class="line">    print(<span class="string">" %s "</span> %getv)</span><br><span class="line"></span><br><span class="line">pkldown(<span class="string">'test.pkl'</span>)</span><br><span class="line">pklget(<span class="string">'test.pkl'</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-box">
                <a rel=3.Python3基础入门学习笔记(三) href="https://img.weiyigeek.top/2019/20190329174016.png" target="_blank" title="WeiyiGeek.open函数mode属性参数" data-fancybox="images"><img src="https://img.weiyigeek.top/2019/20190329174016.png" alt="WeiyiGeek.open函数mode属性参数" title="" class=""></a>
                <p>WeiyiGeek.open函数mode属性参数</p>
            </figure>
<p>注意：使用pickle可以保存为”*.txt”类型的文件,但是存入是二进制文件,直接打开是乱码;</p>
<hr>

<h3 id="11-Python-错误和异常抛出"><a href="#11-Python-错误和异常抛出" class="headerlink" title="11.Python 错误和异常抛出"></a>11.Python 错误和异常抛出</h3><p>总结下异常处理机制的重要性:<br>由于环境的不确定性和用户操作的不可以预知性都可能导致程序出现各种问题,因此异常机制最重要的无非就是：增强程序的健壮性和用户体验,尽可能的捕获所有预知的异常并写好处理的代码,当异常出现的时候,程序自动消化并恢复正常（不至于崩溃）;</p>
<p><strong>try 语句语法：</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    检测的代码块</span><br><span class="line">execpt Exception [<span class="keyword">as</span> reaon]:</span><br><span class="line">    出现异常后执行的代码</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    当没有异常发生时,<span class="keyword">else</span>中的语句将会被执行</span><br></pre></td></tr></table></figure></p>
<p><strong>try - finally 语句:</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    检测的代码块</span><br><span class="line">execpt Exception [<span class="keyword">as</span> reaon]:</span><br><span class="line">    出现异常后执行的代码</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">      当没有异常发生时,<span class="keyword">else</span>中的语句将会被执行</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">     无论怎么样都会被执行的代码</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#raise 语句 抛出异常</span></span><br><span class="line"><span class="keyword">raise</span> 系统异常名称(<span class="string">'错误描述'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#with 语句 关注文件I/O自动释放(不在需要手动释放了) , 语句处理多个项目的时候,可以用逗号隔开写成一条语句)e</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'data.txt'</span>,<span class="string">'w'</span>) <span class="keyword">as</span> 文件对象:</span><br><span class="line"><span class="comment">#案例 </span></span><br><span class="line"><span class="keyword">with</span> A() <span class="keyword">as</span> a, B() <span class="keyword">as</span> b:</span><br><span class="line">    suite</span><br></pre></td></tr></table></figure></p>
<p><strong>错误与异常抛出案例：</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="comment">#程序异常处理</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#案例1：无论何种错误都将执行我们处理代码</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    sum = <span class="number">1</span> + <span class="string">'a'</span></span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    print(<span class="string">"程序出现了错误BUG , [在实际中不建议使用这样的方法]"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#安装2：指定的异常进行指定的操作</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    f = open(<span class="string">'noexsitfile.txt'</span>)  <span class="comment">#运行到这里直接跳到OSerror异常执行响应的代码</span></span><br><span class="line">    print(<span class="string">"----------------------"</span>)</span><br><span class="line">    f.write(<span class="string">"我存在了"</span>)</span><br><span class="line">    sum = <span class="number">1</span> + <span class="string">'b'</span></span><br><span class="line"><span class="keyword">except</span> OSError <span class="keyword">as</span> err:</span><br><span class="line">    print(<span class="string">"OSError:"</span>,str(err))</span><br><span class="line"><span class="keyword">except</span> TypeError <span class="keyword">as</span> err:</span><br><span class="line">    print(<span class="string">"TypeError:"</span>,str(err))</span><br><span class="line"></span><br><span class="line">print(<span class="string">"----------------------"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#案例3：指定不同的异常执行相同的处理异常的代码,最后不过抛没抛出异常都将执行</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    f = open(<span class="string">'noexsitfile.txt'</span>,<span class="string">'w'</span>,encoding=<span class="string">'utf-8'</span>)  <span class="comment">#运行到这里直接跳到OSerror异常执行响应的代码</span></span><br><span class="line">    print(f.write(<span class="string">"我存在了"</span>))</span><br><span class="line">    sum = <span class="number">1</span> + <span class="string">'b'</span></span><br><span class="line"><span class="keyword">except</span> (OSError,TypeError) <span class="keyword">as</span> identifier:</span><br><span class="line">    print(<span class="string">"程序异常了："</span>,str(identifier))</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    print(<span class="string">"不管抛没抛出异常都要将打开的文件关闭"</span>)</span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line">print(<span class="string">"-------------------------"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#案例4：抛出指定的异常</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">if</span> <span class="string">'a'</span> &gt; <span class="string">'b'</span>:</span><br><span class="line">        <span class="keyword">raise</span> TypeError(<span class="string">"我们异常了"</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> NameError(<span class="string">"我就要异常"</span>)  <span class="comment">#抛出指定异常</span></span><br><span class="line"><span class="keyword">except</span> (TypeError,NameError) <span class="keyword">as</span> errvalue:</span><br><span class="line">    print(<span class="string">"自定义异常原因:"</span>,errvalue)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">"-------------------------"</span>)</span><br><span class="line"><span class="comment">#案例5： try ....except...else ...finally 语句,当没有异常发生时,else中的语句将会被执行</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    print( <span class="number">1</span> / <span class="number">2</span>)</span><br><span class="line"><span class="keyword">except</span> TypeError <span class="keyword">as</span> identifier:</span><br><span class="line">    print(<span class="string">"错误原因："</span>,str(identifier))</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"没有异常错误我才执行"</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    print(<span class="string">"不管有木有错我都要执行"</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"----------------------"</span>)</span><br><span class="line"><span class="comment">#案例6 with语言的使用</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">'with.txt'</span>,<span class="string">'w'</span>,encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(<span class="string">"Test ... Test"</span>)</span><br><span class="line">        print(<span class="string">"完成文件写入"</span>)</span><br><span class="line"><span class="keyword">except</span> OSError <span class="keyword">as</span> reson:</span><br><span class="line">    print(<span class="string">"出错误了"</span>,str(reson))</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"什么错误都没出,打开的文件将自动关闭"</span>)</span><br></pre></td></tr></table></figure><br><figure class="image-box">
                <a rel=3.Python3基础入门学习笔记(三) href="https://img.weiyigeek.top/2019/20190329174844.png" target="_blank" title="WeiyiGeek.错误与异常抛出案例" data-fancybox="images"><img src="https://img.weiyigeek.top/2019/20190329174844.png" alt="WeiyiGeek.错误与异常抛出案例" title="" class=""></a>
                <p>WeiyiGeek.错误与异常抛出案例</p>
            </figure></p>
<p><em>With 语句案例：</em><br>使用 with 语句处理文件可以减少需要编写的代码量和粗心的错误;<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">file_compare</span><span class="params">(file1, file2)</span>:</span></span><br><span class="line">    <span class="keyword">with</span> open(file1) <span class="keyword">as</span> f1, open(file2) <span class="keyword">as</span> f2:  <span class="comment"># 值得学习</span></span><br><span class="line">        count = <span class="number">0</span> <span class="comment"># 统计行数</span></span><br><span class="line">        differ = [] <span class="comment"># 统计不一样的数量</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> line1 <span class="keyword">in</span> f1:</span><br><span class="line">            line2 = f2.readline()</span><br><span class="line">            count += <span class="number">1</span>   <span class="comment">#文件函数比较</span></span><br><span class="line">            <span class="keyword">if</span> line1 != line2:</span><br><span class="line">                differ.append(count)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> differ</span><br><span class="line"></span><br><span class="line">file1 = input(<span class="string">'请输入需要比较的头一个文件名：'</span>)</span><br><span class="line">file2 = input(<span class="string">'请输入需要比较的另一个文件名：'</span>)</span><br><span class="line"></span><br><span class="line">differ = file_compare(file1, file2)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> len(differ) == <span class="number">0</span>:</span><br><span class="line">    print(<span class="string">'两个文件完全一样！'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'两个文件共有【%d】处不同：'</span> % len(differ))</span><br><span class="line">    <span class="keyword">for</span> each <span class="keyword">in</span> differ:</span><br><span class="line">        print(<span class="string">'第 %d 行不一样'</span> % each)</span><br></pre></td></tr></table></figure></p>
<hr>

<h3 id="12-Python-面向对象"><a href="#12-Python-面向对象" class="headerlink" title="12.Python 面向对象"></a>12.Python 面向对象</h3><p><em>Q:类和对象是什么关系呢？</em><br>答：类和对象的关系就如同模具和用这个模具制作出的物品之间的关系。一个类为它的全部对象给出了一个统一的定义,而他的每个对象则是符合这种定义的一个实体,因此类和对象的关系就是抽象和具体的关系;</p>
<p>OOP思想：</p>
<ul>
<li>类的属性定义应该尽可能抽象,因为这样更符合面向对象的思维;</li>
<li>对象中的属性和方法,在实际编程中是变量（属性）和函数（方法）;</li>
</ul>
<p>面向对象的几个特征:</p>
<ol>
<li>封装:对外部隐藏对象的工作细节 </li>
<li>继承:子类自动共享父类之间数据和方法的机制 （子类继承父类） </li>
<li>多态:可以对不同类的对象调用相同的方法,产生不同的结果 （不同对象对同一方法响应不同行动）</li>
</ol>
<p><em>Q:面向对象技术名词?</em></p>
<ul>
<li>类定义: 指的是类定义,用来描述具有相同的属性和方法的对象的集合,特点“Python无处不对象”</li>
<li>类对象: 类定义完之后自然就是类对象,这时你可以对类的属性（变量）进行直接访</li>
<li>实例对象: 一个类可以实例化出无数的对象（实例对象,类的具体对象）,为了区分是哪个实例对象调用了方法所以采用上面所说的self;</li>
<li>数据成员：类变量或者实例变量用于处理类及其实例对象的相关的数据。</li>
<li>局部变量：定义在方法中的变量,只作用于当前实例的类。</li>
<li>实例变量：在类的声明中,属性是用变量来表示的。这种变量就称为实例变量,是在类声明的内部但是在类的其他成员方法之外声明的。</li>
<li>方法重写：如果从父类继承的方法不能满足子类的需求,可以对其进行改写,这个过程叫方法的覆盖（override）,也称为方法的重写。</li>
<li>继承：即一个派生类（derived class）继承基类（base class）的字段和方法,继承也允许把一个派生类的对象作为一个基类对象对待。<figure class="image-box">
                <a rel=3.Python3基础入门学习笔记(三) href="https://img.weiyigeek.top/2019/20190406134515.png" target="_blank" title="WeiyiGeek.类/类对象与实例对象" data-fancybox="images"><img src="https://img.weiyigeek.top/2019/20190406134515.png" alt="WeiyiGeek.类/类对象与实例对象" title="" class=""></a>
                <p>WeiyiGeek.类/类对象与实例对象</p>
            </figure>
</li>
</ul>
<p><strong>类属性与方法</strong></p>
<ul>
<li>私有变量: <strong>private_attrs：两个下划线开头,声明该属性为私有,不能在类的外部被使用或直接访问,但可以通过 对象._类名</strong>属性名称 在外部进行调用;</li>
<li>类的私有方法：<strong>private_method：两个下划线开头,声明该方法为私有方法,只能在类的内部调用( self.</strong>private_methods), 在类的外部调用类似于上面;</li>
<li>self参数的作用是绑定方法,有了这个参数Python 再也不会傻傻分不清是哪个对象在调用方法了,self 其实就是实例对象的唯一标志。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span>:</span></span><br><span class="line">    count = <span class="number">0</span>  <span class="comment"># 静态属性</span></span><br><span class="line">    public_attrs = <span class="number">0</span> <span class="comment">#公共属性</span></span><br><span class="line">    __private_attrs = <span class="number">0</span> <span class="comment">#私有</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        C.count = C.count + <span class="number">1</span>  <span class="comment"># 类名.属性名的形式引用 （每实例化一次+1）</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">prt</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'这是公共方法'</span>)  <span class="comment"># 公共方法</span></span><br><span class="line">        print(self)</span><br><span class="line">        print(self.__class__)</span><br><span class="line">        self.__foo()   <span class="comment">#调用私有方法</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__foo</span><span class="params">(self)</span>:</span>          <span class="comment"># 私有方法</span></span><br><span class="line">        print(<span class="string">'这是私有方法'</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getCount</span><span class="params">(self)</span>:</span>   </span><br><span class="line">        <span class="keyword">return</span> C.count   <span class="comment">#类的静态属性应用（计算该类被实例化的次数）</span></span><br><span class="line">        </span><br><span class="line">t = Test()</span><br><span class="line">t.prt()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 注意 #</span></span><br><span class="line">t._Test__private_attrs  <span class="comment">#外部直接调用私有属性</span></span><br><span class="line">t._Test__foo()          <span class="comment">#外部直接调用私有方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">############### 以上实例执行结果为：#############################</span></span><br><span class="line"><span class="comment"># 这是公共方法</span></span><br><span class="line"><span class="comment"># &lt;__main__.Test instance at 0x100771878&gt;  #self 代表的是类的实例,代表当前对象的地址</span></span><br><span class="line"><span class="comment"># __main__.Test  #self.class 则指向类</span></span><br><span class="line"><span class="comment"># 这是私有方法</span></span><br><span class="line"><span class="comment"># 这是私有方法  #外部调用的私有方法</span></span><br></pre></td></tr></table></figure>
<h4 id="12-1-封装"><a href="#12-1-封装" class="headerlink" title="12.1 封装"></a>12.1 封装</h4><p>对象封装案例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="comment">#实例化对象和类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#案例1：封装特性</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    name = <span class="string">'WeiyiGeek'</span>    <span class="comment">#属性</span></span><br><span class="line">    age = <span class="number">20</span></span><br><span class="line">    msg = <span class="string">'I Love Python'</span></span><br><span class="line">    <span class="comment">#定义私有属性,私有属性在类外部无法直接进行访问</span></span><br><span class="line">    __weight = <span class="number">120</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printname</span><span class="params">(self)</span>:</span>  <span class="comment">#方法</span></span><br><span class="line">        print(self.name,self.age,self.msg,self.__weight)</span><br><span class="line"></span><br><span class="line">people = Person()   <span class="comment">#实例化</span></span><br><span class="line">people.printname()  <span class="comment">#对象.方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#python事实上是采用一种叫“name mangling”技术,将以双下划线开头的变量名巧妙的改了个名字而已,我们仍然可以在外部通过“_类名__变量名”的方式访问：</span></span><br><span class="line">print(<span class="string">"体重:"</span>,people._Person__weight,<span class="string">'KG'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#案例2：封装特性</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span>:</span></span><br><span class="line">    length = <span class="number">5</span></span><br><span class="line">    width = <span class="number">6</span></span><br><span class="line">    <span class="comment">#设置长宽</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setRect</span><span class="params">(self,length,width)</span>:</span></span><br><span class="line">        self.length = length</span><br><span class="line">        self.width = width</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#获取长宽</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getRect</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"矩形的长宽为：%d , %d"</span> %(self.length,self.width))</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#获取面积</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getArea</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"矩形面积 ="</span>,self.width * self.length)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#获取周长</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getGirth</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"矩形周长 ="</span>,<span class="number">2</span> * (self.width + self.length))</span><br><span class="line"></span><br><span class="line">rect = Rectangle()</span><br><span class="line">rect.setRect(<span class="number">15</span>,<span class="number">16</span>)</span><br><span class="line">rect.getRect()</span><br><span class="line">rect.getArea()</span><br><span class="line">rect.getGirth()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">############ 执行结果 ##############</span></span><br><span class="line"><span class="comment"># WeiyiGeek 20 I Love Python 120</span></span><br><span class="line"><span class="comment"># 体重: 120 KG</span></span><br><span class="line"><span class="comment"># 矩形的长宽为：15 , 16</span></span><br><span class="line"><span class="comment"># 矩形面积 = 240</span></span><br><span class="line"><span class="comment"># 矩形周长 = 62</span></span><br></pre></td></tr></table></figure></p>
<p><em>总结：</em></p>
<ul>
<li>利用继承和组合机制来进行扩展时候,在类名/属性名(用名词)/方法名(用动词)的命名建议要规范化</li>
<li>私有属性就是在属性或方法名字前边加上双下划线,从外部是无法直接访问到并会显示AttributeError错误</li>
<li>当你把类定义完的时候,类定义就变成类对象,可以直接通过“类名.属性”或者“类名.方法名()”引用或使用相关的属性或方法。</li>
<li>类中属性名与方法名一定不要一致,否则属性会覆盖方法,导致BUG的发生;</li>
</ul>
<p><br></p>
<h4 id="12-2-继承"><a href="#12-2-继承" class="headerlink" title="12.2 继承"></a>12.2 继承</h4><p><em>Q:继承机制给程序猿带来最明显的好处是？</em><br>答：如果一个类 A 继承自另一个类 B,就把这个 A 称为 B 的子类,把 B 称为 A 的父类、基类或超类。继承可以使得子类具有父类的各种属性和方法,而不需要再次编写相同的代码（偷懒）。<br>在子类继承父类的同时,可以重新定义某些属性,并重写overwrite某些方法,即覆盖父类的原有属性和方法,使其获得与父类不同的功能。另外为子类追加新的属性和方法也是常见的做法。</p>
<p>继承的搜索：<br><figure class="image-box">
                <a rel=3.Python3基础入门学习笔记(三) href="https://img.weiyigeek.top/2019/20190406190537.png" target="_blank" title="WeiyiGeek.继承的搜索" data-fancybox="images"><img src="https://img.weiyigeek.top/2019/20190406190537.png" alt="WeiyiGeek.继承的搜索" title="" class=""></a>
                <p>WeiyiGeek.继承的搜索</p>
            </figure></p>
<p>继承语法：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 子类名<span class="params">(基类,父类,或者超类名称)</span></span></span><br></pre></td></tr></table></figure></p>
<p>案例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="comment">#实例化对象和类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#案例1：单继承示例</span></span><br><span class="line"><span class="comment">#父类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    name = <span class="string">''</span>     <span class="comment">#定义基本属性</span></span><br><span class="line">    __UID = <span class="number">0</span>     <span class="comment">#私有属性</span></span><br><span class="line">    <span class="comment">#魔术方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, *args)</span>:</span></span><br><span class="line">        self.name = args[<span class="number">0</span>]</span><br><span class="line">        self.__UID = args[<span class="number">1</span>]</span><br><span class="line">    <span class="comment">#类方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">speak</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"%s 的身份证号为 %d"</span> %(self.name,self.__UID))</span><br><span class="line"></span><br><span class="line"><span class="comment">#子类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(Person)</span>:</span></span><br><span class="line">    grade = <span class="string">''</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, *args)</span>:</span></span><br><span class="line">        <span class="comment">#调用父类的构造函数</span></span><br><span class="line">        Person.__init__(self,args[<span class="number">0</span>],args[<span class="number">1</span>])</span><br><span class="line">        self.grade = args[<span class="number">2</span>]</span><br><span class="line">    <span class="comment">#重写覆盖父类的speak方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">speak</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"姓名： %s , 年级：%s ,身份证号%d 由于是父类的私有变量不能这样调用 self._Person__UID "</span> %(self.name,self.grade,Person._Person__UID))  </span><br><span class="line"></span><br><span class="line">xs = Student(<span class="string">'WeiyiGEEK'</span>,<span class="number">512301031998010937</span>,<span class="string">'2018级'</span>)</span><br><span class="line">xs.speak()</span><br><span class="line"></span><br><span class="line"><span class="comment">## 案例2 ：多继承</span></span><br><span class="line"><span class="comment">#如下代码,类A,B分别表示不同的功能单元,C为A,B功能的组合,这样类C就拥有了类A, B的功能。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_a</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'a'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_b</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'b'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span><span class="params">(A, B)</span>:</span> <span class="comment">#C类是A类/B类的子类</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">c = C()</span><br><span class="line">c.get_a()</span><br><span class="line">c.get_b()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## 案例3：动态继承  继承的基类是动态的（有时候是 A，有时候是 B）</span></span><br><span class="line"><span class="comment">## 实现方式 ：先为基类定义一个别名，在类定义的时候，使用别名代替你要继承的基类</span></span><br><span class="line">BaseAlias = BaseClass  <span class="comment"># 为基类取别名</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Derived</span><span class="params">(BaseAlias)</span>:</span> <span class="comment">#注意这里参数是基类的别名</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">meth</span><span class="params">(self)</span>:</span></span><br><span class="line">        BaseAlias.meth(self)  <span class="comment"># 通过别名访问基类</span></span><br><span class="line">        ...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">############################## 执行结果 ################################</span></span><br><span class="line"><span class="comment"># 姓名： WeiyiGEEK , 年级：2018级 ,身份证号 0 由于是父类的私有变量不能这样调用 ：self._Person__UID</span></span><br><span class="line"><span class="comment"># a</span></span><br><span class="line"><span class="comment"># b</span></span><br><span class="line"><span class="comment">#</span></span><br></pre></td></tr></table></figure></p>
<p><strong>(补充)：组合介绍</strong><br><em>Q：什么是组合（组成）？</em><br>答：Python 继承机制很有用,但容易把代码复杂化以及依赖隐含继承。因此经常的时候,我们可以使用组合来代替。在Python里组合其实很简单,<em>直接在类定义中把需要的类放进去实例化就可以了</em>。</p>
<p>简单的说,组合用于“有一个”的场景中,继承用于“是一个”的场景中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#*类得组合（横向）*#</span></span><br><span class="line"><span class="comment">#乌龟类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Turtle</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        self.num = x</span><br><span class="line">        </span><br><span class="line"><span class="comment"># 鱼类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fish</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        self.num = x</span><br><span class="line"></span><br><span class="line"><span class="comment"># 水池类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pool</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        self.turtle = Turtle(x)    <span class="comment"># 组合乌龟类进来 （关键点）</span></span><br><span class="line">        self.fish = Fish(y)        <span class="comment"># 组合鱼类进来 关（关键点）</span></span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_num</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"水池里总共有乌龟 %d 只,小鱼 %d 条！"</span> % (self.turtle.num, self.fish.num))</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pool = Pool(<span class="number">1</span>, <span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pool.print_num()</span><br></pre></td></tr></table></figure>
<p><strong>（补充）：super()超类</strong><br>Python 严格要求方法需要有实例才能被调用,这种限制其实就是Python所谓得绑定概念；<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="comment">#功能：super 超类的实现</span></span><br><span class="line"><span class="keyword">import</span> random <span class="keyword">as</span> r  <span class="comment">#别名</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fish</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.x = r.randint(<span class="number">0</span>,<span class="number">10</span>)</span><br><span class="line">        self.y = r.randint(<span class="number">0</span>,<span class="number">10</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.x -= <span class="number">1</span></span><br><span class="line">        print(<span class="string">"我得位置是："</span>,self.x,self.y)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shark</span><span class="params">(Fish)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        super().__init__()        <span class="comment">#方法1：只需要设置super() 指代 父类</span></span><br><span class="line">        <span class="comment">#Fish.__init__(self)      #方法2: 调用父类构造方法</span></span><br><span class="line">        self.hungry = <span class="literal">True</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.hungry:</span><br><span class="line">            print(<span class="string">"饿了,要吃饭@！"</span>)</span><br><span class="line">            self.hungry = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">"太撑了,吃不下了"</span>)</span><br><span class="line"></span><br><span class="line">demo1 = Shark()</span><br><span class="line">demo1.move()</span><br><span class="line">demo1.eat()</span><br><span class="line">demo1.eat()</span><br><span class="line">demo1.move()</span><br><span class="line"></span><br><span class="line"><span class="comment">######### 执行结果 ########</span></span><br><span class="line"><span class="comment"># 我得位置是： 0 5</span></span><br><span class="line"><span class="comment"># 饿了,要吃饭@！</span></span><br><span class="line"><span class="comment"># 太撑了,吃不下了</span></span><br><span class="line"><span class="comment"># 我得位置是： -1 5</span></span><br></pre></td></tr></table></figure></p>
<p><em>总结：</em></p>
<ul>
<li>当子类与父类定义相属性性或方法时,Python 不会删除父类的相关属性或方法而是将父类属性或方法覆盖;子类对象调用的时候会调用到覆盖后的新属性或方法,但父类的仍然还在,只是子类对象“看不到”</li>
<li>多重继承使用不当会导致重复调用（也叫钻石继承、菱形继承）的问题</li>
</ul>
<p><br></p>
<h4 id="12-3-多态"><a href="#12-3-多态" class="headerlink" title="12.3 多态"></a>12.3 多态</h4><p><br></p>
<h4 id="12-4-魔法方法"><a href="#12-4-魔法方法" class="headerlink" title="12.4 魔法方法"></a>12.4 魔法方法</h4><p>魔法方法体现再它们总能够再适当得时候被自动调用;<br>(0) <strong>new</strong>(cls[,…])     #第一个执行魔术方法,通常返回类得实例化对象,当您继承到不可变类型得时候但又需要对其修改得时候;<br>(1) <strong>init</strong>(self[,…])<br>(2) <strong>del</strong>(self)           #垃圾回收机制,类似于C++里面得析构方法</p>
<p>(3) <strong>add</strong>(self,other)    #魔术方法计算-其他也类似<br>(4) <strong>and</strong>(self,other)    #魔术方法逻辑运算符</p>
<p>(5) <strong>radd</strong>(self,other)   #魔术方法反运算 比如 a + b ,如果a对象不支持 + 操作的时候,这时候就使用b的处理方案进行相加;<br>(6) <strong>rsub</strong>(self,other)   #魔术方法 同上</p>
<p>(7) <strong>str</strong>(self)      #字符串需要被输出的情况下,必须采用print输出<br>(8) <strong>repr</strong>(self)     #字符串直接被输出,无需外部函数</p>
<p>(9) <strong>getattr</strong>(self,name)   #属性访问的魔术方法,定义当用户试图获取一个不存在的属性时候;<br>(10) <strong>getattribute</strong>(self,name)  #定义当该类的属性被访问时的行为<br>(11) <strong>setattr</strong>(self,name,value) #定义一个属性被设置时候的行为<br>(12) <strong>delattr</strong>(self,name)   #定义一个属性被删除时的行为</p>
<p>(13) <strong>get</strong>(self,instance,owner)  #描述符,用于访问属性它返回属性的值<br>(14) <strong>set</strong>(self,instance,value)   #将在属性分配操作中调用,不返回任何内容<br>(15) <strong>delete</strong>(self,instance)  #控制删除操作,返回任何内容</p>
<p>(16) <strong>len</strong>()       #容器在进行 len(对象) 方法得意触发<br>(17) <strong>getitem</strong>()   #获取容器键值的时候触发,比如字典dict[‘key’]<br>(18) <strong>setitem</strong>()   #设置容器中指定元素的行为比如字典dict[‘key’] = 1024</p>
<p>案例1：按照以下要求定义一个游乐园门票的类,并尝试计算2个成人+1个小孩平日票价,面向对象编程的难点在于思维的转换。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 平日票价100元</span></span><br><span class="line"><span class="comment"># 周末票价为平日的120%</span></span><br><span class="line"><span class="comment"># 儿童半票</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#案例1：</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ticket</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, weekend=False, child=False)</span>:</span></span><br><span class="line">                self.exp = <span class="number">100</span></span><br><span class="line">                <span class="keyword">if</span> weekend:  <span class="comment">#根据星期天/儿童来计算</span></span><br><span class="line">                        self.inc = <span class="number">1.2</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                        self.inc = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> child:  <span class="comment">#儿童的价格</span></span><br><span class="line">                        self.discount = <span class="number">0.5</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                        self.discount = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">calcPrice</span><span class="params">(self, num)</span>:</span></span><br><span class="line">                <span class="keyword">return</span> self.exp * self.inc * self.discount * num  <span class="comment">#这里关键点</span></span><br><span class="line"></span><br><span class="line">adult = Ticket()</span><br><span class="line">child = Ticket(child=<span class="literal">True</span>)</span><br><span class="line">print(<span class="string">"2个成人 + 1个小孩平日票价为：%.2f"</span> % (adult.calcPrice(<span class="number">2</span>) + child.calcPrice(<span class="number">1</span>)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#案例2：</span></span><br><span class="line"><span class="comment">#当实例化一个对象,这个变量+1,当销毁一个对象,这个变量自动-1）</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Count</span>:</span></span><br><span class="line">    count = <span class="number">0</span> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span>    <span class="comment">#实例 初始化</span></span><br><span class="line">        Count.count += <span class="number">1</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__del__</span><span class="params">(self)</span>:</span>     <span class="comment">#del 调用触发 该魔术方法</span></span><br><span class="line">        Count.count -= <span class="number">1</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getCount</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"当前 count 的 %d 值"</span> %Count.count)</span><br><span class="line"></span><br><span class="line">a = Count() <span class="comment">#触发init</span></span><br><span class="line">b = Count()</span><br><span class="line">c = Count()</span><br><span class="line">d = a  <span class="comment">#这里是d 对 a 得引用</span></span><br><span class="line">e = a</span><br><span class="line">print(Count.count)</span><br><span class="line"><span class="keyword">del</span> d  <span class="comment">#注意：这里不会触发del  (只有在所有得引用被删除后才能触发del)</span></span><br><span class="line"><span class="keyword">del</span> e  <span class="comment">#这里同样不能触发</span></span><br><span class="line"><span class="keyword">del</span> a  <span class="comment">#触发del</span></span><br><span class="line">print(Count.count)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#案例3：</span></span><br><span class="line"><span class="comment">#CapStr 继承一个 不可变得 类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CapStr</span><span class="params">(str)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__new__</span><span class="params">(cls,string)</span>:</span></span><br><span class="line">        string = string.upper()   <span class="comment">#将不可变类型 变成大小</span></span><br><span class="line">        <span class="keyword">return</span> str.__new__(cls,string) <span class="comment">#返回修改后得字符给对象</span></span><br><span class="line"></span><br><span class="line">a = CapStr(<span class="string">'I love Study Python3!'</span>)</span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line"><span class="comment">############### 执行结果 #################</span></span><br><span class="line"><span class="comment"># 2个成人 + 1个小孩平日票价为：250.00</span></span><br><span class="line"><span class="comment"># 3</span></span><br><span class="line"><span class="comment"># 2</span></span><br><span class="line"><span class="comment"># I LOVE STUDY PYTHON3!</span></span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>(2) 类的算法运算魔术方法</strong><br>描述：在Py2.2以前类和类型是分开的(实际是类和属性的封装),但是在之后作者进行了统一(将Python类型转换成为工厂函数),例如：<br>工厂函数其实就是一个类对象,当你调用他们的时候，事实上就是创建一个相应的实例对象。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#实际工程函数就是类对象</span></span><br><span class="line">&gt;&gt;&gt; <span class="built_in">type</span>(len)</span><br><span class="line">&lt;class <span class="string">'builtin_function_or_method'</span>&gt;  <span class="comment">#内置函数</span></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; <span class="built_in">type</span>(int)   <span class="comment">#类型都是类对象</span></span><br><span class="line">&lt;class <span class="string">'type'</span>&gt;</span><br><span class="line">&gt;&gt;&gt; <span class="built_in">type</span>(tuple)</span><br><span class="line">&lt;class <span class="string">'type'</span>&gt;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; class C:</span><br><span class="line">...  pass</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; <span class="built_in">type</span>(C)  <span class="comment">#类定义</span></span><br><span class="line">&lt;class <span class="string">'type'</span>&gt;</span><br><span class="line"><span class="comment">#Py2.2以前</span></span><br><span class="line"><span class="comment"># int('123') #实际是调用了int并返回一个整形值 </span></span><br><span class="line"><span class="comment">#py2.2以后</span></span><br><span class="line">a = int(<span class="string">'123'</span>)  <span class="comment">#其实就是一个实例化过后的对象</span></span><br></pre></td></tr></table></figure>
<p>案例2：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment">#类的魔术算法运行案例</span></span><br><span class="line"><span class="comment">#继承 int 类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Newint</span><span class="params">(int)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__add__</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> super().__add__(value)  <span class="comment">#super是超类指代父类</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__sub__</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        <span class="comment">#return super().__sub__(value) #方法1</span></span><br><span class="line">        <span class="keyword">return</span> int(self) - int(value)  <span class="comment">#方法2,注意这里必须要强制类型转换,如过向以下则会报错递归循环异常</span></span><br><span class="line">        <span class="comment">#return self - value   #RecursionError: maximum recursion depth exceeded in comparison</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__and__</span><span class="params">(self, value)</span>:</span>       <span class="comment">#该魔术方法 = &amp;  </span></span><br><span class="line">        <span class="keyword">return</span> super().__and__(value)</span><br><span class="line"></span><br><span class="line">a = Newint(<span class="number">8</span>)</span><br><span class="line">b = Newint(<span class="number">6</span>)</span><br><span class="line">print(<span class="string">"a + b ="</span>,a + b)</span><br><span class="line">print(<span class="string">"a - b ="</span>,a - b)</span><br><span class="line">print(<span class="string">"a &amp; b ="</span>,a &amp; b)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#案例3：Python 魔术方法 运算有着类似于C++的 运算符重载</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">int</span><span class="params">(int)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__add__</span><span class="params">(self,other)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> int.__sub__(self,other)  <span class="comment">#重载关键点</span></span><br><span class="line"></span><br><span class="line">a = int(<span class="string">'5'</span>)</span><br><span class="line">b = int(<span class="string">'4'</span>)</span><br><span class="line">print(<span class="string">"运算符重载：a + b =&gt; a - b ="</span>, a + b)</span><br><span class="line"></span><br><span class="line"><span class="comment">######## 执行效果 ###########</span></span><br><span class="line"><span class="comment"># a + b = 14</span></span><br><span class="line"><span class="comment"># a - b = 2</span></span><br><span class="line"><span class="comment"># a &amp; b = 0</span></span><br><span class="line"><span class="comment"># 运算符重载：a + b =&gt; a - b = 1</span></span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>(3) 类的反算法运算魔术方法</strong><br>案例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment">#案例1：反运算符</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Newint</span><span class="params">(int)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__radd__</span><span class="params">(self, value)</span>:</span> <span class="comment">#反运算+</span></span><br><span class="line">        <span class="keyword">return</span> int.__sub__(value,self)  <span class="comment">#方法1：执行为减，value self 顺序会影响到 谁是减数 / 被减数</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__rsub__</span><span class="params">(self, value)</span>:</span>  <span class="comment">#反运算</span></span><br><span class="line">        <span class="keyword">return</span> super().__add__(value)  <span class="comment">#方法2：执行为减 </span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__rmul__</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> super().__truediv__(value)</span><br><span class="line"></span><br><span class="line">a = Newint(<span class="number">5</span>)</span><br><span class="line">b = Newint(<span class="number">3</span>)</span><br><span class="line">print(a + b)  <span class="comment"># 由于对象 a 可以支持 + / - , 所以不会触发反运算</span></span><br><span class="line">print(a - b)  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 由于 1 是非对象 则采用 b 的处理方法</span></span><br><span class="line">print(<span class="string">"1 + b ="</span>,<span class="number">1</span> + b)  <span class="comment">#  1 - 3 =&gt; -2 由于改变了value,self顺序</span></span><br><span class="line">print(<span class="string">"1 - b ="</span>,<span class="number">1</span> - b)  <span class="comment"># 触发反运算 =&gt;  3 + 1 = 4 </span></span><br><span class="line">print(<span class="string">"1 * b ="</span>,<span class="number">5</span> * b)  <span class="comment"># 触发反运算 =&gt; 3 / 5 = 0.6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#案例2：一元运算符</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OneInt</span><span class="params">(int)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__pos__</span><span class="params">(self)</span>:</span>  <span class="comment">#定义负号行为 -x</span></span><br><span class="line">        <span class="keyword">return</span> super().__pos__()  <span class="comment"># -(self)</span></span><br><span class="line"></span><br><span class="line">a = OneInt(<span class="number">-1</span>)</span><br><span class="line">print(<span class="string">"-(a) ="</span>,-a)   <span class="comment">#此时触发一元运算符 -(-1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">######### 执行结果 ########</span></span><br><span class="line"><span class="comment"># 8</span></span><br><span class="line"><span class="comment"># 2</span></span><br><span class="line"><span class="comment"># 1 + b = -2</span></span><br><span class="line"><span class="comment"># 1 - b = 4</span></span><br><span class="line"><span class="comment"># 1 * b = 0.6</span></span><br><span class="line"><span class="comment"># -(a) =  1</span></span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>(4) 类的补充魔术方法</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我是__str__魔术方法,需要print()输出'</span></span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo1</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'2 - 我是__repr__魔术方法,直接对象输出'</span></span><br><span class="line">  </span><br><span class="line">a = Demo()</span><br><span class="line">print(<span class="string">"1 -"</span>,a)</span><br><span class="line"></span><br><span class="line">b = Demo1()</span><br><span class="line">print(b)  <span class="comment">#在&gt;&gt;&gt; b 可以直接输出</span></span><br><span class="line"></span><br><span class="line"><span class="comment">################ 执行结果 #################</span></span><br><span class="line"><span class="comment"># 1 - 我是__str__魔术方法,需要print()输出</span></span><br><span class="line"><span class="comment"># 2 - 我是__repr__魔术方法,直接对象输出</span></span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>(5) 类属性访问魔术方法</strong><br>通过类的属性来设置与调用方法;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment">#属性访问的魔法方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#方法案例1：</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AttrView</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getattribute__</span><span class="params">(self, name)</span>:</span></span><br><span class="line">        print(<span class="string">"调用 getattribute 魔法方法"</span>)</span><br><span class="line">        <span class="keyword">return</span> super().__getattribute__(name)  <span class="comment">#super()自动获取基类，这个类没有继承类默认是object类</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getattr__</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">'调用 getattr 魔法方法'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setattr__</span><span class="params">(self,name,value)</span>:</span></span><br><span class="line">        print(<span class="string">"调用 setattr 魔法方法"</span>)</span><br><span class="line">        super().__setattr__(name,value)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__delattr__</span><span class="params">(self, name)</span>:</span></span><br><span class="line">        print(<span class="string">'调用 delattr 魔法方法'</span>)</span><br><span class="line">        super().__delattr__(name)</span><br><span class="line"></span><br><span class="line">demo = AttrView()</span><br><span class="line">demo.x  <span class="comment">#尝试不存在属性的时候触发 调用 getattribute / getattr(不存在触发) 魔法方法</span></span><br><span class="line">setattr(demo,<span class="string">'x'</span>,<span class="number">1</span>) <span class="comment">#设置属性 调用 setattr 魔法方法</span></span><br><span class="line">demo.y = <span class="number">1</span>        <span class="comment">#设置属性 调用 setattr 魔法方法</span></span><br><span class="line">demo.y            <span class="comment">#获取属性  调用 getattribute 魔法方法</span></span><br><span class="line">delattr(demo,<span class="string">'y'</span>)  <span class="comment">#删除属性  调用 delattr 魔法方法</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#方法案例2：</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, width = <span class="number">0</span>, height = <span class="number">0</span>)</span>:</span></span><br><span class="line">        self.width = width   <span class="comment">#会触发__setattr__魔术方法</span></span><br><span class="line">        self.height = height</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setattr__</span><span class="params">(self, name, value)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> name == <span class="string">'square'</span>:  <span class="comment">#正方形</span></span><br><span class="line">            self.height = value</span><br><span class="line">            self.width = value</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            super.__setattr__(self, name, value)   <span class="comment"># 方法1：防止无限递归错误 (建议采用基类的setattr方法)</span></span><br><span class="line">            <span class="comment">#self.__dict__[name] = value    # 方法2 </span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getArea</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.width * self.height</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getPeri</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> (<span class="number">2</span> * (self.width) +  <span class="number">2</span> * (self.height))</span><br><span class="line"></span><br><span class="line">r1 = Rectangle(<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">print(<span class="string">"矩形面积："</span>,r1.getArea())</span><br><span class="line"></span><br><span class="line">r1.square = <span class="number">10</span> <span class="comment">#建立一个属性表明是正方形</span></span><br><span class="line">print(<span class="string">"正方形面积: "</span>,r1.getArea())</span><br><span class="line">print(<span class="string">"正方形周长："</span>,r1.getPeri())</span><br><span class="line">print(<span class="string">"__dict__"</span>,r1.__dict__)    <span class="comment">#将类的全部属性放返回字典类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">########## 执行结果 ####################</span></span><br><span class="line"><span class="comment"># 矩形面积： 20</span></span><br><span class="line"><span class="comment"># 正方形面积:  100</span></span><br><span class="line"><span class="comment"># 正方形周长： 40</span></span><br><span class="line"><span class="comment"># __dict__ &#123;'width': 10, 'height': 10&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>(6) 定制序列的魔术方法</strong><br>描述：协议(Protocols)与其他的编程语言中的接口很相似,它规定您那些方法必须要定义;然而在Python中的协议就显得不那么正式;事实上更新是一种指南;</p>
<p>要求：编写一个不可改变的自定义列表,要求记录每个元素被访问的次数;<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="comment">#功能：容器序列定制类型协议()</span></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Countnum</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,*args)</span>:</span></span><br><span class="line">        self.value = [x <span class="keyword">for</span> x <span class="keyword">in</span> args]  <span class="comment">#列表表达式</span></span><br><span class="line">        self.count = &#123;&#125;.fromkeys(range(len(self.value)),<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> len(self.value)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self,index)</span>:</span></span><br><span class="line">        self.count[index] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> self.value[index]</span><br><span class="line"></span><br><span class="line">a = Countnum(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>)</span><br><span class="line">b = Countnum(<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">print(a[<span class="number">1</span>],b[<span class="number">1</span>])</span><br><span class="line">print(a[<span class="number">1</span>],b[<span class="number">1</span>])</span><br><span class="line">print(<span class="string">"两个对象数列之和："</span>,a[<span class="number">3</span>]+b[<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">print(<span class="string">"A对象访问的次数："</span>,a.count)</span><br><span class="line">print(<span class="string">"B对象访问的次数："</span>,b.count)</span><br><span class="line"></span><br><span class="line"><span class="comment">############ 执行结果 ################</span></span><br><span class="line"><span class="comment"># $ python demo3.23.py</span></span><br><span class="line"><span class="comment"># 3 4</span></span><br><span class="line"><span class="comment"># 3 4</span></span><br><span class="line"><span class="comment"># 两个对象数列之和： 15</span></span><br><span class="line"><span class="comment"># A对象访问的次数： &#123;0: 0, 1: 2, 2: 0, 3: 1, 4: 0&#125;</span></span><br><span class="line"><span class="comment"># B对象访问的次数： &#123;0: 0, 1: 2, 2: 0, 3: 1, 4: 0&#125;</span></span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h4 id="12-5-描述符"><a href="#12-5-描述符" class="headerlink" title="12.5 描述符"></a>12.5 描述符</h4><p>描述：描述符就是将某种特殊类型的类的实例指派给另外一个类的属性;比如property() 是一个比较奇葩的BIF，它的作用把方法当作属性来访问，从而提供更加友好访问方式;</p>
<p>描述符就是一个类，一个至少实现 <strong>get</strong>()、<strong>set</strong>() 或 <strong>delete</strong>() 三个特殊方法中的任意一个的类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment">#类属性 - 描述符</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#定义一个类,为了实现原生的property原理必须使用下面的三个魔术方法</span></span><br><span class="line"><span class="comment">#案例1</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Decriptor</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__get__</span><span class="params">(self,instance,owner)</span>:</span></span><br><span class="line">        print(<span class="string">"getting ... "</span>,self, instance, owner) <span class="comment">#参数分别代表 (Decriptor本身类 , 类对象test , Test类本身)</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__set__</span><span class="params">(self,instance,value)</span>:</span></span><br><span class="line">        print(<span class="string">"setting ... "</span>,self, instance, value)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__delete__</span><span class="params">(self,instance)</span>:</span></span><br><span class="line">        print(<span class="string">"deleting ..."</span>,self,instance)        </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span>:</span></span><br><span class="line">    x = Decriptor()  <span class="comment">#Decriptor() 类的实例 / 又叫属性x的描述符</span></span><br><span class="line"></span><br><span class="line">test = Test()</span><br><span class="line">test.x</span><br><span class="line">test.x = <span class="string">'ceshi'</span></span><br><span class="line"><span class="keyword">del</span> test.x </span><br><span class="line"></span><br><span class="line"><span class="comment">############ 执行结果 #######</span></span><br><span class="line"><span class="comment"># getting ...  &lt;__main__.Decriptor object at 0x000002443D18E908&gt; &lt;__main__.Test object at 0x000002443D18E940&gt; &lt;class '__main__.Test'&gt;</span></span><br><span class="line"><span class="comment"># setting ...  &lt;__main__.Decriptor object at 0x000002443D18E908&gt; &lt;__main__.Test object at 0x000002443D18E940&gt; ceshi</span></span><br><span class="line"><span class="comment"># deleting ... &lt;__main__.Decriptor object at 0x000002443D18E908&gt; &lt;__main__.Test object at 0x000002443D18E940&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#案例2：自定义property</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyProperty</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, fget=None, fset=None,fdel=None)</span>:</span>  <span class="comment">#其他类的三个方法</span></span><br><span class="line">        self.fget = fget</span><br><span class="line">        self.fset = fset</span><br><span class="line">        self.fdel = fdel</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__get__</span><span class="params">(self,instance,owner)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.fget(instance)      <span class="comment">#传入实例对象的方法</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__set__</span><span class="params">(self,instance,value)</span>:</span></span><br><span class="line">        self.fset(instance,value)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__delete__</span><span class="params">(self,instance)</span>:</span></span><br><span class="line">        self.fdel(instance)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self._x = <span class="literal">None</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getX</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self._x</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setX</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        self._x = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">delX</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"delete 销毁属性!"</span>)</span><br><span class="line">        <span class="keyword">del</span> self._x</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#x 对象的描述符 （传入类里面的三个方法）</span></span><br><span class="line">    x = MyProperty(getX,setX,delX)   <span class="comment">#类实例</span></span><br><span class="line"></span><br><span class="line">c = C()</span><br><span class="line">c.x = <span class="string">'Property'</span></span><br><span class="line">print(c.x,c._x)</span><br><span class="line"><span class="keyword">del</span> c.x</span><br><span class="line"></span><br><span class="line"><span class="comment">######################</span></span><br><span class="line"><span class="comment"># Property Property</span></span><br><span class="line"><span class="comment"># delete 销毁属性!</span></span><br></pre></td></tr></table></figure>
<p><em>总结：</em></p>
<ul>
<li><strong>init</strong> 特殊方法不应当返回除了 None 以外的任何对象。</li>
<li><strong>add</strong> 特殊方法中不应直接return self + other会导致无限递归(深坑)。</li>
<li><strong>radd</strong> 特殊方法中反运算需要注意 运算符支持前后顺序。</li>
</ul>
<h4 id="12-6-修饰符（装饰器）"><a href="#12-6-修饰符（装饰器）" class="headerlink" title="12.6 修饰符（装饰器）"></a>12.6 修饰符（装饰器）</h4><p>修饰符是一个很著名的设计模式，经常被用于有切面需求的场景，较为经典的有插入日志、性能测试、事务处理等;有了修饰符我们就可以抽离出大量函数中与函数功能本身无关的雷同代码并继续重用。<br>其实修饰符就是一种优雅的封装，但要注意的是只可以在模块或类定义内对函数进行修饰，不允许修饰一个类; 一个修饰符就是一个函数,它将被修饰的函数做为参数，并返回修饰后的同名函数或其它可调用的东西。</p>
<p><strong>1）@ 修饰符的介绍使用</strong><br>在Python的函数中偶尔会看到函数定义的上一行有@functionName的修饰，当解释器读到@的这样的修饰符之后，会先解析@后的内容,直接就把@下一行的函数或者类作为@后边的函数的参数，然后将返回值赋值给下一行修饰的函数对象。 </p>
<p>使用案例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"> </span><br><span class="line"><span class="comment">##############################</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,foo)</span>:</span></span><br><span class="line">        self.foo = foo</span><br><span class="line">        self.foo()  <span class="comment">#调用传入的f函数</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Demo  #将 f() 函数作为参数传入到类里</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"I love Python.org!"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#案例1:funcA(funcB(func(4)))</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funcA</span><span class="params">(A)</span>:</span>  <span class="comment">#注意形参</span></span><br><span class="line">    print(<span class="string">"function A"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funcB</span><span class="params">(B)</span>:</span></span><br><span class="line">    print(B(<span class="number">2</span>))  <span class="comment">#B(2) 实际是传入到func中 func(2) s所以会答应c**2的值</span></span><br><span class="line">    print(<span class="string">"function B"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@funcA</span></span><br><span class="line"><span class="meta">@funcB</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(c)</span>:</span></span><br><span class="line">    print(<span class="string">"function C"</span>)</span><br><span class="line">    <span class="keyword">return</span> c**<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">######### 执行结果.START########</span></span><br><span class="line"><span class="comment"># I love Python.org!</span></span><br><span class="line"><span class="comment"># function C</span></span><br><span class="line"><span class="comment"># 4</span></span><br><span class="line"><span class="comment"># function B</span></span><br><span class="line"><span class="comment"># function A</span></span><br><span class="line"><span class="comment">######### 执行结果.END########</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#案例2：函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">timeslong</span><span class="params">(func)</span>:</span>  <span class="comment">#这样这里的 func 形参,就是修饰符下面的</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span><span class="params">()</span>:</span></span><br><span class="line">        start = time.perf_counter()</span><br><span class="line">        print(<span class="string">"It's time starting ! "</span>)</span><br><span class="line">        func()  <span class="comment">#实际调用了f函数 （func()是关键字一样）</span></span><br><span class="line">        print(<span class="string">"It's time ending ! "</span>)</span><br><span class="line">        end = time.perf_counter()</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"It's used : %s ."</span> % (end - start)  <span class="comment">#输出打印</span></span><br><span class="line">    <span class="keyword">return</span> call</span><br><span class="line"></span><br><span class="line"><span class="comment">#通过 @timeslong 对其进行修饰达到目的，是整个代码美观，而且少些部分代码</span></span><br><span class="line"><span class="meta">@timeslong  #先执行 timelong 再调用执行 func =&gt; f()</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    y = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">        y = y + i + <span class="number">1</span></span><br><span class="line">        print(y)</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line"></span><br><span class="line">print(func())</span><br><span class="line"><span class="comment">######### 执行结果.START########</span></span><br><span class="line"><span class="comment"># It's time starting !</span></span><br><span class="line"><span class="comment"># 1</span></span><br><span class="line"><span class="comment"># 3</span></span><br><span class="line"><span class="comment"># 6</span></span><br><span class="line"><span class="comment"># 10</span></span><br><span class="line"><span class="comment"># 15</span></span><br><span class="line"><span class="comment"># It's time ending !</span></span><br><span class="line"><span class="comment"># It's used : 0.006445216000000031 .</span></span><br><span class="line"><span class="comment">######### 执行结果.END########</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#案例3.修饰符也可以通过类来进行使用</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">timeslong1</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,func)</span>:</span></span><br><span class="line">        self.f = func  <span class="comment">#传入的实际是f() 函数</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__call__</span><span class="params">(self)</span>:</span></span><br><span class="line">        start = time.perf_counter()</span><br><span class="line">        print(<span class="string">"It's time starting ! "</span>)</span><br><span class="line">        self.f()</span><br><span class="line">        print(<span class="string">"It's time ending ! "</span>)</span><br><span class="line">        end = time.perf_counter()</span><br><span class="line">        print(<span class="string">"It's used : %s ."</span> % (end - start))</span><br><span class="line"></span><br><span class="line"><span class="meta">@timeslong1  #将下面的函数或者类作为自己的参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">()</span>:</span></span><br><span class="line">    y = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">        y = y + i + <span class="number">1</span></span><br><span class="line">        print(y)</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line"> </span><br><span class="line">f()  <span class="comment">#调用时候触发@修饰符</span></span><br><span class="line"></span><br><span class="line"><span class="comment">######### 执行结果.START########</span></span><br><span class="line"><span class="comment"># It's time starting !</span></span><br><span class="line"><span class="comment"># 1</span></span><br><span class="line"><span class="comment"># 3</span></span><br><span class="line"><span class="comment"># 6</span></span><br><span class="line"><span class="comment"># It's time ending !</span></span><br><span class="line"><span class="comment"># It's used : 0.00160638099999999 .</span></span><br><span class="line"><span class="comment">######### 执行结果.END########</span></span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>2) 内置的修饰符</strong><br>内置的修饰符有三个，作用分别是把类中定义的实例方法变成 静态方法( staticmethod ), 类方法 (classmethod) 和 类属性 (property) 与;注意静态方法和类方法的用处并不是太多。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="comment">#功能：实现 类方法 / 静态方法  / 类属性</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hello</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#方式1.类方法</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_hello</span><span class="params">(cls)</span>:</span></span><br><span class="line">        print(<span class="string">"方式1：调用类方法 print_hello()"</span>,)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#方式2： 正是因为设置静态方法和类方法过于讨人吐槽，因此 Python 的作者才开发出了函数修饰符的形式替代。</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(cls)</span>:</span></span><br><span class="line">        print(<span class="string">"方式2：调用类方法 foo()"</span>)</span><br><span class="line">    <span class="comment"># 将 foo() 方法设置为类方法</span></span><br><span class="line">    foo = classmethod(foo)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#方式3：静态方法 （注意这里的巨坑 self ）</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">static_hello</span><span class="params">(arg)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"方式4：调用静态方法 static_hello Value ="</span> + str(arg)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#静态方法 对比点</span></span><br><span class="line"></span><br><span class="line">Hello.print_hello() <span class="comment"># 类方法修饰过后，print_hello() 就变成了类方法，可以直接通过 Hello.print_hello() 调用，而无需绑定实例对象了。</span></span><br><span class="line">Hello.foo()</span><br><span class="line">print(Hello.static_hello(<span class="number">1</span>),Hello.static_hello) <span class="comment">#注意这里传参</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">######### 执行结果 ################</span></span><br><span class="line"><span class="comment"># 方式1：调用类方法 print_hello()</span></span><br><span class="line"><span class="comment"># 方式2：调用类方法 foo()</span></span><br><span class="line"><span class="comment"># 方式3：调用静态方法 static_hello Value = 1 &lt;function Hello.static_hello at 0x000001F2DB73C950&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt;&gt;&gt; c1 = Hello()</span></span><br><span class="line"><span class="comment"># &gt;&gt;&gt; c2 = Hello()</span></span><br><span class="line"><span class="comment"># # 静态方法只在内存中生成一个，节省开销</span></span><br><span class="line"><span class="comment"># &gt;&gt;&gt; c1.static_hello is C.static_hello       #True</span></span><br><span class="line"><span class="comment"># &gt;&gt;&gt; c1.nostatic is C.nostatic   # False</span></span><br><span class="line"><span class="comment"># &gt;&gt;&gt; c1.static_hello        # &lt;function Hello.static_hello at 0x000001F2DB73C950&gt;</span></span><br><span class="line"><span class="comment"># &gt;&gt;&gt; c2.static _hello       # &lt;function Hello.static_hello at 0x000001F2DB73C950&gt;</span></span><br><span class="line"><span class="comment"># &gt;&gt;&gt; Hello.static_hello     # &lt;function Hello.static_hello at 0x000001F2DB73C950&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # 普通方法每个实例对象都拥有独立的一个，开销较大</span></span><br><span class="line"><span class="comment"># &gt;&gt;&gt; c1.nostatic   # &lt;bound method  Hello.nostatic of &lt;__main__.C object at 0x03010590&gt;&gt;</span></span><br><span class="line"><span class="comment"># &gt;&gt;&gt; c2.nostatic  # &lt;bound method  Hello.nostatic of &lt;__main__.C object at 0x032809D0&gt;&gt;</span></span><br><span class="line"><span class="comment"># &gt;&gt;&gt; Hello.nostatic   # &lt;function  Hello.nostatic at 0x0328D2B8&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#案例3：用属性修饰符创建描述符”的方式实现</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, size=<span class="number">10</span>)</span>:</span></span><br><span class="line">        self.size = size</span><br><span class="line">        </span><br><span class="line"><span class="meta">    @property   #关键点 类属性 / 绑定的属性是x</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">x</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.size</span><br><span class="line"></span><br><span class="line"><span class="meta">    @x.setter  #</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">x</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        self.size = value</span><br><span class="line"></span><br><span class="line"><span class="meta">    @x.deleter</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">x</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">del</span> self.size</span><br><span class="line"></span><br><span class="line">demo = C()</span><br><span class="line">print(<span class="string">"获取属性的值："</span>,demo.x)      <span class="comment">#获取属性的值： 10</span></span><br><span class="line">demo.x = <span class="number">1024</span></span><br><span class="line">print(<span class="string">"获取更改后属性的值："</span>,demo.x) <span class="comment">#获取更改后属性的值： 1024</span></span><br><span class="line"><span class="keyword">del</span> demo.x</span><br></pre></td></tr></table></figure>
<p><em>总结：</em></p>
<ul>
<li>静态方法最大的优点是：不会绑定到实例对象上，换而言之就是节省开销。</li>
<li>静态方法并不需要 self 参数，因此即使是使用对象去访问，self 参数也不会传进去。</li>
</ul>

        </div>
        
        <!-- Google 广告 -->
          

        
<hr/>
<div style="text-align: center;font-weight: bold;">
  <p> 欢迎各位志同道合的朋友一起学习交流，如文章有误请在下方留下您宝贵的经验知识，个人邮箱地址<b style="color:#ff654e"><code>【master#weiyigeek.top】</code></b>或者个人公众号<b style="color:#ff654e"><code>【WeiyiGeek】</code></b>联系我。 </p>
  <p> 更多文章来源于<b style="color:#03a9f4">【WeiyiGeek Blog - 为了能到远方，脚下的每一步都不能少】</b>, 个人首页地址( <a style="color: #03a9f4;" href="https://weiyigeek.top" target="_blank"> https://weiyigeek.top </a> )</p>
<!-- 

  <ul style="font-weight: bolder;">
    <li>
      <p><span style="color: #03a9f4">echo&nbsp;&nbsp;"【点个赞】，动动你那粗壮的拇指或者芊芊玉手，亲！"</span></p>
    </li>
    <li>
      <p><span style="color: #ff9201">printf("%s",&nbsp;"【投个币】，万水千山总是情，投个硬币行不行，亲！")</span></p>
    </li>
    <li>
      <p><span style="color: #02a2ff">fmt.Printf("【收个藏】，阅后即焚不吃灰，亲！")&nbsp;&nbsp;</span></p>
    </li>
    <li>
      <p><span style="color:red">console.info("【转个发】，让更多的志同道合的朋友一起学习交流，亲！")</span></p>
    </li>
    <li>
      <p><span style="color: #ff654e">System.out.println("【关个注】，后续浏览查看不迷路哟，亲！")</span></p>
    </li>
  </ul> -->
  <div>
    <img src="/img/share-wechat.jpg" class="img-responsive" alt="扫描Follow(关注)WeiyiGeek公众号与Visit(浏览)极客全栈修炼小程序" >
    <p>专栏书写不易，如果您觉得这个专栏还不错的，请给这篇专栏 <b style="color: red;">【点个赞、投个币、收个藏、关个注、转个发、赞个助】</b>，这将对我的肯定，我将持续整理发布更多优质原创文章！。</p>
    <img src="/img/weiyigeek.jpg" class="img-responsive" alt="WeiyiGeek-banner">
  </div>
</div>
  <hr>
  

  <blockquote class="post-copyright">
    <div class="content">
      
        
<span class="post-time">
    最后更新时间：<time datetime="2023-01-31T02:29:10.671Z" itemprop="dateUpdated">2023-01-31 10:29:10</time>
</span><br>


        <span>文章原始路径：<a href="https://github.com/WeiyiGeek/blog/edit/master/source/_posts/编程世界/Python/基础学习/3.Python3基础入门学习笔记(三).md" target="_blank" rel="noopener noreferrer">_posts/编程世界/Python/基础学习/3.Python3基础入门学习笔记(三).md</a></span><br>
         <span class="copy-copyright">转载注明出处，原文地址：<a href="/2019/3-29-334.html" target="_blank" rel="external">https://blog.weiyigeek.top/2019/3-29-334.html</a></span><br>本站文章内容遵循 <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a> 
    </div>
    <footer>
      <a href="https://blog.weiyigeek.top">
        <img src="/img/avatar.jpg" alt="WeiyiGeek">
        WeiyiGeek
      </a>
    </footer>
  </blockquote>


        
            <div class="page-reward">
  <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-rectangle waves-light">☕️ 请作者喝杯咖啡!</a>
</div>
            
        
        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/" rel="tag">编程入门学习</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2019/3-29-334.html&title=《3.Python3基础入门学习笔记(三)》 — WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2019/3-29-334.html&title=《3.Python3基础入门学习笔记(三)》 — WeiyiGeek Blog&source=[TOC]
10.Python 文件操作与处理" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2019/3-29-334.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《3.Python3基础入门学习笔记(三)》 — WeiyiGeek Blog&url=https://blog.weiyigeek.top/2019/3-29-334.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2019/3-29-334.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
          <!-- 评论组件 -->


<div id="gitalk-container"></div>
<script type="text/javascript" src="/js/plugins/gitalk.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/custom/gitalk.init.js?v=1.6.6"></script>
        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/2019/3-29-336.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">4.Python3基础入门学习笔记(四)</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/2019/3-28-384.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">SQL注入类型危害及防御</h4>
      </a>
    </div>
  
</nav>


    
    
        <aside class="post-widget">
            <nav class="post-toc-wrap" id="post-toc">
                <strong>目录</strong>
                <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#10-Python-文件操作与处理"><span class="post-toc-number">1.</span> <span class="post-toc-text">10.Python 文件操作与处理</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#10-1-Python文件系统"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">10.1 Python文件系统</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#10-2-Python文件写入反序列化"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">10.2 Python文件写入反序列化</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#11-Python-错误和异常抛出"><span class="post-toc-number">2.</span> <span class="post-toc-text">11.Python 错误和异常抛出</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#12-Python-面向对象"><span class="post-toc-number">3.</span> <span class="post-toc-text">12.Python 面向对象</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#12-1-封装"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">12.1 封装</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#12-2-继承"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">12.2 继承</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#12-3-多态"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">12.3 多态</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#12-4-魔法方法"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">12.4 魔法方法</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#12-5-描述符"><span class="post-toc-number">3.5.</span> <span class="post-toc-text">12.5 描述符</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#12-6-修饰符（装饰器）"><span class="post-toc-number">3.6.</span> <span class="post-toc-text">12.6 修饰符（装饰器）</span></a></li></ol></li></ol>
            </nav>
            <div class="toc-bar"><div>
        </aside>
    

    <!-- 支付宝微信文章赞赏 -->
    
      <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        如果此篇文章对您有帮助，就请作者喝杯 Coffee ☕️☕️!
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardwechat" src="/img/reward-wechat.jpg" height="250" height="250" alt="微信打赏二维码">
            <img id="rewardalipay" src="/img/reward-alipay.png" height="250" height="250" alt="支付宝打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <!-- <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/reward-wechat.jpg" data-alipay="/img/reward-alipay.png"> -->
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>

      
</article>
</div>

    </main>
    <footer class="footer ">
    
    <div class="top">
        
            <p>
    <span>Links：</span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top" target="_blank">https://weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.weiyigeek.top" target="_blank">https://blog.weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="/img/share-wechat.jpg" target="_blank">公众账号</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://space.bilibili.com/385802642/article" target="_blank">哔哩哔哩专栏</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://github.com/weiyigeek" target="_blank">博主Github</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://gitee.com/WeiyiGeek" target="_blank">博主Gitee</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.zhihu.com/people/weiyiSec" target="_blank">知乎</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.cnblogs.com/WeiyiGeek" target="_blank">博客园</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://my.oschina.net/weiyigeek" target="_blank">OSCHINA</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.toutiao.com/c/user/token/MS4wLjABAAAAqcPSoMqfctaEqJpGSF775eeCjWkrop4AOyLITdMx-L78F5iXzfQcSRM5sY4dq3wR" target="_blank">今日头条</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.csdn.net/u013072756?type=lately" target="_blank">CSDN</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.jianshu.com/u/5199a1104739" target="_blank">简书</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cloud.tencent.com/developer/user/1389665/articles" target="_blank">腾讯云社区</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cuttlefish.baidu.com/shop/75c5dbd8d15abe23482f4d40" target="_blank">百度文库</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://author.baidu.com/home?from=blog&app_id=1726736601523415" target="_blank">IT极客知识分享</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.51cto.com/weiyigeek" target="_blank">51CTO博客</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://juejin.cn/user/122767337595934" target="_blank">掘金</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weibo.com/a/hot/7622022703618049_1.html" target="_blank">微博文章</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.xiaohongshu.com/user/profile/627c98bb000000001000e7ba" target="_blank">小红书</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://segmentfault.com/u/weiyigeek" target="_blank">Segmentfault</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.modb.pro/u/506690" target="_blank">墨天轮</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.douyin.com/user/MS4wLjABAAAAMSBdMja6XLsdmzafb0RNbFeBemIOk38K1PaOClZeI1Q" target="_blank">抖音主页</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.kuaishou.com/profile/3xfbrsrhd2i69x9" target="_blank">快手主页</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.ixigua.com/home/3984243135350727" target="_blank">西瓜视频</a>
    </span>
    
</p>

        
    </div>
    
    <div class="bottom">
      <p>
        <span>WeiyiGeek &copy; 2018 - 2023 <a href="https://weiyigeek.top" target="_blank" rel="noopener">weiyigeek.top</a> All rights reserved.唯一极客IT知识分享 版权所有 </span>
        
        <span>
          Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/weiyigeek" target="_blank">mellow</a>
        </span>
        
        <br/><a id="SiteRunTime"></a>
        <br/>访问统计
        <span><a href="/sitemap.xml" target="_blank" rel="Sitemaps-站点地图">Sitemaps</a> </span>
        <span><a href="/baidusitemap.xml" target="_blank" rel="baidusitemaps-百度站点地图">站点地图</a> </span>
        <!-- 
  -->
        <br/>ICP备案号<span><a href="https://beian.miit.gov.cn" target="_blank">渝ICP备2022003447号</a></span>
        <br/>
        <div id="cc-myssl-id">
          <a href="https://myssl.com/blog.weiyigeek.top?from=mysslid" target="_blank" rel="noopener">
            <img src="https://static.myssl.com/res/images/myssl-id1.png" alt="MySSL安全认证" style="max-height:50px;display:block;margin:0 auto">
          </a>
        </div>
      </p>
    </div>
</footer>



    <div class="mask" id="mask"></div>

<div id="go" class="waves-effect waves-light">
  <a href="javascript:;" id="goqrcode"> <span class="icon icon-lg icon-qrcode"></span> </a>
  <a href="javascript:;" id="gotop"> <span class="icon icon-lg icon-chevron-up"></span></a>
</div>





<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2019/3-29-334.html&title=《3.Python3基础入门学习笔记(三)》 — WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2019/3-29-334.html&title=《3.Python3基础入门学习笔记(三)》 — WeiyiGeek Blog&source=[TOC]
10.Python 文件操作与处理" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2019/3-29-334.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《3.Python3基础入门学习笔记(三)》 — WeiyiGeek Blog&url=https://blog.weiyigeek.top/2019/3-29-334.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2019/3-29-334.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACLElEQVR42u3aQXLCMAwFUO5/abqlw5D+L0OHOM8rJqS2HwvVlnS7xeP+MB6fHH/7/Px5zuNV3jwwMDBOy7gfjtk7Cf4VqV0XAwPjOozZ1MeBMll+nY2BgYExC4grIRgDAwPjE4zjeZKg/BUBFwMD4+sZSeg8TqVFV80yPfeRuzgGBsYJGXnW/f8/f6S+gYGBcSrGvRx56TFJxq3s5NecGBgYWzPyALeSUMsvtLP9YGBg7M2YtTjkhcn1BFz0BAMD4/KMtnlilvRfSflhYGDszcjbHfLUWBKIZ40XRUYQAwNjI0be3NDic1heIn35LQYGxtaMlQT9LO614XtY4MTAwNiOsdL00AbothiQX5IxMDB2ZcyumuvhtS0k/DEPBgbGBRizbRX5vKCoMLsSL+XwMDAwTshIQlseFtu/atsvoswfBgbGFox8orYJI0+WzUJw/d8DAwPjtIw8vLZhMf9p3nD0xMDAuAAjLy6uN1jkqxQrYmBgbM1oF26PjLPD36wIgYGBsTcj33TyZn64nB1PX2IwMDAuwFjZenKvbO+heaoOAwMDIyetBNm2aWMpV4eBgXEqxr0c72qwyAsJUfDFwMDYmtGGuTxx1hYeZsfEGoOBgXFaRp3YGm2iLVK2IRsDA+MKjFnKLH+n2FDZyoaBgYGRLJO3cOXX3brtAwMDA2NUyGyps58DAwPjOozkEruy9Ta8fjDdhoGBcULGUqdG/GZbFk0ScBgYGBdg/ACroImHfg6nFwAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>


    
    <!-- main-js -->
<script type="text/javascript" src="/js/jquery/2.1.0-jquery.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/ios-orientationchange-fix.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/jquery/3.5.2-jquery.fancybox.min.js?v=1.6.6"></script>
<!--  //cdn.bootcss.com/node-waves/0.7.4/waves.min.js -->
<script type="text/javascript" src="/js/node-waves/0.7.4-waves.min.js?v=1.6.6"></script> 

<script type="text/javascript" src="/js/method.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/blog.js?v=1.6.6"></script>

<!-- third-party -->
<script type="text/javascript" src="/js/plugins/local_search.js?v=1.6.6"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) { search_path = "search.xml";}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script> 

    


<!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> --> 


  





<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.staticfile.org/mathjax/2.7.9/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
 
<script>
    (function() {
        var OriginTitile = document.title, titleTime;
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.title = 'WeiyiGeek Blog-关注于网络安全_物联网安全开发_网络安全运维-学习心得分享';
                clearTimeout(titleTime);
            } else {
                document.title = '(つェ⊂)咦!又好了!';
                titleTime = setTimeout(function() {
                    document.title = OriginTitile;
                },2000);
            }
        });
    })();
</script>
 

     <script type="text/javascript" src="/js/custom/copytips.js?v=1.6.6"></script> 
<script type="text/javascript">
// 站点运行时间
var BootDate = new Date("2018/01/01 00:00:00");
function ShowRunTime(id) {
  var NowDate = new Date();
  var RunDateM = parseInt(NowDate - BootDate);
  var RunDays = Math.floor(RunDateM/(24*3600*1000));
  var RunHours = Math.floor(RunDateM%(24*3600*1000)/(3600*1000));
  var RunMinutes = Math.floor(RunDateM%(24*3600*1000)%(3600*1000)/(60*1000));
  var RunSeconds = Math.round(RunDateM%(24*3600*1000)%(3600*1000)%(60*1000)/1000);
  var RunTime = RunDays + "天" + RunHours + "时" + RunMinutes + "分" + RunSeconds + "秒";
  document.getElementById(id).innerHTML = "网站已在风雨中勉勉强强运行了【" + RunTime + "】";
}
setInterval("ShowRunTime('SiteRunTime')", 1000);
</script>
</body>
</html>