{"title":"SaltStack自动化运维工具实践指南","slug":"系统运维/自动化运维/Saltstack/SaltStack自动化运维工具实践指南","date":"2021-07-22T06:34:30.000Z","updated":"2022-04-13T02:28:57.816Z","url":"2021/7-22-646.html","path":"api/articles/2021/7-22-646.html.json","covers":null,"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h2 id=\"简述\"><a href=\"#简述\" class=\"headerlink\" title=\"简述\"></a>简述</h2><p>SaltStack是基础架构管理的一种自动化工具。部署轻松，在几分钟内可运行起来，扩展性好，很容易管理上万台服务器，速度够快。与服务器之间的交流,以毫秒为单位。SaltStack提供了一个动态基础设施通信总线用于编排,远程执行、配置管理等等。SaltStack项目于2011年启动,年增长速度较快,五年期固定基础设施编制和配置管理的开源项目。SaltStack社区致力于保持slat项目集中、友好、健康、开放。</p>\n<p>saltstack是基于python开发的一套C/S自动化运维工具，通信采用了zeromq消息队列的(pub/sub)，数据传输采用了AES（高级加密）保证安全性，认证采用了SSL方式</p>\n<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><p>Installs the latest release. Updating installs the latest release even if it is a new major version.<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 1.运行以下命令导入SaltStack存储库键:</span></span><br><span class=\"line\">wget -O - https://repo.saltstack.com/py3/ubuntu/20.04/amd64/latest/SALTSTACK-GPG-KEY.pub | sudo apt-key add -</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 2.将以下文件保存到/etc/apt/sources.list.d/saltstack.list:</span></span><br><span class=\"line\">sudo tee /etc/apt/sources.list.d/saltstack.list&lt;&lt;<span class=\"string\">'EOF'</span></span><br><span class=\"line\">deb http://repo.saltstack.com/py3/ubuntu/20.04/amd64/latest focal main</span><br><span class=\"line\">EOF</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 3.更新仓库清单以及安装Salt components:</span></span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\">sudo apt-get install -y salt-master salt-minion salt-ssh salt-syndic salt-cloud  salt-api</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\"># 4.(仅升级)重新启动所有升级服务，例如:</span></span><br><span class=\"line\">sudo systemctl restart salt-minion</span><br></pre></td></tr></table></figure></p>\n<p>sudo salt-ssh ‘*’ –priv=/home/weiyigeek/.ssh/id_ed25519 –priv-passwd=weiyegeek cmd.run ‘whoami’</p>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"自动化运维","path":"api/categories/自动化运维.json"}],"tags":[{"name":"SaltStack","path":"api/tags/SaltStack.json"}]}