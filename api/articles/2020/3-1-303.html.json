{"title":"JSP开发之JSTL介绍和使用","slug":"编程世界/JavaWeb/2.JSP/JSP开发之JSTL介绍和使用","date":"2020-03-01T05:34:30.000Z","updated":"2023-01-31T02:29:10.672Z","url":"2020/3-1-303.html","path":"api/articles/2020/3-1-303.html.json","covers":["https://img.weiyigeek.top/2020/1/20200303222135.png","https://img.weiyigeek.top/2020/1/20200303230929.png"],"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h4 id=\"0x00-简述\"><a href=\"#0x00-简述\" class=\"headerlink\" title=\"0x00 简述\"></a>0x00 简述</h4><p>什么是JSTL?它有什么作用?</p>\n<blockquote>\n<p>1.答:JSTL（JSP Standard Tag Library，JSP标准标签库)是一个不断完善的开放源代码的JSP标签库，是由 apache 的 jakarta 小组来维护的。<br>2.答:它可以简化JSP代码编写提供比EL表达式更强大的逻辑处理功能;</p>\n</blockquote>\n<p>如何使用JSTL?</p>\n<blockquote>\n<ol>\n<li>导入JSTL 支持jar文件 jstl.jar 和 standard.jar</li>\n<li>在jsp文件页面上使用 taglib 来引入标签库，选择核心代码标签库:</li>\n</ol>\n</blockquote>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/1/20200303222135.png\" alt=\"WeiyiGeek.导包\" title=\"\" class=\"\">\n                <p>WeiyiGeek.导包</p>\n            </figure>\n<p>基础示例:<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page language=<span class=\"string\">\"java\"</span> contentType=<span class=\"string\">\"text/html; charset=UTF-8\"</span></span><br><span class=\"line\">    pageEncoding=<span class=\"string\">\"UTF-8\"</span>%&gt;</span><br><span class=\"line\"><span class=\"comment\">// _prefix 只是一个别名_</span></span><br><span class=\"line\">&lt;%@ taglib prefix=<span class=\"string\">\"c\"</span> uri=<span class=\"string\">\"http://java.sun.com/jsp/jstl/core\"</span> %&gt;</span><br></pre></td></tr></table></figure></p>\n<p><em>注意事项:</em></p>\n<ul>\n<li>在选择引入的标签库时JSTL版本应该选择 1.1 Core library及其以上，因为1.0版本不支持EL表达式;</li>\n</ul>\n<hr>\n\n<h4 id=\"0x01-基本用法\"><a href=\"#0x01-基本用法\" class=\"headerlink\" title=\"0x01 基本用法\"></a>0x01 基本用法</h4><p>描述:主要进行记录JSTL基本的一些语法及其用法，与微信的小程序中的wxml内置标签有点像;但是需要注意标签c就是前面prefix设置的别名一一对应的；</p>\n<p><strong>1) 变量声明</strong><br><figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;p&gt;1) 变量和作用域声明: scope默认是pageContext  &lt;/p&gt;</span><br><span class=\"line\">&lt;c:set var=\"name\" value=\"WeiyiGeek\" scope=\"session\"&gt;&lt;/c:set&gt;</span><br><span class=\"line\">输出其值:$&#123;sessionScope.name&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<p><strong>2) 条件判断</strong><br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;p&gt;2) 条件判断:获取表达式返回的值并且存记录在flag变量存储在Session里&lt;/p&gt;</span><br><span class=\"line\">&lt;c:set var=\"age\" value=\"18\"&gt;&lt;/c:set&gt;</span><br><span class=\"line\">&lt;c:<span class=\"keyword\">if</span> test=<span class=\"string\">\"$&#123; age &gt; 26 &#125;\"</span> <span class=\"keyword\">var</span>=<span class=\"string\">\"flag\"</span> scope=<span class=\"string\">\"session\"</span>&gt;</span><br><span class=\"line\">  &lt;b&gt;年龄大于26岁&lt;/b&gt;</span><br><span class=\"line\">&lt;/c:if&gt;</span><br><span class=\"line\">&lt;c:<span class=\"keyword\">if</span> test=<span class=\"string\">\"$&#123; age &lt;= 26&#125;\"</span> <span class=\"keyword\">var</span>=<span class=\"string\">\"flag1\"</span> scope=<span class=\"string\">\"page\"</span>&gt;</span><br><span class=\"line\">  &lt;b&gt;年龄小于等于26岁&lt;/b&gt;</span><br><span class=\"line\">&lt;/c:if&gt;</span><br><span class=\"line\">&lt;p&gt;flag:$&#123;flag&#125;&lt;/p&gt;</span><br><span class=\"line\">&lt;P&gt;flag1:$&#123;flag1&#125;&lt;/P&gt;</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<p><strong>3) 循环迭代</strong><br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- </span><br><span class=\"line\">    forEach方式关键参数说明:</span><br><span class=\"line\">    - Step 步长 </span><br><span class=\"line\">    - items 表面需要遍历的对象注意必须写el表达式</span><br><span class=\"line\">    - 导入<span class=\"class\"><span class=\"keyword\">class</span>文件时候需要进行导包</span></span><br><span class=\"line\"><span class=\"class\">&lt;%@<span class=\"title\">page</span> <span class=\"title\">import</span></span>=<span class=\"string\">\"java.util.ArrayList\"</span>%&gt;</span><br><span class=\"line\">&lt;%<span class=\"meta\">@page</span> <span class=\"keyword\">import</span>=<span class=\"string\">\"java.util.List\"</span> %&gt;</span><br><span class=\"line\"> --&gt;</span><br><span class=\"line\">&lt;p&gt;forEach方式1:数字循环&lt;/p&gt;</span><br><span class=\"line\">&lt;c:forEach begin=<span class=\"string\">\"1\"</span> end=<span class=\"string\">\"10\"</span> <span class=\"keyword\">var</span>=<span class=\"string\">\"i\"</span> step=<span class=\"string\">\"1\"</span> &gt;</span><br><span class=\"line\">  &lt;span&gt;$&#123;i&#125; &lt;/span&gt;</span><br><span class=\"line\">&lt;/c:forEach&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;P&gt;forEach方式2:自定义一个Persion类注意itemn必须采用EL标签&lt;/P&gt;</span><br><span class=\"line\">&lt;%</span><br><span class=\"line\">  List list = <span class=\"keyword\">new</span> ArrayList();</span><br><span class=\"line\">  list.add(<span class=\"keyword\">new</span> Person(<span class=\"string\">\"WeiyiGeek\"</span>,<span class=\"number\">21</span>));</span><br><span class=\"line\">  list.add(<span class=\"keyword\">new</span> Person(<span class=\"string\">\"张伟\"</span>,<span class=\"number\">21</span>));</span><br><span class=\"line\">  list.add(<span class=\"keyword\">new</span> Person(<span class=\"string\">\"刘安心\"</span>,<span class=\"number\">21</span>));</span><br><span class=\"line\">  pageContext.setAttribute(<span class=\"string\">\"list\"</span>, list);</span><br><span class=\"line\">%&gt;</span><br><span class=\"line\">&lt;c:forEach <span class=\"keyword\">var</span>=<span class=\"string\">\"person\"</span> items=<span class=\"string\">\"$&#123;list&#125;\"</span>&gt;</span><br><span class=\"line\"> &lt;p&gt;&lt;b&gt;姓名:&lt;/b&gt; $&#123;person.name&#125;, &lt;b&gt;年龄:&lt;/b&gt; $&#123;person.age&#125; &lt;/p&gt;</span><br><span class=\"line\">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure></p>\n<p>例如：通过bsp获取当前登录人名称与试卷创建人名称是否一致：<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--  when方式 --&gt;</span><br><span class=\"line\">&lt;%</span><br><span class=\"line\">String path = request.getContextPath();</span><br><span class=\"line\"> </span><br><span class=\"line\">String userName = BspUtil.getInstance().getLoginUserName();</span><br><span class=\"line\">pageContext.setAttribute(<span class=\"string\">\"userName\"</span>,userName);</span><br><span class=\"line\">%&gt;</span><br><span class=\"line\">  </span><br><span class=\"line\">&lt;c:when test=<span class=\"string\">\"$&#123;question.creator == userName&#125;\"</span>&gt;</span><br><span class=\"line\">    &lt;button <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"btn btn-danger\"</span> id=<span class=\"string\">\"delete-question-btn\"</span>&gt;</span><br><span class=\"line\">        &lt;i class=\"fa fa-trash-o\"&gt;&lt;/i&gt; 删除该题</span><br><span class=\"line\">    &lt;/button&gt;</span><br><span class=\"line\">    &lt;button <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"btn btn-info\"</span> onclick=<span class=\"string\">\"javascript:window.close();\"</span>&gt;</span><br><span class=\"line\">        &lt;i class=\"fa fa-times\"&gt;&lt;/i&gt; 关闭页面</span><br><span class=\"line\">    &lt;/button&gt;</span><br><span class=\"line\">&lt;/c:when&gt;</span><br></pre></td></tr></table></figure></p>\n<p>执行结果:<br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/1/20200303230929.png\" alt=\"WeiyiGeek.jstl基础语法\" title=\"\" class=\"\">\n                <p>WeiyiGeek.jstl基础语法</p>\n            </figure></p>\n<p>注意事项:</p>\n<ul>\n<li>1.jstl标签别名是在jsp指令 taglib 中进行设置的prefix=”别名”,即<code>&lt;别名:set var=&quot;变量名&quot; value=&quot;值&quot;&gt;&lt;/别名:set&gt;</code></li>\n<li>2.jstl在定义变量存在的哪里时候默认是<code>page</code>注意这里不是pageContext;</li>\n</ul>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"Java","path":"api/categories/Java.json"}],"tags":[{"name":"jsp","path":"api/tags/jsp.json"},{"name":"JSTL","path":"api/tags/JSTL.json"}]}