{"title":"OpenWrt开源软路由项目使用","slug":"网络工程/软件工具/软路由/OpenWrt开源软路由项目使用","date":"2020-06-29T06:36:30.000Z","updated":"2023-01-31T02:29:10.643Z","url":"2020/6-29-509.html","path":"api/articles/2020/6-29-509.html.json","covers":["https://img.weiyigeek.top/2020/2/20201102161201.png","https://img.weiyigeek.top/2020/2/20201102161824.png","https://img.weiyigeek.top/2020/2/20201102162047.png","https://img.weiyigeek.top/2020/2/20201102162205.png","https://img.weiyigeek.top/2020/2/20201103211954.png","https://img.weiyigeek.top/2020/2/20201103103330.jpg","https://img.weiyigeek.top/2020/2/20201103104208.png","https://img.weiyigeek.top/2020/2/20201103104844.png","https://img.weiyigeek.top/2020/2/20201103110319.png","https://img.weiyigeek.top/2020/2/20201103211612.png","https://img.weiyigeek.top/2020/2/20201102171415.png","https://img.weiyigeek.top/2020/2/20201102163535.png"],"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h3 id=\"0x00-前言简介\"><a href=\"#0x00-前言简介\" class=\"headerlink\" title=\"0x00 前言简介\"></a>0x00 前言简介</h3><p>2020年9月10日 OpenWrt — building 成为最流行的自由和开源 (FOSS) 无线路由器项目已有16年的成功 — 今天加入 软件自由保护组织(SFC) 作为成员项目. FOSS无线路由器可确保所有互联网用户自由使用软件. 软件自由保护组织将帮助 OpenWrt 继续蓬勃发展并成为其新的财政赞助商. OpenWrt 在软件自由的历史上占有特殊的位置. OpenWrt的创建和发布表明 GPL 强制执行 有效并提高了软件自由度. 在2004年, Linksys发布了WRT54G路由器系列的固件代码时, 编码人员和修补匠重新重新控制了自己的路由器, 并且OpenWrt 根据GPL执法机构发布的资源启动了. 今天, OpenWrt 利用受GPL保护的软件自由与使用无线路由器连接到互联网的每个人共享该自由和控制权.</p>\n<p>OpenWrt加入软件自由协会()</p>\n<p>关于OpenWrt/LEDE项目</p>\n<p>OpenWrt/LEDE是一个为嵌入式设备（通常是无线路由器）开发的高扩展度的GNU/Linux发行版。与许多其他路由器的发行版不同，OpenWrt是一个完全为嵌入式设备构建的功能全面、易于修改的由现代Linux内核驱动的操作系统。在实践中，这意味着您可以得到您需要的所有功能，却仍能避免臃肿。<br>OpenWrt是什么?</p>\n<p>OpenWrt不是一个单一且不可更改的固件，而是提供了一个完全可写的文件系统及软件包管理。这使您可以不使用供应商提供的应用程序选择和配置，而是通过使用软件包来定制设备以适应任何应用程序。对于开发人员来说，OpenWrt是一个构建应用程序的框架，无需在其周围构建完整的固件; 对于普通用户来说，这意味着拥有了完全定制的能力，能以意想不到的方式使用该设备。<br>重启OpenWrt社区</p>\n<p>在2016年，LEDE项目作为OpenWrt项目的副产品而诞生，与OpenWrt共享很多相同的目标。该项目旨在成为一个嵌入式Linux版本，能让开发者、系统管理员或其他Linux爱好者轻松的为嵌入式设备特别是无线路由器构建或定制软件。LEDE这一名称代表Linux Embedded Development Environment。</p>\n<p>项目成员与OpenWrt社区活跃成员高度重合，他们计划通过建立一个高度透明、注重协作和去中心化的社区为嵌入式Linux的开发带来新生。</p>\n<p>LEDE已公布的目标包括:</p>\n<pre><code>构造一个的伟大的嵌入式Linux发行版，运行稳定且功能实用\n伴随社区设备测试反馈，形成定期、可预期的版本迭代\n通过广泛的社区参与和公开会议，建立透明的决策机制\n</code></pre><p>LEDE项目的形成是为解决那些被OpenWrt项目或社区认为无法解决的长远问题</p>\n<pre><code>活跃核心开发者数量一直很低，而且无法吸引新面孔加入项目。\n不可依赖的基础设施，内部不同意和单点故障阻碍了错误修复。\n在OpenWrt项目中缺少沟通交流、透明度和协调, 无论是在核心团队内部还是在核心团队和其他团队之间。\n没有足够拥有权限的人处理补丁来流，很少关注测试和定期版本。\n不重视对稳定性和文档。\n</code></pre><p>为解决这些问题，LEDE项目采用了与OpenWrt不同的组织架构：</p>\n<pre><code>所有交流频道均是公开的，对非成员只读的频道控制在一个很好的信噪比。\n决策过程更公开，拥有投票权的开发者和重度用户数量接近50比50。\n大大简化基础设施，确保减少我们的维护工作量。\n更开明的合并政策，基于我们在处理Github上OpenWrt软件包反馈信息的经验。\n高度重视与简化发布流程合并的自动化测试。\n</code></pre><p>OpenWrt和LEDE宣布合并</p>\n<p>2018年1月，OpenWrt和以前的LEDE项目同意以OpenWrt这一名称进行合并。</p>\n<p>新的、统一的OpenWrt项目将按照 由前LEDE项目建立的章程 进行管理。以前的LEDE和OpenWrt项目的积极成员将继续在统一的OpenWrt上工作。<br>共创未来</p>\n<p>LEDE分支合并到OpenWrt中将不会改变统一项目所采用的整体技术方向。我们将继续致力于提高稳定性和维护发行版本，同时仍会通过频繁的更新来解决重要的错误和安全问题，就像我们对LEDE 17.01及其之后的17.01.4的发布所做的一样。</p>\n<p>旧的15.05以前版本的OpenWrt CC版本将不再受合并项目的支持，这些版本将不再有任何安全性或错误修复。OpenWrt CC 15.05发行版系列将获得有限的安全性和错误修复，但尚未完全集成到发行版自动化中，所以二进制发行版目前没有发布。</p>\n<p>LEDE 17.01版本将继续获得对源代码和二进制版本的全面安全性和错误修复支持。 我们正规划在未来几个月内以新名称发行新的主要版本。</p>\n<p>合并后的项目将使用基于以前的LEDE项目的代码库。OpenWrt特定的修补程序不会放在LEDE存储库中，但符合LEDE代码质量要求的已集成到新的项目树中。源代码将托管在git.openwrt.org，持续同步的镜像位于Github。原来的OpenWrt代码库已经在Github上存档供将来参考。</p>\n<p>不再使用的OpenWrt项目由软件公共利益（SPI） - 美国501(c)(3) 非营利组织 管理我们的OpenWrt商标，处理我们的捐款，帮助我们解决法律问题。</p>\n<p>以前在lede-project.org域下提供的基础设施大部分已转移到相应的openwrt.org子域，并将在适当的时候实施重定向。<br>名字来历<br>The OpenWrt logo     OpenWrt这一名字可以追溯到开放路由运动的开端。适用于WRT54G路由的第一个白俄罗斯版本的发布, 标志着无线路由固件开发进入新时代。<br>The LEDE logo     LEDE是Linux Embedded Development Environment的缩写。因其高度的可定制性和嵌入式buildroot的源头，LEDE超越无线路由和网络应用领域而成为嵌入式Linux应用的可靠选择。<br>会议记录</p>\n<p>您可以在这里，查看LEDE分支举行的IRC会议记录。 </p>\n<p>参考地址: <a href=\"https://openwrt.org/zh/about\" target=\"_blank\" rel=\"noopener\">https://openwrt.org/zh/about</a></p>\n<p>–</p>\n<h3 id=\"0x01-安装部署\"><a href=\"#0x01-安装部署\" class=\"headerlink\" title=\"0x01 安装部署\"></a>0x01 安装部署</h3><p><strong>固件下载地址</strong><br>OpertWrt : <a href=\"https://downloads.openwrt.org/releases/\" target=\"_blank\" rel=\"noopener\">https://downloads.openwrt.org/releases/</a><br>Openwrt LEDE : <a href=\"http://firmware.koolshare.cn/LEDE_X64_fw867/\" target=\"_blank\" rel=\"noopener\">http://firmware.koolshare.cn/LEDE_X64_fw867/</a></p>\n<p>安装方法</p>\n<pre><code>下载后可直接在LEDE WEB升级。也可解压缩后使用ImageWriter等工具直接将img写入U盘或者硬盘。\n如果原来已经刷过openwrt系统，可将Lede-*.img上传到tmp,然后使用命令： dd if=/tmp/Lede-*.img of=/dev/sda写入。此命令将会清除原盘所有数据和分区，请注意备份。\n默认WEB：192.168.1.1 用户名：root 密码：koolshare\n</code></pre><h4 id=\"1-VMware-部署\"><a href=\"#1-VMware-部署\" class=\"headerlink\" title=\"(1) VMware 部署\"></a>(1) VMware 部署</h4><p>描述: VMware 部署OpenWrt大致分为两种方式一种是利用U盘安装另外一种则是通过刻录镜像到虚拟机镜像磁盘安装，简单的说就是<code>U盘可以随声携带更方便，而通过虚拟机虚拟磁盘安装更稳定</code>;</p>\n<h5 id=\"方式1-U盘引导部署\"><a href=\"#方式1-U盘引导部署\" class=\"headerlink\" title=\"方式1.U盘引导部署\"></a>方式1.U盘引导部署</h5><p>环境准备:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- combined-ext4.img.gz : https://downloads.openwrt.org/releases/19.07.4/targets/x86/64/openwrt-19.07.4-x86-64-combined-ext4.img</span><br><span class=\"line\">- VMware WorkStantion 15</span><br><span class=\"line\">- U盘 ( &gt;= 1G )</span><br><span class=\"line\">- 镜像刻录 Roadkil<span class=\"string\">'s Disk Image</span></span><br></pre></td></tr></table></figure></p>\n<p><strong>安装流程:</strong><br>Step 1.解压<code>openwrt-19.07.4-x86-64-combined-ext4.img.gz</code>采用镜像刻录工具进行<code>openwrt-19.07.4-x86-64-combined-ext4.img</code>刻录到U盘;</p>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/2/20201102161201.png\" alt=\"WeiyiGeek.刻录U盘\" title=\"\" class=\"\">\n                <p>WeiyiGeek.刻录U盘</p>\n            </figure>\n<p>Step 2.在VMware建立虚拟机(简单过程不多说)其注意点为下, 创建完成后启动即可<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- 系统选择 Linux 4.x</span><br><span class=\"line\">- 网络选择 仅主机模式网络</span><br><span class=\"line\">- 磁盘选择 使用现有物理磁盘(适用于高级用户即权限为administrator)</span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/2/20201102161824.png\" alt=\"WeiyiGeek.虚拟机创建\" title=\"\" class=\"\">\n                <p>WeiyiGeek.虚拟机创建</p>\n            </figure></p>\n<p>PS : 虚拟机的仅主机网络的网卡DHCP需要关闭并且<code>VMware Network Adapter VMnet1与VMware Network Adapter VMnet8</code>适配器需要启用</p>\n<p>Step 3.OpenWrt启动完成后的界面</p>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/2/20201102162047.png\" alt=\"WeiyiGeek.启动OpenWrt\" title=\"\" class=\"\">\n                <p>WeiyiGeek.启动OpenWrt</p>\n            </figure>\n<p>Step 4.访问OpenWrt默认地址<code>192.168.1.1</code>后续根据实际网络可以进行更改;</p>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/2/20201102162205.png\" alt=\"WeiyiGeek.OpenWrt管理界面\" title=\"\" class=\"\">\n                <p>WeiyiGeek.OpenWrt管理界面</p>\n            </figure>\n<p><br></p>\n<h5 id=\"方式2-VMware-磁盘部署\"><a href=\"#方式2-VMware-磁盘部署\" class=\"headerlink\" title=\"方式2.VMware 磁盘部署\"></a>方式2.VMware 磁盘部署</h5><p>环境准备:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- Linux 主机一台此处我采用Ubuntu</span><br><span class=\"line\">- OpenWrt LEDE 镜像-koolshare Lede X64 Nuc(openwrt开发组单独分离出来一个项目取名LEDE功能较OpenWrt有一定的提升)</span><br><span class=\"line\">- VMware Workstation 15</span><br></pre></td></tr></table></figure></p>\n<p>固件特性<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">64位5.4.52内核，4G以上内存和多核心支持，多核NAT;</span><br><span class=\"line\">Intel自动省电降频，自动睿频，AES指令集加速，超线程 ，intel QAT硬件加速，MPTCP;</span><br><span class=\"line\">独有的Koolshare软件中心加成。</span><br></pre></td></tr></table></figure></p>\n<p>固件版本(<code>2.36</code>)以及下载地址: <a href=\"http://firmware.koolshare.cn/LEDE_X64_fw867/openwrt-koolshare-mod-v2.36-r14941-67f6fa0a30-x86-64-generic-squashfs-combined-efi.img.gz\" target=\"_blank\" rel=\"noopener\">http://firmware.koolshare.cn/LEDE_X64_fw867/openwrt-koolshare-mod-v2.36-r14941-67f6fa0a30-x86-64-generic-squashfs-combined-efi.img.gz</a></p>\n<p>PS: 虽然可以通过官网直接下载<a href=\"http://firmware.koolshare.cn/LEDE_X64_fw867/%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%BD%AC%E7%9B%98%E6%88%96PE%E4%B8%8B%E5%86%99%E7%9B%98%E4%B8%93%E7%94%A8/\" target=\"_blank\" rel=\"noopener\">虚拟机VMDK格式的虚拟文件</a>, 实际过程中还是建议自动动手安装熟悉过程;</p>\n<p>PS: <em>.img或</em>.gz可以直接在Openwrt系统Web升级,如需要转盘或PE写盘请下载转盘文件夹下的镜像</p>\n<p><br></p>\n<p><strong>操作流程:</strong></p>\n<p>Step 1.生成虚拟集格式的文件<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># (1) 转换工具安装</span></span><br><span class=\"line\">sudo apt install -y qemu-utils</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># (2) 固件下载</span></span><br><span class=\"line\">weiyigeek@Ubuntu-PC:~/hardware</span><br><span class=\"line\">&gt; wget http://firmware.koolshare.cn/LEDE_X64_fw867/openwrt-koolshare-mod-v2.36-r14941-67f6fa0a30-x86-64-generic-squashfs-combined-efi.img.gz</span><br><span class=\"line\">&gt; gunzip openwrt-koolshare-mod-v2.36-r14941-67f6fa0a30-x86-64-generic-squashfs-combined-efi.img.gz</span><br><span class=\"line\"><span class=\"comment\"># gzip: openwrt-koolshare-mod-v2.36-r14941-67f6fa0a30-x86-64-generic-squashfs-combined-efi.img.gz: decompression OK, trailing garbage ignored</span></span><br><span class=\"line\"><span class=\"comment\"># weiyigeek@Ubuntu-PC:~/hardware</span></span><br><span class=\"line\">openwrt-koolshare-mod-v2.36-r14941-67f6fa0a30-x86-64-generic-squashfs-combined-efi.img</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># (3) 将镜像转换成为vmdk格式的文件</span></span><br><span class=\"line\">weiyigeek@Ubuntu-PC:~/hardware</span><br><span class=\"line\">&gt; sudo qemu-img convert -f raw -O vmdk openwrt-koolshare-mod-v2.36-r14941-67f6fa0a30-x86-64-generic-squashfs-combined-efi.img openwrt-koolshare-mod-v2.36-r14941-67f6fa0a30-x86-64-generic-efi.vmdk</span><br><span class=\"line\"></span><br><span class=\"line\">weiyigeek@Ubuntu-PC:~/hardware</span><br><span class=\"line\">&gt; ls</span><br><span class=\"line\">openwrt-koolshare-mod-v2.36-r14941-67f6fa0a30-x86-64-generic-efi.vmdk</span><br><span class=\"line\">openwrt-koolshare-mod-v2.36-r14941-67f6fa0a30-x86-64-generic-squashfs-combined-efi.img</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># (4) 将生成的vmdk文件复制到windows机器上以供VMDK安装</span></span><br><span class=\"line\">&gt; cp ~/hardware/openwrt-koolshare-mod-v2.36-r14941-67f6fa0a30-x86-64-generic-efi.vmdk /run/user/1000/gvfs/smb-share:server=192.168.1.2,share=temp/</span><br></pre></td></tr></table></figure></p>\n<p>PS: 在Ubuntu升级到20.04后qemu需要分几个包来安装按需安装。<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 以mips虚拟机为例</span></span><br><span class=\"line\">1.如果需要系统级别的虚拟机，就是sudo apt-get install qemu-system-mips</span><br><span class=\"line\">2.如果需要进程级别的虚拟机，就是sudo apt-get install qemu-user</span><br><span class=\"line\">3.如果需要qemu的一些工具比如qemu-img，就是sudo apt-get install qemu-utils</span><br></pre></td></tr></table></figure><br>PS: Ubuntu安装源配置参考 <a href=\"https://developer.aliyun.com/mirror/ubuntu?spm=a2c6h.13651102.0.0.53322f70TiLYZU\" target=\"_blank\" rel=\"noopener\">https://developer.aliyun.com/mirror/ubuntu?spm=a2c6h.13651102.0.0.53322f70TiLYZU</a></p>\n<p>Step 2.虚拟机创建及环境配置：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">创建新的虚拟机 =&gt;</span><br><span class=\"line\">自定义(高级) =&gt;</span><br><span class=\"line\">虚拟机硬件兼容性默认无需更改 =&gt;</span><br><span class=\"line\">稍后安装操作系统 =&gt;</span><br><span class=\"line\">Linux 版本：其他Linux 5.x 内核 =&gt;</span><br><span class=\"line\">保存位置默认即可也可以自定义 =&gt;</span><br><span class=\"line\">处理器默认即可 =&gt;</span><br><span class=\"line\">内存建议大于1GB =&gt;</span><br><span class=\"line\">使用桥接网络 =&gt;</span><br><span class=\"line\">LSI Logic =&gt;</span><br><span class=\"line\">SCSI =&gt;</span><br><span class=\"line\">使用现有虚拟磁盘 =&gt;</span><br><span class=\"line\">选择下载好的虚拟机版本vmdk文件(将上一步生成`openwrt-koolshare-mod-v2.36-r14941-67f6fa0a30-x86-64-generic-efi.vmdk`文件进行选择) =&gt;</span><br><span class=\"line\">保持现有格式 =&gt;</span><br><span class=\"line\">自定义硬件 =&gt;</span><br><span class=\"line\">网络适配器（勾选复制物理网络连接状态） =&gt;</span><br><span class=\"line\">完成</span><br></pre></td></tr></table></figure></p>\n<p>PS : 注意此处采用UEFI模式进行启动;</p>\n<p>Step 3.如果虚拟磁盘太小则可以进行(extroot)扩容处理(<code>注意此时一定不要开虚拟机</code>), 先通过DG磁盘管理工具进行扩展数据盘的扩展(因为默认只有500MB),我们利用其打开刚才扩容后的vmdk虚拟文件跳转参数;</p>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/2/20201103211954.png\" alt=\"WeiyiGeek.\" title=\"\" class=\"\">\n                <p>WeiyiGeek.</p>\n            </figure>\n<p>Step 4.启动虚拟后控制台显示界面</p>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/2/20201103103330.jpg\" alt=\"WeiyiGeek.openwrt-koolshare虚拟机启动\" title=\"\" class=\"\">\n                <p>WeiyiGeek.openwrt-koolshare虚拟机启动</p>\n            </figure>\n<p>Step 5. 无痕模式访问默认WEB：192.168.1.1(注意:首次登录一定要无痕模式方式访问否则将一致提示密码错误)</p>\n<blockquote>\n<p>用户名：root 密码：koolshare </p>\n</blockquote>\n<p><img src=\"https://img.weiyigeek.top/2020/2/20201103104208.png\" alt=\"WeiyiGeek.Koolshare访问\"></p>\n<p>Step 6.登录成功后的后台界面</p>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/2/20201103104844.png\" alt=\"WeiyiGeek.Koolshare后台\" title=\"\" class=\"\">\n                <p>WeiyiGeek.Koolshare后台</p>\n            </figure>\n<p>Step 7.修改访问地址注意此处需要修改<code>VMware 0</code>的虚拟网卡地址以及Koolshare网络接口地址;<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># eth0</span></span><br><span class=\"line\">协议: 静态地址</span><br><span class=\"line\">运行时间: 0h 12m 51s</span><br><span class=\"line\">MAC: 00:0C:29:C1:ED:A9</span><br><span class=\"line\">接收: 1.40 MB (10030 数据包)</span><br><span class=\"line\">发送: 8.31 MB (11661 数据包)</span><br><span class=\"line\">IPv4: 192.168.151.1/24</span><br><span class=\"line\">IPv6: undefined/0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># eth1</span></span><br><span class=\"line\">协议: DHCP 客户端</span><br><span class=\"line\">运行时间: 0h 0m 27s</span><br><span class=\"line\">MAC: 00:0C:29:C1:ED:B3</span><br><span class=\"line\">接收: 24.15 KB (261 数据包)</span><br><span class=\"line\">发送: 18.94 KB (121 数据包)</span><br><span class=\"line\">IPv4: 192.168.150.101/24</span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/2/20201103110319.png\" alt=\"WeiyiGeek.网卡接口设置\" title=\"\" class=\"\">\n                <p>WeiyiGeek.网卡接口设置</p>\n            </figure></p>\n<p>Step 8.LEDE第三方软件插件中心列表(这也是软路由最重要的部分), 以及扩容后安装软件空间大小;</p>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/2/20201103211612.png\" alt=\"WeiyiGeek.第三方软件插件\" title=\"\" class=\"\">\n                <p>WeiyiGeek.第三方软件插件</p>\n            </figure>\n<p>总结<br>整个过程相比于挂载新分区简单很多，只是再写入img文件后马上进行分区扩容即可。</p>\n<p>另外需要说明的是，将img文件写入硬盘后必须马上去扩容分区，如果你重启进入过OpenWrt系统后再进行分区将不会有任何效果。</p>\n<p>PS: Openwrt 文件系统扩容实战补充</p>\n<ul>\n<li>(1) 从终端查看文件系统大小以及扇区数量<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@Openwrt:~<span class=\"comment\"># lsblk</span></span><br><span class=\"line\">NAME     MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT</span><br><span class=\"line\">loop0      7:0    0 452.1M  0 loop /overlay</span><br><span class=\"line\">sda        8:0    0     5G  0 disk</span><br><span class=\"line\">├─sda1     8:1    0   200M  0 part /boot</span><br><span class=\"line\">├─sda2     8:2    0   500M  0 part /rom</span><br><span class=\"line\">└─sda128 259:0    0   239K  0 part</span><br><span class=\"line\">sr0       11:0    1  1024M  0 rom</span><br><span class=\"line\"></span><br><span class=\"line\">root@Openwrt:~<span class=\"comment\"># fdisk /dev/sda</span></span><br><span class=\"line\">Command (m <span class=\"keyword\">for</span> <span class=\"built_in\">help</span>): p</span><br><span class=\"line\"><span class=\"comment\"># Disk /dev/sda: 5 GiB, 5368709120 bytes, 10485760 sectors</span></span><br><span class=\"line\"><span class=\"comment\"># Disk model: VMware Virtual S</span></span><br><span class=\"line\"><span class=\"comment\"># Units: sectors of 1 * 512 = 512 bytes</span></span><br><span class=\"line\"><span class=\"comment\"># Sector size (logical/physical): 512 bytes / 512 bytes</span></span><br><span class=\"line\"><span class=\"comment\"># I/O size (minimum/optimal): 512 bytes / 512 bytes</span></span><br><span class=\"line\"><span class=\"comment\"># Disklabel type: gpt</span></span><br><span class=\"line\"><span class=\"comment\"># Disk identifier: 09CF104A-C9D5-215C-8C04-670347F0CF00</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Device       Start     End Sectors  Size Type</span></span><br><span class=\"line\"><span class=\"comment\"># /dev/sda1      512  410111  409600  200M EFI System</span></span><br><span class=\"line\"><span class=\"comment\"># /dev/sda2   410624 1434623 1024000  500M Microsoft basic data</span></span><br><span class=\"line\"><span class=\"comment\"># /dev/sda128     34     511     478  239K BIOS boot</span></span><br><span class=\"line\"></span><br><span class=\"line\">Command (m <span class=\"keyword\">for</span> <span class=\"built_in\">help</span>): n</span><br><span class=\"line\">Partition number (3-127, default 3):</span><br><span class=\"line\">First sector (410112-10485726, default 1435648):</span><br><span class=\"line\">Last sector, +/-sectors or +/-size&#123;K,M,G,T,P&#125; (1435648-10485726, default 10485726): +3.3G</span><br><span class=\"line\">Created a new partition 3 of <span class=\"built_in\">type</span> <span class=\"string\">'Linux filesystem'</span> and of size 3.3 GiB.</span><br><span class=\"line\"></span><br><span class=\"line\">Command (m <span class=\"keyword\">for</span> <span class=\"built_in\">help</span>): n</span><br><span class=\"line\">Partition number (4-127, default 4):</span><br><span class=\"line\">First sector (410112-10485726, default 8425472):</span><br><span class=\"line\">Last sector, +/-sectors or +/-size&#123;K,M,G,T,P&#125; (8425472-10485726, default 10485726):</span><br><span class=\"line\">Created a new partition 4 of <span class=\"built_in\">type</span> <span class=\"string\">'Linux filesystem'</span> and of size 1006 MiB.</span><br><span class=\"line\"></span><br><span class=\"line\">Command (m <span class=\"keyword\">for</span> <span class=\"built_in\">help</span>): t</span><br><span class=\"line\">Partition number (1-4,128, default 128): 4</span><br><span class=\"line\">Partition <span class=\"built_in\">type</span> (<span class=\"built_in\">type</span> L to list all types): 19</span><br><span class=\"line\"></span><br><span class=\"line\">Changed <span class=\"built_in\">type</span> of partition <span class=\"string\">'Linux filesystem'</span> to <span class=\"string\">'Linux swap'</span>.</span><br><span class=\"line\"></span><br><span class=\"line\">Command (m <span class=\"keyword\">for</span> <span class=\"built_in\">help</span>): w</span><br><span class=\"line\">The partition table has been altered.</span><br><span class=\"line\">Syncing disks.</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">fdisk -l</span><br><span class=\"line\">Disk /dev/loop0: 452.6 MiB, 474021888 bytes, 925824 sectors</span><br><span class=\"line\">Units: sectors of 1 * 512 = 512 bytes</span><br><span class=\"line\">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class=\"line\">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Disk /dev/sda: 5 GiB, 5368709120 bytes, 10485760 sectors</span><br><span class=\"line\">Disk model: VMware Virtual S</span><br><span class=\"line\">Units: sectors of 1 * 512 = 512 bytes</span><br><span class=\"line\">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class=\"line\">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class=\"line\">Disklabel <span class=\"built_in\">type</span>: gpt</span><br><span class=\"line\">Disk identifier: 09CF104A-C9D5-215C-8C04-670347F0CF00</span><br><span class=\"line\"></span><br><span class=\"line\">Device        Start      End Sectors  Size Type</span><br><span class=\"line\">/dev/sda1       512   410111  409600  200M EFI System</span><br><span class=\"line\">/dev/sda2    410624  1434623 1024000  500M Microsoft basic data</span><br><span class=\"line\">/dev/sda3   1435648  8425471 6989824  3.3G Linux filesystem</span><br><span class=\"line\">/dev/sda4   8425472 10485726 2060255 1006M Linux swap</span><br><span class=\"line\">/dev/sda128      34      511     478  239K BIOS boot</span><br><span class=\"line\"></span><br><span class=\"line\">/dev/sda3 /overlay ext4 rw,relatime 0 0</span><br></pre></td></tr></table></figure></li>\n<li>(2) 格式化与挂载我们的数据盘<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">root@Openwrt:~<span class=\"comment\"># mkfs.ext4 /dev/sda3</span></span><br><span class=\"line\">mke2fs 1.45.6 (20-Mar-2020)</span><br><span class=\"line\">Creating filesystem with 873728 4k blocks and 218592 inodes</span><br><span class=\"line\">Filesystem UUID: b64f1114-e353-4fcf-8337-7e50fd49b9d9</span><br><span class=\"line\">Superblock backups stored on blocks:</span><br><span class=\"line\">        32768, 98304, 163840, 229376, 294912, 819200</span><br><span class=\"line\"></span><br><span class=\"line\">Allocating group tables: <span class=\"keyword\">done</span></span><br><span class=\"line\">Writing inode tables: <span class=\"keyword\">done</span></span><br><span class=\"line\">Creating journal (16384 blocks): <span class=\"keyword\">done</span></span><br><span class=\"line\">Writing superblocks and filesystem accounting information: <span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">root@Openwrt:~<span class=\"comment\"># mkswap /dev/sda4</span></span><br><span class=\"line\">Setting up swapspace version 1, size = 1054846464 bytes</span><br><span class=\"line\"></span><br><span class=\"line\">root@Openwrt:~<span class=\"comment\"># swap</span></span><br><span class=\"line\">swaplabel  swapoff    swapon</span><br><span class=\"line\">root@Openwrt:~<span class=\"comment\"># swapon /dev/sda4</span></span><br><span class=\"line\">root@Openwrt:~<span class=\"comment\"># free</span></span><br><span class=\"line\">              total        used        free      shared  buff/cache   available</span><br><span class=\"line\">Mem:        2037784       98988     1828264        3648      110532     1888936</span><br><span class=\"line\">Swap:       1030120           0     1030120</span><br><span class=\"line\">root@Openwrt:~<span class=\"comment\"># swapon -s</span></span><br><span class=\"line\">Filename                                Type            Size    Used    Priority</span><br><span class=\"line\">/dev/sda4                               partition       1030120 0       -2</span><br><span class=\"line\"></span><br><span class=\"line\">lsblk</span><br><span class=\"line\">NAME     MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT</span><br><span class=\"line\">loop0      7:0    0 452.1M  0 loop /overlay</span><br><span class=\"line\">sda        8:0    0     5G  0 disk</span><br><span class=\"line\">├─sda1     8:1    0   200M  0 part /boot</span><br><span class=\"line\">├─sda2     8:2    0   500M  0 part /rom</span><br><span class=\"line\">├─sda3     8:3    0   3.3G  0 part /overlay</span><br><span class=\"line\">├─sda4     8:4    0  1006M  0 part [SWAP]</span><br><span class=\"line\">└─sda128 259:0    0   239K  0 part</span><br><span class=\"line\">sr0       11:0    1  1024M  0 rom</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">mkdir -vp /mnt/overlay</span><br><span class=\"line\">mount /dev/sda3 /mnt/overlay ; tar -C /overlay -cvf - . | tar -C /mnt/overlay -xf - ; </span><br><span class=\"line\">umount /mnt/overlay</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">mkfs.ext4 /dev/sda3</span><br><span class=\"line\">atguigu</span><br><span class=\"line\">DEVICE=<span class=\"string\">\"/dev/sda3\"</span></span><br><span class=\"line\"><span class=\"built_in\">eval</span> $(block info <span class=\"string\">\"<span class=\"variable\">$&#123;DEVICE&#125;</span>\"</span> | grep -o -e <span class=\"string\">\"UUID=\\S*\"</span>)</span><br><span class=\"line\">uci -q delete fstab.overlay</span><br><span class=\"line\">uci <span class=\"built_in\">set</span> fstab.overlay=<span class=\"string\">\"mount\"</span></span><br><span class=\"line\">uci <span class=\"built_in\">set</span> fstab.overlay.uuid=<span class=\"string\">\"<span class=\"variable\">$&#123;UUID&#125;</span>\"</span></span><br><span class=\"line\">uci <span class=\"built_in\">set</span> fstab.overlay.target=<span class=\"string\">\"/overlay\"</span></span><br><span class=\"line\">uci commit fstab</span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br><span class=\"line\"></span><br><span class=\"line\">mount /dev/sda3 /mnt</span><br><span class=\"line\">cp -f -a /rom/overlay/. /mnt</span><br><span class=\"line\">umount /mnt</span><br></pre></td></tr></table></figure>\n<a href=\"https://blog.chaos.run/dreams/openwrt-extroot/\" target=\"_blank\" rel=\"noopener\">https://blog.chaos.run/dreams/openwrt-extroot/</a><br><a href=\"https://blog.csdn.net/zhangzejin3883/article/details/108904399?utm_medium=distribute.pc_relevant.none-task-blog-title-2&amp;spm=1001.2101.3001.4242\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/zhangzejin3883/article/details/108904399?utm_medium=distribute.pc_relevant.none-task-blog-title-2&amp;spm=1001.2101.3001.4242</a><br><a href=\"https://blog.msm.moe/mount-sd-card-to-overlay-on-openwrt/\" target=\"_blank\" rel=\"noopener\">https://blog.msm.moe/mount-sd-card-to-overlay-on-openwrt/</a><br><a href=\"https://openwrt.org/docs/guide-user/additional-software/extroot_configuration\" target=\"_blank\" rel=\"noopener\">https://openwrt.org/docs/guide-user/additional-software/extroot_configuration</a><br><a href=\"https://www.codeleading.com/article/13741048867/\" target=\"_blank\" rel=\"noopener\">https://www.codeleading.com/article/13741048867/</a><br><a href=\"https://garywu520.github.io/blog/2020/09/05/ESXI%E5%8F%8C%E7%BD%91%E5%8D%A1openwrt%E9%85%8D%E7%BD%AE%E5%B9%B6%E6%89%A9%E5%AE%B9/\" target=\"_blank\" rel=\"noopener\">https://garywu520.github.io/blog/2020/09/05/ESXI%E5%8F%8C%E7%BD%91%E5%8D%A1openwrt%E9%85%8D%E7%BD%AE%E5%B9%B6%E6%89%A9%E5%AE%B9/</a><br><a href=\"https://oldtang.com/3424.html\" target=\"_blank\" rel=\"noopener\">https://oldtang.com/3424.html</a></li>\n</ul>\n<hr>\n<h3 id=\"0x02-基础配置\"><a href=\"#0x02-基础配置\" class=\"headerlink\" title=\"0x02 基础配置\"></a>0x02 基础配置</h3><h4 id=\"1-部署必要配置\"><a href=\"#1-部署必要配置\" class=\"headerlink\" title=\"(1) 部署必要配置\"></a>(1) 部署必要配置</h4><p>1.设置OpenWrt登陆密码</p>\n<blockquote>\n<p>路径：System -&gt; Administrator -&gt; Router Password</p>\n</blockquote>\n<p>2.设置网络接口（注意如果是虚拟机则可以新增网卡，如果是物理机则需要多网口支持）</p>\n<blockquote>\n<p>路径：Network -&gt; Interfaces</p>\n</blockquote>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/2/20201102171415.png\" alt=\"WeiyiGeek.网络接口\" title=\"\" class=\"\">\n                <p>WeiyiGeek.网络接口</p>\n            </figure>\n<p>3.启用SSH服务端口也可以设置公钥登陆</p>\n<blockquote>\n<p>路径：System -&gt; Administrator -&gt; SSH Access<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 保持网络已连通状态：</span></span><br><span class=\"line\">BusyBox v1.30.1 () built-in shell (ash)</span><br><span class=\"line\">  _______                     ________        __</span><br><span class=\"line\"> |       |.-----.-----.-----.|  |  |  |.----.|  |_</span><br><span class=\"line\"> |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|</span><br><span class=\"line\"> |_______||   __|_____|__|__||________||__|  |____|</span><br><span class=\"line\">          |__| W I R E L E S S   F R E E D O M</span><br><span class=\"line\">-----------------------------------------------------</span><br><span class=\"line\"> OpenWrt 19.07.4, r11208-ce6496d796</span><br><span class=\"line\">-----------------------------------------------------</span><br><span class=\"line\">root@OpenWrt:~<span class=\"comment\"># 与使用普通密码相比，公钥允许无密码的SSH登录，具有更高的安全性。</span></span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/2/20201102163535.png\" alt=\"WeiyiGeek.OpenWrt\" title=\"\" class=\"\">\n                <p>WeiyiGeek.OpenWrt</p>\n            </figure></p>\n</blockquote>\n<p>4.OpenWrt语言设置，因为刚刷完固件只有英语可以选我们需要安装中文包;<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 方式1</span></span><br><span class=\"line\">System -&gt; Software -&gt; Actions(Update Lists-更新软件包依赖) -&gt; Filter(luci-i18n-base-zh-cn) -&gt; Install (下载)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 方式2</span></span><br><span class=\"line\">root@OpenWrt:~<span class=\"comment\"># opkg update</span></span><br><span class=\"line\">root@OpenWrt:~<span class=\"comment\"># opkg install luci-i18n-base-zh-cn</span></span><br><span class=\"line\">Installing luci-i18n-base-zh-cn (git-20.306.44214-6ad517e-1) to root...</span><br><span class=\"line\">Downloading http://downloads.openwrt.org/releases/19.07.4/packages/x86_64/luci/luci-i18n-base-zh-cn_git-20.306.44214-6ad517e-1_all.ipk</span><br><span class=\"line\">Configuring luci-i18n-base-zh-cn.</span><br></pre></td></tr></table></figure></p>\n<p>5.OpenWrt 界面UI主题更换<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 可用主题</span></span><br><span class=\"line\">root@OpenWrt:~<span class=\"comment\"># opkg list | grep \"theme\"</span></span><br><span class=\"line\">luci - git-20.306.44214-6ad517e-1 - Standard OpenWrt <span class=\"built_in\">set</span> including full admin with ppp support and the default Bootstrap theme</span><br><span class=\"line\">luci-nginx - git-20.306.44214-6ad517e-1 - Standard OpenWrt <span class=\"built_in\">set</span> including full admin with ppp support and the default Bootstrap theme</span><br><span class=\"line\">luci-theme-bootstrap - git-20.306.44214-6ad517e-1 - Bootstrap Theme (default)</span><br><span class=\"line\">luci-theme-material - git-20.306.44214-6ad517e-1 - Material Theme</span><br><span class=\"line\">luci-theme-openwrt - git-20.306.44214-6ad517e-1 - LuCI OpenWrt.org theme</span><br><span class=\"line\"><span class=\"comment\"># 主题下载(也可安装4中的方法在software中下载)</span></span><br><span class=\"line\">root@OpenWrt:~<span class=\"comment\"># opkg install luci-theme-material</span></span><br><span class=\"line\">Installing luci-theme-material (git-20.306.44214-6ad517e-1) to root...</span><br><span class=\"line\">Downloading http://downloads.openwrt.org/releases/19.07.4/packages/x86_64/luci/luci-theme-material_git-20.306.44214-6ad517e-1_all.ipk</span><br><span class=\"line\">Configuring luci-theme-material.</span><br></pre></td></tr></table></figure></p>\n<p><br/></p>\n<h4 id=\"2-驱动安装\"><a href=\"#2-驱动安装\" class=\"headerlink\" title=\"(2) 驱动安装\"></a>(2) 驱动安装</h4><h5 id=\"USB-驱动\"><a href=\"#USB-驱动\" class=\"headerlink\" title=\"USB 驱动\"></a>USB 驱动</h5><p>脚本命令:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg update</span><br><span class=\"line\">opkg install comgt kmod-usb-serial kmod-usb-serial-option kmod-usb-serial-wwan usb-modeswitch</span><br><span class=\"line\">opkg install kmod-usb-net-rndis usb-modeswitch</span><br><span class=\"line\">opkg install usbutils</span><br><span class=\"line\">opkg install kmod-libphy</span><br><span class=\"line\">opkg install kmod-mii</span><br><span class=\"line\">opkg install kmod-usb-net</span><br><span class=\"line\">opkg install kmod-usb-net-rtl8152 <span class=\"comment\"># 根据usb设备不同而不同</span></span><br></pre></td></tr></table></figure></p>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"软路由","path":"api/categories/软路由.json"},{"name":"科学上网","path":"api/categories/科学上网.json"}],"tags":[{"name":"OpenWrt","path":"api/tags/OpenWrt.json"}]}