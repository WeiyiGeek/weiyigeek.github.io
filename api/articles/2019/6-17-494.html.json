{"title":"VMware Workstation基础入门学习与使用","slug":"虚拟云容/虚拟化/VMware/Workstation/VMware-Workstation基础入门学习与使用","date":"2019-06-17T07:36:30.000Z","updated":"2022-03-29T05:39:02.683Z","url":"2019/6-17-494.html","path":"api/articles/2019/6-17-494.html.json","covers":["https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190704220537.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190702112805.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190704221128.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190704221315.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190704221443.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190704221703.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200814162624.png"],"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h2 id=\"0x00-前言简述\"><a href=\"#0x00-前言简述\" class=\"headerlink\" title=\"0x00 前言简述\"></a>0x00 前言简述</h2><h3 id=\"基础介绍\"><a href=\"#基础介绍\" class=\"headerlink\" title=\"基础介绍\"></a>基础介绍</h3><p>1、在单台PC上运行多个操作系统<br>VMware允许您在同一Windows或Linux PC上一次运行多个操作系统。创建真实的Linux和Windows VM以及其他台式机，服务器和平板电脑环境，以及可配置的虚拟网络和网络状况仿真，以用于代码开发，解决方案架构，应用程序测试，产品演示等。<br>2、为任何平台进行开发和测试<br>支持数百种操作系统，并可以与Docker等云和容器技术一起使用。<br>3、连接到VMware vSphere<br>安全连接到vSphere，ESXi或其他Workstation服务器，以启动，控制和管理虚拟机（VM）和物理主机。通用的VMware虚拟机管理程序可以最大程度地提高生产力，并可以轻松地在本地PC之间来回传输VM。<br>4、安全和隔离环境<br>使用不同的隐私设置，工具和网络配置运行安全的第二个桌面，或使用取证工具调查操作系统漏洞。工作站提供了业界最安全的虚拟机管理程序之一，并为IT安全专业人员提供了强大的功能。</p>\n<p><br></p>\n<hr>\n<h2 id=\"0x01-版本介绍\"><a href=\"#0x01-版本介绍\" class=\"headerlink\" title=\"0x01 版本介绍\"></a>0x01 版本介绍</h2><h3 id=\"VMware-Workstation-16\"><a href=\"#VMware-Workstation-16\" class=\"headerlink\" title=\"VMware Workstation 16\"></a>VMware Workstation 16</h3><p><strong>主要功能以及特点</strong><br>1、暗黑模式：VMware Workstation Pro 16支持暗模式，以优化用户体验。<br>注意：要求主机操作系统为Windows 10 1809或更高版本</p>\n<p>2、vSphere 7.0支持：在VMware Workstation Pro 16，您可以执行以下操作：连接到vSphere 7.0。将本地虚拟机上载到vSphere 7.0。<br>将在vSphere 7.0上运行的远程虚拟机下载到本地桌面。</p>\n<p>3、性能改进：提高文件传输速度（拖放，复制和粘贴）改善了虚拟机关闭时间。改进的虚拟NVMe存储性能。</p>\n<p>4、更大的虚拟机<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">32个虚拟CPU</span><br><span class=\"line\">128 GB虚拟内存</span><br><span class=\"line\">8 GB虚拟图形内存</span><br><span class=\"line\"><span class=\"comment\"># 注意：运行具有32个vCPU的虚拟机要求您的主机和客户机操作系统都支持32个逻辑处理器。</span></span><br></pre></td></tr></table></figure></p>\n<p>5、USB 3.1控制器支持<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">虚拟机虚拟XHCI控制器从`USB 3.0`更改为USB 3.1以支持10 Gbps。</span><br><span class=\"line\">Vulkan Render对Linux工作站的支持</span><br><span class=\"line\">VMware Workstation Pro 16支持Linux主机上的Intel GPU的3D支持，以使用Vulkan渲染器向VM提供DirectX 10.1和OpenGL 3.3。</span><br></pre></td></tr></table></figure></p>\n<p>新版本试用许可证:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ZF3R0-FHED2-M80TY-8QYGC-NPKYF</span><br><span class=\"line\">YF390-0HF8P-M81RQ-2DXQE-M2UT6</span><br><span class=\"line\">ZF71R-DMX85-08DQY-8YMNC-PPHV8</span><br></pre></td></tr></table></figure></p>\n<hr>\n<h2 id=\"0x02-基础操作\"><a href=\"#0x02-基础操作\" class=\"headerlink\" title=\"0x02 基础操作\"></a>0x02 基础操作</h2><p><strong>(1)共享问题：</strong></p>\n<p><em>操作0. VMware Workstation 10 启用共享文件夹</em><br>通过共享文件夹你可以方便的在虚拟机和物理主机之间共享文件，如果你想用共享文件夹，你必须在客户机中安装与VMworkstation版本相同的vm-tools并且在你的虚拟机设置中指定共享目录。</p>\n<p>因为这编是写共享所以vm-tools怎么安装在后面提到。</p>\n<figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190704220537.png\" alt=\"WeiyiGeek.VM-ShareFile\" title=\"\" class=\"\">\n                <p>WeiyiGeek.VM-ShareFile</p>\n            </figure>\n<p><em>操作1：VMware建立共享后Linux不能自动识别挂载分享目录</em><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#问题解决，通过/mnt/hgfs 挂载共享Windows系统文件夹</span></span><br><span class=\"line\">1.安装VMware tools运行目录下的 ./vmware-install.pl </span><br><span class=\"line\">2.vwmare建立设置共享目录</span><br><span class=\"line\">3.vmware-hgfsclient <span class=\"comment\">#命令查看当前有哪些共享的目录</span></span><br><span class=\"line\">4.vmhgfs-fuse .host:/ /mnt/hgfs</span><br><span class=\"line\"><span class=\"comment\">#或者</span></span><br><span class=\"line\">mount -t vmhgfs .host:/Linux_Source /mnt/hgfs  <span class=\"comment\">#.host:/Linux_Source是共享名，/mnt/hgfs是挂载点</span></span><br><span class=\"line\"><span class=\"comment\">#tips：如果系统没有安装</span></span><br><span class=\"line\">ubuntu <span class=\"comment\">#则先执行  sudo apt-get install open-vm-dkms</span></span><br><span class=\"line\">centos7 <span class=\"comment\">#则先执行 yum install open-vm-tools</span></span><br><span class=\"line\"></span><br><span class=\"line\">5.设置自启挂载</span><br><span class=\"line\"><span class=\"comment\">#编辑 /etc/fstab，添加下面一行</span></span><br><span class=\"line\">.host:/shared     /mnt/hgfs       vmhgfs     defaults  0  0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#设置后实例（挂载成功）</span></span><br><span class=\"line\">[root@oracle11 ~]<span class=\"comment\"># </span></span><br><span class=\"line\">[root@oracle11 ~]<span class=\"comment\"># ll /mnt/hgfs/</span></span><br><span class=\"line\">total 4</span><br><span class=\"line\">drwxrwxrwx 1 root root 4096 Jun 18 15:47 oracle</span><br><span class=\"line\">[root@oracle11 ~]<span class=\"comment\"># cd  /mnt/hgfs/oracle</span></span><br><span class=\"line\">[root@oracle11 oracle]<span class=\"comment\"># ls</span></span><br><span class=\"line\">CentOS-7-x86_64-DVD-1810(1).iso      cn_office_professional_plus_2019_x86_x64_dvd_5e5be643.iso</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<p><strong>(2)启动引导问题：</strong><br><em>操作1：VMware设置U盘引导启动</em></p>\n<ul>\n<li>Step1.进入该虚拟机设置添加一块磁盘,使用物理磁盘(适用于高级用户!)</li>\n<li>Step2.选择一个<code>物理磁盘</code>，一般是最后一个PhysicalDriveN为U盘</li>\n<li>Step3.按F2进入BIOS,选择<code>BOOT点开“Hard Drive”</code>,在优先启动项里面选择0:1优先启动 + 号即可。</li>\n</ul>\n<figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190702112805.png\" alt=\"WeiyiGeek.VMU盘引导\" title=\"\" class=\"\">\n                <p>WeiyiGeek.VMU盘引导</p>\n            </figure>\n<p><br></p>\n<p><strong>(3)网络问题</strong><br><em>操作1:VMware无法与物理机连通</em><br>解决这个问题前我们先看看虚拟机选择网络设置三种方式:</p>\n<ul>\n<li>桥接：桥接可以和局域网通信也可以访问外网</li>\n<li>NAT模式：net能访问外网，但不能和局域网内的计算机通信</li>\n<li>仅主机模式: 仅主机模式指只能和自己本机通信</li>\n</ul>\n<p>提供解决方式：</p>\n<ul>\n<li>1.关闭虚拟机关闭VMware；</li>\n<li>2.右击已管理员身份重新打开VMware软件；</li>\n<li>3.不要通过Vmware打开任何虚拟机重新在Vmware菜单栏中选择，Edit-&gt;vitual network editor打开vitual network editor对话框，在该对话框中点击restore default，想通过卸载与重新安装network组件，重新安装VMnet8、VMnet1；</li>\n<li>4.再次查看服务，发先服务列表下的VMware NAT与DHCP服务都有运行了；</li>\n<li>5.此时再次启动虚拟机，让虚拟机自动获得iP，然后通过物理机ping虚拟机的ip地址，发现能够ping通了，此时完美解决物理机与虚拟机的连同问题。</li>\n</ul>\n<figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190704221128.png\" alt=\"WeiyiGeek.桥接方法\" title=\"\" class=\"\">\n                <p>WeiyiGeek.桥接方法</p>\n            </figure>\n<p>通过NAT方法进行连接：<br>配置VMwre8的IP地址，子网掩码与网关需要与虚拟机中保持一致，IP不能一致：<br><figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190704221315.png\" alt=\"WeiyiGeek.NAT方式\" title=\"\" class=\"\">\n                <p>WeiyiGeek.NAT方式</p>\n            </figure></p>\n<p>如果虚拟机还是不能自动获取IP解决办法：</p>\n<blockquote>\n<p>services.msc   #进行服务的启动</p>\n</blockquote>\n<figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190704221443.png\" alt=\"WeiyiGeek.services\" title=\"\" class=\"\">\n                <p>WeiyiGeek.services</p>\n            </figure>\n<p><br></p>\n<p><strong>(4)驱动问题</strong></p>\n<p><em>问题1.VM虚拟机获取摄像头失败</em><br>解决办法：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.先将VM的USB服务开启</span><br><span class=\"line\">2.开启虚拟机的USB全部接口，选择2.0接口</span><br><span class=\"line\">3.在虚拟机可移动设备中进行安装驱动，然后开启，左下角有摄像头图标，表示驱动安装成功可以正常开启</span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190704221703.png\" alt=\"WeiyiGeek.摄像头驱动VM\" title=\"\" class=\"\">\n                <p>WeiyiGeek.摄像头驱动VM</p>\n            </figure></p>\n<p><br></p>\n<p><em>问题2.Window下运行主机提示 VMware与 Device/Credential Guard 不兼容</em><br>问题原因:由于Windows中带的虚拟与VMwareWorkstation的虚拟有冲突,或者是Device Guard或Credential Guard与Workstation不兼容。<br>错误信息: 此平台不支持虚拟化的 intel vt-x/ept<br>解决办法:</p>\n<ul>\n<li>1.关闭Windows 10自带的虚拟Hyper-V功能,然后执行<code>bcdedit /set hypervisorlaunchtype off</code>命令关闭Hyper-V,有的时候光是在控制面板中勾选掉Hyper-V还是不行一定要执行命令;</li>\n<li>2.win+ R打开运行，输入gpedit.msc，确定打开本地组策略编辑器转到本地计算机策略 &gt; 计算机配置 &gt; 管理模板 &gt; 系统 &gt; Device Guard &gt; 打开基于虚拟化的安全设置为“已禁用”</li>\n<li>3.运行services.msc命令确定打开本地服务 &gt; 找到HV主机服务 &gt; 启动类型设置为“禁用” 或者采用<code>net stop HvHost</code>命令即可;<figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200814162624.png\" alt=\"WeiyiGeek.Device Guard\" title=\"\" class=\"\">\n                <p>WeiyiGeek.Device Guard</p>\n            </figure></li>\n</ul>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"virtualization","path":"api/categories/virtualization.json"}],"tags":[{"name":"Vmware","path":"api/tags/Vmware.json"}]}