<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="content-language" content="zh-CN"/>
    <meta name="author" content="WeiyiGeek" />
    <meta name="msvalidate.01" content="5C552FB1D885E0E11D2957EC958C8018" />
    <meta name="shenma-site-verification" content="4c655e91c76be0a93c1b6954c666c9d6_1649049085"/>
    <meta name="bytedance-verification-code" content="lKs4FqwCHSJ3A/c5tT7X" />
    <meta name="sogou_site_verification" content="OC65iET6Bk" />
    
    <title>ğŸŒ Python3æ—¥å¿—è®°å½•æ¨¡å—|WeiyiGeek Blog|å”¯ä¸€æå®¢Geek-ITç½‘ç»œå®‰å…¨è¿ç»´å¼€å‘æŠ€æœ¯çŸ¥è¯†åˆ†äº«-åšå®¢ç«™ç‚¹</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    
    <meta name="keywords" content="Python3">
    <meta name="Description" content="WeiyiGeek-å”¯ä¸€æå®¢åšå®¢ç«™ç‚¹,å…³æ³¨äºç½‘ç»œå®‰å…¨è¿ç»´,Webå®‰å…¨å¼€å‘,IOTç‰©è”ç½‘å®‰å…¨å¼€å‘,åº”ç”¨å¼€å‘,åˆ†äº«æŠ€æœ¯å­¦ä¹ çŸ¥è¯†ä¸å…¥å‘è§£å†³,æå‡ç½‘ç»œå®‰å…¨æŠ€æœ¯ä¸è‡ªèº«æŠ€æœ¯èƒ½åŠ›,ç«‹å¿—ç»´æŠ¤å¤§ä¼—ç½‘ç»œå®‰å…¨ä¸ºå·±ä»»,åšä¸€ä¸ªå¯¹å›½å®¶æœ‰ç”¨çš„äºº,ä¸ºå®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„ä¸­å›½æ¢¦ä¸æ‡ˆå¥‹æ–—">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/jquery/3.5.2-jquery.fancybox.min.css?v=1.6.6" />
    <link rel="stylesheet" href="/css/style.css?v=1.6.6">
    <!--  -->
     <script type="text/javascript" src="/js/custom/articlecost.js?v=1.6.6"></script> 
    <link rel="stylesheet" href="/css/third-party/gitalk.css?v=1.6.6"> 
        
    <script type="text/javascript">
        // Data Center
        var DC = {
          reward:	true,
          lv: JSON.parse('{"enable":false,"app_id":null,"app_key":null,"icon":true}'),
          v: JSON.parse('{"enable":false,"appid":null,"appkey":null,"notify":true,"verify":true,"placeholder":"give me some sugers plz...","avatar":"wavatar"}')
        };
    </script>
    <script type="text/javascript">window.lazyScripts=[];</script>
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="WeiyiGeek Blog" type="application/atom+xml">
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="/img/brand.jpg" class="brand-bg" alt="WeiyiGeek-backgroud">
      
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg" alt="WeiyiGeek-å¤´åƒ">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">WeiyiGeek</h5>
          <a href="mailto:master@weiyigeek.top" title="master@weiyigeek.top" class="mail">
            <span>m</span><span>a</span><span>s</span><span>t</span><span>e</span><span>r</span><span>@</span><span>w</span><span>e</span><span>i</span><span>y</span><span>i</span><span>g</span><span>e</span><span>e</span><span>k</span><span>.</span><span>t</span><span>o</span><span>p</span>
          </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://weiyigeek.top/img/wechat-search.png" target="_blank">
                  <i class="icon icon-lg icon-wechat"></i>
                </a>
              </li>
            
              <li>
                <a href="https://github.com/weiyigeek" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
              <li>
                <a href="https://t.me/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-telegram"></i>
                </a>
              </li>
            
              <li>
                <a href="https://twitter.com/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-twitter"></i>
                </a>
              </li>
            
              <li>
                <a href="https://weibo.com/615643678" target="_blank">
                  <i class="icon icon-lg icon-weibo"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                é¦–é¡µ
              </a>
            </li>
        
            <li class="">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                æ–‡ç« åˆ†ç±»
              </a>
            </li>
        
            <li class="">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                æ–‡ç« æ ‡ç­¾
              </a>
            </li>
        
            <li class="">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                æ–‡ç« å½’æ¡£
              </a>
            </li>
        
            <li class="">
              <a href="/books"  >
                <i class="icon icon-lg icon-book"></i>
                å­¦ä¹ ä¹¦ç±
              </a>
            </li>
        
            <li class="">
              <a href="/about"  >
                <i class="icon icon-lg icon-user"></i>
                å…³äºä½œè€…
              </a>
            </li>
        
            <li class="">
              <a href="/links"  >
                <i class="icon icon-lg icon-link"></i>
                ç«™ç‚¹å¯¼èˆª
              </a>
            </li>
        
            <li class="">
              <a href="/img/share-wechat.jpg" target="_blank" >
                <i class="icon icon-lg icon-wechat"></i>
                å…¬ä¼—è´¦å·
              </a>
            </li>
        
            <li class="">
              <a href="https://space.bilibili.com/385802642" target="_blank" >
                <i class="icon icon-lg icon-youtube-play"></i>
                å“”å“©å“”å“©
              </a>
            </li>
        
            <li class="">
              <a href="https://github.com/weiyigeek" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="">
              <a href="https://twitter.com/WeiyiGeek" target="_blank" >
                <i class="icon icon-lg icon-twitter"></i>
                Twitter
              </a>
            </li>
        
            <li class="">
              <a href="https://weibo.com/615643678" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>Python3æ—¥å¿—è®°å½•æ¨¡å—</span>
            
        </div>

        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        

        
            <a href="/atom.xml" class="header-icon pull-right waves-effect waves-circle waves-light">
                <i class="icon icon-lg icon-rss"></i>
            </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="/img/banner.jpg" class="header-bg" alt="æ–‡ç« å¤´éƒ¨èƒŒæ™¯">
    <div class="container fade-scale">
        <h1 class="title">Python3æ—¥å¿—è®°å½•æ¨¡å—</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-03-20T13:34:30.000Z" itemprop="datePublished" class="page-time">
  2020-03-20
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Development/">Development</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Development/Programming/">Programming</a></li></ul></li></ul>


            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>


<div class="container body-wrap">
  <article id="post-ç¼–ç¨‹ä¸–ç•Œ/Python/æ¨¡å—å‡½æ•°/Python3æ—¥å¿—è®°å½•æ¨¡å—"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">Python3æ—¥å¿—è®°å½•æ¨¡å—</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-03-20 21:34:30" datetime="2020-03-20T13:34:30.000Z"  itemprop="datePublished">2020-03-20</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Development/">Development</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Development/Programming/">Programming</a></li></ul></li></ul>



            

            


            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <p>[TOC]</p>
<a id="more"></a>
<h2 id="0x00-logging-æ¨¡å—"><a href="#0x00-logging-æ¨¡å—" class="headerlink" title="0x00 logging æ¨¡å—"></a>0x00 logging æ¨¡å—</h2><h3 id="1-åŸºç¡€ç®€è¿°"><a href="#1-åŸºç¡€ç®€è¿°" class="headerlink" title="1.åŸºç¡€ç®€è¿°"></a>1.åŸºç¡€ç®€è¿°</h3><p>æè¿°: Logging åº“æ˜¯éå¸¸å¸¸ç”¨çš„è®°å½•æ—¥å¿—åº“ï¼Œé€šè¿‡loggingæ¨¡å—å­˜å‚¨å„ç§æ ¼å¼çš„æ—¥å¿—ï¼Œä¸»è¦ç”¨äºè¾“å‡ºè¿è¡Œæ—¥å¿—ï¼Œå¯ä»¥è®¾ç½®è¾“å‡ºæ—¥å¿—çš„ç­‰çº§ã€æ—¥å¿—ä¿å­˜è·¯å¾„ã€æ—¥å¿—æ–‡ä»¶å›æ»šã€æ—¥å¿—æŒ‰æ—¶åˆ†ç§’è¿›è¡Œåˆ‡å‰²ç­‰.</p>
<p>æ¨¡å—å¯¼å…¥: <code>import logging</code><br>æ¨¡å—å‚è€ƒ:  <a href="https://docs.python.org/3/library/logging.html" target="_blank" rel="noopener">https://docs.python.org/3/library/logging.html</a></p>
<p><strong>æ¨¡å—ä¼˜ç‚¹</strong></p>
<ol>
<li>ä½ å¯ä»¥æ§åˆ¶æ¶ˆæ¯çš„çº§åˆ«ï¼Œè¿‡æ»¤æ‰é‚£äº›å¹¶ä¸é‡è¦çš„æ¶ˆæ¯ã€‚</li>
<li>ä½ å¯å†³å®šè¾“å‡ºåˆ°ä»€ä¹ˆåœ°æ–¹ï¼Œä»¥åŠæ€ä¹ˆè¾“å‡ºã€‚æœ‰è®¸å¤šçš„é‡è¦æ€§åˆ«çº§å¯ä¾›é€‰æ‹©ï¼Œdebugã€infoã€warningã€error ä»¥åŠ criticalã€‚é€šè¿‡èµ‹äºˆ logger æˆ–è€… handler ä¸åŒçš„çº§åˆ«ï¼Œä½ å°±å¯ä»¥åªè¾“å‡ºé”™è¯¯æ¶ˆæ¯åˆ°ç‰¹å®šçš„è®°å½•æ–‡ä»¶ä¸­ï¼Œæˆ–è€…åœ¨è°ƒè¯•æ—¶åªè®°å½•è°ƒè¯•ä¿¡æ¯ã€‚</li>
</ol>
<p><br></p>
<p><strong>æ—¥å¿—çº§åˆ«</strong><br>æè¿°: ä»¥ä¸‹æè¿°äº†æ ‡å‡†æ°´å¹³åŠå…¶é€‚ç”¨æ€§ï¼ˆæŒ‰ä¸¥é‡ç¨‹åº¦çš„å¢åŠ é¡ºåºï¼‰, ä¸¥é‡ç¨‹åº¦çš„çº§åˆ«ä¾æ¬¡æ˜¯<code>DEBUG &lt; INFO &lt; WARNING &lt; ERROR &lt; CRITICAL</code><br>æ¸©é¦¨æç¤º: å½“è¿›è¡Œæ—¥å¿—è¾“å‡ºæ—¶ï¼Œå¦‚å®šä¹‰äº†æœ€ä½æ—¥å¿—è®°å½•ç­‰çº§ï¼Œåˆ™åªä¼šè®°å½•ä¸¥é‡ç¨‹åº¦åœ¨å…¶ä¹‹ä¸Šçš„æ—¥å¿—ã€‚</p>
<p><br></p>
<p><strong>æ ¼å¼åŒ–æ—¥å¿—ä¿¡æ¯</strong><br>æè¿°: Logging æ¨¡å—æœ‰ä¸€ç³»åˆ—å¯ä»¥ç”¨åšæ ¼å¼åŒ–çš„å±æ€§ï¼Œå¦‚<code>format=&#39;%(asctime)s %(levelname)s:%(message)s&#39;</code>ï¼Œå¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>Attribute name</th>
<th>Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>args</td>
<td>You shouldnâ€™t need to format this yourself.</td>
<td>The tuple of arguments merged into msg to produce message, or a dict whose  values are used for the merge (when there is only one argument, and it  is a dictionary).</td>
</tr>
<tr>
<td>asctime</td>
<td>%(asctime)s</td>
<td>Human-readable time when the LogRecord was created. By default this is of the form  â€˜2003-07-08 16:49:45,896â€™ (the numbers after the comma are millisecond  portion of the time).</td>
</tr>
<tr>
<td>created</td>
<td>%(created)f</td>
<td>Time when the LogRecord was created (as returned by time.time()).</td>
</tr>
<tr>
<td>exc_info</td>
<td>You shouldnâ€™t need to format this yourself.</td>
<td>Exception tuple (Ã  la sys.exc_info) or, if no exception has occurred, None.</td>
</tr>
<tr>
<td>filename</td>
<td>%(filename)s</td>
<td>Filename portion of pathname.</td>
</tr>
<tr>
<td>funcName</td>
<td>%(funcName)s</td>
<td>Name of function containing the logging call.</td>
</tr>
<tr>
<td>levelname</td>
<td>%(levelname)s</td>
<td>Text logging level for the message (â€˜DEBUGâ€™, â€˜INFOâ€™, â€˜WARNINGâ€™, â€˜ERRORâ€™, â€˜CRITICALâ€™).</td>
</tr>
<tr>
<td>levelno</td>
<td>%(levelno)s</td>
<td>Numeric logging level for the message (DEBUG, INFO, WARNING, ERROR, CRITICAL).</td>
</tr>
<tr>
<td>lineno</td>
<td>%(lineno)d</td>
<td>Source line number where the logging call was issued (if available).</td>
</tr>
<tr>
<td>message</td>
<td>%(message)s</td>
<td>The logged message, computed as msg % args. This is set when Formatter.format() is invoked.</td>
</tr>
<tr>
<td>module</td>
<td>%(module)s</td>
<td>Module (name portion of filename).</td>
</tr>
<tr>
<td>msecs</td>
<td>%(msecs)d</td>
<td>Millisecond portion of the time when the LogRecord was created.</td>
</tr>
<tr>
<td>msg</td>
<td>You shouldnâ€™t need to format this yourself.</td>
<td>The format string passed in the original logging call. Merged with args to  produce message, or an arbitrary object (see Using arbitrary objects as  messages).</td>
</tr>
<tr>
<td>name</td>
<td>%(name)s</td>
<td>Name of the logger used to log the call.</td>
</tr>
<tr>
<td>pathname</td>
<td>%(pathname)s</td>
<td>Full pathname of the source file where the logging call was issued (if available).</td>
</tr>
<tr>
<td>process</td>
<td>%(process)d</td>
<td>Process ID (if available).</td>
</tr>
<tr>
<td>processName</td>
<td>%(processName)s</td>
<td>Process name (if available).</td>
</tr>
<tr>
<td>relativeCreated</td>
<td>%(relativeCreated)d</td>
<td>Time in milliseconds when the LogRecord was created, relative to the time the logging module was loaded.</td>
</tr>
<tr>
<td>stack_info</td>
<td>You shouldnâ€™t need to format this yourself.</td>
<td>Stack frame information (where available) from the bottom of the stack in the current thread, up to and including the stack frame of the logging call which resulted in the creation of this record.</td>
</tr>
<tr>
<td>thread</td>
<td>%(thread)d</td>
<td>Thread ID (if available).</td>
</tr>
<tr>
<td>threadName</td>
<td>%(threadName)s</td>
<td>Thread name (if available).</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h3 id="2-è¯­æ³•å‚æ•°"><a href="#2-è¯­æ³•å‚æ•°" class="headerlink" title="2.è¯­æ³•å‚æ•°"></a>2.è¯­æ³•å‚æ•°</h3><p>æè¿°: loggingåº“æä¾›äº†æ¨¡å—åŒ–çš„æ–¹æ³•å’Œå‡ ä¸ªç»„ä»¶, ä¸‹åˆ—åˆ—å‡ºäº†æ¨¡å—å®šä¹‰çš„åŸºç¡€ç±»å’Œå‡½æ•°</p>
<ul>
<li>Loggers ï¼šè®°å½•å™¨å…¬å¼€åº”ç”¨ç¨‹åºä»£ç ç›´æ¥ä½¿ç”¨çš„æ¥å£ã€‚</li>
<li>Handlers ï¼šå¤„ç†ç¨‹åºå°†æ—¥å¿—è®°å½•ï¼ˆç”±è®°å½•å™¨åˆ›å»ºï¼‰å‘é€åˆ°ç›¸åº”çš„ç›®æ ‡ã€‚</li>
<li>Filters ï¼šè¿‡æ»¤å™¨æä¾›äº†æ›´ç»†ç²’åº¦çš„å·¥å…·ï¼Œç”¨äºç¡®å®šè¦è¾“å‡ºå“ªäº›æ—¥å¿—è®°å½•ã€‚</li>
<li>Formattersï¼š æ ¼å¼åŒ–ç¨‹åºæŒ‡å®šæœ€ç»ˆè¾“å‡ºä¸­æ—¥å¿—è®°å½•çš„å¸ƒå±€ã€‚</li>
</ul>
<p><strong>ç®€å•ç¤ºä¾‹:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1ã€åˆ›å»ºä¸€ä¸ªlogger</span></span><br><span class="line">logger = logging.getLogger(__name__) <span class="comment"># åˆ›å»º logger </span></span><br><span class="line">logger.setLevel(logging.DEBUG)   <span class="comment"># å†™å…¥å†…å®¹çš„ä¸¥é‡çº§åˆ«</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Handleræ–¹æ³•æœ‰å¾ˆå¤šä¸‹é¢ä¸»è¦ä»‹ç»ä¸¤ç§ï¼šStreamHandler å’Œ FileHandler </span></span><br><span class="line"><span class="comment"># 2ã€åˆ›å»ºä¸€ä¸ªhandlerï¼Œç”¨äºå†™å…¥æ—¥å¿—æ–‡ä»¶</span></span><br><span class="line">fh=logging.FileHandler(<span class="string">'test.log'</span>, encoding=<span class="string">"utf-8"</span>) <span class="comment"># å°†æ—¥å¿—å†™å…¥åˆ°test.logæ–‡ä»¶ </span></span><br><span class="line">fh.setLevel(logging.DEBUG) <span class="comment"># å¹¶ä¸”éœ€è¦æŒ‡å®šå†™å…¥çš„å†…å®¹ä¸¥é‡çº§åˆ«</span></span><br><span class="line"><span class="comment"># å†åˆ›å»ºä¸€ä¸ªhandlerï¼Œç”¨äºè¾“å‡ºåˆ°æ§åˆ¶å°</span></span><br><span class="line">ch=logging.StreamHandler() <span class="comment"># å°†æ—¥å¿—å†™å…¥æ§åˆ¶å°</span></span><br><span class="line">ch.setLevel(logging.DEBUG) <span class="comment"># å¹¶ä¸”éœ€è¦æŒ‡å®šå†™å…¥çš„å†…å®¹ä¸¥é‡çº§åˆ«</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3ã€å®šä¹‰handlerçš„è¾“å‡ºæ ¼å¼ï¼ˆformatterï¼‰</span></span><br><span class="line">formatter = logging.Formatter(<span class="string">'%(asctime)s - %(name)s - %(levelname)s - %(message)s'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4ã€ç»™handleræ·»åŠ formatter</span></span><br><span class="line">fh.setFormatter(formatter)</span><br><span class="line">ch.setFormatter(formatter)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5ã€ç»™loggeræ·»åŠ handler</span></span><br><span class="line">logger.addHandler(fh)</span><br><span class="line">logger.addHandler(ch)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6ã€è¿›è¡Œæ—¥å¿—è¾“å‡º</span></span><br><span class="line">logger.info(<span class="string">"è¿™æ˜¯ä¸€æ¡INFOçº§åˆ«çš„ä¿¡æ¯,æ¥è‡ª ã€WeiyiGeek.topã€‘ è§¦å‘ã€‚"</span>)</span><br><span class="line">logger.debug(<span class="string">'debug message'</span>)</span><br><span class="line">logger.info(<span class="string">'info message'</span>)</span><br><span class="line">logger.warning(<span class="string">'warn message'</span>)</span><br><span class="line">logger.error(<span class="string">'error message'</span>)</span><br><span class="line">logger.critical(<span class="string">'critical message'</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-box">
                <a rel=Python3æ—¥å¿—è®°å½•æ¨¡å— href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2022/5/20220810091524.png" target="_blank" title="WeiyiGeek.åŒæ—¶è¾“å‡ºåˆ°æ–‡ä»¶æˆ–è€…ç»ˆç«¯ä¸­" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2022/5/20220810091524.png" alt="WeiyiGeek.åŒæ—¶è¾“å‡ºåˆ°æ–‡ä»¶æˆ–è€…ç»ˆç«¯ä¸­" title="" class=""></a>
                <p>WeiyiGeek.åŒæ—¶è¾“å‡ºåˆ°æ–‡ä»¶æˆ–è€…ç»ˆç«¯ä¸­</p>
            </figure>
<p><br/></p>
<p><strong>é‚£ä¹ˆä¸ºä»€ä¹ˆåç»­åœ¨å®šä¹‰Handleræ—¶åˆåšäº†ä¸€æ¬¡set Levelæ“ä½œå‘¢ï¼Ÿ</strong></p>
<p>åŸå› æ˜¯ï¼š<strong>Loggerä¸­è®¾ç½®çš„çº§åˆ«å†³å®šå®ƒå°†ä¼ é€’ç»™Handlerçš„æ¶ˆæ¯ä¸¥é‡æ€§ã€‚æ¯ä¸ªHandlerè®¾ç½®çš„setLevel()å†³å®šäº†è¯¥å¤„ç†ç¨‹åºå°†å‘é€å“ªäº›æ¶ˆæ¯</strong>ï¼ˆè®°ä½ï¼šæ—¥å¿—ä¸­æ¶ˆæ¯æ˜¯åˆ†ä¸¥é‡ç¨‹åº¦çš„ï¼Œå½“ç¡®å®šä¸¥é‡çº§åˆ«æ˜¯æŸä¸ªå±‚çº§æ—¶ï¼Œè¯¥å±‚çº§ä»¥ä¸‹çš„æ¶ˆæ¯ä¸è¢«å‘é€æˆ–è€…è®°å½•ï¼Œè¯¥å±‚çº§ä»¥ä¸Šçš„æ¶ˆæ¯æ‰è¢«å‘é€æˆ–è€…è®°å½•ï¼‰ã€‚</p>
<p>æ¸©é¦¨æç¤º: å†™å…¥æ–‡ä»¶çš„ä¸‰ç§filemodeï¼Œå³<code>r (åªè¯»)</code>/<code>w (è¦†ç›–)</code>/<code>a (é»˜è®¤)</code></p>
<p>æ¸©é¦¨æç¤º: Logger æ•´ä¸ªæ“ä½œæµï¼ˆå®˜ç½‘ä¸Šdownä¸‹æ¥çš„ï¼‰.</p>
<figure class="image-box">
                <a rel=Python3æ—¥å¿—è®°å½•æ¨¡å— href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2022/5/20220810092104.png" target="_blank" title="WeiyiGeek.Logger æ“ä½œæµ" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2022/5/20220810092104.png" alt="WeiyiGeek.Logger æ“ä½œæµ" title="" class=""></a>
                <p>WeiyiGeek.Logger æ“ä½œæµ</p>
            </figure>
<p><br/></p>
<h3 id="3-åŠ¨æ‰‹å®è·µ"><a href="#3-åŠ¨æ‰‹å®è·µ" class="headerlink" title="3.åŠ¨æ‰‹å®è·µ"></a>3.åŠ¨æ‰‹å®è·µ</h3><h4 id="1-ç®€å•å…¥é—¨ä¾‹å­"><a href="#1-ç®€å•å…¥é—¨ä¾‹å­" class="headerlink" title="(1) ç®€å•å…¥é—¨ä¾‹å­"></a>(1) ç®€å•å…¥é—¨ä¾‹å­</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># æ—¥å¿—å†™å…¥ç›®å½•</span></span><br><span class="line">os.chdir(<span class="string">"/tmp/"</span>) </span><br><span class="line">logging.basicConfig(format=<span class="string">'%(asctime)s - %(name)s - %(levelname)s - %(message)ss'</span>, filename=<span class="string">'example.log'</span>, level=logging.DEBUG) </span><br><span class="line"><span class="comment"># æ³¨æ„ï¼šä¸Šé¢levelè®¾ç½®çš„æ˜¯æ˜¾ç¤ºçš„æœ€ä½ä¸¥é‡çº§åˆ«ï¼Œå°äºlevelè®¾ç½®çš„æœ€ä½ä¸¥é‡çº§åˆ«å°†ä¸ä¼šæ‰“å°å‡ºæ¥</span></span><br><span class="line">logging.debug(<span class="string">'Debug, This message should go to the log file'</span>)</span><br><span class="line">logging.info(<span class="string">'Info, So should this'</span>)</span><br><span class="line">logging.warning(<span class="string">'Warn, And this, too'</span>)</span><br><span class="line">logging.error(<span class="string">'Error, And non-ASCII stuff, too'</span>)</span><br></pre></td></tr></table></figure>
<p><br/></p>
<h3 id="2-å®è·µä¹‹æŒ‰æ—¥å¿—å¤§å°åˆ†å‰²"><a href="#2-å®è·µä¹‹æŒ‰æ—¥å¿—å¤§å°åˆ†å‰²" class="headerlink" title="(2) å®è·µä¹‹æŒ‰æ—¥å¿—å¤§å°åˆ†å‰²"></a>(2) å®è·µä¹‹æŒ‰æ—¥å¿—å¤§å°åˆ†å‰²</h3><p>æè¿°: python æä¾›äº†ä¸¤ä¸ªå¤„ç†å™¨ï¼Œæ–¹ä¾¿æˆ‘ä»¬åˆ†å‰²æ–‡ä»¶ï¼š</p>
<ul>
<li><p><code>logging.handlers.RotatingFileHandler</code> -&gt; æŒ‰ç…§å¤§å°è‡ªåŠ¨åˆ†å‰²æ—¥å¿—æ–‡ä»¶ï¼Œä¸€æ—¦è¾¾åˆ°æŒ‡å®šçš„å¤§å°é‡æ–°ç”Ÿæˆæ–‡ä»¶</p>
</li>
<li><p><code>logging.handlers.TimedRotatingFileHandler</code> -&gt; æŒ‰ç…§æ—¶é—´è‡ªåŠ¨åˆ†å‰²æ—¥å¿—æ–‡ä»¶</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®æ—¥å¿—çš„è®°å½•ç­‰çº§</span></span><br><span class="line">logging.basicConfig(level=logging.DEBUG)  <span class="comment"># è°ƒè¯•debugçº§</span></span><br><span class="line"><span class="comment"># åˆ›å»ºæ—¥å¿—è®°å½•å™¨ï¼ŒæŒ‡æ˜æ—¥å¿—ä¿å­˜çš„è·¯å¾„ã€æ¯ä¸ªæ—¥å¿—æ–‡ä»¶çš„æœ€å¤§å¤§å°ã€ä¿å­˜çš„æ—¥å¿—æ–‡ä»¶ä¸ªæ•°ä¸Šé™</span></span><br><span class="line">file_log_handler = RotatingFileHandler(<span class="string">"logs/weiyigeek.top.log"</span>, maxBytes=1024 * 1024 * 100, backupCount=10, encoding=<span class="string">"utf-8"</span>)</span><br><span class="line"><span class="comment"># åˆ›å»ºæ—¥å¿—è®°å½•çš„æ ¼å¼ æ—¥å¿—ç­‰çº§ è¾“å…¥æ—¥å¿—ä¿¡æ¯çš„æ–‡ä»¶å è¡Œæ•° æ—¥å¿—ä¿¡æ¯</span></span><br><span class="line">formatter = logging.Formatter(<span class="string">'%(levelname)s %(filename)s:%(lineno)d %(message)s'</span>)</span><br><span class="line"><span class="comment"># ä¸ºåˆšåˆ›å»ºçš„æ—¥å¿—è®°å½•å™¨è®¾ç½®æ—¥å¿—è®°å½•æ ¼å¼</span></span><br><span class="line">file_log_handler.setFormatter(formatter)</span><br><span class="line"><span class="comment"># ä¸ºå…¨å±€çš„æ—¥å¿—å·¥å…·å¯¹è±¡ï¼ˆflask appä½¿ç”¨çš„ï¼‰æ·»åŠ æ—¥å¿—è®°å½•å™¨</span></span><br><span class="line">logging.getLogger().addHandler(file_log_handler)</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œæ•ˆæœï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-a----         2022/8/10     13:46             79 weiyigeek.top.log</span><br><span class="line">-a----         2022/8/10     13:45            878 weiyigeek.top.1</span><br></pre></td></tr></table></figure></p>
<p><br/></p>
<h3 id="3-å®è·µä¹‹æ—¥å¿—æŒ‰å¤©åˆ†å‰²"><a href="#3-å®è·µä¹‹æ—¥å¿—æŒ‰å¤©åˆ†å‰²" class="headerlink" title="(3) å®è·µä¹‹æ—¥å¿—æŒ‰å¤©åˆ†å‰²"></a>(3) å®è·µä¹‹æ—¥å¿—æŒ‰å¤©åˆ†å‰²</h3><p>æè¿°: æœ¬ç¤ºä¾‹ä»£ç å¯ä»¥å°†æ—¥å¿—æŒ‰å¤©åˆ‡å‰²ä»¥åŠåˆ†åˆ«è¾“å‡ºåˆ°<code>_info.log</code>ä¸<code>_error.log</code>é‡Œé¢ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">from</span> logging.handlers <span class="keyword">import</span> TimedRotatingFileHandler</span><br><span class="line"></span><br><span class="line">LOG_PATH = <span class="string">"log"</span></span><br><span class="line">LOG_INFO = <span class="string">'_info.log'</span></span><br><span class="line">LOG_ERROR = <span class="string">'_error.log'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">logger</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, prefix_name = <span class="string">"flask"</span>)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">not</span> os.path.exists(LOG_PATH)):</span><br><span class="line">      os.makedirs(LOG_PATH)</span><br><span class="line"></span><br><span class="line">    self.prefix = prefix_name</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ›å»ºloggeræ—¥å¿—å¯¹è±¡</span></span><br><span class="line">    self.info_logger = logging.getLogger(<span class="string">"info"</span>)</span><br><span class="line">    self.error_logger = logging.getLogger(<span class="string">"error"</span>)</span><br><span class="line">    self.stream_logger = logging.getLogger(<span class="string">"stream"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ—¥å¿—çš„æœ€ä½è¾“å‡ºçº§åˆ«</span></span><br><span class="line">    self.info_logger.setLevel(logging.DEBUG)</span><br><span class="line">    self.error_logger.setLevel(logging.ERROR)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ—¥å¿—æ ¼å¼åŒ–</span></span><br><span class="line">    self.format = logging.Formatter(<span class="string">'[%(asctime)s][%(threadName)s:%(thread)d][task_id:%(name)s][%(filename)s:%(lineno)d]'</span> <span class="string">'[%(levelname)s] : %(message)s'</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æŒ‰ç…§æ—¶é—´åˆ‡å‰²æ–‡ä»¶ Handler é…ç½®</span></span><br><span class="line">    TimeFileHandlerINFO = TimedRotatingFileHandler(<span class="string">"%s/%s%s"</span> % (LOG_PATH, prefix_name, LOG_INFO), when=<span class="string">'MIDNIGHT'</span>, encoding=<span class="string">"utf-8"</span>, backupCount=<span class="number">8760</span>, delay=<span class="literal">True</span>)</span><br><span class="line">    TimeFileHandlerINFO.suffix = <span class="string">"%Y-%m-%d.log"</span></span><br><span class="line">    TimeFileHandlerERROR = TimedRotatingFileHandler(<span class="string">"%s/%s%s"</span> % (LOG_PATH, prefix_name, LOG_ERROR), when=<span class="string">'MIDNIGHT'</span>, encoding=<span class="string">"utf-8"</span>, backupCount=<span class="number">8760</span>, delay=<span class="literal">True</span>)</span><br><span class="line">    TimeFileHandlerERROR.suffix = <span class="string">"%Y-%m-%d.log"</span></span><br><span class="line">    LoggerStream = logging.StreamHandler()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è®¾ç½®æ—¥å¿—æ ¼å¼åŒ–</span></span><br><span class="line">    TimeFileHandlerINFO.setFormatter(self.format)</span><br><span class="line">    TimeFileHandlerERROR.setFormatter(self.format)</span><br><span class="line">    LoggerStream.setFormatter(self.format)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ è®¾ç½®çš„å¥æŸ„</span></span><br><span class="line">    self.info_logger.addHandler(TimeFileHandlerINFO)</span><br><span class="line">    self.info_logger.addHandler(LoggerStream)</span><br><span class="line">    self.error_logger.addHandler(TimeFileHandlerERROR)</span><br><span class="line">    self.error_logger.addHandler(LoggerStream)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">debug</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">    self.info_logger.debug(msg, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">info</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">    self.info_logger.info(msg, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">warn</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">    self.info_logger.warning(msg, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">error</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">    self.error_logger.error(msg, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">fatal</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">    self.error_logger.fatal(msg, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">critical</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">    self.error_logger.critical(msg, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">log = logger(<span class="string">"weiyigeek"</span>)</span><br><span class="line">log.debug(<span class="string">"debug-test "</span>)</span><br><span class="line">log.info(<span class="string">"info-test"</span>)</span><br><span class="line">log.warn(<span class="string">"wrning-test"</span>)</span><br><span class="line">log.error(<span class="string">"error - test"</span>)</span><br><span class="line">log.fatal(<span class="string">"fatal - test"</span>)</span><br><span class="line">log.critical(<span class="string">"critical - test"</span>)</span><br></pre></td></tr></table></figure>
<p><strong>æ‰§è¡Œç»“æœ:</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">python .\logger.py</span><br><span class="line">[2022-08-10 10:21:21,068][MainThread:22372][task_id:info][logger.py:49][DEBUG] : debug-test</span><br><span class="line">[2022-08-10 10:21:21,069][MainThread:22372][task_id:info][logger.py:52][INFO] : info-test</span><br><span class="line">[2022-08-10 10:21:21,069][MainThread:22372][task_id:info][logger.py:55][WARNING] : wrning-test</span><br><span class="line">[2022-08-10 10:21:21,070][MainThread:22372][task_id:error][logger.py:58][ERROR] : error - <span class="built_in">test</span></span><br><span class="line">[2022-08-10 10:21:21,070][MainThread:22372][task_id:error][logger.py:61][CRITICAL] : fatal - <span class="built_in">test</span></span><br><span class="line">[2022-08-10 10:21:21,070][MainThread:22372][task_id:error][logger.py:64][CRITICAL] : critical - <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆçš„æ–‡ä»¶</span></span><br><span class="line">/mnt/d/Study/Project/<span class="built_in">log</span>$ ls</span><br><span class="line">weiyigeek_error.log</span><br><span class="line">weiyigeek_error.log.2022-08-09.log</span><br><span class="line"></span><br><span class="line">weiyigeek_info.log</span><br><span class="line">weiyigeek_info.log.2022-08-09.log</span><br></pre></td></tr></table></figure>
<p>è¡¥å……è¯´æ˜: ä¸Šè¿°ä»£ç ä¸­ whenæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç”¨äºæè¿°æ»šåŠ¨å‘¨æœŸçš„åŸºæœ¬å•ä½ï¼Œå­—ç¬¦ä¸²çš„å€¼åŠæ„ä¹‰å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'S'</span>: Seconds</span><br><span class="line"><span class="string">'M'</span>: Minutes</span><br><span class="line"><span class="string">'H'</span>: Hours</span><br><span class="line"><span class="string">'D'</span>: Days</span><br><span class="line"><span class="string">'W'</span>: Week day (0=Monday)</span><br><span class="line"><span class="string">'midnight'</span>: Roll over at midnight</span><br></pre></td></tr></table></figure></p>
<p><br/></p>
<h3 id="4-è¡¥å……ç¤ºä¾‹"><a href="#4-è¡¥å……ç¤ºä¾‹" class="headerlink" title="(4) è¡¥å……ç¤ºä¾‹"></a>(4) è¡¥å……ç¤ºä¾‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">from</span> flask.logging <span class="keyword">import</span> default_handler</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> logging.handlers <span class="keyword">import</span> RotatingFileHandler</span><br><span class="line"><span class="keyword">from</span> logging <span class="keyword">import</span> StreamHandler</span><br><span class="line"></span><br><span class="line">BASE_DIR = os.path.dirname(os.path.abspath(__file__))</span><br><span class="line"></span><br><span class="line">LOG_PATH = os.path.join(BASE_DIR, <span class="string">'logs'</span>)</span><br><span class="line"></span><br><span class="line">LOG_PATH_ERROR = os.path.join(LOG_PATH, <span class="string">'error.log'</span>)</span><br><span class="line">LOG_PATH_INFO = os.path.join(LOG_PATH, <span class="string">'info.log'</span>)</span><br><span class="line">LOG_PATH_ALL = os.path.join(LOG_PATH, <span class="string">'all.log'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ—¥å¿—æ–‡ä»¶æœ€å¤§ 100MB</span></span><br><span class="line">LOG_FILE_MAX_BYTES = <span class="number">100</span> * <span class="number">1024</span> * <span class="number">1024</span></span><br><span class="line"><span class="comment"># è½®è½¬æ•°é‡æ˜¯ 10 ä¸ª</span></span><br><span class="line">LOG_FILE_BACKUP_COUNT = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Logger</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">init_app</span><span class="params">(self, app)</span>:</span></span><br><span class="line">        <span class="comment"># ç§»é™¤é»˜è®¤çš„handler</span></span><br><span class="line">        app.logger.removeHandler(default_handler)</span><br><span class="line"></span><br><span class="line">        formatter = logging.Formatter(</span><br><span class="line">            <span class="string">'%(asctime)s [%(thread)d:%(threadName)s] [%(filename)s:%(module)s:%(funcName)s] '</span></span><br><span class="line">            <span class="string">'[%(levelname)s]: %(message)s'</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å°†æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶</span></span><br><span class="line">        <span class="comment"># 1 MB = 1024 * 1024 bytes</span></span><br><span class="line">        <span class="comment"># æ­¤å¤„è®¾ç½®æ—¥å¿—æ–‡ä»¶å¤§å°ä¸º500MBï¼Œè¶…è¿‡500MBè‡ªåŠ¨å¼€å§‹å†™å…¥æ–°çš„æ—¥å¿—æ–‡ä»¶ï¼Œå†å²æ–‡ä»¶å½’æ¡£</span></span><br><span class="line">        file_handler = RotatingFileHandler(</span><br><span class="line">            filename=LOG_PATH_ALL,</span><br><span class="line">            mode=<span class="string">'a'</span>,</span><br><span class="line">            maxBytes=LOG_FILE_MAX_BYTES,</span><br><span class="line">            backupCount=LOG_FILE_BACKUP_COUNT,</span><br><span class="line">            encoding=<span class="string">'utf-8'</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        file_handler.setFormatter(formatter)</span><br><span class="line">        file_handler.setLevel(logging.INFO)</span><br><span class="line"></span><br><span class="line">        stream_handler = StreamHandler()</span><br><span class="line">        stream_handler.setFormatter(formatter)</span><br><span class="line">        stream_handler.setLevel(logging.INFO)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> logger <span class="keyword">in</span> (</span><br><span class="line">        <span class="comment"># è¿™é‡Œè‡ªå·±è¿˜å¯ä»¥æ·»åŠ æ›´å¤šçš„æ—¥å¿—æ¨¡å—ï¼Œå…·ä½“è¯·å‚é˜…Flaskå®˜æ–¹æ–‡æ¡£</span></span><br><span class="line">                app.logger,</span><br><span class="line">                logging.getLogger(<span class="string">'sqlalchemy'</span>),</span><br><span class="line">                logging.getLogger(<span class="string">'werkzeug'</span>)</span><br><span class="line"></span><br><span class="line">        ):</span><br><span class="line">            logger.addHandler(file_handler)</span><br><span class="line">            logger.addHandler(stream_handler)</span><br></pre></td></tr></table></figure>
<p>æ‰©å±•æ–‡ä»¶ä¸­æ·»åŠ logæ¨¡å—ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># encoding: utf-8</span></span><br><span class="line"><span class="keyword">from</span> log <span class="keyword">import</span> Logger</span><br><span class="line"></span><br><span class="line">logger = Logger()</span><br></pre></td></tr></table></figure>
        </div>
        <!-- Google å¹¿å‘Š -->
          

        
<hr/>
<div style="text-align: center;font-weight: bold;">
  <p> æ¬¢è¿å„ä½å¿—åŒé“åˆçš„æœ‹å‹ä¸€èµ·å­¦ä¹ äº¤æµï¼Œå¦‚æ–‡ç« æœ‰è¯¯è¯·åœ¨ä¸‹æ–¹ç•™ä¸‹æ‚¨å®è´µçš„ç»éªŒçŸ¥è¯†ï¼Œä¸ªäººé‚®ç®±åœ°å€<b style="color:#ff654e"><code>ã€master#weiyigeek.topã€‘</code></b>æˆ–è€…ä¸ªäººå…¬ä¼—å·<b style="color:#ff654e"><code>ã€WeiyiGeekã€‘</code></b>è”ç³»æˆ‘ã€‚ </p>
  <p> æ›´å¤šæ–‡ç« æ¥æºäº<b style="color:#03a9f4">ã€WeiyiGeek Blog - ä¸ºäº†èƒ½åˆ°è¿œæ–¹ï¼Œè„šä¸‹çš„æ¯ä¸€æ­¥éƒ½ä¸èƒ½å°‘ã€‘</b>, ä¸ªäººé¦–é¡µåœ°å€( <a style="color: #03a9f4;" href="https://weiyigeek.top" target="_blank"> https://weiyigeek.top </a> )</p>
<!-- 

  <ul style="font-weight: bolder;">
    <li>
      <p><span style="color: #03a9f4">echo&nbsp;&nbsp;"ã€ç‚¹ä¸ªèµã€‘ï¼ŒåŠ¨åŠ¨ä½ é‚£ç²—å£®çš„æ‹‡æŒ‡æˆ–è€…èŠŠèŠŠç‰æ‰‹ï¼Œäº²ï¼"</span></p>
    </li>
    <li>
      <p><span style="color: #ff9201">printf("%s",&nbsp;"ã€æŠ•ä¸ªå¸ã€‘ï¼Œä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼ŒæŠ•ä¸ªç¡¬å¸è¡Œä¸è¡Œï¼Œäº²ï¼")</span></p>
    </li>
    <li>
      <p><span style="color: #02a2ff">fmt.Printf("ã€æ”¶ä¸ªè—ã€‘ï¼Œé˜…åå³ç„šä¸åƒç°ï¼Œäº²ï¼")&nbsp;&nbsp;</span></p>
    </li>
    <li>
      <p><span style="color:red">console.info("ã€è½¬ä¸ªå‘ã€‘ï¼Œè®©æ›´å¤šçš„å¿—åŒé“åˆçš„æœ‹å‹ä¸€èµ·å­¦ä¹ äº¤æµï¼Œäº²ï¼")</span></p>
    </li>
    <li>
      <p><span style="color: #ff654e">System.out.println("ã€å…³ä¸ªæ³¨ã€‘ï¼Œåç»­æµè§ˆæŸ¥çœ‹ä¸è¿·è·¯å“Ÿï¼Œäº²ï¼")</span></p>
    </li>
  </ul> -->
  <div>
    <img src="/img/share-wechat.jpg" class="img-responsive" alt="æ‰«æFollow(å…³æ³¨)WeiyiGeekå…¬ä¼—å·ä¸Visit(æµè§ˆ)æå®¢å…¨æ ˆä¿®ç‚¼å°ç¨‹åº" >
    <p>ä¸“æ ä¹¦å†™ä¸æ˜“ï¼Œå¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªä¸“æ è¿˜ä¸é”™çš„ï¼Œè¯·ç»™è¿™ç¯‡ä¸“æ  <b style="color: red;">ã€ç‚¹ä¸ªèµã€æŠ•ä¸ªå¸ã€æ”¶ä¸ªè—ã€å…³ä¸ªæ³¨ã€è½¬ä¸ªå‘ã€èµä¸ªåŠ©ã€‘</b>ï¼Œè¿™å°†å¯¹æˆ‘çš„è‚¯å®šï¼Œæˆ‘å°†æŒç»­æ•´ç†å‘å¸ƒæ›´å¤šä¼˜è´¨åŸåˆ›æ–‡ç« ï¼ã€‚</p>
    <img src="/img/weiyigeek.jpg" class="img-responsive" alt="WeiyiGeek-banner">
  </div>
</div>
  <hr>
  

  <blockquote class="post-copyright">
    <div class="content">
      
        
<span class="post-time">
    æœ€åæ›´æ–°æ—¶é—´ï¼š<time datetime="2022-08-10T08:15:07.254Z" itemprop="dateUpdated">2022-08-10 16:15:07</time>
</span><br>


        <span>æ–‡ç« åŸå§‹è·¯å¾„ï¼š<a href="https://github.com/WeiyiGeek/blog/edit/master/source/_posts/ç¼–ç¨‹ä¸–ç•Œ/Python/æ¨¡å—å‡½æ•°/Python3æ—¥å¿—è®°å½•æ¨¡å—.md" target="_blank" rel="noopener noreferrer">_posts/ç¼–ç¨‹ä¸–ç•Œ/Python/æ¨¡å—å‡½æ•°/Python3æ—¥å¿—è®°å½•æ¨¡å—.md</a></span><br>
         <span class="copy-copyright">è½¬è½½æ³¨æ˜å‡ºå¤„ï¼ŒåŸæ–‡åœ°å€ï¼š<a href="/2020/3-20-679.html" target="_blank" rel="external">https://blog.weiyigeek.top/2020/3-20-679.html</a></span><br>æœ¬ç«™æ–‡ç« å†…å®¹éµå¾ª <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">çŸ¥è¯†å…±äº« ç½²å - éå•†ä¸šæ€§ - ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…åè®®</a> 
    </div>
    <footer>
      <a href="https://blog.weiyigeek.top">
        <img src="/img/avatar.jpg" alt="WeiyiGeek">
        WeiyiGeek
      </a>
    </footer>
  </blockquote>


        
            <div class="page-reward">
  <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-rectangle waves-light">â˜•ï¸ è¯·ä½œè€…å–æ¯å’–å•¡!</a>
</div>
            
        
        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python3/" rel="tag">Python3</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2020/3-20-679.html&title=ã€ŠPython3æ—¥å¿—è®°å½•æ¨¡å—ã€‹ â€” WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2020/3-20-679.html&title=ã€ŠPython3æ—¥å¿—è®°å½•æ¨¡å—ã€‹ â€” WeiyiGeek Blog&source=[TOC]" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2020/3-20-679.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€ŠPython3æ—¥å¿—è®°å½•æ¨¡å—ã€‹ â€” WeiyiGeek Blog&url=https://blog.weiyigeek.top/2020/3-20-679.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2020/3-20-679.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
          <!-- è¯„è®ºç»„ä»¶ -->


<div id="gitalk-container"></div>
<script type="text/javascript" src="/js/plugins/gitalk.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/custom/gitalk.init.js?v=1.6.6"></script>
        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/2020/3-21-218.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">DELLå­˜å‚¨SCv2000/2020åŸºç¡€é…ç½®ä¸ä½¿ç”¨</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/2020/3-20-658.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">PythonåŸºç¡€å­¦ä¹ ä¹‹pipåŒ…ç®¡ç†å™¨ä»‹ç»ä¸å®è·µ</h4>
      </a>
    </div>
  
</nav>


    
    
        <aside class="post-widget">
            <nav class="post-toc-wrap" id="post-toc">
                <strong>ç›®å½•</strong>
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x00-logging-æ¨¡å—"><span class="post-toc-number">1.</span> <span class="post-toc-text">0x00 logging æ¨¡å—</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-åŸºç¡€ç®€è¿°"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">1.åŸºç¡€ç®€è¿°</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-è¯­æ³•å‚æ•°"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">2.è¯­æ³•å‚æ•°</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-åŠ¨æ‰‹å®è·µ"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">3.åŠ¨æ‰‹å®è·µ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-ç®€å•å…¥é—¨ä¾‹å­"><span class="post-toc-number">1.3.1.</span> <span class="post-toc-text">(1) ç®€å•å…¥é—¨ä¾‹å­</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-å®è·µä¹‹æŒ‰æ—¥å¿—å¤§å°åˆ†å‰²"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">(2) å®è·µä¹‹æŒ‰æ—¥å¿—å¤§å°åˆ†å‰²</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-å®è·µä¹‹æ—¥å¿—æŒ‰å¤©åˆ†å‰²"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">(3) å®è·µä¹‹æ—¥å¿—æŒ‰å¤©åˆ†å‰²</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-è¡¥å……ç¤ºä¾‹"><span class="post-toc-number">1.6.</span> <span class="post-toc-text">(4) è¡¥å……ç¤ºä¾‹</span></a></li></ol></li></ol>
            </nav>
            <div class="toc-bar"><div>
        </aside>
    


    <!-- æ”¯ä»˜å®å¾®ä¿¡æ–‡ç« èµèµ -->
    
      <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        å¦‚æœæ­¤ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œå°±è¯·ä½œè€…å–æ¯ Coffee â˜•ï¸â˜•ï¸!
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardwechat" src="/img/reward-wechat.jpg" height="250" height="250" alt="å¾®ä¿¡æ‰“èµäºŒç»´ç ">
            <img id="rewardalipay" src="/img/reward-alipay.png" height="250" height="250" alt="æ”¯ä»˜å®æ‰“èµäºŒç»´ç ">
        </div>
        
        <label class="reward-toggle">
            <!-- <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/reward-wechat.jpg" data-alipay="/img/reward-alipay.png"> -->
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">å¾®ä¿¡</span>
                <span class="reward-toggle-item alipay">æ”¯ä»˜å®</span>
            </div>
        </label>
        
    </div>
</div>

      

    <!-- å¾®ä¿¡å…¬ä¼—å·å…³æ³¨/æ–‡ç« ç‰ˆæƒå¤åˆ¶ -->
    
      <div id="btw-mask" style="position: fixed; top: 0px; right: 0px; bottom: 0px; left: 0px; opacity: 0.7; z-index: 999; background: rgb(0, 0, 0); display:none"></div>
<div id="btw-modal" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 360px; text-align: center; font-size: 13px; background: rgb(255, 255, 255); border-radius: 10px; z-index: 9999; font-family: PingFangSC-Regular, sans-serif;display:none">
<span id="btw-modal-close-btn" style="position: absolute; top: 5px; right: 15px; line-height: 1.8; font-size: 15px; cursor: pointer; opacity: 0.2; z-index: 9999; color: rgb(0, 0, 0); background: none; border: none; outline: none;">X</span>
<p id="btw-modal-header" style="margin-top: 40px; line-height: 1.8; font-size: 13px; ">
<b style="color:#6190e8;">ä½ å¥½çœ‹å‹,æ¬¢è¿å…³æ³¨åšä¸»å¾®ä¿¡å…¬ä¼—å·å“Ÿ! â¤ <br> è¿™å°†æ˜¯æˆ‘æŒç»­æ›´æ–°æ–‡ç« çš„åŠ¨åŠ›æºæ³‰ï¼Œè°¢è°¢æ”¯æŒï¼(à¹‘â€²á´—â€µà¹‘) </b> <br> å¦‚ä¸æƒ³å…³æ³¨è¯·ç‚¹å‡»å³ä¸Šè§’çš„ã€Xã€‘å³å¯å…³é—­ç»§ç»­æµè§ˆæ–‡ç« .<br>  <b style="color:red;"> æ¸©é¦¨æç¤º: æœªè§£é”çš„ç”¨æˆ·ä¸èƒ½ç²˜è´´å¤åˆ¶æ–‡ç« å†…å®¹å“Ÿ!</b> <br>
<br>Method 1.Please visit <strong><a href="https://twitter.com/WeiyiGeek" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">ã€My Twitterã€‘</a></strong>. There is an article verification code in the homepage.
<br>æ–¹å¼2.è¯·è®¿é—®æœ¬åšä¸»çš„Bç«™<strong><a href="https://space.bilibili.com/385802642" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">ã€WeiyiGeekã€‘</a></strong>é¦–é¡µå…³æ³¨UPä¸»,<br>å°†è‡ªåŠ¨éšæœºè·å–è§£é”éªŒè¯ç ã€‚
<br>æ–¹å¼3.æ‰«ä¸€æ‰«ä¸‹æ–¹äºŒç»´ç ï¼Œå…³æ³¨æœ¬ç«™<strong>å®˜æ–¹å…¬ä¼—å·</strong><br>
å›å¤ï¼š<strong style="color: rgb(240, 65, 52);">éªŒè¯ç </strong>
å°†è·å–<strong style="color: rgb(240, 65, 52);">è§£é”(æœ‰æ•ˆæœŸ7å¤©)</strong>æœ¬ç«™æ‰€æœ‰æŠ€æœ¯æ–‡ç« å“Ÿ!</p>
<img src="/img/wechat-search.png" style="width: 300px; margin-top: 10px;">
<div id="btw-modal-input-code" style="margin-top: 20px; background: rgb(255, 255, 255);">
  <input id="btw-modal-input" type="number" minlength="4" maxlength="4" placeholder="è¯·è¾“å…¥éªŒè¯ç |Verification Code"
    style="width: 165px; height: 32px; line-height: 32px; padding: 0px 10px; margin: 0px 10px; font-size: 13px; text-rendering: auto; text-transform: none; cursor: text; outline: none; box-sizing: border-box; border: 1px solid rgb(221, 221, 221); -webkit-appearance: textfield; background-color: white; -webkit-rtl-ordering: logical;"/>
  <button id="btw-submit-btn" onclick="yzm_vertify()"
    style="padding: 0px 20px; height: 32px; font-size: 14px; outline: none; border: none; color: rgb(255, 255, 255); background: rgb(222, 104, 109); cursor: pointer;">æ
    äº¤</button> </div>
<p id="btw-footer" style="margin: 40px 0px 20px; color: rgb(153, 153, 153);">@WeiyiGeek - ä¸ºäº†èƒ½åˆ°è¿œæ–¹ï¼Œè„šä¸‹çš„æ¯ä¸€æ­¥éƒ½ä¸èƒ½å°‘</p>
</div>
        
</article>
</div>

    </main>
    <footer class="footer ">
    
    <div class="top">
        
            <p>
    <span>Linksï¼š</span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top" target="_blank">https://weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.weiyigeek.top" target="_blank">https://blog.weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top/img/search-wechat.jpg" target="_blank">å…¬ä¼—è´¦å·</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://space.bilibili.com/385802642/article" target="_blank">å“”å“©å“”å“©ä¸“æ </a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://github.com/weiyigeek" target="_blank">åšä¸»Github</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://gitee.com/WeiyiGeek" target="_blank">åšä¸»Gitee</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.zhihu.com/people/weiyiSec" target="_blank">çŸ¥ä¹</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.cnblogs.com/WeiyiGeek" target="_blank">åšå®¢å›­</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://my.oschina.net/weiyigeek" target="_blank">OSCHINA</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.toutiao.com/c/user/token/MS4wLjABAAAAqcPSoMqfctaEqJpGSF775eeCjWkrop4AOyLITdMx-L78F5iXzfQcSRM5sY4dq3wR" target="_blank">ä»Šæ—¥å¤´æ¡</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.csdn.net/u013072756?type=lately" target="_blank">CSDN</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.jianshu.com/u/5199a1104739" target="_blank">ç®€ä¹¦</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cloud.tencent.com/developer/user/1389665/articles" target="_blank">è…¾è®¯äº‘ç¤¾åŒº</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cuttlefish.baidu.com/shop/75c5dbd8d15abe23482f4d40" target="_blank">ç™¾åº¦æ–‡åº“</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://author.baidu.com/home?from=blog&app_id=1726736601523415" target="_blank">ITæå®¢çŸ¥è¯†åˆ†äº«</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.51cto.com/weiyigeek" target="_blank">51CTOåšå®¢</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://juejin.cn/user/122767337595934" target="_blank">æ˜é‡‘</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weibo.com/a/hot/7622022703618049_1.html" target="_blank">å¾®åšæ–‡ç« </a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.xiaohongshu.com/user/profile/627c98bb000000001000e7ba" target="_blank">å°çº¢ä¹¦</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://segmentfault.com/u/weiyigeek" target="_blank">Segmentfault</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.modb.pro/u/506690" target="_blank">å¢¨å¤©è½®</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.douyin.com/user/MS4wLjABAAAAMSBdMja6XLsdmzafb0RNbFeBemIOk38K1PaOClZeI1Q" target="_blank">æŠ–éŸ³ä¸»é¡µ</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.kuaishou.com/profile/3xfbrsrhd2i69x9" target="_blank">å¿«æ‰‹ä¸»é¡µ</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.ixigua.com/home/3984243135350727" target="_blank">è¥¿ç“œè§†é¢‘</a>
    </span>
    
</p>

        
    </div>
    
    <div class="bottom">
      <p>
        <span>WeiyiGeek &copy; 2018 - 2022 <a href="https://weiyigeek.top" target="_blank" rel="noopener">weiyigeek.top</a> All rights reserved.å”¯ä¸€æå®¢ITçŸ¥è¯†åˆ†äº« ç‰ˆæƒæ‰€æœ‰ </span>
        
        <span>
          Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/weiyigeek" target="_blank">mellow</a>
        </span>
        
        <br/><a id="SiteRunTime"></a>
        <br/>è®¿é—®ç»Ÿè®¡
        <span><a href="/sitemap.xml" target="_blank" rel="Sitemaps-ç«™ç‚¹åœ°å›¾">Sitemaps</a> </span>
        <span><a href="/baidusitemap.xml" target="_blank" rel="baidusitemaps-ç™¾åº¦ç«™ç‚¹åœ°å›¾">ç«™ç‚¹åœ°å›¾</a> </span>
        <!-- 
  -->
        <br/>ICPå¤‡æ¡ˆå·<span><a href="https://beian.miit.gov.cn" target="_blank">æ¸ICPå¤‡2022003447å·</a></span>
        <br/>
        <div id="cc-myssl-id">
          <a href="https://myssl.com/blog.weiyigeek.top?from=mysslid" target="_blank" rel="noopener">
            <img src="https://static.myssl.com/res/images/myssl-id1.png" alt="MySSLå®‰å…¨è®¤è¯" style="max-height:50px;display:block;margin:0 auto">
          </a>
        </div>
      </p>
    </div>
</footer>



    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>


<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2020/3-20-679.html&title=ã€ŠPython3æ—¥å¿—è®°å½•æ¨¡å—ã€‹ â€” WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2020/3-20-679.html&title=ã€ŠPython3æ—¥å¿—è®°å½•æ¨¡å—ã€‹ â€” WeiyiGeek Blog&source=[TOC]" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2020/3-20-679.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€ŠPython3æ—¥å¿—è®°å½•æ¨¡å—ã€‹ â€” WeiyiGeek Blog&url=https://blog.weiyigeek.top/2020/3-20-679.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2020/3-20-679.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>æ‰«ä¸€æ‰«ï¼Œåˆ†äº«åˆ°å¾®ä¿¡</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACN0lEQVR42u3azY4CIRBFYd//pXu2MzGQc6twDHB6ZbRt+FyU9cPrha/n7Rp9Su7/fc/8OYsvGTJkbMt4ple6rdG3Rlt/f3++7nAPMmTIuIDBHz1foHZPhy1DhgwZPI3rvMPXlSFDhgyervEl5wXq1wKuDBkyNmSQIpY0xfrl7sdrcRkyZGzI4F33/3/9kfmGDBkytmI84VUbc5InPI1LhgwZZzN4gKslc2lB29mPDBkybmPUDnXxjfIGHH9HhgwZpzJ4i40fnqg1/dNhJ8pwZciQcRBjflPteMSqgSVqvcmQIeMCRqeY5Ic2+Frkhxj+b8iQIeM4RhpeeSOMJJf8+WgPMmTIOJTROZ2RjgTWBvc/35IhQ8YFDN5WS1v2nJomgijDlSFDxhGMWtLGSbUElJfEwf+ADBkytmWkDbJ0JNBptAWJowwZMi5g9FPATrNsAViGDBlHM2oRLA2RaMnSECLoCMqQIWNbRrHeLf0QvFROQ78MGTLOZtRC7XxzaXM/HQ8sKGtlyJCxIaOzQNp0S8ecwThBhgwZ1zDS1K0WWHn5Gow5ZciQcQGDbJRvN/00LY9fadSXIUPGtoy1JWu60TSsx0mhDBkyjmDUGv38Ux6Ca2lijJEhQ8a2jFUNMpLG8SFl/MPJkCHjAkb/kFbn6Ab/BxgiZciQISMMqWnATQ9YDJtuMmTIkBGWmv1ClxzIkCFDxj2MdBhAHt0Jrx9st8mQIWNDRuukRmm0QFpp6fEOGTJkHMr4AUDb2xmZd5mUAAAAAElFTkSuQmCC" alt="å¾®ä¿¡åˆ†äº«äºŒç»´ç ">
</div>


    
    <!-- main-js -->
<script type="text/javascript" src="/js/jquery/2.1.0-jquery.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/ios-orientationchange-fix.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/jquery/3.5.2-jquery.fancybox.min.js?v=1.6.6"></script>
<!--  //cdn.bootcss.com/node-waves/0.7.4/waves.min.js -->
<script type="text/javascript" src="/js/node-waves/0.7.4-waves.min.js?v=1.6.6"></script> 

<script type="text/javascript" src="/js/method.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/blog.js?v=1.6.6"></script>

<!-- third-party -->
<script type="text/javascript" src="/js/plugins/local_search.js?v=1.6.6"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) { search_path = "search.xml";}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script> 

    


<!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> --> 


  


<script>
  var _hmt = _hmt || [];
  (function() {
    // ç™¾åº¦ç»Ÿè®¡
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?53923c4b5560739bc0ed61e183be6acf";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>
 


<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.staticfile.org/mathjax/2.7.9/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
 
<script>
    (function() {
        var OriginTitile = document.title, titleTime;
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.title = 'WeiyiGeek Blog-å…³æ³¨äºç½‘ç»œå®‰å…¨_ç‰©è”ç½‘å®‰å…¨å¼€å‘_ç½‘ç»œå®‰å…¨è¿ç»´-å­¦ä¹ å¿ƒå¾—åˆ†äº«';
                clearTimeout(titleTime);
            } else {
                document.title = '(ã¤ã‚§âŠ‚)å’¦!åˆå¥½äº†!';
                titleTime = setTimeout(function() {
                    document.title = OriginTitile;
                },2000);
            }
        });
    })();
</script>
 

     <script type="text/javascript" src="/js/custom/copytips.js?v=1.6.6"></script> 
<script type="text/javascript">
// ç«™ç‚¹è¿è¡Œæ—¶é—´
var BootDate = new Date("2018/01/01 00:00:00");
function ShowRunTime(id) {
  var NowDate = new Date();
  var RunDateM = parseInt(NowDate - BootDate);
  var RunDays = Math.floor(RunDateM/(24*3600*1000));
  var RunHours = Math.floor(RunDateM%(24*3600*1000)/(3600*1000));
  var RunMinutes = Math.floor(RunDateM%(24*3600*1000)%(3600*1000)/(60*1000));
  var RunSeconds = Math.round(RunDateM%(24*3600*1000)%(3600*1000)%(60*1000)/1000);
  var RunTime = RunDays + "å¤©" + RunHours + "æ—¶" + RunMinutes + "åˆ†" + RunSeconds + "ç§’";
  document.getElementById(id).innerHTML = "ç½‘ç«™å·²åœ¨é£é›¨ä¸­å‹‰å‹‰å¼ºå¼ºè¿è¡Œäº†ã€" + RunTime + "ã€‘";
}
setInterval("ShowRunTime('SiteRunTime')", 1000);
</script>
</body>
</html>