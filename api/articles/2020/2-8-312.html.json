{"title":"Maven 基础入门使用","slug":"编程世界/JavaWeb/6.Maven/Maven基础入门使用","date":"2020-02-08T05:34:30.000Z","updated":"2023-01-31T02:29:10.672Z","url":"2020/2-8-312.html","path":"api/articles/2020/2-8-312.html.json","covers":["https://img.weiyigeek.top/2020/1/20200401163425.png","https://img.weiyigeek.top/2020/2/20201116215436.png","https://img.weiyigeek.top/2021/5/20211215154449.png"],"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h2 id=\"0x00-基础介绍\"><a href=\"#0x00-基础介绍\" class=\"headerlink\" title=\"0x00 基础介绍\"></a>0x00 基础介绍</h2><p><strong>Maven 拉取 Jar 的几种途径</strong><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">                -&gt; 国外 Maven Jar 服务器</span><br><span class=\"line\">Gitlab -&gt; Maven -&gt; 国内 Maven Jar 镜像服务器</span><br><span class=\"line\">                -&gt; 企业 内部 Maven Jar 私服服务器 (可以双向同步)</span><br></pre></td></tr></table></figure></p>\n<p><strong>Maven版本：</strong></p>\n<blockquote>\n<p>version（SNAPSHOT）：快照版本随时更新不稳定的，每个版本都只是特定时间点的快照。同时，SNAPSHOT的不稳定性会带来风险 ，本地仓库中快照版本的依赖的目录下会看到带有时间戳的jar包。<br>例如：A–&gt;B-1.3.8-SNAPSHOT（理解为A依赖了B的1.3.8-SNAPSHOT版本），那么B-1.3.8-SNAPSHOT更新且重新deploy到仓库之后，A只需要重新构建就可以拿到最新的代码，不用修改依赖B的版本。这样达到了变更传达的透明性。<br>version（RELEASE)：发布（正式）版本，是稳定的版本号，应该一旦发布永远不变。<br>version（LATEST）：不稳定版本，不管是快照还是发布版，就是去拉最新的。</p>\n</blockquote>\n<p>注意: 不推荐直接使用<code>&lt;version&gt;RELEASE&lt;version&gt;</code>和 <code>&lt;version&gt;LATEST&lt;version&gt;</code>，因为它们都会在打包时去远程仓库拉取最新的，从而可能导致同一项目在打包时依赖不同的jar包。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#依赖是具体的发布版本x.RELEASE:</span></span><br><span class=\"line\">在本地仓库中搜索，找到则成功。</span><br><span class=\"line\">在远程仓库中搜索，找到则下载。</span><br><span class=\"line\">如果没有设置远程仓库，Maven 默认去中央仓库搜索，找到则下载。</span><br><span class=\"line\">在一个或多个远程仓库中搜索依赖的文件，如果找到则下载到本地仓库以备将来引用，否则 Maven 将停止处理并抛出错误（无法找到依赖的文件）。</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#依赖是快照版本x.SNAPSHOT、RELEASE、LATEST：</span></span><br><span class=\"line\">基于更新策略更新（updatePolicy= always），则总是尝试去远程仓库拉取最新版本</span><br><span class=\"line\">强制快照更新------mvn clean install-U</span><br></pre></td></tr></table></figure>\n<p>maven的三种仓库:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- 1.本地仓库: 安装maven环境后会在本地生成一个`&#123;%username%&#125;/.m2/respository/`仓库位置,可在maven的配置文件`setting.xml`中更改此位置</span><br></pre></td></tr></table></figure></p>\n<hr>\n<h2 id=\"0x01-环境安装\"><a href=\"#0x01-环境安装\" class=\"headerlink\" title=\"0x01 环境安装\"></a>0x01 环境安装</h2><h3 id=\"1-Maven-安装配置\"><a href=\"#1-Maven-安装配置\" class=\"headerlink\" title=\"1.Maven 安装配置\"></a>1.Maven 安装配置</h3><p>安装包准备:<br>Maven 官网下载地址: <a href=\"https://maven.apache.org/download.cgi\" target=\"_blank\" rel=\"noopener\">https://maven.apache.org/download.cgi</a></p>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/1/20200401163425.png\" alt=\"WeiyiGeek.核验下载\" title=\"\" class=\"\">\n                <p>WeiyiGeek.核验下载</p>\n            </figure>\n<p>安装环境测试:</p>\n<p>Java 的 hello-world 项目 Pom.xml</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0\"</span> <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">modelVersion</span>&gt;</span>4.0.0<span class=\"tag\">&lt;/<span class=\"name\">modelVersion</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.weiyigeek.main<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>maven<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>0.0.1-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">packaging</span>&gt;</span>jar<span class=\"tag\">&lt;/<span class=\"name\">packaging</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>hello-world<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span>http://maven.apache.org<span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class=\"tag\">&lt;/<span class=\"name\">project.build.sourceEncoding</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.8.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span>  </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">plugins</span>&gt;</span>  </span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">plugin</span>&gt;</span>  </span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.apache.maven.plugins<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span>  </span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>maven-shade-plugin<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span>  </span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.4.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span>  </span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">executions</span>&gt;</span>  </span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">execution</span>&gt;</span>  </span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">phase</span>&gt;</span>package<span class=\"tag\">&lt;/<span class=\"name\">phase</span>&gt;</span>  </span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">goals</span>&gt;</span>  </span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">goal</span>&gt;</span>shade<span class=\"tag\">&lt;/<span class=\"name\">goal</span>&gt;</span>  </span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">goals</span>&gt;</span>  </span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span>  </span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">transformers</span>&gt;</span>  </span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">transformer</span> <span class=\"attr\">implementation</span>=<span class=\"string\">\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"</span>&gt;</span>  </span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">mainClass</span>&gt;</span>com.weiyigeek.main.maven.App<span class=\"tag\">&lt;/<span class=\"name\">mainClass</span>&gt;</span>  </span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">transformer</span>&gt;</span>  </span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">transformers</span>&gt;</span>  </span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span>  </span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">execution</span>&gt;</span>  </span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">executions</span>&gt;</span>  </span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">plugin</span>&gt;</span>    </span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">plugins</span>&gt;</span>  </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>运行打包的 maven-0.0.1-SNAPSHOT.jar<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PS E:\\githubProject\\Study-Promgram\\JAVAWeb\\Maven\\maven\\target&gt; java -jar .\\maven-0.0.1-SNAPSHOT.jar</span><br><span class=\"line\">Hello World! , Hello Maven!</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"0x02-Maven-私服\"><a href=\"#0x02-Maven-私服\" class=\"headerlink\" title=\"0x02 Maven 私服\"></a>0x02 Maven 私服</h2><h3 id=\"1-环境搭建\"><a href=\"#1-环境搭建\" class=\"headerlink\" title=\"1.环境搭建\"></a>1.环境搭建</h3><h4 id=\"安装-Install\"><a href=\"#安装-Install\" class=\"headerlink\" title=\"安装 - Install\"></a>安装 - Install</h4><p>私服(nexus)搭建几种方式:</p>\n<ul>\n<li>1.Windows 、Linux、 Mac 运行即可</li>\n<li>2.Docker 部署安装</li>\n</ul>\n<h5 id=\"Docker-部署\"><a href=\"#Docker-部署\" class=\"headerlink\" title=\"Docker 部署\"></a>Docker 部署</h5><p>描述: 前提是您的计算机或者远程服务器已经安装并配置好Docker;</p>\n<p>Github docker-nexus3 镜像帮助: <a href=\"https://github.com/sonatype/docker-nexus3#getting-help\" target=\"_blank\" rel=\"noopener\">https://github.com/sonatype/docker-nexus3#getting-help</a></p>\n<p><strong>案例演示:</strong><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 1.创建持久化目录与指定用户ID授权</span></span><br><span class=\"line\">mkdir -pv /app/nexus3/data &amp;&amp; chown -R 200 /app/nexus3/data</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 2.拉取镜像</span></span><br><span class=\"line\">$ docker search nexus3</span><br><span class=\"line\"><span class=\"comment\"># NAME                                      DESCRIPTION                                     STARS</span></span><br><span class=\"line\"><span class=\"comment\"># sonatype/nexus3                           Sonatype Nexus Repository Manager 3             896</span></span><br><span class=\"line\">$ docker pull sonatype/nexus3</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 3.容器构建即运行nexus3</span></span><br><span class=\"line\">$ docker run -id --privileged=<span class=\"literal\">true</span> --name=maven-nexus3 --restart=always -p 8081:8081 -v /app/nexus3/data:/nexus-data sonatype/nexus3</span><br><span class=\"line\"><span class=\"comment\"># 参数解释：</span></span><br><span class=\"line\"><span class=\"comment\"># -id 创建守护式容器</span></span><br><span class=\"line\"><span class=\"comment\"># --privileged=true 授予root权限（挂载多级目录必须为true，否则容器访问宿主机权限不足）</span></span><br><span class=\"line\"><span class=\"comment\"># --name=名字 给你的容器起个名字</span></span><br><span class=\"line\"><span class=\"comment\"># -p 宿主机端口：容器端口映射</span></span><br><span class=\"line\"><span class=\"comment\"># -v 宿主机目录：容器目录 目录挂载</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 4.日志查看</span></span><br><span class=\"line\">docker logs -f --tail 50 maven-nexus3</span><br><span class=\"line\"><span class=\"comment\"># 2020-11-16 02:38:16,366+0000 INFO  [jetty-main-1] *SYSTEM org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@48c1eded&#123;HTTP/1.1, (http/1.1)&#125;&#123;0.0.0.0:8081&#125;  # 表示初始化完成</span></span><br><span class=\"line\"><span class=\"comment\"># 2020-11-16 02:38:16,367+0000 INFO  [jetty-main-1] *SYSTEM org.eclipse.jetty.server.Server - Started @30452ms</span></span><br><span class=\"line\"><span class=\"comment\"># 2020-11-16 02:38:16,368+0000 INFO  [jetty-main-1] *SYSTEM org.sonatype.nexus.bootstrap.jetty.JettyServer -</span></span><br><span class=\"line\"><span class=\"comment\"># -------------------------------------------------</span></span><br><span class=\"line\"><span class=\"comment\"># Started Sonatype Nexus OSS 3.28.1-01</span></span><br><span class=\"line\"><span class=\"comment\"># -------------------------------------------------</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 5.查看初始化密码</span></span><br><span class=\"line\">cat /app/nexus3/data/admin.password</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<h4 id=\"配置-Configure\"><a href=\"#配置-Configure\" class=\"headerlink\" title=\"配置 - Configure\"></a>配置 - Configure</h4><p><strong>1) Aliyun - Maven  Mirror Proxy Setting</strong><br>描述: 配置私服得远程Maven的镜像仓库为阿里云加快下载速度;</p>\n<p>Step 0.访问 maven.weiyigeek.top:8081 的 Nexus3 平台<br>Step 1.Setting -&gt; Repository -&gt; Create Repository<br>Step 2.Create Repository: maven2 (proxy)<br>Step 3.填入仓库名称以及remote存储仓库地址:<code>https://maven.aliyun.com/repository/public</code></p>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/2/20201116215436.png\" alt=\"WeiyiGeek.Maven  Mirror Proxy Setting\" title=\"\" class=\"\">\n                <p>WeiyiGeek.Maven  Mirror Proxy Setting</p>\n            </figure>\n<p>PS : 上述地址如有更新请参照：<a href=\"https://maven.aliyun.com/mvn/guide\" target=\"_blank\" rel=\"noopener\">阿里云Maven中央仓库为阿里云云效提供的公共代理仓库</a></p>\n<table>\n<thead>\n<tr>\n<th>仓库名称</th>\n<th>阿里云仓库地址</th>\n<th>阿里云仓库地址(老版)</th>\n<th>源地址</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>central</td>\n<td><a href=\"https://maven.aliyun.com/repository/central\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/repository/central</a></td>\n<td><a href=\"https://maven.aliyun.com/nexus/content/repositories/central\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/nexus/content/repositories/central</a></td>\n<td><a href=\"https://repo1.maven.org/maven2/\" target=\"_blank\" rel=\"noopener\">https://repo1.maven.org/maven2/</a></td>\n</tr>\n<tr>\n<td>jcenter</td>\n<td><a href=\"https://maven.aliyun.com/repository/public\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/repository/public</a></td>\n<td><a href=\"https://maven.aliyun.com/nexus/content/repositories/jcenter\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/nexus/content/repositories/jcenter</a></td>\n<td><a href=\"http://jcenter.bintray.com/\" target=\"_blank\" rel=\"noopener\">http://jcenter.bintray.com/</a></td>\n</tr>\n<tr>\n<td>public</td>\n<td><a href=\"https://maven.aliyun.com/repository/public\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/repository/public</a></td>\n<td><a href=\"https://maven.aliyun.com/nexus/content/groups/public\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/nexus/content/groups/public</a></td>\n<td>central仓和jcenter仓的聚合仓</td>\n</tr>\n<tr>\n<td>google</td>\n<td><a href=\"https://maven.aliyun.com/repository/google\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/repository/google</a></td>\n<td><a href=\"https://maven.aliyun.com/nexus/content/repositories/google\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/nexus/content/repositories/google</a></td>\n<td><a href=\"https://maven.google.com/\" target=\"_blank\" rel=\"noopener\">https://maven.google.com/</a></td>\n</tr>\n<tr>\n<td>gradle-plugin</td>\n<td><a href=\"https://maven.aliyun.com/repository/gradle-plugin\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/repository/gradle-plugin</a></td>\n<td><a href=\"https://maven.aliyun.com/nexus/content/repositories/gradle-plugin\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/nexus/content/repositories/gradle-plugin</a></td>\n<td><a href=\"https://plugins.gradle.org/m2/\" target=\"_blank\" rel=\"noopener\">https://plugins.gradle.org/m2/</a></td>\n</tr>\n<tr>\n<td>spring</td>\n<td><a href=\"https://maven.aliyun.com/repository/spring\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/repository/spring</a></td>\n<td><a href=\"https://maven.aliyun.com/nexus/content/repositories/spring\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/nexus/content/repositories/spring</a></td>\n<td><a href=\"http://repo.spring.io/libs-milestone/\" target=\"_blank\" rel=\"noopener\">http://repo.spring.io/libs-milestone/</a></td>\n</tr>\n<tr>\n<td>spring-plugin</td>\n<td><a href=\"https://maven.aliyun.com/repository/spring-plugin\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/repository/spring-plugin</a></td>\n<td><a href=\"https://maven.aliyun.com/nexus/content/repositories/spring-plugin\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/nexus/content/repositories/spring-plugin</a></td>\n<td><a href=\"http://repo.spring.io/plugins-release/\" target=\"_blank\" rel=\"noopener\">http://repo.spring.io/plugins-release/</a></td>\n</tr>\n<tr>\n<td>grails-core</td>\n<td><a href=\"https://maven.aliyun.com/repository/grails-core\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/repository/grails-core</a></td>\n<td><a href=\"https://maven.aliyun.com/nexus/content/repositories/grails-core\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/nexus/content/repositories/grails-core</a></td>\n<td><a href=\"https://repo.grails.org/grails/core\" target=\"_blank\" rel=\"noopener\">https://repo.grails.org/grails/core</a></td>\n</tr>\n<tr>\n<td>apache snapshots</td>\n<td><a href=\"https://maven.aliyun.com/repository/apache-snapshots\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/repository/apache-snapshots</a></td>\n<td><a href=\"https://maven.aliyun.com/nexus/content/repositories/apache-snapshots\" target=\"_blank\" rel=\"noopener\">https://maven.aliyun.com/nexus/content/repositories/apache-snapshots</a></td>\n<td><a href=\"https://repository.apache.org/snapshots/\" target=\"_blank\" rel=\"noopener\">https://repository.apache.org/snapshots/</a></td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h4 id=\"使用-Usage\"><a href=\"#使用-Usage\" class=\"headerlink\" title=\"使用 - Usage\"></a>使用 - Usage</h4><p><strong>1) 本地 Maven 使用远程私有仓库配置</strong><br>文件路径（<code>环境有所不同请根据实际情况修改</code>）: E:\\Development\\apache-maven-3.6.3-bin\\conf\\settings.xml<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">mirrors</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- Maven 私服地址配置 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">mirror</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>private-maven<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">mirrorOf</span>&gt;</span>central<span class=\"tag\">&lt;/<span class=\"name\">mirrorOf</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>WeiyiGeek Private Maven<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span>http://maven.weiyigeek.top:8081/repository/maven-public/<span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">mirror</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">mirrors</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<p><strong>2) 上传本地jar到内部 Maven 私有仓库</strong><br>描述: 大致可以通过三种方式进行上传Jar到内部 Maven 私有仓库中，第一种就是通过Web端上传，第二种通过mvn命令上传，第三种则是通过各开发工具上传例如<code>IntelliJ IDEA</code>.</p>\n<p>通过 Sonatype Nexus Repository Manager 的 Web 页面进行上传Jar，操作流程Browse -&gt; Upload-&gt; Maven-release -&gt; 选择要上传的jar包并设置该log4j-core.jar的组件相关信息。<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.apache.logging.log4j<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>log4j-core<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.16.0<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2021/5/20211215154449.png\" alt=\"WeiyiGeek.通过Nexus Web上传jar包\" title=\"\" class=\"\">\n                <p>WeiyiGeek.通过Nexus Web上传jar包</p>\n            </figure></p>\n<p>通过 Maven 的 cmd 来上传自定义jar包, 首先需要先复制一份settings.xml为settings-private.xml，在settings-private.xml文件中加入节点server:<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">server</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>deployment<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">username</span>&gt;</span>dev<span class=\"tag\">&lt;/<span class=\"name\">username</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">password</span>&gt;</span>dev123<span class=\"tag\">&lt;/<span class=\"name\">password</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">server</span>&gt;</span></span><br></pre></td></tr></table></figure><br>在命令行中输入<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn deploy:deploy-file</span><br><span class=\"line\">-DgroupId=com.sjing.yjyuan</span><br><span class=\"line\">-DartifactId=fastjson-sj</span><br><span class=\"line\">-Dversion=1.0.1</span><br><span class=\"line\">-Dpackaging=jar</span><br><span class=\"line\">-Dfile=E:\\installed\\mavenRepository\\fastjson-1.2.40.jar</span><br><span class=\"line\">-Durl=http://maven.weiyigeek.top/repository/maven-releases/</span><br><span class=\"line\">-DrepositoryId=deployment</span><br><span class=\"line\">--settings E:\\installed\\mavenRepository\\settings-private.xml</span><br></pre></td></tr></table></figure></p>\n<p>通过IDE集成环境上传自定义jar包,首先还是在IDE集成环境中<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">server</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>nexus-release<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">username</span>&gt;</span>dev<span class=\"tag\">&lt;/<span class=\"name\">username</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">password</span>&gt;</span>dev123<span class=\"tag\">&lt;/<span class=\"name\">password</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">server</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">server</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>nexus-snapshots<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">username</span>&gt;</span>dev<span class=\"tag\">&lt;/<span class=\"name\">username</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">password</span>&gt;</span>dev123<span class=\"tag\">&lt;/<span class=\"name\">password</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">server</span>&gt;</span></span><br></pre></td></tr></table></figure><br>在maven工程项目nexus-upload中的pom文件中加入<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--上传到nexus仓库中，配合mvn deploy:deploy--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">distributionManagement</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">repository</span>&gt;</span></span><br><span class=\"line\">     <span class=\"comment\">&lt;!--这里的id需要和settings.xml中的server的id一致--&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>nexus-release<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>Nexus release Repository<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">     <span class=\"comment\">&lt;!--releases仓库--&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span>http://maven.weiyigeek.top/repository/maven-releases/<span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">repository</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">snapshotRepository</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>nexus-snapshots<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>Nexus snapshots Repository<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">     <span class=\"comment\">&lt;!--snapshots仓库--&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span>http://maven.weiyigeek.top/repository/maven-snapshots/<span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">snapshotRepository</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">distributionManagement</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>参考地址: <a href=\"https://www.cnblogs.com/tiancai/p/10063572.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/tiancai/p/10063572.html</a><br><a href=\"https://www.cnblogs.com/endv/p/11204704.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/endv/p/11204704.html</a><br><a href=\"https://blog.csdn.net/u013887008/article/details/79429973\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/u013887008/article/details/79429973</a></p>\n<hr>\n<h4 id=\"问题-Trouble-Shooting\"><a href=\"#问题-Trouble-Shooting\" class=\"headerlink\" title=\"问题 - Trouble Shooting\"></a>问题 - Trouble Shooting</h4><p><strong>1) Nexus3.X 忘记密码之如何重置admin密码</strong><br>解决办法:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 1.进入容器</span></span><br><span class=\"line\">docker <span class=\"built_in\">exec</span> -it maven-nexus3 bash</span><br><span class=\"line\">bash-4.4$ <span class=\"built_in\">cd</span> /opt/sonatype/nexus/bin/</span><br><span class=\"line\">bash-4.4$ ls</span><br><span class=\"line\">contrib  nexus  nexus.rc  nexus.vmoptions  nexus.vmoptions.old</span><br><span class=\"line\">bash-4.4$ ls -alh ../lib/support/nexus-orient-console.jar</span><br><span class=\"line\">-rw-r--r-- 1 root root 6.6K Oct 14 18:24 ../lib/support/nexus-orient-console.jar</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 2.进入OrientDB控制台</span></span><br><span class=\"line\"><span class=\"comment\"># Linux、Windows、Mac有不同的进入方法，方法如下：</span></span><br><span class=\"line\">linux:  </span><br><span class=\"line\">  java -jar ./lib/support/nexus-orient-console.jar</span><br><span class=\"line\">win:  </span><br><span class=\"line\">  java -jar lib\\support\\nexus-orient-console.jar</span><br><span class=\"line\">mac: </span><br><span class=\"line\">  .install4j/jre.bundle/Contents/Home/jre/bin/java -jar ./lib/support/nexus-orient-console.jar</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 3.登陆数据库</span></span><br><span class=\"line\">connect plocal:../sonatype-work/nexus3/db/security admin admin</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 4.重置密码，此处我们将admin用户密码重置为admin123</span></span><br><span class=\"line\">update user SET password=<span class=\"string\">\"<span class=\"variable\">$shiro1</span><span class=\"variable\">$SHA</span>-512<span class=\"variable\">$1024</span><span class=\"variable\">$NE</span>+wqQq/TmjZMvfI7ENh/g==<span class=\"variable\">$V4yPw8T64UQ6GfJfxYq2hLsVrBY8D1v</span>+bktfOxGdt4b/9BthpWPNUy/CBk6V9iA0nHpzYzJFWO8v/tZFtES8CA==\"</span> UPSERT WHERE id=<span class=\"string\">\"admin\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 5.退出shell重新运行nexus3容器</span></span><br><span class=\"line\">docker restart maven-nexus3</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://www.sonatype.com/nexus/repository-oss/download\" target=\"_blank\" rel=\"noopener\">https://www.sonatype.com/nexus/repository-oss/download</a></p>\n<p>配置到你本地maven的settings文件<br>注意：是public group仓库地址而不是releases或snapshots仓库，public默认包含了这两个仓库<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">profiles</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">profile</span>&gt;</span>  </span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>dev<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span>  </span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">repositories</span>&gt;</span>  </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">repository</span>&gt;</span>  </span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>local-nexus<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span>http://ip:8081/repository/maven-public/<span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span>  </span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">releases</span>&gt;</span>  </span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">enabled</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">enabled</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;/<span class=\"name\">releases</span>&gt;</span>  </span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">snapshots</span>&gt;</span>  </span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">enabled</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">enabled</span>&gt;</span>  </span><br><span class=\"line\">       <span class=\"tag\">&lt;/<span class=\"name\">snapshots</span>&gt;</span>  </span><br><span class=\"line\">     <span class=\"tag\">&lt;/<span class=\"name\">repository</span>&gt;</span> </span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">repositories</span>&gt;</span>  </span><br><span class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">profile</span>&gt;</span>  </span><br><span class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">profiles</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">activeProfiles</span>&gt;</span>  </span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">activeProfile</span>&gt;</span>dev<span class=\"tag\">&lt;/<span class=\"name\">activeProfile</span>&gt;</span>  </span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">activeProfiles</span>&gt;</span></span><br></pre></td></tr></table></figure><br>配置maven settings文件的服务器用户名密码</p>\n<p>注意：id为私服中releases和snapshots仓库名，必须一致<br>  <!-- servers\n   | This is a list of authentication profiles, keyed by the server-id used within the system.\n   | Authentication profiles can be used whenever maven must make a connection to a remote server.\n   |--><br>  <servers><br>    <server><br>        <id>maven-releases</id><br>        <username>admin</username><br>        <password>admin123</password><br>      </server><br>      <server><br>        <id>maven-snapshots</id><br>        <username>admin</username><br>        <password>admin123</password><br>      </server><br>  </servers></p>\n<p>在项目父pom文件中配置部署环境，注意id及URL必须与nexus仓库对应</p>\n<pre><code>&lt;!--私服仓库--&gt;\n&lt;distributionManagement&gt;\n    &lt;repository&gt;\n        &lt;id&gt;maven-releases&lt;/id&gt;\n        &lt;name&gt;Nexus Release Repository&lt;/name&gt;\n        &lt;url&gt;http://ip:8081/repository/maven-releases/&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;snapshotRepository&gt;\n        &lt;id&gt;maven-snapshots&lt;/id&gt;\n        &lt;name&gt;Nexus Snapshot Repository&lt;/name&gt;\n        &lt;url&gt;http://ip:8081/repository/maven-snapshots/&lt;/url&gt;\n    &lt;/snapshotRepository&gt;\n&lt;/distributionManagement&gt;\n</code></pre><p>重新打开项目，对需要的模块进行deploy<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;xml</span><br><span class=\"line\">在项目父pom文件中配置部署环境，注意id及URL必须与nexus仓库对应</span><br><span class=\"line\">    &lt;!--私服仓库--&gt;</span><br><span class=\"line\">    &lt;distributionManagement&gt;</span><br><span class=\"line\">        &lt;repository&gt;</span><br><span class=\"line\">            &lt;id&gt;maven-releases&lt;&#x2F;id&gt;</span><br><span class=\"line\">            &lt;name&gt;Nexus Release Repository&lt;&#x2F;name&gt;</span><br><span class=\"line\">            &lt;url&gt;http:&#x2F;&#x2F;192.168.3.128:8081&#x2F;repository&#x2F;maven-releases&#x2F;&lt;&#x2F;url&gt;</span><br><span class=\"line\">        &lt;&#x2F;repository&gt;</span><br><span class=\"line\">        &lt;snapshotRepository&gt;</span><br><span class=\"line\">            &lt;id&gt;maven-snapshots&lt;&#x2F;id&gt;</span><br><span class=\"line\">            &lt;name&gt;Nexus Snapshot Repository&lt;&#x2F;name&gt;</span><br><span class=\"line\">            &lt;url&gt;http:&#x2F;&#x2F;192.168.3.128:8081&#x2F;repository&#x2F;maven-snapshots&#x2F;&lt;&#x2F;url&gt;</span><br><span class=\"line\">        &lt;&#x2F;snapshotRepository&gt;</span><br><span class=\"line\">    &lt;&#x2F;distributionManagement&gt;</span><br></pre></td></tr></table></figure></p>\n<hr>\n<h2 id=\"0x03-mvn-命令浅析\"><a href=\"#0x03-mvn-命令浅析\" class=\"headerlink\" title=\"0x03 mvn 命令浅析\"></a>0x03 mvn 命令浅析</h2><p><strong>参数解析</strong><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-pl,--projects : 选项后可跟随&#123;groupId&#125;:&#123;artifactId&#125;或者所选模块的相对路径(多个模块以逗号分隔)</span><br><span class=\"line\">-am,--also-make : 表示同时处理选定模块所依赖的模块</span><br><span class=\"line\">-amd,--also-make-dependents : 表示同时处理依赖选定模块的模块</span><br><span class=\"line\">-N,--Non-recursive : 表示不递归子模块</span><br><span class=\"line\">-rf,--resume-from : 表示从指定模块开始继续处理</span><br><span class=\"line\">-X : 表示显示构建时的详细信息(Debug)</span><br></pre></td></tr></table></figure></p>\n<p><strong>简单示例</strong><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Maven 构建时显示详细信息</span></span><br><span class=\"line\">mvn install -X</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># maven 下载单个源码包</span></span><br><span class=\"line\">mvn org.apache.maven.plugins:maven-dependency-plugin:2.8:get -Dartifact=javax.mail:mail:1.1:jar:sources</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Maven 导出依赖的jar包 (默认导出到targed/dependency 下面)</span></span><br><span class=\"line\">mvn dependency:copy-dependencies -DoutputDirectory=lib -DincludeScope=compile</span><br></pre></td></tr></table></figure></p>\n<p><strong>实践示例</strong></p>\n<ul>\n<li>Maven之SpringBoot多模块编译以及单独构建多模块项目中的单个模块<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 首先切换到工程的根目录</span></span><br><span class=\"line\"><span class=\"comment\"># 可以通过pom.xml文件查看该POM项目包含的子模块</span></span><br><span class=\"line\">&lt;modules&gt;</span><br><span class=\"line\">  &lt;module&gt;weiyigeek-admin&lt;/module&gt;</span><br><span class=\"line\">  &lt;module&gt;weiyigeek-front-login&lt;/module&gt; <span class=\"comment\"># weiyigeek-admin 模块依赖于该模块</span></span><br><span class=\"line\">  &lt;module&gt;weiyigeek-front-search&lt;/module&gt;</span><br><span class=\"line\">  &lt;module&gt;weiyigeek-front-pdf&lt;/module&gt;</span><br><span class=\"line\">  &lt;module&gt;weiyigeek-front-history&lt;/module&gt;</span><br><span class=\"line\">&lt;/modules&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 方式1.构建该项目的所有模块项目，即 weiyigeek-* 所有项目</span></span><br><span class=\"line\">mvn clean package</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 方式2.只编译构建 weiyigeek-admin 项目</span></span><br><span class=\"line\">mvn clean install -pl org.top:weiyigeek-admin -am --settings settings.xml</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 方式3.编译构建 weiyigeek-admin 与 weiyigeek-front-login 项目</span></span><br><span class=\"line\">mvn clean install -pl weiyigeek-front-login -amd --settings settings.xml</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\"># 方式4.从 weiyigeek-front-history 模块项目进行处理</span></span><br><span class=\"line\">mvn clean install -rf weiyigeek-front-history</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 方式5.只构建当前项目不构建子模块。</span></span><br><span class=\"line\">mvn clean install -N</span><br></pre></td></tr></table></figure>\n温馨提示: <blockquote>\n<p>如果多模块项目没有互相引用，那么此时可以单独构建单个项目，指定到子模块的pom.xml文件即可完成编译。<br>如果多模块项目各自都引用了，那么单独编译子模块的pom.xml文件会直接报错，解决方法就是编译父项目pom.xml。<br>如果编译父项目，那么可能会造成编译时间很慢，其中有些项目也不需要编译，我们就可以采用上述 -pl 参数指定单模块。</p>\n</blockquote>\n</li>\n</ul>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"Maven","path":"api/categories/Maven.json"}],"tags":[{"name":"Maven","path":"api/tags/Maven.json"},{"name":"Nexus Repository Manager","path":"api/tags/Nexus Repository Manager.json"}]}