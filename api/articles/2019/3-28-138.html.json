{"title":"Linux安全运维数据恢复操作","slug":"系统运维/Linux/入坑容灾/Linux安全运维数据恢复操作","date":"2019-03-28T05:34:30.000Z","updated":"2020-10-10T02:37:44.768Z","url":"2019/3-28-138.html","path":"api/articles/2019/3-28-138.html.json","covers":null,"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h4 id=\"0x00-前言\"><a href=\"#0x00-前言\" class=\"headerlink\" title=\"0x00 前言\"></a>0x00 前言</h4><p>描述：rm -rf *这个命令给每个使用linux系统的工程师带来了深深的恐惧, 它能使您的服务器变得空空如也可以说简直就是一个大灾难;<br>但下面就是再Linux运维过程中误删除/etc/目录后救命止损的数据恢复流程, 希望能帮助到更多的Ops解决当下问题;</p>\n<p><br></p>\n<h4 id=\"案例1：误删-etc目录数据\"><a href=\"#案例1：误删-etc目录数据\" class=\"headerlink\" title=\"案例1：误删/etc目录数据\"></a>案例1：误删/etc目录数据</h4><p>应急流程：<br>1.要保持连接不被断开不操作时用vim保持连接状态<br>2.如不能正常登录,拷贝相同版本服务器/etc目录到目标服务器(版本与配置越相近，接下来的工作量会越小可以使用rz, wget等其他方式把配置拷贝到服务器)<br>3.拷贝完成后，可以通过ssh连接，检测是否可以正常连接至服务器（此时使用的账户密码应该是同版本服务器的账户密码）<br>4.连接ssh出现错误时候需要临时关闭 <code>selinux setenforce 0</code>,并且修改selinux配置为关闭状态 /etc/selinux/config 修改为开机不启动<br>5.检查fstab文件看配置文件信息,通过blkid查看设备上所采用文件系统类型以及挂载设备。<br>6.修改/etc/fstab配置文件以及修改设备名与UUID以及TYPE,配置修改无误的话重启是可以正常启动。(系统恢复正常)</p>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"SystemOperation","path":"api/categories/SystemOperation.json"}],"tags":[{"name":"数据恢复","path":"api/tags/数据恢复.json"}]}