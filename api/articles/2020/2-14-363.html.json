{"title":"2.XML之编程解析示例笔记","slug":"编程世界/前端技术/Xml/2.XML之编程解析示例笔记","date":"2020-02-14T12:34:30.000Z","updated":"2023-01-31T02:29:10.670Z","url":"2020/2-14-363.html","path":"api/articles/2020/2-14-363.html.json","covers":["https://img.weiyigeek.top/2020/1/20200214200053.png","https://img.weiyigeek.top/2020/1/20200214200345.png","https://img.weiyigeek.top/2020/1/20200214200545.png","https://img.weiyigeek.top/2020/1/20200214200918.png"],"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h4 id=\"0x00-JavaScript\"><a href=\"#0x00-JavaScript\" class=\"headerlink\" title=\"0x00 JavaScript\"></a>0x00 JavaScript</h4><p>描述:在采用JavaScript解析XML时候常常采用AJAX 技术 与 XML 的融合,即XML解析器把 XML 文档转换为 XML DOM 对象 - 可通过 JavaScript 操作的对象。</p>\n<p>XMLHttpRequest 对象用于在后台与服务器交换数据<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//创建 XMLHttpRequest 对象的语法：</span></span><br><span class=\"line\">xmlhttp=<span class=\"keyword\">new</span> XMLHttpRequest();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//旧版本的Internet Explorer（IE5和IE6）中使用 ActiveX 对象：</span></span><br><span class=\"line\">xmlhttp=<span class=\"keyword\">new</span> ActiveXObject(<span class=\"string\">\"Microsoft.XMLHTTP\"</span>);</span><br><span class=\"line\">xmlhttp=<span class=\"keyword\">new</span> ActiveXObject(<span class=\"string\">\"Msxml2.XMLHTTP\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// JS Ajax的对象申请 </span></span><br><span class=\"line\">XHR = <span class=\"built_in\">window</span>.XMLHttpRequest ? <span class=\"keyword\">new</span> XMLHttpRequest():<span class=\"keyword\">new</span> activexObjext(<span class=\"string\">\"Microsoft.XMLHTTP\"</span>);</span><br></pre></td></tr></table></figure></p>\n<p><strong>(1) 解析XML文档</strong><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//基础示例:</span></span><br><span class=\"line\">XHR = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">XHR = <span class=\"built_in\">window</span>.XMLHttpRequest ? <span class=\"keyword\">new</span> XMLHttpRequest():<span class=\"keyword\">new</span> activexObjext(<span class=\"string\">\"Microsoft.XMLHTTP\"</span>);</span><br><span class=\"line\">XHR.open(<span class=\"string\">\"GET\"</span>,<span class=\"string\">\"http://127.0.0.1/XML-study/css.xml\"</span>,<span class=\"literal\">false</span>);</span><br><span class=\"line\">XHR.send();</span><br><span class=\"line\">ResultXml=XHR.responseXML;  <span class=\"comment\">//返回一个对象一个</span></span><br><span class=\"line\"><span class=\"built_in\">document</span>.write(ResultXml.getElementsByTagName(<span class=\"string\">\"to\"</span>)[<span class=\"number\">0</span>].childNodes[<span class=\"number\">0</span>].nodeValue); <span class=\"comment\">// Love</span></span><br></pre></td></tr></table></figure></p>\n<p>请注意，即使 XML 文件只包含一个 <code>&lt;to&gt;</code>元素，您仍然必须指定数组索引<code>[0]</code>。这是因为 getElementsByTagName() 方法返回一个数组。</p>\n<p><br></p>\n<p><strong>(2)解析 XML 字符串</strong><br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>W3Schools Internal Note<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">b</span>&gt;</span>To:<span class=\"tag\">&lt;/<span class=\"name\">b</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">\"to\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">b</span>&gt;</span>From:<span class=\"tag\">&lt;/<span class=\"name\">b</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">\"from\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">b</span>&gt;</span>Message:<span class=\"tag\">&lt;/<span class=\"name\">b</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">\"message\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"handlebars\"><span class=\"xml\">txt=\"<span class=\"tag\">&lt;<span class=\"name\">bookstore</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">book</span>&gt;</span>\";</span></span></span><br><span class=\"line\"><span class=\"handlebars\"><span class=\"xml\">txt=txt+\"<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Everyday Italian<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span>\";</span></span></span><br><span class=\"line\"><span class=\"handlebars\"><span class=\"xml\">txt=txt+\"<span class=\"tag\">&lt;<span class=\"name\">author</span>&gt;</span>Giada De Laurentiis<span class=\"tag\">&lt;/<span class=\"name\">author</span>&gt;</span>\";</span></span></span><br><span class=\"line\"><span class=\"handlebars\"><span class=\"xml\">txt=txt+\"<span class=\"tag\">&lt;<span class=\"name\">year</span>&gt;</span>2005<span class=\"tag\">&lt;/<span class=\"name\">year</span>&gt;</span>\";</span></span></span><br><span class=\"line\"><span class=\"handlebars\"><span class=\"xml\">txt=txt+\"<span class=\"tag\">&lt;/<span class=\"name\">book</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">bookstore</span>&gt;</span>\";</span></span></span><br><span class=\"line\"><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.DOMParser)&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">    parser=<span class=\"keyword\">new</span> DOMParser();</span></span><br><span class=\"line\"><span class=\"actionscript\">    xmlDoc=parser.parseFromString(txt,<span class=\"string\">\"text/xml\"</span>);</span></span><br><span class=\"line\"><span class=\"actionscript\">    alert(xmlDoc.getElementsByTagName(<span class=\"string\">\"title\"</span>)[<span class=\"number\">0</span>].childNodes[<span class=\"number\">0</span>].nodeValue);</span></span><br><span class=\"line\"><span class=\"actionscript\">&#125;<span class=\"keyword\">else</span>&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">     <span class=\"comment\">// Internet Explorer</span></span></span><br><span class=\"line\"><span class=\"actionscript\">    xmlDoc=<span class=\"keyword\">new</span> ActiveXObject(<span class=\"string\">\"Microsoft.XMLDOM\"</span>);</span></span><br><span class=\"line\"><span class=\"actionscript\">    xmlDoc.async=<span class=\"literal\">false</span>;</span></span><br><span class=\"line\"><span class=\"undefined\">    xmlDoc.loadXML(txt);</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"actionscript\"><span class=\"comment\">//这种方式值得学习</span></span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"to\"</span>).innerHTML=xmlDoc.getElementsByTagName(<span class=\"string\">\"to\"</span>)[<span class=\"number\">0</span>].childNodes[<span class=\"number\">0</span>].nodeValue;</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"from\"</span>).innerHTML=xmlDoc.getElementsByTagName(<span class=\"string\">\"from\"</span>)[<span class=\"number\">0</span>].childNodes[<span class=\"number\">0</span>].nodeValue;</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"message\"</span>).innerHTML=xmlDoc.getElementsByTagName(<span class=\"string\">\"body\"</span>)[<span class=\"number\">0</span>].childNodes[<span class=\"number\">0</span>].nodeValue;</span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure><br>注释：Internet Explorer 使用 loadXML() 方法来解析 XML 字符串，而其他浏览器使用 DOMParser 对象。</p>\n<p><br></p>\n<p><strong>(3) HTML 页面显示 XML 数据</strong></p>\n<p>实例1:我们打开一个 XML 文件（“index.xml”），然后遍历每个 person元素，并显示HTML 表格中的name元素和age元素和addr元素的值：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, initial-scale=1.0\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"X-UA-Compatible\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"ie=edge\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"javascript\">        XHR = <span class=\"built_in\">window</span>.XMLHttpRequest ? <span class=\"keyword\">new</span> XMLHttpRequest(): <span class=\"keyword\">new</span> ActiveXObject(<span class=\"string\">\"Microsoft.XMLHTTP\"</span>);</span></span><br><span class=\"line\"><span class=\"actionscript\">        XHR.open(<span class=\"string\">\"GET\"</span>,<span class=\"string\">\"index.xml\"</span>,<span class=\"literal\">false</span>);</span></span><br><span class=\"line\"><span class=\"undefined\">        XHR.send();</span></span><br><span class=\"line\"><span class=\"undefined\">        rs = XHR.responseXML;</span></span><br><span class=\"line\"><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"handlebars\"><span class=\"xml\">        document.write(\"<span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">style</span>=<span class=\"string\">'font-weight:blod'</span>&gt;</span>个人信息<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">border</span>=<span class=\"string\">'1'</span>&gt;</span>\");</span></span></span><br><span class=\"line\"><span class=\"actionscript\">        <span class=\"keyword\">var</span> person = rs.getElementsByTagName(<span class=\"string\">\"person\"</span>);</span></span><br><span class=\"line\"><span class=\"actionscript\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; person.length; i++)&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"built_in\">document</span>.write(<span class=\"string\">\"&lt;tr&gt;\"</span>);</span></span><br><span class=\"line\"><span class=\"actionscript\">                <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> x = <span class=\"number\">1</span>; x &lt; <span class=\"number\">7</span> ; x+=<span class=\"number\">2</span>)&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">                    <span class=\"built_in\">document</span>.write(<span class=\"string\">\"&lt;td&gt;\"</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">                    <span class=\"built_in\">document</span>.write(person[i].childNodes[x].firstChild.nodeValue);</span></span><br><span class=\"line\"><span class=\"javascript\">                    <span class=\"built_in\">document</span>.write(<span class=\"string\">\"&lt;/td&gt;\"</span>);</span></span><br><span class=\"line\"><span class=\"undefined\">                &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"built_in\">document</span>.write(<span class=\"string\">\"&lt;/tr&gt;\"</span>);</span></span><br><span class=\"line\"><span class=\"undefined\">        &#125;</span></span><br><span class=\"line\"><span class=\"undefined\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br>index.xml<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">root</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">person</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>张伟<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">age</span>&gt;</span>12<span class=\"tag\">&lt;/<span class=\"name\">age</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">addr</span>&gt;</span>重庆市渝北区光电园轻轨站<span class=\"tag\">&lt;/<span class=\"name\">addr</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">person</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">person</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>李伟<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">age</span>&gt;</span>28<span class=\"tag\">&lt;/<span class=\"name\">age</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">addr</span>&gt;</span>重庆市南岸区<span class=\"tag\">&lt;/<span class=\"name\">addr</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">person</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">person</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>黄淑华<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">age</span>&gt;</span>52<span class=\"tag\">&lt;/<span class=\"name\">age</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">addr</span>&gt;</span>重庆市九龙坡区<span class=\"tag\">&lt;/<span class=\"name\">addr</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">person</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">root</span>&gt;</span></span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/1/20200214200053.png\" alt=\"WeiyiGeek.\" title=\"\" class=\"\">\n                <p>WeiyiGeek.</p>\n            </figure></p>\n<p>实例2:<br>从第一个 CD 元素中获取 XML 数据，然后在 id=”showCD” 的 HTML 元素中显示数据。<br>displayCD() 函数在页面加载时调用,添加导航（功能），需要创建 next() 和 previous() 两个函数：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.XMLHttpRequest)&#123;<span class=\"comment\">// code for IE7+, Firefox, Chrome, Opera, Safari</span></span></span><br><span class=\"line\"><span class=\"actionscript\">  xmlhttp=<span class=\"keyword\">new</span> XMLHttpRequest();</span></span><br><span class=\"line\"><span class=\"actionscript\">  &#125;<span class=\"keyword\">else</span>&#123;<span class=\"comment\">// code for IE6, IE5</span></span></span><br><span class=\"line\"><span class=\"actionscript\">  xmlhttp=<span class=\"keyword\">new</span> ActiveXObject(<span class=\"string\">\"Microsoft.XMLHTTP\"</span>);</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"undefined\">    </span></span><br><span class=\"line\"><span class=\"actionscript\">xmlhttp.open(<span class=\"string\">\"GET\"</span>,<span class=\"string\">\"cd_catalog.xml\"</span>,<span class=\"literal\">false</span>);</span></span><br><span class=\"line\"><span class=\"undefined\">xmlhttp.send();</span></span><br><span class=\"line\"><span class=\"undefined\">xmlDoc=xmlhttp.responseXML; </span></span><br><span class=\"line\"><span class=\"actionscript\">x=xmlDoc.getElementsByTagName(<span class=\"string\">\"CD\"</span>);</span></span><br><span class=\"line\"><span class=\"undefined\">i=0;</span></span><br><span class=\"line\"><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"actionscript\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">displayCD</span><span class=\"params\">()</span></span></span></span><br><span class=\"line\"><span class=\"undefined\">&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">    artist=(x[i].getElementsByTagName(<span class=\"string\">\"ARTIST\"</span>)[<span class=\"number\">0</span>].childNodes[<span class=\"number\">0</span>].nodeValue);</span></span><br><span class=\"line\"><span class=\"actionscript\">    title=(x[i].getElementsByTagName(<span class=\"string\">\"TITLE\"</span>)[<span class=\"number\">0</span>].childNodes[<span class=\"number\">0</span>].nodeValue);</span></span><br><span class=\"line\"><span class=\"actionscript\">    year=(x[i].getElementsByTagName(<span class=\"string\">\"YEAR\"</span>)[<span class=\"number\">0</span>].childNodes[<span class=\"number\">0</span>].nodeValue);</span></span><br><span class=\"line\"><span class=\"actionscript\">    txt=<span class=\"string\">\"Artist: \"</span> + artist + <span class=\"string\">\"&lt;br&gt;Title: \"</span> + title + <span class=\"string\">\"&lt;br&gt;Year: \"</span>+ year;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"showCD\"</span>).innerHTML=txt;  <span class=\"comment\">//值得学习</span></span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"actionscript\"><span class=\"comment\">//值得学习</span></span></span><br><span class=\"line\"><span class=\"actionscript\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">next</span><span class=\"params\">()</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\"><span class=\"keyword\">if</span> (i&lt;x.length<span class=\"number\">-1</span>)&#123;</span></span><br><span class=\"line\"><span class=\"undefined\">  i++;</span></span><br><span class=\"line\"><span class=\"undefined\">  displayCD();</span></span><br><span class=\"line\"><span class=\"undefined\">  &#125;</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"actionscript\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">previous</span><span class=\"params\">()</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\"><span class=\"keyword\">if</span> (i&gt;<span class=\"number\">0</span>)&#123;</span></span><br><span class=\"line\"><span class=\"undefined\">  i--;</span></span><br><span class=\"line\"><span class=\"undefined\">  displayCD();</span></span><br><span class=\"line\"><span class=\"undefined\">  &#125;</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span> <span class=\"attr\">onload</span>=<span class=\"string\">\"displayCD()\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">'showCD'</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"button\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"previous()\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"&lt;&lt;\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"button\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"next()\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"&gt;&gt;\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/1/20200214200345.png\" alt=\"WeiyiGeek.\" title=\"\" class=\"\">\n                <p>WeiyiGeek.</p>\n            </figure>\n<p>实例3:展示如何在用户点击某个 CD 项目时显示专辑信息：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"javascript\">XHR = <span class=\"built_in\">window</span>.XMLHttpRequest ? <span class=\"keyword\">new</span> XMLHttpRequest(): <span class=\"keyword\">new</span> ActiveXObject(<span class=\"string\">\"Microsoft.XMLHTTP\"</span>);</span></span><br><span class=\"line\"><span class=\"actionscript\">xmlhttp.open(<span class=\"string\">\"GET\"</span>,<span class=\"string\">\"cd_catalog.xml\"</span>,<span class=\"literal\">false</span>);</span></span><br><span class=\"line\"><span class=\"undefined\">xmlhttp.send();</span></span><br><span class=\"line\"><span class=\"undefined\">xmlDoc=xmlhttp.responseXML; </span></span><br><span class=\"line\"><span class=\"actionscript\">x=xmlDoc.getElementsByTagName(<span class=\"string\">\"CD\"</span>);</span></span><br><span class=\"line\"><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"actionscript\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">displayCDInfo</span><span class=\"params\">(i)</span></span></span></span><br><span class=\"line\"><span class=\"undefined\">&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">    artist=(x[i].getElementsByTagName(<span class=\"string\">\"ARTIST\"</span>)[<span class=\"number\">0</span>].childNodes[<span class=\"number\">0</span>].nodeValue);</span></span><br><span class=\"line\"><span class=\"actionscript\">    title=(x[i].getElementsByTagName(<span class=\"string\">\"TITLE\"</span>)[<span class=\"number\">0</span>].childNodes[<span class=\"number\">0</span>].nodeValue);</span></span><br><span class=\"line\"><span class=\"actionscript\">    year=(x[i].getElementsByTagName(<span class=\"string\">\"YEAR\"</span>)[<span class=\"number\">0</span>].childNodes[<span class=\"number\">0</span>].nodeValue);</span></span><br><span class=\"line\"><span class=\"actionscript\">    country=(x[i].getElementsByTagName(<span class=\"string\">\"COUNTRY\"</span>)[<span class=\"number\">0</span>].childNodes[<span class=\"number\">0</span>].nodeValue);</span></span><br><span class=\"line\"><span class=\"actionscript\">    company=(x[i].getElementsByTagName(<span class=\"string\">\"COMPANY\"</span>)[<span class=\"number\">0</span>].childNodes[<span class=\"number\">0</span>].nodeValue);</span></span><br><span class=\"line\"><span class=\"actionscript\">    price=(x[i].getElementsByTagName(<span class=\"string\">\"PRICE\"</span>)[<span class=\"number\">0</span>].childNodes[<span class=\"number\">0</span>].nodeValue);</span></span><br><span class=\"line\"><span class=\"actionscript\">    txt=<span class=\"string\">\"Artist: \"</span>+artist+<span class=\"string\">\"&lt;br&gt;Title: \"</span>+title+<span class=\"string\">\"&lt;br&gt;Year: \"</span>+year+<span class=\"string\">\"&lt;br&gt;Country: \"</span>+country+<span class=\"string\">\"&lt;br&gt;Company: \"</span>+company+<span class=\"string\">\"&lt;br&gt;Price: \"</span>+price  ;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"showCD\"</span>).innerHTML=txt;</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">'showCD'</span>&gt;</span>Click on a CD to display album information.<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"built_in\">document</span>.write(<span class=\"string\">\"&lt;table border='1'&gt;\"</span>);</span></span><br><span class=\"line\"><span class=\"actionscript\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;x.length;i++)</span></span><br><span class=\"line\"><span class=\"undefined\">  &#123; </span></span><br><span class=\"line\"><span class=\"actionscript\">  <span class=\"comment\">//这里值得学习</span></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"built_in\">document</span>.write(<span class=\"string\">\"&lt;tr onclick='displayCDInfo(\"</span> + i + <span class=\"string\">\")'&gt;\"</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"built_in\">document</span>.write(<span class=\"string\">\"&lt;td&gt;\"</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"built_in\">document</span>.write(x[i].getElementsByTagName(<span class=\"string\">\"ARTIST\"</span>)[<span class=\"number\">0</span>].childNodes[<span class=\"number\">0</span>].nodeValue);</span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"built_in\">document</span>.write(<span class=\"string\">\"&lt;/td&gt;&lt;td&gt;\"</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"built_in\">document</span>.write(x[i].getElementsByTagName(<span class=\"string\">\"TITLE\"</span>)[<span class=\"number\">0</span>].childNodes[<span class=\"number\">0</span>].nodeValue);</span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"built_in\">document</span>.write(<span class=\"string\">\"&lt;/td&gt;&lt;/tr&gt;\"</span>);</span></span><br><span class=\"line\"><span class=\"undefined\">  &#125;</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"built_in\">document</span>.write(<span class=\"string\">\"&lt;/table&gt;\"</span>);</span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/1/20200214200545.png\" alt=\"WeiyiGeek.\" title=\"\" class=\"\">\n                <p>WeiyiGeek.</p>\n            </figure></p>\n<p><br></p>\n<p><strong>(4) 实际利用案例</strong><br>XML文件格式：<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">SecurityGateway</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- IPRuleSet --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">IPRuleSet</span> <span class=\"attr\">Name</span>=<span class=\"string\">\"Server-SAT\"</span> <span class=\"attr\">Comments</span>=<span class=\"string\">\"服务器映射\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">IPPolicy</span> <span class=\"attr\">Name</span>=<span class=\"string\">\"sat-8888\"</span> <span class=\"attr\">SourceInterface</span>=<span class=\"string\">\"any\"</span> <span class=\"attr\">DestinationInterface</span>=<span class=\"string\">\"any\"</span> <span class=\"attr\">SourceNetwork</span>=<span class=\"string\">\"all-nets\"</span> <span class=\"attr\">DestinationNetwork</span>=<span class=\"string\">\"183.2.5.19\"</span> <span class=\"attr\">Service</span>=<span class=\"string\">\"port8888\"</span> <span class=\"attr\">DestAddressTranslation</span>=<span class=\"string\">\"SAT\"</span> <span class=\"attr\">DestAddressAction</span>=<span class=\"string\">\"SingleIP\"</span> <span class=\"attr\">DestNewIP</span>=<span class=\"string\">\"1.184.10.24\"</span> /&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">IPRuleSet</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">SecurityGateway</span>&gt;</span></span><br></pre></td></tr></table></figure><br>HTML展示以及JS解析处理页面:<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"utf-8\"</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"X-UA-Compatible\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"IE=edge\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>映射地址列表<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, initial-scale=1\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/css\"</span> <span class=\"attr\">media</span>=<span class=\"string\">\"screen\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"main.css\"</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.table</span> &#123; </span></span><br><span class=\"line\"><span class=\"undefined\">    margin-left: auto; </span></span><br><span class=\"line\"><span class=\"undefined\">    margin-right: auto;</span></span><br><span class=\"line\"><span class=\"undefined\">    border: 1px solid black; </span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">line-height</span>: 1<span class=\"selector-class\">.25</span>;</span></span><br><span class=\"line\"><span class=\"undefined\">    width: 100%;</span></span><br><span class=\"line\"><span class=\"undefined\">    text-align: center; </span></span><br><span class=\"line\"><span class=\"undefined\">    border-spacing: 0px 1px; </span></span><br><span class=\"line\"><span class=\"undefined\">    border-collapse: collapse;</span></span><br><span class=\"line\"><span class=\"undefined\">   </span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.table</span> <span class=\"selector-tag\">th</span> &#123; </span></span><br><span class=\"line\"><span class=\"undefined\">    border: 1px solid black;</span></span><br><span class=\"line\"><span class=\"undefined\">    line-height: 1;</span></span><br><span class=\"line\"><span class=\"undefined\">    padding: 7px;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#dddddd</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">text-align</span><span class=\"selector-pseudo\">:center</span>;</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.table</span> <span class=\"selector-tag\">td</span> &#123; </span></span><br><span class=\"line\"><span class=\"undefined\">    border: 1px solid black; </span></span><br><span class=\"line\"><span class=\"undefined\">    padding: 5px;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">text-align</span><span class=\"selector-pseudo\">:left</span>;</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"undefined\">    </span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">align</span>=<span class=\"string\">\"center\"</span>&gt;</span></span><br><span class=\"line\">    内网地址映射列表</span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">hr</span>&gt;</span></span><br><span class=\"line\">    红色代表：映射被禁用</span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">hr</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"result\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span>   </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"handlebars\"><span class=\"xml\">        var result = \"<span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">border</span>=<span class=\"string\">'1'</span> <span class=\"attr\">class</span>=<span class=\"string\">'table'</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>名称<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>源接口<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>目标接口<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>外网地址<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>映射端口<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>内网地址<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>内网端口<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>映射是否启用<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>映射信息<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span>\";</span></span></span><br><span class=\"line\"><span class=\"actionscript\">        XHR = <span class=\"string\">\"\"</span>;</span></span><br><span class=\"line\"><span class=\"javascript\">            XHR = <span class=\"built_in\">window</span>.XMLHttpRequest ? <span class=\"keyword\">new</span> XMLHttpRequest() : <span class=\"keyword\">new</span> activexObjext(<span class=\"string\">\"Microsoft.XMLHTTP\"</span>);</span></span><br><span class=\"line\"><span class=\"actionscript\">            XHR.open(<span class=\"string\">\"GET\"</span>, <span class=\"string\">\"http://127.0.0.1/demo1.xml\"</span>, <span class=\"literal\">false</span>);</span></span><br><span class=\"line\"><span class=\"undefined\">            XHR.send();</span></span><br><span class=\"line\"><span class=\"actionscript\">        ResultXml = XHR.responseXML;  <span class=\"comment\">//返回一个xml文档对象</span></span></span><br><span class=\"line\"><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"actionscript\">        <span class=\"keyword\">var</span> childObj = ResultXml.getElementsByTagName(<span class=\"string\">\"IPRuleSet\"</span>)[<span class=\"number\">0</span>];</span></span><br><span class=\"line\"><span class=\"actionscript\">        <span class=\"comment\">//获取xml子节点个数（IP映射次数）</span></span></span><br><span class=\"line\"><span class=\"actionscript\">        <span class=\"keyword\">var</span> childLength = childObj.childNodes.length;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> num = <span class=\"number\">1</span>; num &lt; childLength; num+=<span class=\"number\">2</span>) &#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">          <span class=\"keyword\">var</span> childObjArr = childObj.childNodes[num];</span></span><br><span class=\"line\"><span class=\"actionscript\">          <span class=\"comment\">//或者子节点属性个数</span></span></span><br><span class=\"line\"><span class=\"actionscript\">          <span class=\"keyword\">var</span> attrlength = childObjArr.attributes.length;</span></span><br><span class=\"line\"><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"actionscript\">            <span class=\"comment\">// 判断映射是否启用</span></span></span><br><span class=\"line\"><span class=\"actionscript\">            <span class=\"keyword\">if</span>(childObjArr.attributes[attrlength<span class=\"number\">-1</span>].nodeValue == <span class=\"number\">1</span>)&#123;</span></span><br><span class=\"line\"><span class=\"handlebars\"><span class=\"xml\">                result += \"<span class=\"tag\">&lt;<span class=\"name\">tr</span> <span class=\"attr\">bgcolor</span>=<span class=\"string\">'#c90000'</span> <span class=\"attr\">style</span>=<span class=\"string\">'color:white'</span>&gt;</span>\";</span></span></span><br><span class=\"line\"><span class=\"actionscript\">            &#125;<span class=\"keyword\">else</span>&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">                result += <span class=\"string\">\"&lt;tr&gt;\"</span>;</span></span><br><span class=\"line\"><span class=\"undefined\">            &#125;</span></span><br><span class=\"line\"><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> index = <span class=\"number\">0</span>; index &lt; attrlength; index++) &#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">                <span class=\"keyword\">var</span> childAttrVa = childObjArr.attributes[index].nodeValue;</span></span><br><span class=\"line\"><span class=\"actionscript\">                <span class=\"keyword\">if</span>(index == <span class=\"number\">6</span> || index == <span class=\"number\">7</span> || index == <span class=\"number\">3</span>  || childAttrVa == <span class=\"string\">\"SinglePort\"</span> || childAttrVa == <span class=\"string\">\"SingleIP\"</span>)&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">                    <span class=\"keyword\">continue</span>;</span></span><br><span class=\"line\"><span class=\"undefined\">                &#125;</span></span><br><span class=\"line\"><span class=\"actionscript\">                result += <span class=\"string\">\"&lt;td&gt;\"</span>+ childAttrVa + <span class=\"string\">\"&lt;/td&gt;\"</span>;</span></span><br><span class=\"line\"><span class=\"undefined\">            &#125;</span></span><br><span class=\"line\"><span class=\"actionscript\">                result += <span class=\"string\">\"&lt;/tr&gt;\"</span>;</span></span><br><span class=\"line\"><span class=\"undefined\">        &#125;</span></span><br><span class=\"line\"><span class=\"actionscript\">        result += <span class=\"string\">\"&lt;/table&gt;\"</span></span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">var</span> res = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"result\"</span>).innerHTML = result;</span></span><br><span class=\"line\"><span class=\"undefined\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2020/1/20200214200918.png\" alt=\"WeiyiGeek.实用案例\" title=\"\" class=\"\">\n                <p>WeiyiGeek.实用案例</p>\n            </figure></p>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"前端技术","path":"api/categories/前端技术.json"}],"tags":[{"name":"XML","path":"api/tags/XML.json"}]}