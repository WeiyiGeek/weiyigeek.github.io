{"title":"shell脚本编程之路2","slug":"系统运维/Linux/Shell编程/shell脚本编程之路2","date":"2019-06-28T10:35:30.000Z","updated":"2023-01-31T02:29:10.385Z","url":"2019/6-28-133.html","path":"api/articles/2019/6-28-133.html.json","covers":["https://img.weiyigeek.top/2019/20190703211653.png","https://img.weiyigeek.top/2019/20190708111915.png"],"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h2 id=\"0x03-shell编程运算符\"><a href=\"#0x03-shell编程运算符\" class=\"headerlink\" title=\"0x03 shell编程运算符\"></a>0x03 shell编程运算符</h2><p>描述：主要是<code>数值命令如declare/let/expr、数值运算方法、变量测试</code>，以及shell变量的弱点默认字符串类型（弱类型）</p>\n<p>运算符及优先级:(从高到低)</p>\n<ul>\n<li>Shell算数运算符</li>\n<li>移位运算符</li>\n<li>关系(比较)运算符</li>\n<li>位运算符</li>\n<li>布尔(逻辑)运算符</li>\n<li>字符串运算符</li>\n<li>赋值运算符</li>\n</ul>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/20190703211653.png\" alt=\"WeiyiGeek.运算符及优先级\" title=\"\" class=\"\">\n                <p>WeiyiGeek.运算符及优先级</p>\n            </figure>\n<h3 id=\"1-整数运算\"><a href=\"#1-整数运算\" class=\"headerlink\" title=\"1.整数运算\"></a>1.整数运算</h3><p>可以进行数值运算的方法有： <code>declare expr le bc [[]] $() awk typeset</code>,下面只是常用的几类;<br>实际案例：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"comment\">#示例1.declare命令</span></span><br><span class=\"line\">a=2</span><br><span class=\"line\">b=8</span><br><span class=\"line\"><span class=\"built_in\">declare</span> -i c=<span class=\"variable\">$a</span>+<span class=\"variable\">$b</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$a</span> + <span class=\"variable\">$b</span> = <span class=\"variable\">$c</span>\"</span> <span class=\"comment\">#2 + 8 = 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例2.let数值运算工具</span></span><br><span class=\"line\"><span class=\"built_in\">let</span> <span class=\"built_in\">test</span>=<span class=\"variable\">$a</span>*<span class=\"variable\">$b</span>     <span class=\"comment\">#注意*号左右两侧无格</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$a</span> * <span class=\"variable\">$b</span> = <span class=\"variable\">$test</span>\"</span> <span class=\"comment\">#2 * 8 = 16</span></span><br><span class=\"line\"><span class=\"built_in\">let</span> <span class=\"string\">\"test=a + b\"</span>      <span class=\"comment\">#注意在算引号包括的可以存在空格</span></span><br><span class=\"line\"><span class=\"built_in\">let</span> value+=2  <span class=\"comment\">#c语言方法 </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">let</span> <span class=\"string\">\"t1 = ((a = 5 + 3, b = 7 - 1, c = 15 - 4))\"</span>    <span class=\"comment\"># 最后一个表达式变量赋值得给t1（值得学习）</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"t1 = <span class=\"variable\">$t1</span>, a = <span class=\"variable\">$a</span>, b = <span class=\"variable\">$b</span>, c = <span class=\"variable\">$c</span>\"</span>  <span class=\"comment\">#t1 = 11, a = 8, b = 6, c = 11</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例3.expr命令</span></span><br><span class=\"line\">cc=$(expr <span class=\"variable\">$a</span> \\* <span class=\"variable\">$b</span>)   <span class=\"comment\">#注意+号左右两侧必须有空格，乘号(*)前边必须加反斜杠(\\)才能实现乘法运算；</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$a</span> * <span class=\"variable\">$b</span> = <span class=\"variable\">$cc</span>\"</span>   <span class=\"comment\">#8 * 6 = 48</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例4.括号得优先级最大,采用$(())形式计算</span></span><br><span class=\"line\">a=1;b=2</span><br><span class=\"line\"><span class=\"built_in\">echo</span> $((a+b)) $((<span class=\"variable\">$a</span>+<span class=\"variable\">$b</span>))   <span class=\"comment\"># 3 3 推荐方式</span></span><br><span class=\"line\"></span><br><span class=\"line\">aa=$(((11+3)*3/2))</span><br><span class=\"line\">bb=$((14%3))   <span class=\"comment\">#求余</span></span><br><span class=\"line\">c</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"aa = <span class=\"variable\">$aa</span>, bb = <span class=\"variable\">$bb</span>, cc = <span class=\"variable\">$cc</span>\"</span>   <span class=\"comment\">#aa = 21, bb = 2, cc = 8</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例5.采用$[]形式计算</span></span><br><span class=\"line\">a=1;b=2</span><br><span class=\"line\"><span class=\"built_in\">echo</span> $[a+b] $[ <span class=\"variable\">$a</span> + <span class=\"variable\">$b</span> ] <span class=\"comment\">#3 3</span></span><br><span class=\"line\">cc=$[15+78]; dd=$[15%7]</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"cc = <span class=\"variable\">$cc</span>, dd = <span class=\"variable\">$dd</span>\"</span> <span class=\"comment\">#cc = 93, dd = 1</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例6.typeset命令</span></span><br><span class=\"line\">$ <span class=\"built_in\">typeset</span> -i A=1 B=3</span><br><span class=\"line\">$ A=A+B;<span class=\"built_in\">echo</span> <span class=\"variable\">$A</span>  <span class=\"comment\">#4</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例7.自加自减(不带$a)</span></span><br><span class=\"line\">a=1</span><br><span class=\"line\"><span class=\"built_in\">let</span> a++  <span class=\"comment\">#方式1（不返回值） </span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$a</span>  <span class=\"comment\">#2</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $((a++)) <span class=\"comment\">#2  #先返回值再加减</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $[a++] <span class=\"comment\">#3</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$a</span> <span class=\"comment\">#4</span></span><br><span class=\"line\"></span><br><span class=\"line\">b=5</span><br><span class=\"line\"><span class=\"built_in\">let</span> --b <span class=\"comment\">#方式2（不返回值） </span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$b</span>  <span class=\"comment\">#4</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $((--b)) <span class=\"comment\">#3  #先加减再返回值</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $[--b] <span class=\"comment\">#2</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$b</span> <span class=\"comment\">#2</span></span><br></pre></td></tr></table></figure></p>\n<p><em>补充示例：</em><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#示例1.从1加到10得表达式计算多种方法</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"`echo &#123;1..10&#125; | tr \"</span> <span class=\"string\">\" \"</span>+<span class=\"string\">\"` = `echo &#123;1..10&#125; | tr \"</span> <span class=\"string\">\" \"</span>+<span class=\"string\">\" | bc`\"</span></span><br><span class=\"line\">1+2+3+4+5+6+7+8+9+10 = 55</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> `seq -s <span class=\"string\">'+'</span> 10`=`seq -s <span class=\"string\">'+'</span> 10 | bc`</span><br><span class=\"line\"><span class=\"built_in\">echo</span> $(seq -s <span class=\"string\">'+'</span> 10)=$(seq -s <span class=\"string\">'+'</span> 10 | bc)</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$(seq -s '+' 10)</span>=\"</span>$(($(seq -s <span class=\"string\">'+'</span> 10)))</span><br><span class=\"line\">1+2+3+4+5+6+7+8+9+10=55</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#这里需要注意expr需要在 操作符合两边有空格</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> `seq -s <span class=\"string\">'+'</span> 10`=`seq -s <span class=\"string\">\" + \"</span> 10|xargs expr`</span><br><span class=\"line\">1+2+3+4+5+6+7+8+9+10=55</span><br><span class=\"line\"><span class=\"comment\">#值得学习在正式得使用中很少</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> `seq -s <span class=\"string\">\"+\"</span> 10`=$(expr $[`seq -s <span class=\"string\">\" + \"</span> 10`])</span><br><span class=\"line\">1+2+3+4+5+6+7+8+9+10=55</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<h3 id=\"2-浮点数运算\"><a href=\"#2-浮点数运算\" class=\"headerlink\" title=\"2.浮点数运算\"></a>2.浮点数运算</h3><p>实际案例：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#示例1.精密算术操作高级运算工具：bc计算命令</span></span><br><span class=\"line\"><span class=\"comment\">#可以对于0.00123456789进行计算（前面的都不能进行浮点运算）：</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"1.212*3\"</span> | bc </span><br><span class=\"line\"><span class=\"comment\">#scale设定小数精度（数值范围），\"scale保存的小数位数;表达式\"|bc  #有效数字</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"scale=3;4/8\"</span>| bc    </span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"sqrt(10)\"</span> | bc</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<h3 id=\"3-逻辑运算\"><a href=\"#3-逻辑运算\" class=\"headerlink\" title=\"3.逻辑运算\"></a>3.逻辑运算</h3><p>实际案例：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> $((1&amp;&amp;0))      <span class=\"comment\">#一假必假 0</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $((1||0))      <span class=\"comment\">#一真必真 1</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $[1&amp;&amp;0] $[1||0]  <span class=\"comment\">#方式2  0 1 </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#可以短路求值</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $(( 1 &gt; 2 &amp;&amp; 1 &lt; 2 )) <span class=\"comment\">#0</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $(( 1 &gt; 2 || 1 &lt; 2 )) <span class=\"comment\">#1</span></span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<h3 id=\"4-位运算\"><a href=\"#4-位运算\" class=\"headerlink\" title=\"4.位运算\"></a>4.位运算</h3><p>实际案例：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 逻辑位移（&lt;&lt; &gt;&gt;）</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $[3&lt;&lt;2]   <span class=\"comment\">#3*(2^2) =12</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $[8&gt;&gt;2]   <span class=\"comment\">#8/(2^2) =2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#位运算（按位或/与/异或 ）</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $((12|7)) <span class=\"comment\">#1100 | 0111 = 1111 = 15</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $((12&amp;7)) <span class=\"comment\">#1100 | 0111 = 0100 = 4</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $((12^7)) <span class=\"comment\">#1100 ^ 0111 = 1011 = 11</span></span><br></pre></td></tr></table></figure></p>\n<p><em>注意事项：</em></p>\n<ul>\n<li>expr和let不同之处在于<code>乘法需要转义\\*,且运算符左右两边必须有空格,而let操作数两边是不能有空格的</code>;</li>\n<li>自加自减与其他编程语言是一致的,需要注意是先计算在返回值还是先返回值再计算,不同之处在于let计算时候都是返回计算后的值;</li>\n</ul>\n<hr>\n\n<h2 id=\"0x04-shell编程数组-Array\"><a href=\"#0x04-shell编程数组-Array\" class=\"headerlink\" title=\"0x04 shell编程数组(Array)\"></a>0x04 shell编程数组(Array)</h2><p>Shell在编程方面比Windows批处理强大很多，无论是在循环、运算,数组作为一种特殊的数据结构在任何一种编程语言中都有它的一席之地，数组在Shell脚本中也是非常重要的组成部分，它借助索引将多个独立的数据存储为一个集合。</p>\n<p>bash<code>支持一维数组（不支持多维数组），并且没有限定数组的大小</code>。类似与C语言，数组元素的下标由0开始编号。获取数组中的元素要利用下标，下标可以是整数或算术表达式，其值应大于或等于0。 </p>\n<p><em>bash中的两类数组类型：</em></p>\n<ul>\n<li>普通数组：最常见的数组类型声明格式：array_name=(value0 value1)</li>\n<li>关联数组：从bash4.0开始被引入,关联数组的索引值可以使用任意的文本,关联数组在很多操作中很有用;<ul>\n<li>关联数组的声明（必须声明）：declare -A array_var</li>\n</ul>\n</li>\n</ul>\n<p><strong>(1)定义数组</strong><br>在Shell中，用括号来表示数组，数组元素用“空格”符号分割开。<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#定义数组的一般形式为：</span></span><br><span class=\"line\">array_name=(value0 value1 value2 value3)</span><br><span class=\"line\">array_name=( [0]=one [1]=two [2]=three [3]=four )</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#或者：</span></span><br><span class=\"line\">array_name=(</span><br><span class=\"line\">    value0</span><br><span class=\"line\">    value1</span><br><span class=\"line\">    value2</span><br><span class=\"line\">    value3</span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"comment\">#单独定义数组的各个分量,可以不使用连续的下标，而且下标的范围没有限制。</span></span><br><span class=\"line\">array_name[0]=value0</span><br><span class=\"line\">array_name[1]=value1</span><br><span class=\"line\">array_name[2]=value2</span><br><span class=\"line\">array_name[8]=value8</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#关联数组</span></span><br><span class=\"line\"><span class=\"comment\">#使用内嵌索引-值列表法将元素添加到关联数组：</span></span><br><span class=\"line\">array_var=( [one]=one-1 [two]=two-2 [three]=three-3 [four]=four-4 [five]=five-5 [six]=six-6 )</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#使用独立的索引-值进行赋值：</span></span><br><span class=\"line\">array_var[one]=one-1</span><br><span class=\"line\">array_var[two]=two-2</span><br><span class=\"line\">array_var[three]=three-3</span><br><span class=\"line\">array_var[four]=four-4</span><br><span class=\"line\">array_var[five]=five-5</span><br><span class=\"line\">array_var[six]=six-6</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#数组补充使用</span></span><br><span class=\"line\">array=($(ls))   <span class=\"comment\">#将执行的命令放入数组中</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"variable\">$&#123;array[@]&#125;</span>;<span class=\"keyword\">do</span> <span class=\"built_in\">echo</span> <span class=\"variable\">$i</span>;sleep 1; <span class=\"keyword\">done</span></span><br><span class=\"line\">~$</span><br><span class=\"line\">Microsoft</span><br><span class=\"line\">Word</span><br><span class=\"line\">文档.docx</span><br><span class=\"line\">Another.Redis.Desktop.Manager.lnk</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<p><strong>(2)读取数组并获取信息</strong></p>\n<ul>\n<li>读取数组元素值的一般格式是<code>${array_name[index]}</code>,可以使用<code>@ (单个参数独立)</code>或 <code>* (所有参数整体)</code>可以获取数组中的所有元素，利用获取字符串长度的#来获取数组长度的方法与获取字符串长度的方法相同;以及可以对数组进行提取删除等等</li>\n</ul>\n<p>实际案例：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">array_name=(1 3 5 7 9)</span><br><span class=\"line\">valuen=<span class=\"variable\">$&#123;array_name[2]&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例1.数组读取</span></span><br><span class=\"line\">NAME[0]=<span class=\"string\">\"Zara\"</span>;NAME[1]=<span class=\"string\">\"Qadir\"</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"First Index: <span class=\"variable\">$&#123;NAME[0]&#125;</span>\"</span>  <span class=\"comment\">#Zara</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"Second Index: <span class=\"variable\">$&#123;NAME[1]&#125;</span>\"</span> <span class=\"comment\">#Qadir</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例2.获取数组里的所有元素</span></span><br><span class=\"line\">length=<span class=\"variable\">$&#123;array_name[*]&#125;</span>  <span class=\"comment\"># 所有参数 (for循环都差不多)</span></span><br><span class=\"line\">length=<span class=\"variable\">$&#123;array_name[@]&#125;</span>  <span class=\"comment\"># 单个参数独立</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例3.取得数组元素的个数(数组length)</span></span><br><span class=\"line\">length=<span class=\"variable\">$&#123;#array_name[@]&#125;</span> <span class=\"comment\"># 或者</span></span><br><span class=\"line\">length=<span class=\"variable\">$&#123;#array_name[*]&#125;</span></span><br><span class=\"line\">length=<span class=\"variable\">$&#123;#array_name[n]&#125;</span> <span class=\"comment\"># 取得数组单个元素的长度</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例4.数组的提取</span></span><br><span class=\"line\">array_name=( [0]=one [1]=two [2]=three [3]=four ) </span><br><span class=\"line\"><span class=\"variable\">$&#123;array[@]:0&#125;</span> <span class=\"comment\">#显示所有元素</span></span><br><span class=\"line\"><span class=\"variable\">$&#123;array[@]:1&#125;</span> <span class=\"comment\">#除去第一个元素后的显示所有元素</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;array[@]:0:2&#125;</span>   <span class=\"comment\">#从下标[0]开始依次显示2个数组值 one two</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;array[@]:1:2&#125;</span>   <span class=\"comment\">#从下标[1]开始依次显示2个数组值 two three</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例5.数组子串替换</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;array[@]/o/m&#125;</span>  <span class=\"comment\">#将o替换成m mne twm three fmur</span></span><br><span class=\"line\"><span class=\"comment\">#如果没有指定替换子串，则删除匹配到的子符</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;array[@]//o/&#125;</span>  <span class=\"comment\">#ne tw three fur</span></span><br><span class=\"line\"><span class=\"comment\">#替换字符串前端（#）子串</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;array[@]/#o/k&#125;</span>  <span class=\"comment\">#kne two three four</span></span><br><span class=\"line\"><span class=\"comment\">#替换字符串后端（%）子串</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;array[@]/%o/k&#125;</span> <span class=\"comment\">#ne twk three four</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例5.子串删除、剔除</span></span><br><span class=\"line\"><span class=\"comment\">#左边开始最短的匹配:\"t*e\"，这将匹配到\"thre\"则显示e</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;array[@]#t*e&#125;</span>   <span class=\"comment\"># 可采用通配符 one two e four</span></span><br><span class=\"line\"><span class=\"comment\">#左边开始最长的匹配，这将匹配到\"three\"，将删除three并输出到屏幕</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;array[@]##t*e&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 示例6.子串删除、剔除</span></span><br><span class=\"line\"><span class=\"comment\">#从字符串的结尾开始最短的匹配o</span></span><br><span class=\"line\"><span class=\"comment\">#右边开始最短的匹配</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;array[@]%o&#125;</span>  <span class=\"comment\">#one tw three four</span></span><br><span class=\"line\"><span class=\"comment\">#右边开始最长的匹配</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;array[@]%%o&#125;</span>  <span class=\"comment\">#one tw three four #从字符串的结尾开始最长的匹配</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例7.关联数组的使用,关联数组的打印方法跟普通数组用法一样</span></span><br><span class=\"line\">array_var=( [one]=one-1 [two]=two-2 [three]=three-3 [four]=four-4 [five]=five-5 [six]=six-6 )</span><br><span class=\"line\"><span class=\"comment\">#列出数组索引值(值得学习)</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;!array_var[*]&#125;</span>  <span class=\"comment\">#four one five six two three （注意感叹号）</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例8.采用unset命令删除数组</span></span><br><span class=\"line\"><span class=\"built_in\">unset</span> array_pt[0] <span class=\"comment\">#删除数组中第一个元素</span></span><br><span class=\"line\"><span class=\"built_in\">unset</span> array_pt    <span class=\"comment\">#删除整个数组</span></span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<p>实战脚本：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/usr/bin/env bash</span></span><br><span class=\"line\"><span class=\"comment\">#功能：Shell数组的使用示例</span></span><br><span class=\"line\">number=(1 2 3)</span><br><span class=\"line\">number[3]=4</span><br><span class=\"line\">string=(<span class=\"string\">\"I\"</span> <span class=\"string\">\"Love\"</span> <span class=\"string\">\"you\"</span> <span class=\"string\">\"baby\"</span> <span class=\"string\">\"!\"</span>)</span><br><span class=\"line\"><span class=\"built_in\">declare</span> -A relatearray <span class=\"comment\">#关联数组的定义(非常重要-A)</span></span><br><span class=\"line\">relatearray=( [one]=weiyi [two]=geek [there]=computer )</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例1.输入出数组中各个参数,采用$array[*]与$array[@]都差不多;</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"#示例1.案例输出\"</span></span><br><span class=\"line\">count=0</span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"variable\">$&#123;number[@]&#125;</span>;<span class=\"keyword\">do</span></span><br><span class=\"line\">  flag=$((count++))</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">\"number[<span class=\"variable\">$&#123;flag&#125;</span>] = <span class=\"variable\">$i</span>\"</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\">count=0</span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"variable\">$&#123;string[*]&#125;</span>;<span class=\"keyword\">do</span></span><br><span class=\"line\">  flag=$((count++))</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">\"string[<span class=\"variable\">$&#123;flag&#125;</span>] = <span class=\"variable\">$i</span>\"</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> -e <span class=\"string\">\"\\n#示例2:\\n\"</span></span><br><span class=\"line\"><span class=\"comment\">#示例2.输出普通以及关联数组的长度以及键值的字符长度 </span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"number 数组长度：<span class=\"variable\">$&#123;#number[*]&#125;</span> , string数组长度：<span class=\"variable\">$&#123;#string[@]&#125;</span> \"</span></span><br><span class=\"line\"><span class=\"comment\">#注意关联数组获取其长度</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"relatearray关联数组长度：<span class=\"variable\">$&#123;#relatearray[*]&#125;</span>\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">count=0</span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"variable\">$&#123;string[*]&#125;</span>;<span class=\"keyword\">do</span></span><br><span class=\"line\">  flag=$((count++))</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">\"string[<span class=\"variable\">$&#123;flag&#125;</span>] 键值 <span class=\"variable\">$&#123;string[$flag]&#125;</span> 长度为 <span class=\"variable\">$&#123;#string[$flag]&#125;</span>\"</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"><span class=\"comment\">#关联数组关键点 （先列出数组索引值，然后根据关联索引值输出数组）</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"variable\">$&#123;!relatearray[*]&#125;</span>;<span class=\"keyword\">do</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">\"relatearray[<span class=\"variable\">$&#123;i&#125;</span>] 键值 <span class=\"variable\">$&#123;relatearray[$&#123;i&#125;</span>]&#125; 长度为 <span class=\"variable\">$&#123;#relatearray[$&#123;i&#125;</span>]&#125;\"</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> -e <span class=\"string\">\"\\n#示例3:\\n\"</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"提取数组元素：<span class=\"variable\">$&#123;number[@]:2&#125;</span> , <span class=\"variable\">$&#123;string[*]:3&#125;</span>\"</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"提取从下标[0]开始依次显示2个数组：<span class=\"variable\">$&#123;number[@]:0:2&#125;</span> , <span class=\"variable\">$&#123;string[*]:0:2&#125;</span>\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> -e <span class=\"string\">\"\\n#示例4:\\n\"</span></span><br><span class=\"line\"><span class=\"comment\">#string=(\"I\" \"Love\" \"you\" \"baby\" \"!\")</span></span><br><span class=\"line\"><span class=\"comment\">#注意这里是 * 而不使用 @</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"将string数组中o变成大写O：<span class=\"variable\">$&#123;string[@]/o/O&#125;</span>\"</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"将string数组中o删除：<span class=\"variable\">$&#123;string[@]//o&#125;</span>\"</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"前匹配替换： <span class=\"variable\">$&#123;string[@]/#y/Y&#125;</span> 删除：<span class=\"variable\">$&#123;string[@]/#y/&#125;</span>\"</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"后匹配替换： <span class=\"variable\">$&#123;string[@]/#y/Y&#125;</span> 删除：<span class=\"variable\">$&#123;string[@]/#y/&#125;</span>\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> -e <span class=\"string\">\"\\n#示例5:\\n\"</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"左边最短匹配：<span class=\"variable\">$&#123;string[@]#*o&#125;</span> ,最长匹配：<span class=\"variable\">$&#123;string[@]##y*u&#125;</span>\"</span>  <span class=\"comment\">#&gt;&gt; 看</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"右边最短匹配：<span class=\"variable\">$&#123;string[@]%*o&#125;</span> ,最长匹配：<span class=\"variable\">$&#123;string[@]%%y*u&#125;</span>\"</span>  <span class=\"comment\">#&lt;&lt; 看</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> -e <span class=\"string\">\"\\n#示例6:\\n\"</span></span><br><span class=\"line\"><span class=\"comment\">#示例5.删除数组</span></span><br><span class=\"line\"><span class=\"built_in\">unset</span> number[1] number[2]</span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> $(seq 0 3);<span class=\"keyword\">do</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">\"number[<span class=\"variable\">$&#123;i&#125;</span>] = <span class=\"variable\">$&#123;number[$i]&#125;</span>\"</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##### 执行结果 #####</span></span><br><span class=\"line\"><span class=\"comment\">#示例1.案例输出</span></span><br><span class=\"line\">number[0] = 1</span><br><span class=\"line\">number[1] = 2</span><br><span class=\"line\">number[2] = 3</span><br><span class=\"line\">number[3] = 4</span><br><span class=\"line\">string[0] = I</span><br><span class=\"line\">string[1] = Love</span><br><span class=\"line\">string[2] = you</span><br><span class=\"line\">string[3] = baby</span><br><span class=\"line\">string[4] = !</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例2:数组长度</span></span><br><span class=\"line\">number 数组长度：4 , string数组长度：5</span><br><span class=\"line\">relatearray关联数组长度：3</span><br><span class=\"line\">string[0] 键值 I 长度为 1</span><br><span class=\"line\">string[1] 键值 Love 长度为 4</span><br><span class=\"line\">string[2] 键值 you 长度为 3</span><br><span class=\"line\">string[3] 键值 baby 长度为 4</span><br><span class=\"line\">string[4] 键值 ! 长度为 1</span><br><span class=\"line\">relatearray[one] 键值 weiyi 长度为 5</span><br><span class=\"line\">relatearray[there] 键值 computer 长度为 8</span><br><span class=\"line\">relatearray[two] 键值 geek 长度为 4</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例3:提取数组</span></span><br><span class=\"line\">提取数组元素：3 4 , baby !</span><br><span class=\"line\">提取从下标[0]开始依次显示2个数组：1 2 , I Love</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例4:替换删除</span></span><br><span class=\"line\">将string数组中o变成大写O：I LOve yOu baby !</span><br><span class=\"line\">将string数组中o删除：I Lve yu baby !</span><br><span class=\"line\">前匹配替换： I Love You baby ! 删除：I Love ou baby !</span><br><span class=\"line\">后匹配替换： I Love You baby ! 删除：I Love ou baby !</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例5:通配符匹配</span></span><br><span class=\"line\">左边最短匹配：I ve u baby ! ,最长匹配：I Love  baby !</span><br><span class=\"line\">右边最短匹配：I Love you baby ! ,最长匹配：I Love  baby !</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例6:删除数组</span></span><br><span class=\"line\">number[0] = 1</span><br><span class=\"line\">number[1] =</span><br><span class=\"line\">number[2] =</span><br><span class=\"line\">number[3] = 4</span><br></pre></td></tr></table></figure></p>\n<hr>\n\n<h2 id=\"0x05-shell编程变量替换\"><a href=\"#0x05-shell编程变量替换\" class=\"headerlink\" title=\"0x05 shell编程变量替换\"></a>0x05 shell编程变量替换</h2><p>描述：我们在前面讲解{}作用的时候简单的提出几个变量替换，下面我们进行总结。</p>\n<ul>\n<li>变量替换：可以根据变量的状态（是否为空、是否定义等）来变它的值</li>\n<li>优点是：效率高、代码精简</li>\n<li>缺点是：逻辑难懂     </li>\n</ul>\n<p>变量置换规则：存在三种情况(变量存在、存在值为空、变量不存在)<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$&#123;var-value&#125;</span> : 变量var 存在则返回var,否则返回value; 变量var为空值时也返回 空值</span><br><span class=\"line\"><span class=\"variable\">$&#123;var:-value&#125;</span> : 变量var 存在则返回var,否则返回value; 变量var为空值时返回 value</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable\">$&#123;var+value&#125;</span> : 变量var 存在则返回value,否则返回为空, 变量var为空值时返回 value</span><br><span class=\"line\"><span class=\"variable\">$&#123;var:+value&#125;</span> : 变量var 存在则返回value,否则返回为空, 变量var为空值时返回 空值</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable\">$&#123;var=value&#125;</span> : 变量var 存在返回var(值不变),否则设置var=value并返回value, 变量var 为空时返回空</span><br><span class=\"line\"><span class=\"variable\">$&#123;var:=value&#125;</span> : 变量var 存在返回var(值不变),否则设置var=value并返回value, 变量var 为空时设置var=value并返回value</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable\">$&#123;var?value&#125;</span> ：变量var 存在返回var,否则将value输出到标准错误输出(stderr), 变量var为空值时也返回 空值</span><br><span class=\"line\"><span class=\"variable\">$&#123;var?value&#125;</span> ：变量var 存在返回var,否则将value输出到标准错误输出(stderr), 变量var将value输出到标准错误输出(stderr)</span><br></pre></td></tr></table></figure></p>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/20190708111915.png\" alt=\"WeiyiGeek.常用的变量替换\" title=\"\" class=\"\">\n                <p>WeiyiGeek.常用的变量替换</p>\n            </figure>\n<p>实际案例：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#示例1.&#123;$var-value&#125; 与 &#123;$var:-value&#125;</span></span><br><span class=\"line\">$ var=1024</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var-512&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span>  <span class=\"comment\">#1024 | 1024</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var:-512&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span>  <span class=\"comment\">#1024 | 1024</span></span><br><span class=\"line\"><span class=\"comment\">##后者与前者不同在于变量$var是否为空</span></span><br><span class=\"line\">$ var=</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var-512&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span> <span class=\"comment\"># 空值 | 空值  (对比点)</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var:-512&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span> <span class=\"comment\"># 512 |  (对比点)</span></span><br><span class=\"line\">$ <span class=\"built_in\">unset</span> <span class=\"variable\">$var</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var-512&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span> <span class=\"comment\"># 512 | </span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var:-512&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span> <span class=\"comment\"># 512 | </span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例2.&#123;$var+value&#125; 与 &#123;$var:+value&#125; 与上面相反在y设置值时候才返回valur</span></span><br><span class=\"line\">$ var=512</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var+1024&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span>  <span class=\"comment\">#1024 | 512</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var:+1024&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span>  <span class=\"comment\">#1024 | 512</span></span><br><span class=\"line\">$ var=</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var+1024&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span>  <span class=\"comment\">#1024 |</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var:+1024&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span> <span class=\"comment\"># | </span></span><br><span class=\"line\">$ <span class=\"built_in\">unset</span> var</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var+1024&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span>  <span class=\"comment\"># |</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var:+1024&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span> <span class=\"comment\"># | </span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例3.$&#123;var=value&#125; 和 $&#123;var:=value&#125;</span></span><br><span class=\"line\">$ var=512</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var=1024&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span></span><br><span class=\"line\">512 | 512</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var:=1024&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span></span><br><span class=\"line\">512 | 512</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;novar:=1024&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$novar</span></span><br><span class=\"line\">1024 | 1024</span><br><span class=\"line\"></span><br><span class=\"line\">$ var=</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var=1024&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span>  <span class=\"comment\"># |    #不同点</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var:=1024&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span> <span class=\"comment\"># 1024 | 1024</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ <span class=\"built_in\">unset</span> var</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var=1024&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span></span><br><span class=\"line\">1024 | 1024</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var:=1024&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span></span><br><span class=\"line\">1024 | 1024</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 补充：数组设置</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"VAR_DNS_SERVER =&gt;\"</span> <span class=\"variable\">$&#123;VAR_DNS_SERVER[0]:=\"223.5.5.5\"&#125;</span> <span class=\"variable\">$&#123;VAR_DNS_SERVER[1]:=\"223.6.6.6\"&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例4.$&#123;var?value&#125; 和 $&#123;var:?value&#125;</span></span><br><span class=\"line\">$ var=1024</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var?512&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span></span><br><span class=\"line\">1024 | 1024</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var?=512&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span></span><br><span class=\"line\">1024 | 1024</span><br><span class=\"line\"></span><br><span class=\"line\">$ var=</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var?512&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span> <span class=\"comment\"># |   #对比点</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var:?512&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span> <span class=\"comment\">#bash: var: 512</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ <span class=\"built_in\">unset</span> var</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var?512&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span>  <span class=\"comment\">#bash: var: 512</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;var:?512&#125;</span> <span class=\"string\">\"|\"</span> <span class=\"variable\">$var</span>  <span class=\"comment\">#bash: var: 512</span></span><br></pre></td></tr></table></figure></p>\n<p>实际案例2：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"comment\">#变量替换测试代码</span></span><br><span class=\"line\">var=1024</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"1 - Value of var is <span class=\"variable\">$&#123;var&#125;</span>\"</span> <span class=\"variable\">$&#123;var:-\"Variable is not set\"&#125;</span> <span class=\"comment\"># 1 - Value of var is 1024 1024</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"2 - Value of var is <span class=\"variable\">$&#123;var&#125;</span>\"</span> <span class=\"variable\">$&#123;var:+\"Variable is not set\"&#125;</span> <span class=\"comment\"># 2 - Value of var is 1024 Variable is not set</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"3 - Value of var is <span class=\"variable\">$&#123;var&#125;</span>\"</span> <span class=\"variable\">$&#123;var:=\"Variable is not set\"&#125;</span> <span class=\"comment\"># 2 - Value of var is 1024 1024</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"4 - Value of var is <span class=\"variable\">$&#123;var&#125;</span>\"</span> <span class=\"variable\">$&#123;var:?\"Variable is not set\"&#125;</span> <span class=\"comment\"># 2 - Value of var is 1024 1024</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"1 - Value of var is <span class=\"variable\">$var</span>\"</span> <span class=\"variable\">$&#123;var-\"This is default value\"&#125;</span> <span class=\"comment\"># 1 - Value of var is 1024 1024</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"2 - Value of var is <span class=\"variable\">$var</span>\"</span> <span class=\"variable\">$&#123;var+\"This is default value\"&#125;</span> <span class=\"comment\"># 2 - Value of var is 1024 This is default value</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"3 - Value of var is <span class=\"variable\">$var</span>\"</span> <span class=\"variable\">$&#123;var?\"This is default value\"&#125;</span> <span class=\"comment\"># 2 - Value of var is 1024 1024</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"4 - Value of var is <span class=\"variable\">$var</span>\"</span> <span class=\"variable\">$&#123;var=\"This is default value\"&#125;</span> <span class=\"comment\"># 4 - Value of var is 1024 1024</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">unset</span> var</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"4 - Value of var is <span class=\"variable\">$var</span>\"</span> <span class=\"variable\">$&#123;var:+\"【This is default value】\"&#125;</span>   <span class=\"comment\"># var未定义,将不会返回 This is default value 字符串，定义将返回字符串</span></span><br><span class=\"line\"><span class=\"comment\"># 4 - Value of var is</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"5 - Value of var is \"</span> <span class=\"variable\">$&#123;var:?\"【Print this message】\"&#125;</span>    <span class=\"comment\"># var未定义,会返回 Print this message 字符串，定义将返回其变量</span></span><br><span class=\"line\"><span class=\"comment\"># -bash: var:  Value of var is 【Print this message】</span></span><br></pre></td></tr></table></figure></p>\n<hr>\n\n<h2 id=\"0x06-shell编程变量测试\"><a href=\"#0x06-shell编程变量测试\" class=\"headerlink\" title=\"0x06 shell编程变量测试\"></a>0x06 shell编程变量测试</h2><p>描述：变量测试时shell编程中最重要的一个环节,可以更据条件进行执行相应的代码;<code>Shell中的 test 命令 或者 [[ ]] 用于检查某个条件是否成立</code>，它可以进行数值、字符和文件三个方面的测试。</p>\n<p>虽然test与<code>[]</code>也能达到效果,但还是建议采用<code>[[]]</code>来进行变量测试,同test命令为真返回0,否则返回非0<br>变量测试方式：只对shell有效，在脚本优化时候使用，推测y的值来给x赋值</p>\n<p>变量测试说明：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 按文件类型进行判断</span></span><br><span class=\"line\">-e 该『文件名』是否存在?(常用) </span><br><span class=\"line\">-f 该『文件名』是否为文件(file)?(常用) </span><br><span class=\"line\">-d 该『文件名』是否为目录(directory)?(常用) </span><br><span class=\"line\">-b 该『文件名』是否为一个 block device 装置? </span><br><span class=\"line\">-c 该『文件名』是否为一个 character device 装置? </span><br><span class=\"line\">-p 该『文件名』是否为一个 FIFO 管道(pipe) 文件? </span><br><span class=\"line\">-L 该『文件名』是否为一个符号链接文件? </span><br><span class=\"line\">-s 该『文件』大小是否不为 0如果大于0为真否则为假;</span><br><span class=\"line\">-S 该『文件名』是否为一个 Socket (套接字) 文件? </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 按文件权限进行判断</span></span><br><span class=\"line\">-r 侦测该文件名是否具有『可读』的属性？ </span><br><span class=\"line\">-w 侦测该文件名是否具有『可写』的属性？ </span><br><span class=\"line\">-x 侦测该文件名是否具有『可执行』的属性？ </span><br><span class=\"line\">-u 侦测该文件名是否具有『SUID』的属性？ </span><br><span class=\"line\">-g 侦测该文件名是否具有『SGID』的属性？ </span><br><span class=\"line\">-k 侦测该文件名是否具有『Sticky bit』的属性？ </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 两个文件之间的比较</span></span><br><span class=\"line\">-nt (newer than)判断 file1 是否比 file2 新 (New)</span><br><span class=\"line\">-ot (older than)判断 file1 是否比 file2 旧 (Old)</span><br><span class=\"line\">-ef 判断 file2 与 file2 是否为同一文件，可用在判断 hard link 的判定上 <span class=\"comment\">#主要意义在判定，两个文件是否均指向同一个 inode 号！</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 表达式的逻辑体条件(注意与其他编程语言有所不同,两个都为真0采返回0，否则返回1)</span></span><br><span class=\"line\"><span class=\"comment\"># [] 可采用前者-a，[[]]可采用后者 &amp;&amp;</span></span><br><span class=\"line\">-a 或 &amp;&amp; ：逻辑与，“而且”的意思，前后两个表达式都成立时整个测试结果才为真，否则为假</span><br><span class=\"line\">-o 或 || ： 逻辑或，“或者”的意思，操作符两边至少一个为真时，结果为真，否为为假</span><br><span class=\"line\">! ：逻辑否，当制定条件不成立时，返回结果为真</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 判断字符串</span></span><br><span class=\"line\">[ 字符串1 = 字符串2]  <span class=\"comment\"># 可以使用 \" == \" 代替</span></span><br><span class=\"line\">[ 字符串1 != 字符串2] <span class=\"comment\"># 可以使用 \" !== \" 代替</span></span><br><span class=\"line\">[ –n 字符串 ]  <span class=\"comment\">#字符串的长度非零</span></span><br><span class=\"line\">[ –z 字符串 ]   <span class=\"comment\">#字符串的长度是否为零</span></span><br><span class=\"line\">[ string1 \\&lt; string2 ] <span class=\"comment\">#如果string1在本地的字典序列中排在string2之前，则为真</span></span><br><span class=\"line\">[ string1 \\&gt; string2 ] <span class=\"comment\">#如果string1在本地的字典序列中排在string2之后，则为真 </span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#判断整数 ,在[[]] 可以使用替换字符 (0~9可以，但是超出后建议使用 -nn 形式比较)</span></span><br><span class=\"line\"><span class=\"comment\">#建议采用 (()) 两个形式都通用</span></span><br><span class=\"line\">-eq：等于（equal）  <span class=\"comment\"># 可采用 ==  或 = 替代</span></span><br><span class=\"line\">-ne：不等于（not equal） <span class=\"comment\"># 可采用 != 替代</span></span><br><span class=\"line\">-gt：大于（Greater than） <span class=\"comment\"># 可采用 &gt; 替达</span></span><br><span class=\"line\">-lt：小于（lesser than）   <span class=\"comment\"># 可采用 &lt; 替达</span></span><br><span class=\"line\">-le：小于等于（lesser or equal）  <span class=\"comment\"># 可采用 &lt;= 替达 [[]] 不能使用</span></span><br><span class=\"line\">-ge：大于等于（Greater or equal） <span class=\"comment\"># 可采用 &gt;= 替达 (()) 不能使用</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#也可以采用转义 大于与小于 来实现整数对比，由于和重定向符号冲突</span></span><br><span class=\"line\">[ 2 \\&gt; 1]  <span class=\"comment\">#而且单[]需要转义  也不能采用 &lt;= 与 &gt;=</span></span><br><span class=\"line\">[[ 1 &lt; 2]]  <span class=\"comment\">#双[[]]不需要转义 不建议采用 </span></span><br><span class=\"line\"><span class=\"comment\">#[[ 1 &lt;= 2]]  #双[[]]/[]不能采用才中形式会报错</span></span><br><span class=\"line\">((1&lt;2)) <span class=\"comment\">#无需空格间隔</span></span><br><span class=\"line\">((1&gt;=2))</span><br></pre></td></tr></table></figure></p>\n<p>简单案例：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#示例1.判断目录与文件类型，真则输出yes否则返回no , 三种方法test [] [[]]</span></span><br><span class=\"line\"><span class=\"built_in\">test</span> -f ww.php  &amp;&amp; <span class=\"built_in\">echo</span> 1 || <span class=\"built_in\">echo</span> 0  <span class=\"comment\">#1</span></span><br><span class=\"line\"><span class=\"built_in\">test</span> -d ww.php  &amp;&amp; <span class=\"built_in\">echo</span> 1 || <span class=\"built_in\">echo</span> 0  <span class=\"comment\">#0</span></span><br><span class=\"line\">[ -d ~/.ssh/ -a -f ~/.bashrc ] &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">\"yes\"</span> || <span class=\"built_in\">echo</span> <span class=\"string\">\"no\"</span>  <span class=\"variable\">$yes</span></span><br><span class=\"line\">[[ -f ww.php ]] &amp;&amp; <span class=\"built_in\">echo</span> 1 || <span class=\"built_in\">echo</span> 0  <span class=\"comment\">#1</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例2.判断变量aa是否有值,同时判断值是否大于23</span></span><br><span class=\"line\">aa=11</span><br><span class=\"line\">[ -n <span class=\"variable\">$aa</span> -a <span class=\"variable\">$aa</span> -gt 123 ] &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">\"yes\"</span> || <span class=\"built_in\">echo</span> <span class=\"string\">\"no\"</span>  <span class=\"comment\">#no  [] 采用形式</span></span><br><span class=\"line\">[[ -n <span class=\"variable\">$aa</span> &amp;&amp; <span class=\"variable\">$aa</span> -gt 123 ]] &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">\"yes\"</span> || <span class=\"built_in\">echo</span> <span class=\"string\">\"no\"</span>  <span class=\"comment\">#no [[]] 采用形式</span></span><br><span class=\"line\"><span class=\"comment\">#如果[]先采用&amp;&amp;符号怎么办？分割比较表达式即可</span></span><br><span class=\"line\">[ -n <span class=\"string\">\"<span class=\"variable\">$aa</span>\"</span> ] &amp;&amp; [ <span class=\"variable\">$aa</span> -gt 123] &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">\"yes\"</span> || <span class=\"built_in\">echo</span> <span class=\"string\">\"no\"</span> <span class=\"comment\">#no 效果同上</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例3.判断是空串吗?   -z 与-n功能相反</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> -e <span class=\"string\">\"\\e[1;34m  #变量测试：短路求值的功效(与C语言的&amp;&amp; || 隐性规则一致) \\e[0m\"</span></span><br><span class=\"line\">[[ -z <span class=\"string\">\"111\"</span> ]] &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">\"w\"</span> || <span class=\"built_in\">echo</span> <span class=\"string\">\"whoami\"</span></span><br><span class=\"line\">[[ -z <span class=\"string\">\"\"</span> ]] &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">\"w\"</span> || <span class=\"built_in\">echo</span> <span class=\"string\">\"whoami\"</span></span><br><span class=\"line\">[[ -z <span class=\"string\">\"1\"</span> ]] &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">\"is null\"</span> ||  <span class=\"built_in\">echo</span> <span class=\"string\">\"is not null\"</span>  <span class=\"comment\">#is not null</span></span><br><span class=\"line\">[[ -z <span class=\"string\">\"\"</span> ]] &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">\"is null\"</span> ||  <span class=\"built_in\">echo</span> <span class=\"string\">\"is not null\"</span>  <span class=\"comment\">#is null</span></span><br><span class=\"line\">[ <span class=\"string\">\"web\"</span> \\&lt; <span class=\"string\">\"weba\"</span> ] &amp;&amp; <span class=\"built_in\">echo</span> 1 || <span class=\"built_in\">echo</span> 0   <span class=\"comment\"># 1 字符比较是按照字母顺序比较的注意转义</span></span><br><span class=\"line\">[[ <span class=\"string\">\"web\"</span> &lt; <span class=\"string\">\"aweba\"</span> ]] &amp;&amp; <span class=\"built_in\">echo</span> 1 || <span class=\"built_in\">echo</span> 0  <span class=\"comment\"># 0 #不需要转义</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例4.str检测字符串是否为空，不为空返回 true。  </span></span><br><span class=\"line\"><span class=\"built_in\">read</span> a</span><br><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"variable\">$a</span> ];<span class=\"keyword\">then</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$a</span> : string is not empty\"</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$a</span> : string is empty\"</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"><span class=\"comment\">#abc : string is not empty</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例5.判断软硬链接</span></span><br><span class=\"line\">[ /root/student.txt -ef /tmp/su.txt ] &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">\"true\"</span> || <span class=\"built_in\">echo</span> <span class=\"string\">\"false\"</span> <span class=\"comment\">#false</span></span><br><span class=\"line\"><span class=\"comment\">#[[]] 必须有空格  = test </span></span><br><span class=\"line\"><span class=\"comment\">#是否是文件，文件是否存在</span></span><br><span class=\"line\">$[[ -f 1.txt ]]&amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">\"1.txt is file\"</span> || <span class=\"built_in\">echo</span>  <span class=\"string\">\"1.txt is notfile\"</span></span><br><span class=\"line\">1.txt is file</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#是否是可执行文件</span></span><br><span class=\"line\">[[ -x 1.txt ]]&amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">\"1.txt can be execute\"</span> ||  <span class=\"built_in\">echo</span>  <span class=\"string\">\"1.txt can't be execute\"</span></span><br><span class=\"line\"><span class=\"comment\">#1.txt can't be execute</span></span><br><span class=\"line\"><span class=\"variable\">$chmod</span>  +x 1.txt</span><br><span class=\"line\">[[ -x 1.txt ]]&amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">\"1.txt can be execute\"</span> ||  <span class=\"built_in\">echo</span>  <span class=\"string\">\"1.txt can be execute\"</span></span><br><span class=\"line\"><span class=\"comment\">#1.txt can be execute</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#是否是目录</span></span><br><span class=\"line\">$[[ -d 1.txt ]] &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">\"1.txt is dir\"</span> || <span class=\"built_in\">echo</span>  <span class=\"string\">\"1.txt is't dir\"</span></span><br><span class=\"line\"><span class=\"comment\">#1.txt is't dir</span></span><br><span class=\"line\">$[[ -d /bin ]] &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">\"1.txt is dir\"</span> || <span class=\"built_in\">echo</span>  <span class=\"string\">\"1.txt is't dir\"</span></span><br><span class=\"line\"><span class=\"comment\">#1.txt is dir</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####*补充知识点：*#######</span></span><br><span class=\"line\"><span class=\"comment\">#注意在root用户下所有的文件是可读的，即便是000权限</span></span><br><span class=\"line\">ubuntu@WeiyiGeek:~$ ll www.txt</span><br><span class=\"line\">---------- 1 ubuntu ubuntu 0 Jul 12 12:25 www.txt</span><br><span class=\"line\"><span class=\"variable\">$root</span>@WeiyiGeek:/home/ubuntu<span class=\"comment\"># [[ -r www.txt ]] &amp;&amp; &#123;  #代码块形式值值得学习，可以替换if .. then ...语句</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> 1</span><br><span class=\"line\"> <span class=\"built_in\">echo</span> 2</span><br><span class=\"line\"> <span class=\"built_in\">echo</span> 3</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例1.补充示例从标准输入输出</span></span><br><span class=\"line\">[ <span class=\"variable\">$1</span> -eq 3 ] &amp;&amp; &#123; <span class=\"built_in\">echo</span> 1;<span class=\"built_in\">echo</span> 2;<span class=\"built_in\">echo</span> 3 &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例2.表达式空格影响（一定要在表达式中使用双引号包含变量）</span></span><br><span class=\"line\">root@WeiyiGeek:/home/ubuntu<span class=\"comment\"># [ \"abc\" == \"1\" ] &amp;&amp; echo \"相等\" || echo \"不相等\" #分割字符串比较</span></span><br><span class=\"line\"><span class=\"comment\">#不相等</span></span><br><span class=\"line\">root@WeiyiGeek:/home/ubuntu<span class=\"comment\"># [ \"abc\"==\"1\" ] &amp;&amp; echo \"相等\" || echo \"不相等\" #</span></span><br><span class=\"line\"><span class=\"comment\">#相等</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例3.采用转义后的大于小于来实现，而双[[]]不需要转义</span></span><br><span class=\"line\">$ [ 2 \\&lt; 1 ] &amp;&amp; <span class=\"built_in\">echo</span> 1 || <span class=\"built_in\">echo</span> 0   <span class=\"comment\">#0  需要转义 ，并且注意空格和比较符合的间隔</span></span><br><span class=\"line\">$ [ 2 \\&gt; 11 ] &amp;&amp; <span class=\"built_in\">echo</span> 1 || <span class=\"built_in\">echo</span> 0  <span class=\"comment\">#1  注意的是只比较第一位数值；比较(0~9)可以采用</span></span><br><span class=\"line\">$ [[ 2 &gt; 1 ]] &amp;&amp; <span class=\"built_in\">echo</span> 1 || <span class=\"built_in\">echo</span> 0   <span class=\"comment\">#1  不需要转义</span></span><br><span class=\"line\">$ [[ 2 &gt; 11 ]] &amp;&amp; <span class=\"built_in\">echo</span> 1 || <span class=\"built_in\">echo</span> 0  <span class=\"comment\">#1  注意的是只比较第一位数值；比较(0~9) 可以采用</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ (( 1 &lt;= 2 )) &amp;&amp; <span class=\"built_in\">echo</span> 1 || <span class=\"built_in\">echo</span> 0  <span class=\"comment\">#1 不需要转义</span></span><br><span class=\"line\">$ (( 1 &gt;= 2 )) &amp;&amp; <span class=\"built_in\">echo</span> 1 || <span class=\"built_in\">echo</span> 0  <span class=\"comment\">#0 不需要转义</span></span><br><span class=\"line\">$ (( 2 &lt; 11 )) &amp;&amp; <span class=\"built_in\">echo</span> 1 || <span class=\"built_in\">echo</span> 0  <span class=\"comment\">#1 不会存在[[]]只比较第一个字符，任意数值都能使用</span></span><br><span class=\"line\">$ ((2&gt;11)) &amp;&amp; <span class=\"built_in\">echo</span> 1 || <span class=\"built_in\">echo</span> 0      <span class=\"comment\">#0  不需要转义，并且注意无需空格和常规数学比较符号</span></span><br></pre></td></tr></table></figure></p>\n<p>基础实例:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"comment\">#下面这种Shell写法常常会在linux中看见,特别是命令执行的时候</span></span><br><span class=\"line\">clear</span><br><span class=\"line\"></span><br><span class=\"line\">cat &lt;&lt;DOC</span><br><span class=\"line\"><span class=\"comment\"># 这里是菜单提示 #</span></span><br><span class=\"line\"><span class=\"comment\">#Step1.判断变量值是否存在</span></span><br><span class=\"line\"><span class=\"comment\">#Step2.校验变量值类型</span></span><br><span class=\"line\"><span class=\"comment\">#step3.进行传入变量值进行下一步操作</span></span><br><span class=\"line\">DOC</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">read</span> -p <span class=\"string\">\"请输入两个数值(如：1 2)：\"</span> num1 num2</span><br><span class=\"line\"><span class=\"comment\">#注意空格</span></span><br><span class=\"line\">[ -z <span class=\"string\">\"<span class=\"variable\">$num1</span>\"</span> -a -z <span class=\"string\">\"<span class=\"variable\">$num2</span>\"</span> ] &amp;&amp; &#123;</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">\"[*] input Error \"</span>;<span class=\"built_in\">exit</span> 1</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#注意采用\"\"和''包含表达式</span></span><br><span class=\"line\">[ <span class=\"string\">'`echo \"$num1\" | sed -r \"s#[^0-9]##g\"`\"'</span> == <span class=\"string\">\"<span class=\"variable\">$num1</span>\"</span> ] &amp;&amp; &#123;</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">\"输入的第一个值非数值\"</span></span><br><span class=\"line\">  <span class=\"built_in\">exit</span> 0</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">[ <span class=\"string\">'`echo \"$num2\" | sed -r \"s#[^0-9]##g\"`'</span> == <span class=\"string\">\"<span class=\"variable\">$num2</span>\"</span> ] &amp;&amp; &#123;</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">\"输入的第一个值非数值\"</span></span><br><span class=\"line\">  <span class=\"built_in\">exit</span> 0</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#比较判断两个数值</span></span><br><span class=\"line\">((<span class=\"string\">\"<span class=\"variable\">$num1</span>\"</span>&gt;<span class=\"string\">\"<span class=\"variable\">$num2</span>\"</span>)) &amp;&amp; &#123;</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">\" <span class=\"variable\">$num1</span> &gt; <span class=\"variable\">$num2</span> \"</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">((<span class=\"string\">\"<span class=\"variable\">$num1</span>\"</span>&lt;<span class=\"string\">\"<span class=\"variable\">$num2</span>\"</span>)) &amp;&amp; &#123;</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">\" <span class=\"variable\">$num1</span> &lt; <span class=\"variable\">$num2</span> \"</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">((<span class=\"string\">\"<span class=\"variable\">$num1</span>\"</span>==<span class=\"string\">\"<span class=\"variable\">$num2</span>\"</span>)) &amp;&amp; &#123;</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">\" <span class=\"variable\">$num1</span> == <span class=\"variable\">$num2</span> \"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h1 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项:\"></a>注意事项:</h1><ul>\n<li>shell编程中下面的脚本命令后面不用加”;”</li>\n<li>在使用<code>[ ]</code>进行变量测试的时候,表达式离两边 [  ] / [[]] 有空格（十分注意）;</li>\n<li>在使用<code>(())</code>进行变量测试的时候,表达式离两边 () 无需空格（十分注意）;</li>\n<li>在<code>[ -d &quot;$wh&quot; ]</code>测试都需要将变量使用 <code>&quot;&quot;</code> 包含然后再比较,<code>注意在进行整数比较时候无需采用</code>；</li>\n<li>在采用[]进行整型比较时候(不建议采用””包含整数)必须对 “&gt;” 和 “&lt;”进行转义才能达到正确的结果，而使用[[]]和(())时候可以不用转义</li>\n<li>在[[]]采用大于小于时候结果可能不对，只比较了第一位;所以在比较时候优先采用 -lt 形式 或者 (($1&gt;$2))</li>\n<li>在test与[]可采用-a形式,在[[]]中可采用&amp;&amp;形式,多个 [] 之间以及多个 [[]] 之间可以采用混合逻辑符号 &amp;&amp; 或 ||;</li>\n</ul>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"Development","path":"api/categories/Development.json"},{"name":"Programming","path":"api/categories/Programming.json"}],"tags":[{"name":"Shell","path":"api/tags/Shell.json"}]}