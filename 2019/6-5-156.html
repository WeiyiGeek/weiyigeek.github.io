<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="content-language" content="zh-CN"/>
    <meta name="author" content="WeiyiGeek" />
    <meta name="msvalidate.01" content="5C552FB1D885E0E11D2957EC958C8018" />
    <meta name="shenma-site-verification" content="4c655e91c76be0a93c1b6954c666c9d6_1649049085"/>
    <meta name="bytedance-verification-code" content="lKs4FqwCHSJ3A/c5tT7X" />
    <meta name="sogou_site_verification" content="OC65iET6Bk" />
    
    <title>ğŸŒ æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤|WeiyiGeek Blog|å”¯ä¸€æå®¢Geek-ITç½‘ç»œå®‰å…¨è¿ç»´å¼€å‘æŠ€æœ¯çŸ¥è¯†åˆ†äº«-åšå®¢ç«™ç‚¹</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    
    <meta name="keywords" content="æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²">
    <meta name="Description" content="WeiyiGeek-å”¯ä¸€æå®¢åšå®¢ç«™ç‚¹,å…³æ³¨äºç½‘ç»œå®‰å…¨è¿ç»´,Webå®‰å…¨å¼€å‘,IOTç‰©è”ç½‘å®‰å…¨å¼€å‘,åº”ç”¨å¼€å‘,åˆ†äº«æŠ€æœ¯å­¦ä¹ çŸ¥è¯†ä¸å…¥å‘è§£å†³,æå‡ç½‘ç»œå®‰å…¨æŠ€æœ¯ä¸è‡ªèº«æŠ€æœ¯èƒ½åŠ›,ç«‹å¿—ç»´æŠ¤å¤§ä¼—ç½‘ç»œå®‰å…¨ä¸ºå·±ä»»,åšä¸€ä¸ªå¯¹å›½å®¶æœ‰ç”¨çš„äºº,ä¸ºå®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„ä¸­å›½æ¢¦ä¸æ‡ˆå¥‹æ–—">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/jquery/3.5.2-jquery.fancybox.min.css?v=1.6.6" />
    <link rel="stylesheet" href="/css/style.css?v=1.6.6">
    <!--  -->
     <script type="text/javascript" src="/js/custom/articlecost.js?v=1.6.6"></script> 
    <link rel="stylesheet" href="/css/third-party/gitalk.css?v=1.6.6"> 
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9134434519967436" crossorigin="anonymous"></script>    
    <script type="text/javascript">
        // Data Center
        var DC = {
          reward:	true,
          lv: JSON.parse('{"enable":false,"app_id":null,"app_key":null,"icon":true}'),
          v: JSON.parse('{"enable":false,"appid":null,"appkey":null,"notify":true,"verify":true,"placeholder":"give me some sugers plz...","avatar":"wavatar"}')
        };
    </script>
    <script type="text/javascript">window.lazyScripts=[];</script>
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="WeiyiGeek Blog" type="application/atom+xml">
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="/img/brand.jpg" class="brand-bg" alt="WeiyiGeek-backgroud">
      
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg" alt="WeiyiGeek-å¤´åƒ">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">WeiyiGeek</h5>
          <a href="mailto:master@weiyigeek.top" title="master@weiyigeek.top" class="mail">
            <span>m</span><span>a</span><span>s</span><span>t</span><span>e</span><span>r</span><span>@</span><span>w</span><span>e</span><span>i</span><span>y</span><span>i</span><span>g</span><span>e</span><span>e</span><span>k</span><span>.</span><span>t</span><span>o</span><span>p</span>
          </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://weiyigeek.top/img/wechat-search.png" target="_blank">
                  <i class="icon icon-lg icon-wechat"></i>
                </a>
              </li>
            
              <li>
                <a href="https://github.com/weiyigeek" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
              <li>
                <a href="https://t.me/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-telegram"></i>
                </a>
              </li>
            
              <li>
                <a href="https://twitter.com/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-twitter"></i>
                </a>
              </li>
            
              <li>
                <a href="https://weibo.com/615643678" target="_blank">
                  <i class="icon icon-lg icon-weibo"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                é¦–é¡µ
              </a>
            </li>
        
            <li class="">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                æ–‡ç« åˆ†ç±»
              </a>
            </li>
        
            <li class="">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                æ–‡ç« æ ‡ç­¾
              </a>
            </li>
        
            <li class="">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                æ–‡ç« å½’æ¡£
              </a>
            </li>
        
            <li class="">
              <a href="/books"  >
                <i class="icon icon-lg icon-book"></i>
                å­¦ä¹ ä¹¦ç±
              </a>
            </li>
        
            <li class="">
              <a href="/about"  >
                <i class="icon icon-lg icon-user"></i>
                å…³äºä½œè€…
              </a>
            </li>
        
            <li class="">
              <a href="/links"  >
                <i class="icon icon-lg icon-link"></i>
                ç«™ç‚¹å¯¼èˆª
              </a>
            </li>
        
            <li class="">
              <a href="/img/share-wechat.jpg" target="_blank" >
                <i class="icon icon-lg icon-wechat"></i>
                å…¬ä¼—è´¦å·
              </a>
            </li>
        
            <li class="">
              <a href="https://space.bilibili.com/385802642" target="_blank" >
                <i class="icon icon-lg icon-youtube-play"></i>
                å“”å“©å“”å“©
              </a>
            </li>
        
            <li class="">
              <a href="https://github.com/weiyigeek" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="">
              <a href="https://twitter.com/WeiyiGeek" target="_blank" >
                <i class="icon icon-lg icon-twitter"></i>
                Twitter
              </a>
            </li>
        
            <li class="">
              <a href="https://weibo.com/615643678" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤</span>
            
        </div>

        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        

        
            <a href="/atom.xml" class="header-icon pull-right waves-effect waves-circle waves-light">
                <i class="icon icon-lg icon-rss"></i>
            </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="/img/banner.jpg" class="header-bg" alt="æ–‡ç« å¤´éƒ¨èƒŒæ™¯">
    <div class="container fade-scale">
        <h1 class="title">æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-06-05T10:35:30.000Z" itemprop="datePublished" class="page-time">
  2019-06-05
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Linux%E5%91%BD%E4%BB%A4/">Linuxå‘½ä»¤</a></li></ul>


            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>


<div class="container body-wrap">
  <article id="post-ç³»ç»Ÿè¿ç»´/Linux/å¸¸ç”¨å‘½ä»¤/æ–‡ä»¶ç®¡ç†ç±»å‘½ä»¤/æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤</h1>
        <div class="post-meta">
            <time class="post-time" title="2019-06-05 18:35:30" datetime="2019-06-05T10:35:30.000Z"  itemprop="datePublished">2019-06-05</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Linux%E5%91%BD%E4%BB%A4/">Linuxå‘½ä»¤</a></li></ul>



            

            


            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <p>[TOC]</p>
<a id="more"></a>
<h4 id="0x00-æ–‡ä»¶æŸ¥çœ‹"><a href="#0x00-æ–‡ä»¶æŸ¥çœ‹" class="headerlink" title="0x00 æ–‡ä»¶æŸ¥çœ‹"></a>0x00 æ–‡ä»¶æŸ¥çœ‹</h4><h5 id="cat-å‘½ä»¤-ä»ç¬¬ä¸€è¡Œå®Œæ•´æ˜¾ç¤ºæ–‡ä»¶å†…å®¹"><a href="#cat-å‘½ä»¤-ä»ç¬¬ä¸€è¡Œå®Œæ•´æ˜¾ç¤ºæ–‡ä»¶å†…å®¹" class="headerlink" title="cat å‘½ä»¤ - ä»ç¬¬ä¸€è¡Œå®Œæ•´æ˜¾ç¤ºæ–‡ä»¶å†…å®¹"></a>cat å‘½ä»¤ - ä»ç¬¬ä¸€è¡Œå®Œæ•´æ˜¾ç¤ºæ–‡ä»¶å†…å®¹</h5><p>æè¿°ï¼šcatå‘½ä»¤(Concatenate)è¿æ¥æ–‡ä»¶å¹¶æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ä¸Š(æ˜¾ç¤ºã€è¯»å–æˆ–æ‹¼æ¥æ–‡ä»¶å†…å®¹),ä»–ç»å¸¸ç”¨æ¥æ˜¾ç¤ºæ–‡ä»¶çš„å†…å®¹,ç±»ä¼¼äºä¸‹çš„typeå‘½ä»¤ã€‚<br>å½“æ–‡ä»¶è¾ƒå¤§çš„æ—¶å€™å»ºè®®é‡‡ç”¨moreæˆ–è€…lesså‘½ä»¤è¿›è¡ŒæŸ¥çœ‹æ–‡ä»¶ï¼š</p>
<ul>
<li>Ctrl+S:åœæ­¢æ»šå±</li>
<li>Ctrl+Q:æ¢å¤æ»šå±</li>
<li>Ctrl+C:(ä¸­æ–­)å¯ä»¥ç»ˆæ­¢è¯¥å‘½ä»¤æ‰§è¡Œ,å¹¶è¿”å›shellæç¤ºç¬¦</li>
</ul>
<p>è¯­æ³•å‚æ•°ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-n&#x2F;--number:æ˜¾ç¤ºæ–‡æœ¬è¡Œå·ä»1å¼€å§‹</span><br><span class="line">-b&#x2F;--number-noblank:ä¸å¯¹ç©ºç™½è¡Œç¼–å·</span><br><span class="line">-s&#x2F;--squeeze-blank:å½“é‡åˆ°è¿ç»­ä¸¤è¡Œä»¥ä¸Šçš„ç©ºç™½è¡Œå°±ä»£æ›¿ä¸º1è¡Œçš„ç©ºç™½è¡Œ</span><br><span class="line">-Aï¼šæ˜¾ç¤ºä¸å¯æ‰“å°å­—ç¬¦ï¼Œè¡Œå°¾æ˜¾ç¤ºâ€œ$â€ï¼›</span><br><span class="line">-E: å°†è¡Œå°¾çš„æ–­è¡Œå­—ç¬¦$æ˜¾ç¤ºå‡ºæ¥ </span><br><span class="line">-T: å°†[Tab]æŒ‰é”®ä»¥^Iæ˜¾ç¤ºå‡ºæ¥</span><br><span class="line">-v: åˆ—å‡ºä¸€äº›çœ‹ä¸å‡ºæ¥çš„ç‰¹æ®Šå­—ç¬¦</span><br><span class="line">-eï¼šç­‰ä»·äº&quot;-vE&quot;é€‰é¡¹ï¼›</span><br><span class="line">-tï¼šç­‰ä»·äº&quot;-vT&quot;é€‰é¡¹ï¼›</span><br></pre></td></tr></table></figure></p>
<p><strong>å®é™…æ¡ˆä¾‹ï¼š</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¤ºä¾‹1.å¸¸è§ç¤ºä¾‹</span></span><br><span class="line">cat -n time.sh</span><br><span class="line">cat -b time.sh</span><br><span class="line">cat m1 m2 ï¼ˆåŒæ—¶æ˜¾ç¤ºæ–‡ä»¶mlå’Œm2çš„å†…å®¹ï¼‰</span><br><span class="line">cat m1 m2 &gt; file ï¼ˆå°†æ–‡ä»¶mlå’Œm2åˆå¹¶åæ”¾å…¥æ–‡ä»¶fileä¸­ï¼‰</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹2.ç‰¹æ®Šå­—ç¬¦çš„æ˜¾ç¤º</span></span><br><span class="line">cat -A /etc/pam.conf</span><br><span class="line"><span class="comment"># ---------------------------------------------------------------------------#$</span></span><br><span class="line"><span class="comment"># /etc/pam.conf^I^I^I^I^I^I^I^I     #$</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------------------#$</span></span><br><span class="line"><span class="comment">#$</span></span><br><span class="line"><span class="comment"># NOTE$</span></span><br><span class="line"><span class="comment"># ----$</span></span><br><span class="line"><span class="comment">#$</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹2.ä»å‘½ä»¤è¡Œä¸­è·å–å­—ç¬¦ä¸²ä»¥åŠå˜é‡å†™å…¥æ–‡ä»¶ä¹‹ä¸­ã€‚</span></span><br><span class="line">cat &lt;&lt; EOF &gt; es.env</span><br><span class="line">ES_HOME=<span class="variable">$&#123;ES_HOME&#125;</span></span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹3.ä½¿ç”¨catè¾“å‡ºå˜é‡åˆ°æ–‡ä»¶æ—¶å¦‚æœæ˜¯"EOF"å¹¶ä¸ä¼šå°†è¯¥å˜é‡è¿›è¡Œèµ‹å€¼æ”¹å˜ï¼ˆå°å·®åˆ«å€¼å¾—æ³¨æ„ï¼‰ã€‚</span></span><br><span class="line">demo=<span class="string">"WeiyiGeek"</span></span><br><span class="line">cat &gt; demo1.yaml &lt;&lt;<span class="string">"EOF"</span></span><br><span class="line">name=<span class="variable">$&#123;demo&#125;</span></span><br><span class="line">EOF</span><br><span class="line"><span class="comment"># æ‰§è¡Œç»“æœ: name=$&#123;demo&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯è§£æå˜é‡</span></span><br><span class="line">cat &gt; demo2.yaml &lt;&lt;EOF</span><br><span class="line">name=<span class="variable">$&#123;demo&#125;</span></span><br><span class="line">EOF</span><br><span class="line"><span class="comment"># æ‰§è¡Œç»“æœ: name=WeiyiGeek</span></span><br></pre></td></tr></table></figure><br><figure class="image-box">
                <a rel=æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190627230532.png" target="_blank" title="WeiyiGeek.catæ¡ˆä¾‹" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190627230532.png" alt="WeiyiGeek.catæ¡ˆä¾‹" title="" class=""></a>
                <p>WeiyiGeek.catæ¡ˆä¾‹</p>
            </figure></p>
<p><br></p>
<h5 id="tac-å‘½ä»¤-ä»æœ€åä¸€è¡Œå®Œæ•´æ˜¾ç¤ºæ–‡ä»¶å†…å®¹"><a href="#tac-å‘½ä»¤-ä»æœ€åä¸€è¡Œå®Œæ•´æ˜¾ç¤ºæ–‡ä»¶å†…å®¹" class="headerlink" title="tac å‘½ä»¤ - ä»æœ€åä¸€è¡Œå®Œæ•´æ˜¾ç¤ºæ–‡ä»¶å†…å®¹"></a>tac å‘½ä»¤ - ä»æœ€åä¸€è¡Œå®Œæ•´æ˜¾ç¤ºæ–‡ä»¶å†…å®¹</h5><p>æè¿°: è¯¥å‘½ä»¤å®é™…æ˜¯catçš„åå‘æ˜¾ç¤ºçš„å‘½ä»¤;</p>
<p>åŸºç¡€ç¤ºä¾‹:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.cat ä¸ tac å¯¹æ¯”æ˜¾ç¤º;</span></span><br><span class="line">â¯ cat /etc/resolv.conf</span><br><span class="line">nameserver 223.5.5.5</span><br><span class="line">nameserver 223.6.6.6</span><br><span class="line">nameserver fec0:0:0:ffff::1</span><br><span class="line">â¯ tac  /etc/resolv.conf</span><br><span class="line">nameserver fec0:0:0:ffff::1</span><br><span class="line">nameserver 223.6.6.6</span><br><span class="line">nameserver 223.5.5.5</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h5 id="nl-å‘½ä»¤-æ˜¾ç¤ºçš„æ—¶å€™é¡ºä¾¿è¾“å‡ºè¡Œå·"><a href="#nl-å‘½ä»¤-æ˜¾ç¤ºçš„æ—¶å€™é¡ºä¾¿è¾“å‡ºè¡Œå·" class="headerlink" title="nl å‘½ä»¤ - æ˜¾ç¤ºçš„æ—¶å€™é¡ºä¾¿è¾“å‡ºè¡Œå·"></a>nl å‘½ä»¤ - æ˜¾ç¤ºçš„æ—¶å€™é¡ºä¾¿è¾“å‡ºè¡Œå·</h5><p>æè¿°: è¯¥å‘½ä»¤æ˜¯æ·»åŠ è¡Œå·æ‰“å°;</p>
<p>è¯­æ³•å‚æ•°:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">nl [-bnw] æ–‡ä»¶</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‚æ•°:</span></span><br><span class="line">-b ï¼šæŒ‡å®šè¡Œå·æŒ‡å®šçš„æ–¹å¼ä¸»è¦ä¸¤ä¸ªä¸­æ–¹å¼;</span><br><span class="line">  a : ä¸è®ºæ˜¯å¦æœ‰ç©ºè¡Œé¡µåˆ—å‡ºè¡Œå·</span><br><span class="line">  t : å¯¹äºç©ºè¡Œä¸åˆ—å‡ºè¡Œå·è¿›è¡Œè·³è¿‡</span><br><span class="line">- n : åˆ—å‡ºè¡Œå·çš„è¡¨ç¤ºæ–¹æ³•ä¸»è¦æœ‰ä¸‰ç§;</span><br><span class="line">  ln : è¡Œå·åœ¨å±å¹•æœ€å·¦æ–¹æ˜¾ç¤º</span><br><span class="line">  rn : è¡Œå·åœ¨å±å¹•æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”ä¸åŠ 0</span><br><span class="line">  rz : è¡Œå·åœ¨å±å¹•æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”åŠ 0</span><br><span class="line">- w : è¡Œå·å­—æ®µå ç”¨çš„ä½æ•°;</span><br></pre></td></tr></table></figure></p>
<p>åŸºç¡€ç¤ºä¾‹:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¤ºä¾‹1.ç”¨nlåˆ—å‡º/etc/issueçš„å†…å®¹åŒ…æ‹¬ç©ºè¡Œ</span></span><br><span class="line">â¯ nl -b a /etc/issue</span><br><span class="line">  1  Ubuntu 20.04 LTS \n \l</span><br><span class="line">  2  Windows WSL</span><br><span class="line">  3</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹2.è¡Œå·æ ¼å¼è®¾ç½®</span></span><br><span class="line">â¯ nl -b a -n rz /etc/issue       <span class="comment"># ç¼ºçœ</span></span><br><span class="line">000001  Ubuntu 20.04 LTS \n \l</span><br><span class="line">000002  Windows WSL</span><br><span class="line">000003</span><br><span class="line">â¯ nl -b a -n rz -w 3 /etc/issue  <span class="comment"># æŒ‡å®šè¡Œå·å®½åº¦</span></span><br><span class="line">001     Ubuntu 20.04 LTS \n \l</span><br><span class="line">002     Windows WSL</span><br><span class="line">003</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h5 id="head-å‘½ä»¤-æ˜¾ç¤ºä»å¤´å¼€å§‹çš„å‡ è¡Œ"><a href="#head-å‘½ä»¤-æ˜¾ç¤ºä»å¤´å¼€å§‹çš„å‡ è¡Œ" class="headerlink" title="head å‘½ä»¤ - æ˜¾ç¤ºä»å¤´å¼€å§‹çš„å‡ è¡Œ"></a>head å‘½ä»¤ - æ˜¾ç¤ºä»å¤´å¼€å§‹çš„å‡ è¡Œ</h5><p>æè¿°ï¼šç”¨äºæ˜¾ç¤ºæ–‡ä»¶çš„å¼€å¤´çš„å†…å®¹,åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œheadå‘½ä»¤æ˜¾ç¤ºæ–‡ä»¶çš„å¤´10è¡Œå†…å®¹ã€‚<br>å¦‚æœæŒ‡å®šäº†å¤šäºä¸€ä¸ªæ–‡ä»¶åœ¨æ¯ä¸€æ®µè¾“å‡ºå‰ä¼šç»™å‡ºæ–‡ä»¶åä½œä¸ºæ–‡ä»¶å¤´ï¼Œå¦‚æœä¸æŒ‡å®šæ–‡ä»¶ï¼Œæˆ–è€…æ–‡ä»¶ä¸ºâ€-â€œï¼Œåˆ™ä»æ ‡å‡†è¾“å…¥è¯»å–æ•°æ®ã€‚</p>
<p>è¯­æ³•å‚æ•°ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-æ•°å­— ï¼šæ˜¾ç¤ºè¡Œæ•°</span><br><span class="line">-n &lt;æ•°å­—&gt; ï¼šæŒ‡å®šæ–‡ä»¶å¤´éƒ¨è¦æ˜¾ç¤ºå†…å®¹çš„è¡Œæ•°;</span><br><span class="line">-c &lt;å­—ç¬¦æ•°&gt; ï¼šæŒ‡å®šæ˜¾ç¤ºå¤´éƒ¨å†…å®¹çš„å­—ç¬¦æ•°;</span><br><span class="line">-v ï¼šæ€»æ˜¯æ˜¾ç¤ºæ–‡ä»¶åçš„å¤´ä¿¡æ¯;</span><br><span class="line">-q : ä¸æ˜¾ç¤ºæ–‡ä»¶åä¿¡æ¯;</span><br></pre></td></tr></table></figure></p>
<p>æ“ä½œç¤ºä¾‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤ºä¾‹1.åŸºç¡€ç¤ºä¾‹</span></span><br><span class="line">head /etc/passwd    <span class="comment">#æ˜¾ç¤ºå¼€å¤´å‰10è¡Œ</span></span><br><span class="line">head -1 /etc/passwd  <span class="comment">#æ˜¾ç¤ºå¼€å¤´å‰ -k è¡Œ</span></span><br><span class="line">head -2 run.js</span><br><span class="line"><span class="comment"># const &#123; exec &#125; = require('child_process')</span></span><br><span class="line"><span class="comment"># exec('hexo server -p 80 -d',(error, stdout, stderr) =&gt; &#123;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹2. #é™¤æœ€åkè¡Œå¤–ï¼Œæ˜¾ç¤ºå‰©ä½™å…¨éƒ¨å†…å®¹</span></span><br><span class="line">head -n -k /etc/passwd </span><br><span class="line">head -n -10 10.txt  <span class="comment">#ä¸æ‰“å°å10è¡ŒåŠå¼€å¤´åˆ°å€’æ•°10è¡Œè¢«æ‰“å°</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹3.1ä¸ªå­—ç¬¦å 1ä¸ªå­—èŠ‚ï¼Œæ³¨æ„å›è½¦æ¢è¡Œå„ç®—ä¸€ä¸ªå­—èŠ‚</span></span><br><span class="line">head -c 100 /etc/passwd       <span class="comment">#æ˜¾ç¤ºå‰100å­—èŠ‚çš„å­—ç¬¦</span></span><br><span class="line">head -c -100 /etc/passwd      <span class="comment">#æ˜¾ç¤ºä»0åˆ°å€’æ•°ç¬¬100å­—èŠ‚çš„å­—ç¬¦</span></span><br></pre></td></tr></table></figure><br><figure class="image-box">
                <a rel=æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190627223718.png" target="_blank" title="WeiyiGeek.headeç¤ºä¾‹" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190627223718.png" alt="WeiyiGeek.headeç¤ºä¾‹" title="" class=""></a>
                <p>WeiyiGeek.headeç¤ºä¾‹</p>
            </figure></p>
<h5 id="tail-å‘½ä»¤-æ˜¾ç¤ºä»ç»“å°¾å¼€å§‹æ˜¾ç¤ºå‡ è¡Œ"><a href="#tail-å‘½ä»¤-æ˜¾ç¤ºä»ç»“å°¾å¼€å§‹æ˜¾ç¤ºå‡ è¡Œ" class="headerlink" title="tail å‘½ä»¤ - æ˜¾ç¤ºä»ç»“å°¾å¼€å§‹æ˜¾ç¤ºå‡ è¡Œ"></a>tail å‘½ä»¤ - æ˜¾ç¤ºä»ç»“å°¾å¼€å§‹æ˜¾ç¤ºå‡ è¡Œ</h5><p>æè¿°ï¼šç”¨äºè¾“å…¥æ–‡ä»¶ä¸­çš„å°¾éƒ¨å†…å®¹,å‘½ä»¤ä¹Ÿå¯ä»¥æŒ‡å®šå¼€å§‹ç‚¹å°†æ–‡ä»¶æ ‡å‡†è¾“å‡º,é»˜è®¤åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶çš„æœ«å°¾10è¡Œã€‚<br>å¦‚æœç»™å®šçš„æ–‡ä»¶ä¸æ­¢ä¸€ä¸ªï¼Œåˆ™åœ¨æ˜¾ç¤ºçš„æ¯ä¸ªæ–‡ä»¶å‰é¢åŠ ä¸€ä¸ªæ–‡ä»¶åæ ‡é¢˜ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šæ–‡ä»¶æˆ–è€…æ–‡ä»¶åä¸ºâ€œ-â€ï¼Œåˆ™è¯»å–æ ‡å‡†è¾“å…¥ã€‚</p>
<p>è¯­æ³•å‚æ•°ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tail(é€‰é¡¹)(å‚æ•°)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‚æ•°</span></span><br><span class="line">--retryï¼šå³æ˜¯åœ¨tailå‘½ä»¤å¯åŠ¨æ—¶ï¼Œæ–‡ä»¶ä¸å¯è®¿é—®æˆ–è€…æ–‡ä»¶ç¨åå˜å¾—ä¸å¯è®¿é—®ï¼Œéƒ½å§‹ç»ˆå°è¯•æ‰“å¼€æ–‡ä»¶ã€‚ä½¿ç”¨æ­¤é€‰é¡¹æ—¶éœ€è¦ä¸é€‰é¡¹â€œâ€”â€”follow=nameâ€è¿ç”¨ï¼›</span><br><span class="line">-c&lt;N&gt;æˆ–â€”â€”bytes=&lt;N&gt;ï¼šè¾“å‡ºæ–‡ä»¶å°¾éƒ¨çš„Nï¼ˆNä¸ºæ•´æ•°ï¼‰ä¸ªå­—èŠ‚å†…å®¹ï¼›</span><br><span class="line">-f&lt;name/descriptor&gt;æˆ– ï¼›--follow&lt;nameldescript&gt;ï¼šæ˜¾ç¤ºæ–‡ä»¶æœ€æ–°è¿½åŠ çš„å†…å®¹ã€‚â€œnameâ€è¡¨ç¤ºä»¥æ–‡ä»¶åçš„æ–¹å¼ç›‘è§†æ–‡ä»¶çš„å˜åŒ–ã€‚â€œ-fâ€ä¸â€œ-fdescriptorâ€ç­‰æ•ˆï¼›(å¸¸ç”¨)</span><br><span class="line">-Fï¼šä¸é€‰é¡¹â€œ-follow=nameâ€å’Œâ€œ--retry<span class="string">"è¿ç”¨æ—¶åŠŸèƒ½ç›¸åŒ"</span> </span><br><span class="line">-n&lt;N&gt;æˆ–â€”â€”line=&lt;N&gt;ï¼šè¾“å‡ºæ–‡ä»¶çš„å°¾éƒ¨Nï¼ˆNä½æ•°å­—ï¼‰è¡Œå†…å®¹ã€‚  (å¸¸ç”¨)</span><br><span class="line">--pid=&lt;è¿›ç¨‹å·&gt;ï¼šä¸â€œ-fâ€é€‰é¡¹è¿ç”¨ï¼Œå½“æŒ‡å®šçš„è¿›ç¨‹å·çš„è¿›ç¨‹ç»ˆæ­¢åï¼Œè‡ªåŠ¨é€€å‡ºtailå‘½ä»¤ï¼›</span><br><span class="line">-qæˆ–â€”â€”quietæˆ–â€”â€”silentï¼šå½“æœ‰å¤šä¸ªæ–‡ä»¶å‚æ•°æ—¶ï¼Œä¸è¾“å‡ºå„ä¸ªæ–‡ä»¶åï¼›</span><br><span class="line">-s&lt;ç§’æ•°&gt;æˆ–â€”â€”sleep-interal=&lt;ç§’æ•°&gt;ï¼šä¸â€œ-fâ€é€‰é¡¹è¿ç”¨ï¼ŒæŒ‡å®šç›‘è§†æ–‡ä»¶å˜åŒ–æ—¶é—´éš”çš„ç§’æ•°ï¼› (å¸¸ç”¨)</span><br><span class="line">-væˆ–â€”â€”verboseï¼šå½“æœ‰å¤šä¸ªæ–‡ä»¶å‚æ•°æ—¶ï¼Œæ€»æ˜¯è¾“å‡ºå„ä¸ªæ–‡ä»¶åï¼›</span><br></pre></td></tr></table></figure></p>
<p>å®é™…æ¡ˆä¾‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¤ºä¾‹1.ç®€å•ç›‘æ§æŸ¥çœ‹æ›´æ–°æ–‡ä»¶3è¡Œ</span></span><br><span class="line">tail -f -n 3 -s 3 /var/<span class="built_in">log</span>/messages  <span class="comment">#æ¯3ç§’æ›´æ–°</span></span><br><span class="line">Jun 26 08:01:01 master systemd: Removed slice User Slice of root.</span><br><span class="line">Jun 26 09:01:01 master systemd: Created slice User Slice of root.</span><br><span class="line">Jun 26 09:01:01 master systemd: Started Session 25 of user root.</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹2.ç®€å•ä½¿ç”¨</span></span><br><span class="line">tail file       <span class="comment"># é»˜è®¤æ˜¾ç¤ºæ–‡ä»¶fileçš„æœ€å10è¡Œ</span></span><br><span class="line">tail +20 file   <span class="comment"># æ˜¾ç¤ºæ–‡ä»¶fileçš„å†…å®¹ï¼Œä»ç¬¬20è¡Œè‡³æ–‡ä»¶æœ«å°¾</span></span><br><span class="line">tail -c 10 file <span class="comment"># æ˜¾ç¤ºæ–‡ä»¶fileçš„æœ€å10ä¸ªå­—ç¬¦</span></span><br><span class="line">tail -n 4 file  <span class="comment"># æ˜¾ç¤ºæ–‡ä»¶fileçš„æœ€åå››è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹3.headä¸tailè”åˆä½¿ç”¨å–æ–‡ä»¶çš„11è¡Œåˆ°20è¡Œ</span></span><br><span class="line">head -n 20 demo.txt | tail -n 10</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹4.ä»ç¬¬äºŒè¡Œæ˜¾ç¤ºåˆ°æœ«å°¾</span></span><br><span class="line">cat /etc/passwd | tail -n+2</span><br></pre></td></tr></table></figure></p>
<p><em>æ³¨æ„äº‹é¡¹</em>ï¼š</p>
<ul>
<li>å¦‚æœè¡¨ç¤ºå­—èŠ‚æˆ–è¡Œæ•°çš„Nå€¼ä¹‹å‰æœ‰ä¸€ä¸ªâ€+â€å·ï¼Œåˆ™ä»æ–‡ä»¶å¼€å¤´çš„ç¬¬Né¡¹å¼€å§‹æ˜¾ç¤ºï¼Œè€Œä¸æ˜¯æ˜¾ç¤ºæ–‡ä»¶çš„æœ€åNé¡¹ã€‚</li>
<li>Nå€¼åé¢å¯ä»¥æœ‰åç¼€ï¼šbè¡¨ç¤º512ï¼Œkè¡¨ç¤º1024ï¼Œmè¡¨ç¤º1048576(1M)ã€‚</li>
</ul>
<p><br></p>
<h5 id="watch-å‘½ä»¤"><a href="#watch-å‘½ä»¤" class="headerlink" title="watch å‘½ä»¤"></a>watch å‘½ä»¤</h5><p>æè¿°ï¼šç›‘æµ‹ä¸€ä¸ªå‘½ä»¤çš„è¿è¡Œç»“æœï¼Œçœçš„ä½ ä¸€ééçš„æ‰‹åŠ¨è¿è¡Œï¼Œåœ¨Linuxä¸‹ï¼Œwatchæ˜¯å‘¨æœŸæ€§çš„æ‰§è¡Œä¸‹ä¸ªç¨‹åºï¼Œå¹¶å…¨å±æ˜¾ç¤ºæ‰§è¡Œçš„ç»“æœ;</p>
<ul>
<li>å‘½ä»¤åŠŸèƒ½ï¼šå¯ä»¥å°†å‘½ä»¤çš„è¾“å‡ºç»“æœè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ï¼Œå¤šç”¨äºå‘¨æœŸæ€§æ‰§è¡Œå‘½ä»¤/å®šæ—¶æ‰§è¡Œå‘½ä»¤</li>
<li>æ¯”å¦‚ tail ä¸€ä¸ª log æ–‡ä»¶ï¼Œls ç›‘æµ‹æŸä¸ªæ–‡ä»¶çš„å¤§å°å˜åŒ–</li>
</ul>
<p>è¯­æ³•å‚æ•°ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å‘½ä»¤æ ¼å¼ï¼š</span></span><br><span class="line">ã€€ã€€ã€€ã€€watch[ å‚æ•° ][å‘½ä»¤]</span><br><span class="line"><span class="comment">#å‘½ä»¤å‚æ•°ï¼š</span></span><br><span class="line">-næˆ–--interval watch ç¼ºçœæ¯2ç§’è¿è¡Œä¸€ä¸‹ç¨‹åºï¼Œå¤šç”¨äºå‘¨æœŸæ€§æ‰§è¡Œå‘½ä»¤/å®šæ—¶æ‰§è¡Œå‘½ä»¤ã€‚</span><br><span class="line">-dæˆ–-differences watch ä¼šé«˜äº®æ˜¾ç¤ºå˜åŒ–çš„åŒºåŸŸï¼Œè€Œ-d = cumulative é€‰é¡¹ä¼šæŠŠå˜åŠ¨è¿‡çš„åœ°æ–¹ï¼ˆä¸ç®¡æœ€è¿‘çš„é‚£æ¬¡æœ‰æ²¡æœ‰å˜åŠ¨ï¼‰éƒ½ä¼šé«˜äº®æ˜¾ç¤ºå‡ºæ¥ã€‚</span><br><span class="line">-tæˆ–-no-title ä¼šå…³é—­watch å‘½ä»¤åœ¨é¡¶éƒ¨çš„æ—¶é—´é—´éš”å‘½ä»¤ï¼Œ</span><br></pre></td></tr></table></figure></p>
<p>å®é™…æ¡ˆä¾‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">watch -n 2 tail -20 /var/<span class="built_in">log</span>/messages æ¯éš”ä¸¤ç§’é’Ÿè·³ä¸€ä¸‹æœ€å20è¡Œçš„å†…å®¹æŸ¥çœ‹äº‹å®çš„ä¿¡æ¯</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®ä¾‹1ï¼šæ¯éš”ä¸€ç§’é«˜äº®æ˜¾ç¤ºç½‘ç»œé“¾æ¥æ•°çš„å˜åŒ–æƒ…å†µ (é‡è¦)</span></span><br><span class="line">å‘½ä»¤ã€€watch -n 1 -d netstat  -ant </span><br><span class="line"></span><br><span class="line"><span class="comment">#å®ä¾‹2ï¼šæ¯éš”ä¸€ç§’é«˜äº®æ˜¾ç¤ºå‘½ä»¤é“¾æ¥æ•°çš„å˜åŒ–æƒ…å†µ</span></span><br><span class="line">å‘½ä»¤ã€€watch -n 1 -d <span class="string">' pstree | grep http '</span>   <span class="comment">#æ¯éš”ä¸€ç§’é«˜äº®æ˜¾ç¤ºhttp é“¾æ¥æ•°çš„å˜åŒ–æƒ…å†µï¼Œåé¢æ¥çš„å‘½ä»¤è‹¥å¸¦æœ‰ç®¡é“ç¬¦ï¼Œéœ€è¦åŠ â€œå°†å‘½ä»¤åŒºåŸŸå½’æ•´â€ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å®ä¾‹3ï¼šå®æ—¶æŸ¥çœ‹æ¨¡æ‹Ÿæ”»å‡»å®¢æˆ·æœºå»ºç«‹èµ·æ¥çš„é“¾æ¥æ•°</span></span><br><span class="line">å‘½ä»¤ã€€watch <span class="string">'netstat -an | grep:21 | \grep&lt;æ¨¡æ‹Ÿæ”»å‡»å®¢æˆ·æœºçš„IP&gt; wc -1'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#å®ä¾‹4ï¼šæ£€æµ‹å½“å‰ç›®å½•ä¸­ scf ' çš„æ–‡ä»¶çš„å˜åŒ–</span></span><br><span class="line">å‘½ä»¤ï¼šwatch -d <span class="string">'ls -l | grep scf'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å®ä¾‹5:10ç§’ä¸€æ¬¡è¾“å‡ºç³»ç»Ÿçš„å¹³å‡è´Ÿè½½</span></span><br><span class="line">å‘½ä»¤ï¼šwatch -n  10 <span class="string">' cat /proc/loadavg'</span></span><br></pre></td></tr></table></figure><br><figure class="image-box">
                <a rel=æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190626102609.png" target="_blank" title="WeiyiGeek.watchç¤ºä¾‹" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190626102609.png" alt="WeiyiGeek.watchç¤ºä¾‹" title="" class=""></a>
                <p>WeiyiGeek.watchç¤ºä¾‹</p>
            </figure></p>
<p><br></p>
<h5 id="wc-å‘½ä»¤"><a href="#wc-å‘½ä»¤" class="headerlink" title="wc å‘½ä»¤"></a>wc å‘½ä»¤</h5><p>æè¿°ï¼šç”¨äºç»Ÿè®¡æ–‡æœ¬ä¸­è¡Œæ•°çš„å•è¯æ•°ä»¥åŠå­—èŠ‚æ•°;<br>å‚æ•°ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">wcã€é€‰é¡¹ã€‘ã€æ–‡ä»¶åã€‘   <span class="comment">#å­—ç¬¦/è¡Œæ•°/å­—èŠ‚æ‰€ç»Ÿè®¡</span></span><br><span class="line"><span class="comment">#é€‰é¡¹ï¼š</span></span><br><span class="line">-l ç»Ÿè®¡è¡Œæ•°</span><br><span class="line">-w ç»Ÿè®¡å•è¯æ•°</span><br><span class="line">-c ç»Ÿè®¡å­—èŠ‚æ•°</span><br><span class="line">-m ç»Ÿè®¡å­—ç¬¦æ•°(å¯¹äºä¸­æ–‡)</span><br><span class="line">-L ç»Ÿè®¡å­—ç¬¦ä¸²é•¿åº¦</span><br></pre></td></tr></table></figure></p>
<p>å®é™…æ“ä½œï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤ºä¾‹1.æ˜¾ç¤ºæ–‡ä»¶çš„å†…å®¹ä¿¡æ¯</span></span><br><span class="line"><span class="variable">$wc</span> run.js</span><br><span class="line">9  26 251 run.js   <span class="comment">#'è¡Œæ•°' 'å•è¯æ•°' 'å­—èŠ‚æ•°' install.log</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å…¶ä»–ç¤ºä¾‹</span></span><br><span class="line">wc -c test.txt  <span class="comment">#æ˜¾ç¤ºå­—èŠ‚æ•°ä¸­åˆä¹Ÿæ˜¾ç¤º1ä¸ªå­—èŠ‚</span></span><br><span class="line">wc -m test.txt  <span class="comment">#ä¸»è¦é’ˆå¯¹äºä¸­åˆå­—ç¬¦(ä¸¤ä¸ªå­—èŠ‚)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹3.éªŒè¯æ–‡ä»¶å­—ç¬¦é•¿åº¦</span></span><br><span class="line">$ <span class="built_in">echo</span> 1234567890 &gt; www.txt</span><br><span class="line">$ <span class="built_in">echo</span> 1234567890 | wc -L <span class="comment"># é•¿åº¦ä¸º10  ï¼ˆé‡ç‚¹ï¼‰</span></span><br><span class="line">$ cat www.txt | wc -L     <span class="comment">#é•¿åº¦ä¸º10</span></span><br></pre></td></tr></table></figure><br><figure class="image-box">
                <a rel=æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190627221432.png" target="_blank" title="WeiyiGeek.wcç¤ºä¾‹" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190627221432.png" alt="WeiyiGeek.wcç¤ºä¾‹" title="" class=""></a>
                <p>WeiyiGeek.wcç¤ºä¾‹</p>
            </figure></p>
<p><br></p>
<h5 id="stat-å‘½ä»¤"><a href="#stat-å‘½ä»¤" class="headerlink" title="stat å‘½ä»¤"></a>stat å‘½ä»¤</h5><p>æè¿°:æ˜¾ç¤ºæ–‡ä»¶æˆ–æ–‡ä»¶ç³»ç»Ÿçš„çŠ¶æ€,æ˜¾ç¤ºå‡ºæ–‡ä»¶çš„å¤§å°ä»¥åŠå—å¤§å†™æ‰€å±æƒé™ç”¨æˆ·ç»„å’Œåˆ›ä¿®è®¿é—®æ—¶é—´ã€‚</p>
<p><strong>è¯­æ³•å’Œå‚æ•°:</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">stat</span> [é€‰é¡¹]... æ–‡ä»¶</span><br><span class="line"><span class="comment"># å¿…é€‰å‚æ•°å¯¹é•¿çŸ­é€‰é¡¹åŒæ—¶é€‚ç”¨ã€‚</span></span><br><span class="line">-L, --dereference     è·Ÿéšé“¾æ¥</span><br><span class="line">-f, --file-system     æ˜¾ç¤ºæ–‡ä»¶ç³»ç»ŸçŠ¶æ€è€Œéæ–‡ä»¶çŠ¶æ€</span><br><span class="line">-c  --format=FORMAT   use the specified FORMAT instead of the default;output a newline after each use of FORMAT</span><br><span class="line">--<span class="built_in">printf</span>=FORMAT       Like --format, but interpret backslash escapes,and <span class="keyword">do</span> not output a mandatory trailing newline; <span class="keyword">if</span> you want a newline, include \n <span class="keyword">in</span> FORMAT</span><br><span class="line">-t, --terse           ä»¥ç®€æ´æ–¹å¼è¾“å‡ºä¿¡æ¯ï¼›</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¼å¼åŒ–å­—ç¬¦ä¸²</span></span><br><span class="line">The valid format sequences <span class="keyword">for</span> files (without --file-system):</span><br><span class="line">  %a   access rights <span class="keyword">in</span> octal</span><br><span class="line">  %A   access rights <span class="keyword">in</span> human readable form</span><br><span class="line">  %b   number of blocks allocated (see %B)</span><br><span class="line">  %B   the size <span class="keyword">in</span> bytes of each block reported by %b</span><br><span class="line">  %C   SELinux security context string</span><br><span class="line">  %d   device number <span class="keyword">in</span> decimal</span><br><span class="line">  %D   device number <span class="keyword">in</span> hex</span><br><span class="line">  %f   raw mode <span class="keyword">in</span> hex</span><br><span class="line">  %F   file <span class="built_in">type</span></span><br><span class="line">  %g   group ID of owner</span><br><span class="line">  %G   group name of owner</span><br><span class="line">  %h   number of hard links</span><br><span class="line">  %i   inode number</span><br><span class="line">  %m   mount point</span><br><span class="line">  %n   file name</span><br><span class="line">  %N   quoted file name with dereference <span class="keyword">if</span> symbolic link</span><br><span class="line">  %o   optimal I/O transfer size hint</span><br><span class="line">  %s   total size, <span class="keyword">in</span> bytes</span><br><span class="line">  %t   major device <span class="built_in">type</span> <span class="keyword">in</span> hex, <span class="keyword">for</span> character/block device special files</span><br><span class="line">  %T   minor device <span class="built_in">type</span> <span class="keyword">in</span> hex, <span class="keyword">for</span> character/block device special files</span><br><span class="line">  %u   user ID of owner</span><br><span class="line">  %U   user name of owner</span><br><span class="line">  %w   time of file birth, human-readable; - <span class="keyword">if</span> unknown</span><br><span class="line">  %W   time of file birth, seconds since Epoch; 0 <span class="keyword">if</span> unknown</span><br><span class="line">  %x   time of last access, human-readable</span><br><span class="line">  %X   time of last access, seconds since Epoch</span><br><span class="line">  %y   time of last modification, human-readable</span><br><span class="line">  %Y   time of last modification, seconds since Epoch</span><br><span class="line">  %z   time of last change, human-readable</span><br><span class="line">  %Z   time of last change, seconds since Epoch</span><br><span class="line"></span><br><span class="line">Valid format sequences <span class="keyword">for</span> file systems:</span><br><span class="line">  %a   free blocks available to non-superuser</span><br><span class="line">  %b   total data blocks <span class="keyword">in</span> file system</span><br><span class="line">  %c   total file nodes <span class="keyword">in</span> file system</span><br><span class="line">  %d   free file nodes <span class="keyword">in</span> file system</span><br><span class="line">  %f   free blocks <span class="keyword">in</span> file system</span><br><span class="line">  %i   file system ID <span class="keyword">in</span> hex</span><br><span class="line">  %l   maximum length of filenames</span><br><span class="line">  %n   file name</span><br><span class="line">  %s   block size (<span class="keyword">for</span> faster transfers)</span><br><span class="line">  %S   fundamental block size (<span class="keyword">for</span> block counts)</span><br><span class="line">  %t   file system <span class="built_in">type</span> <span class="keyword">in</span> hex</span><br><span class="line">  %T   file system <span class="built_in">type</span> <span class="keyword">in</span> human readable form</span><br><span class="line"></span><br><span class="line">--terse ç­‰åŒäºä»¥ä¸‹æ ¼å¼: %n %s %b %f %u %g %D %i %h %t %T %X %Y %Z %W %o %C</span><br><span class="line">--terse --file-system ç­‰åŒäºä»¥ä¸‹æ ¼å¼: %n %i %l %t %s %S %b %f %a %c %d</span><br></pre></td></tr></table></figure></p>
<p><strong>å®é™…æ¡ˆä¾‹:</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å®ä¾‹1.å¸¸è§„å½¢å¼æ‰“å°æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">stat</span> weiyigeek.txt</span><br><span class="line">æ–‡ä»¶ï¼šweiyigeek.txt</span><br><span class="line"><span class="comment">#   å¤§å°ï¼š15              å—ï¼š8          IO å—ï¼š4096   æ™®é€šæ–‡ä»¶</span></span><br><span class="line"><span class="comment"># è®¾å¤‡ï¼šfe00h/65024d      Inodeï¼š2105407     ç¡¬é“¾æ¥ï¼š1</span></span><br><span class="line"><span class="comment"># æƒé™ï¼š(0644/-rw-r--r--)  Uidï¼š(    0/    root)   Gidï¼š(    0/    root)</span></span><br><span class="line"><span class="comment"># æœ€è¿‘è®¿é—®ï¼š2026-07-22 01:29:48.574588495 +0800 Access Time</span></span><br><span class="line"><span class="comment"># æœ€è¿‘æ›´æ”¹ï¼š2026-07-22 01:29:45.246588379 +0800 Modifiy Time</span></span><br><span class="line"><span class="comment"># æœ€è¿‘æ”¹åŠ¨ï¼š2026-07-22 01:29:45.246588379 +0800 Change Time</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹2.æ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿçš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">stat</span> -f /etc/passwd</span><br><span class="line"><span class="comment">#   æ–‡ä»¶ï¼š"/etc/passwd"</span></span><br><span class="line"><span class="comment">#     IDï¼šfd0000000000 æ–‡ä»¶åé•¿åº¦ï¼š255     ç±»å‹ï¼šxfs</span></span><br><span class="line"><span class="comment"># å—å¤§å°ï¼š4096       åŸºæœ¬å—å¤§å°ï¼š4096</span></span><br><span class="line"><span class="comment">#     å—ï¼šæ€»è®¡ï¼š11821425   ç©ºé—²ï¼š10717632   å¯ç”¨ï¼š10717632</span></span><br><span class="line"><span class="comment"># Inodes: æ€»è®¡ï¼š23654400   ç©ºé—²ï¼š23573486</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#å®ä¾‹3.ç”¨ç®€æ´çš„å½¢å¼æ‰“å°ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">stat</span> -t weiyigeek.txt</span><br><span class="line"><span class="comment"># weiyigeek.txt 15 8 81a4 0 0 fe00 2105407 1 0 0 1784654988 1784654985 1784654985 0 4096</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹4.-cé€‰é¡¹çš„å¦™ç”¨</span></span><br><span class="line"><span class="built_in">stat</span> -c <span class="string">"%a %A %u %U %g %G"</span> /etc/passwd <span class="comment">#æ–‡ä»¶æƒé™å®Œæ•´æ˜¾ç¤ºæ–‡ä»¶çš„æƒé™ä»¥å…«è¿›åˆ¶</span></span><br><span class="line"><span class="comment"># 644 -rw-r--r-- 0 root 0 root</span></span><br><span class="line"><span class="built_in">stat</span> -c <span class="string">"%i %f %F %h"</span> /etc/passwd      <span class="comment">#æ–‡ä»¶ä¿¡æ¯å®Œæ•´æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># 33582780 81a4 æ™®é€šæ–‡ä»¶ 1</span></span><br><span class="line"><span class="built_in">stat</span> -c <span class="string">"%s %b %B"</span> /etc/passwd  <span class="comment">#æ–‡ä»¶å¤§å°ä»¥byteä»¥åŠå—å¤§å°å’Œä¸ªå—çš„å­—èŠ‚å¤§å°</span></span><br><span class="line"><span class="comment"># 1034 8 512</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹5.-Lï¼Œè·Ÿè¸ªæ˜¾ç¤ºé“¾æ¥æ–‡ä»¶ä¿¡æ¯</span></span><br><span class="line">ls -alh phantomjs</span><br><span class="line"><span class="comment"># lrwxrwxrwx. 1 root root 38 5æœˆ  29 11:41 phantomjs -&gt; /usr/local/src/phantomjs/bin/phantomjs</span></span><br><span class="line"><span class="built_in">stat</span> -L phantomjs</span><br><span class="line"><span class="comment">#   æ–‡ä»¶ï¼š"phantomjs"</span></span><br><span class="line"><span class="comment">#   å¤§å°ï¼š67932064        å—ï¼š132680     IO å—ï¼š4096   æ™®é€šæ–‡ä»¶</span></span><br><span class="line"><span class="comment"># è®¾å¤‡ï¼šfd00h/64768d      Inodeï¼š34604541    ç¡¬é“¾æ¥ï¼š1</span></span><br><span class="line"><span class="comment"># æƒé™ï¼š(0755/-rwxr-xr-x)  Uidï¼š(    0/    root)   Gidï¼š(    0/    root)</span></span><br><span class="line"><span class="comment"># ç¯å¢ƒï¼šunconfined_u:object_r:admin_home_t:s0</span></span><br><span class="line"><span class="comment"># æœ€è¿‘è®¿é—®ï¼š2020-07-01 08:30:01.326875354 +0800</span></span><br><span class="line"><span class="comment"># æœ€è¿‘æ›´æ”¹ï¼š2016-01-25 09:01:06.000000000 +0800</span></span><br><span class="line"><span class="comment"># æœ€è¿‘æ”¹åŠ¨ï¼š2020-05-29 11:41:42.369696124 +0800</span></span><br><span class="line"><span class="comment"># åˆ›å»ºæ—¶é—´ï¼š-</span></span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h5 id="jq-å‘½ä»¤"><a href="#jq-å‘½ä»¤" class="headerlink" title="jq å‘½ä»¤"></a>jq å‘½ä»¤</h5><p>æè¿°:jqå®ƒèƒ½è½»æ¾åœ°æŠŠä½ æ‹¥æœ‰çš„æ•°æ®è½¬æ¢æˆä½ æœŸæœ›çš„æ ¼å¼ï¼Œè€Œä¸”éœ€è¦å†™çš„ç¨‹åºé€šå¸¸ä¹Ÿæ¯”ä½ æœŸæœ›çš„æ›´åŠ ç®€çŸ­ã€‚<code>å®ƒå¯ä»¥å¯¹jsonæ•°æ®è¿›è¡Œåˆ†ç‰‡ã€è¿‡æ»¤ã€æ˜ å°„å’Œè½¬æ¢</code>ï¼Œå’Œsedã€awkã€grepç­‰å‘½ä»¤ä¸€æ ·ï¼Œéƒ½å¯ä»¥è®©ä½ è½»æ¾åœ°æŠŠç©æ–‡æœ¬ã€‚</p>
<p>åŸºç¡€è¯­æ³•:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Usage: jq [options] &lt;jq filter&gt; [file...]</span><br><span class="line">-c å•è¡Œè¾“å‡ºjsonå­—ç¬¦ä¸²;</span><br><span class="line">-n ä½¿ç”¨â€œnullâ€ä½œä¸ºå•ä¸ªè¾“å…¥å€¼;</span><br><span class="line">-e è®¾ç½®è¾“å‡ºæ—¶å€™çš„é€€å‡ºçŠ¶æ€ç ï¼›</span><br><span class="line">-s               <span class="built_in">read</span> (slurp) all inputs into an array; apply filter to it;</span><br><span class="line">-r               output raw strings, not JSON texts; è¾“å‡ºåŸå§‹å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯JSONæ–‡æœ¬;</span><br><span class="line">-R               <span class="built_in">read</span> raw strings, not JSON texts;</span><br><span class="line">-C               colorize JSON;</span><br><span class="line">-M               monochrome (dont colorize JSON);</span><br><span class="line">-S               sort keys of objects on output;</span><br><span class="line">--tab            use tabs <span class="keyword">for</span> indentation;</span><br><span class="line">--arg a v        <span class="built_in">set</span> variable <span class="variable">$a</span> to value &lt;v&gt;;</span><br><span class="line">--argjson a v    <span class="built_in">set</span> variable <span class="variable">$a</span> to JSON value &lt;v&gt;;</span><br><span class="line">--slurpfile a f  <span class="built_in">set</span> variable <span class="variable">$a</span> to an array of JSON texts <span class="built_in">read</span> from &lt;f&gt;;</span><br><span class="line">--rawfile a f    <span class="built_in">set</span> variable <span class="variable">$a</span> to a string consisting of the contents of &lt;f&gt;;</span><br><span class="line">--args           remaining arguments are string arguments, not files;</span><br><span class="line">--jsonargs       remaining arguments are JSON arguments, not files;</span><br></pre></td></tr></table></figure></p>
<p><em>æ³¨æ„äº‹é¡¹:</em></p>
<ul>
<li>jqå‘½ä»¤ä¸æ˜¯ç³»ç»Ÿè‡ªå¸¦çš„åœ¨linuxç³»ç»Ÿä¸­ä¹Ÿå¯ä»¥ç›´æ¥ç”¨yumå®‰è£…<ul>
<li>ä¸‹è½½é¡µé¢: <a href="https://stedolan.github.io/jq/download/" target="_blank" rel="noopener">https://stedolan.github.io/jq/download/</a></li>
<li>å¸®åŠ©æ–‡æ¡£: <a href="https://stedolan.github.io/jq/tutorial/" target="_blank" rel="noopener">https://stedolan.github.io/jq/tutorial/</a></li>
</ul>
</li>
<li>jqå‘½ä»¤æ˜¯ç”¨Cç¼–å†™æ²¡æœ‰è¿è¡Œæ—¶ä¾èµ–ï¼Œæ‰€ä»¥å‡ ä¹å¯ä»¥è¿è¡Œåœ¨ä»»ä½•ç³»ç»Ÿä¸Šã€‚é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶å¯ä»¥ç›´æ¥åœ¨Linuxã€OS Xå’Œwindowsç³»ç»Ÿä¸Šè¿è¡Œï¼Œå½“ç„¶åœ¨linuxå’ŒOS Xç³»ç»Ÿä½ éœ€è¦èµ‹ä¸å…¶å¯æ‰§è¡Œæƒé™ï¼›</li>
</ul>
<p>åŸºç¡€ç¤ºä¾‹:ä¾‹å­æ–‡ä»¶åœ¨æ–‡ä»¶json.txtä¸­ä¿å­˜å¦‚ä¸‹å†…å®¹<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#123;<span class="attr">"name"</span>:<span class="string">"WeiyiGeek"</span>,<span class="attr">"url"</span>:<span class="string">"http://tool.chinaz.com"</span>,<span class="attr">"address"</span>:&#123;<span class="attr">"city"</span>:<span class="string">"xiameng"</span>,<span class="attr">"country"</span>:<span class="string">"China"</span>&#125;,<span class="attr">"arrayBrowser"</span>:[&#123;<span class="attr">"name"</span>:<span class="string">"Google"</span>,<span class="attr">"url"</span>:<span class="string">"http://www.google.com"</span>&#125;,&#123;<span class="attr">"name"</span>:<span class="string">"Baidu"</span>,<span class="attr">"url"</span>:<span class="string">"http://www.baidu.com"</span>&#125;]&#125;,&#123;<span class="attr">"name"</span>:<span class="string">"WeiyiGeek"</span>,<span class="attr">"url"</span>:<span class="string">"http://tool.zzhome.com"</span>,<span class="attr">"address"</span>:&#123;<span class="attr">"city"</span>:<span class="string">"dalian"</span>,<span class="attr">"country"</span>:<span class="string">"China"</span>&#125;,<span class="attr">"arrayBrowser"</span>:[&#123;<span class="attr">"name"</span>:<span class="string">"360"</span>,<span class="attr">"url"</span>:<span class="string">"http://www.so.com"</span>&#125;,&#123;<span class="attr">"name"</span>:<span class="string">"bing"</span>,<span class="attr">"url"</span>:<span class="string">"http://www.bing.com"</span>&#125;]&#125;]</span><br></pre></td></tr></table></figure><br><br></p>
<ol>
<li><p>æœ€ç®€å•çš„jqç¨‹åºæ˜¯è¡¨è¾¾å¼â€.â€ ä¸ªäººç†è§£ä¸ºæ ¹ï¼Œå®ƒä¸æ”¹å˜è¾“å…¥ï¼Œä½†å¯ä»¥å°†å…¶ä¼˜ç¾åœ°è¾“å‡ºä¾¿äºé˜…è¯»å’Œç†è§£</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">'&#123;"foo": 0,"bar":1&#125;'</span> | ./jq .</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"foo"</span>: 0,</span><br><span class="line">  <span class="string">"bar"</span>: 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cat &gt; json.txt &lt;&lt;<span class="string">'EOF'</span></span><br><span class="line">[&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"WeiyiGeek"</span>,</span><br><span class="line">  <span class="string">"url"</span>: <span class="string">"http://tool.chinaz.com"</span>,</span><br><span class="line">  <span class="string">"address"</span>: &#123;</span><br><span class="line">    <span class="string">"city"</span>: <span class="string">"å¦é—¨"</span>,</span><br><span class="line">    <span class="string">"country"</span>: <span class="string">"China"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"Weiyi"</span>,</span><br><span class="line">  <span class="string">"url"</span>: <span class="string">"http://tool.chinaz.com"</span>,</span><br><span class="line">  <span class="string">"address"</span>: &#123;</span><br><span class="line">    <span class="string">"city"</span>: <span class="string">"é•¿æ²™"</span>,</span><br><span class="line">    <span class="string">"country"</span>: <span class="string">"China"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;]</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨[index]ï¼Œä¹Ÿå¯ä»¥è¾“å‡ºæŒ‡å®šå­—ç¬¦ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">cat json.txt | jq <span class="string">'.'</span> <span class="comment">#æ–¹å¼1.å¯ä»¥é‡‡ç”¨ç®¡é“ç¬¦ä¼ é€’æ•°æ®</span></span><br><span class="line">jq <span class="string">'.'</span> json.txt       <span class="comment">#æ–¹å¼2.ç¾åŒ–è¾“å‡º</span></span><br><span class="line">jq -r <span class="string">'.'</span> json.txt  </span><br><span class="line"></span><br><span class="line"><span class="comment">#å¦‚æœjsonæ˜¯æ•°ç»„çš„è¯ï¼Œå¯ä»¥é‡‡ç”¨æ­¤ç§æ–¹æ³•;</span></span><br><span class="line">jq -r <span class="string">'.[0]'</span> json.txt </span><br><span class="line">jq <span class="string">'.[0]'</span> json.txt</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"WeiyiGeek"</span>,</span><br><span class="line">  <span class="string">"url"</span>: <span class="string">"http://tool.chinaz.com"</span>,</span><br><span class="line">  <span class="string">"address"</span>: &#123;</span><br><span class="line">    <span class="string">"city"</span>: <span class="string">"å¦é—¨"</span>,</span><br><span class="line">    <span class="string">"country"</span>: <span class="string">"China"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#éå†è®¿é—®æ¯ä¸ªå…ƒç´ çš„å±æ€§</span></span><br><span class="line">jq -r <span class="string">".[].name"</span> json.txt</span><br><span class="line">WeiyiGeek</span><br><span class="line">Weiyi</span><br></pre></td></tr></table></figure>
</li>
<li><p>jqæ”¯æŒç®¡é“çº¿|ï¼Œå®ƒå¦‚åŒlinuxå‘½ä»¤ä¸­çš„ç®¡é“çº¿â€”â€”æŠŠå‰é¢å‘½ä»¤çš„è¾“å‡ºå½“ä½œæ˜¯åé¢å‘½ä»¤çš„è¾“å…¥</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">cat json.txt | jq <span class="string">'.[0] | &#123;name:.name,city:.address.city&#125;'</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"WeiyiGeek"</span>,</span><br><span class="line">  <span class="string">"city"</span>: <span class="string">"å¦é—¨"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#å€¼å¾—æ³¨æ„çš„åœ°æ–¹ [] ç´¢å¼•å€¼</span></span><br><span class="line">cat json.txt | jq <span class="string">'.[0] | &#123;name:.arrayBrowser[1].name,city:.address.city&#125;'</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"Baidu"</span>,</span><br><span class="line">  <span class="string">"city"</span>: <span class="string">"å¦é—¨"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#éå†æ•°ç»„ï¼Œæ³¨æ„ä¸‹é¢çš„[]æ²¡æœ‰åŠ ä¸Šç´¢å¼•é»˜è®¤æ˜¯å…¨éƒ¨æ»¡è¶³æ¡ä»¶çš„</span></span><br><span class="line">cat json.txt | jq <span class="string">".[] | &#123;name:.arrayBrowser[1].name,city:.address.city&#125;"</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"Baidu"</span>,</span><br><span class="line">  <span class="string">"city"</span>: <span class="string">"å¦é—¨"</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"bing"</span>,</span><br><span class="line">  <span class="string">"city"</span>: <span class="string">"å¤§è¿"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœå¸Œæœ›æŠŠjqçš„è¾“å‡ºå½“ä½œä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥åœ¨å‰ååŠ ä¸Š[]ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cat json.txt | jq <span class="string">"[.[] | &#123;name:.arrayBrowser[1].name,city:.address.city&#125;]"</span></span><br><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"Baidu"</span>,</span><br><span class="line">    <span class="string">"city"</span>: <span class="string">"å¦é—¨"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"bing"</span>,</span><br><span class="line">    <span class="string">"city"</span>: <span class="string">"å¤§è¿"</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><br></p>
<ol start="5">
<li><p>è‡ªå®šä¹‰keyåœ¨{}ä¸­å†’å·å‰é¢çš„åå­—æ˜¯æ˜ å°„çš„åç§°ï¼Œä½ å¯ä»¥ä»»æ„ä¿®æ”¹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">cat json.txt | jq <span class="string">"[.[] | &#123;name_001:.arrayBrowser[1].name,city_002:.address.city&#125;]"</span></span><br><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">"name_001"</span>: <span class="string">"Baidu"</span>,</span><br><span class="line">    <span class="string">"city_002"</span>: <span class="string">"å¦é—¨"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">"name_001"</span>: <span class="string">"bing"</span>,</span><br><span class="line">    <span class="string">"city_002"</span>: <span class="string">"å¤§è¿"</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¡¥å……</span></span><br><span class="line">curl -s -u <span class="string">'weiyigeek:123456'</span> -H <span class="string">'Accept: application/vnd.docker.distribution.manifest.v2+json'</span> -X GET https://localhost/v2/library/alpine/manifests/3.12 | jq <span class="string">'.layers[0]'</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"mediaType"</span>: <span class="string">"application/vnd.docker.image.rootfs.diff.tar.gzip"</span>,</span><br><span class="line">  <span class="string">"size"</span>: 2797541,</span><br><span class="line">  <span class="string">"digest"</span>: <span class="string">"sha256:df20fa9351a15782c64e6dddb2d4a6f50bf6d3688060a34c4014b0d9a752eb4c"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å†…å»ºå‡½æ•°jqè¿˜æœ‰ä¸€äº›å†…å»ºå‡½æ•°å¦‚ keyï¼Œhas(ç”¨æ¥æ˜¯åˆ¤æ–­æ˜¯å¦å­˜åœ¨æŸä¸ªkey)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ¯”å¦‚keyæ˜¯ç”¨æ¥è·å–JSONä¸­çš„keyå…ƒç´ çš„ï¼š</span></span><br><span class="line">$ jq <span class="string">'keys'</span> json.txt</span><br><span class="line">[</span><br><span class="line">  0,</span><br><span class="line">  1</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¯”å¦‚hasæ˜¯ç”¨æ¥æ˜¯åˆ¤æ–­æ˜¯å¦å­˜åœ¨æŸä¸ªkeyï¼Œæ³¨æ„è¿™é‡Œç”±äºå’Œshellä¸­çš„&#123;&#125;å†²çªæ‰€ä»¥ç”¨()</span></span><br><span class="line">[root@192 ~]<span class="comment"># jq 'has(2)' json.txt</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line">[root@192 ~]<span class="comment"># jq 'has(1)' json.txt</span></span><br><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æå–æŒ‡å®šçš„å¤šä¸ªjsonå­—æ®µ(é‡ç‚¹)ï¼Œéå†æ•°ç»„é‡‡ç”¨[]</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ jq -r <span class="string">'.[1].name+","+(.[1].url|tostring)'</span> json.txt</span><br><span class="line">Weiyi,http://tool.chinaz.com</span><br><span class="line"></span><br><span class="line">$ jq -r <span class="string">'.[].name+","+(.[1].url|tostring)+","+.[].address.city'</span> json.txt</span><br><span class="line">WeiyiGeek,http://tool.chinaz.com,å¦é—¨</span><br><span class="line">Weiyi,http://tool.chinaz.com,å¦é—¨</span><br><span class="line">WeiyiGeek,http://tool.chinaz.com,é•¿æ²™</span><br><span class="line">Weiyi,http://tool.chinaz.com,é•¿æ²™</span><br></pre></td></tr></table></figure>
</li>
<li><p>è°ƒç”¨æ•°ç»„çš„joinæ–¹æ³•ï¼Œæ¥å°†æ•°ç»„è½¬æ¢æˆæ‹¼æ¥å­—ç¬¦ä¸²ï¼Œ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">jq -r <span class="string">"[.[].name]"</span> json.txt</span><br><span class="line">[</span><br><span class="line">  <span class="string">"WeiyiGeek"</span>,</span><br><span class="line">  <span class="string">"Weiyi"</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">#å­—ç¬¦ä¸²æ‹¼æ¥</span></span><br><span class="line">jq -r <span class="string">'[.[].name]|join(",")'</span> json.txt</span><br><span class="line">WeiyiGeek,Weiyi</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŒ‡å®šæ ¼å¼è¾“å‡º</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">jq -r <span class="string">'[.[].name,.[].url]|@text'</span> json.txt</span><br><span class="line">[<span class="string">"WeiyiGeek"</span>,<span class="string">"Weiyi"</span>,<span class="string">"http://tool.chinaz.com"</span>,<span class="string">"http://tool.chinaz.com"</span>]</span><br><span class="line"></span><br><span class="line">jq -r <span class="string">'[.[].name,.[].url]|@text'</span> json.txt</span><br><span class="line">[<span class="string">"WeiyiGeek"</span>,<span class="string">"Weiyi"</span>,<span class="string">"http://tool.chinaz.com"</span>,<span class="string">"http://tool.chinaz.com"</span>]</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>è¡¥å……è¯´æ˜:</strong></p>
<ul>
<li>å±æ€§åå‰çš„ç‚¹å·(.productId)ç‚¹å·è¡¨ç¤ºæ ¹èŠ‚ç‚¹</li>
<li>å­—ç¬¦ä¸²æ‹¼æ¥é‡‡ç”¨+å°†ä¸¤ä¸ªå­—æ®µä»¥åŠé€—å·è¿›è¡Œæ‹¼æ¥;</li>
<li>æ•°å€¼ä¸èƒ½ç›´æ¥å’Œå­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥éœ€è¦è°ƒç”¨tostringçš„æ–¹æ³•è¿›è¡Œæ¢è¡Œè¯­æ³•ä¸º(.click|tostring)</li>
<li>æ•°ç»„è®¿é—®å¯ä»¥é‡‡ç”¨<code>[]</code>å½¢å¼ï¼Œ<code>[]</code>è¡¨ç¤ºéå†æ•´ä¸ªæ•°ç»„,å¦‚æœä½ åªæƒ³è®¿é—®æ•°ç»„ä¸­çš„ç¬¬2ä¸ªå…ƒç´ (ä¸‹æ ‡ä»0å¼€å§‹)ï¼Œä½ å¯ä»¥ä½¿ç”¨[1]ï¼›å¦‚æœæƒ³è¦è®¿é—®ç¬¬3ä¸ªåˆ°ç¬¬5ä¸ªå…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨[2:4]ï¼›</li>
</ul>
<p><strong>é™„å½•</strong><br>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://stedolan.github.io/jq/manual" target="_blank" rel="noopener">https://stedolan.github.io/jq/manual</a><br>è¡¨è¾¾å¼åœ¨çº¿æµ‹è¯•å™¨ï¼š<a href="https://jqplay.org/" target="_blank" rel="noopener">https://jqplay.org/</a><br>æ•™ç¨‹ï¼š<a href="https://github.com/stedolan/jq/wiki/Cookbook" target="_blank" rel="noopener">https://github.com/stedolan/jq/wiki/Cookbook</a></p>
<p><br></p>
<h5 id="lslocks-å‘½ä»¤"><a href="#lslocks-å‘½ä»¤" class="headerlink" title="lslocks å‘½ä»¤"></a>lslocks å‘½ä»¤</h5><p>æè¿°:lslocksåˆ—å‡ºæœ‰å…³çš„æ‰€æœ‰ä¿¡æ¯åœ¨Linuxç³»ç»Ÿä¸­å·²ä¿å­˜çš„æ–‡ä»¶é”;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¤ºä¾‹1.åˆ—å‡ºå½“å‰ç³»ç»Ÿä¸­è¢«åŠ é”çš„æ–‡ä»¶</span></span><br><span class="line"><span class="variable">$lslocks</span></span><br><span class="line"><span class="comment"># COMMAND           PID  TYPE SIZE MODE  M START END PATH</span></span><br><span class="line"><span class="comment"># master           1203 FLOCK  33B WRITE 0     0   0 /var/spool/postfix/pid/master.pid</span></span><br><span class="line"><span class="comment"># master           1203 FLOCK  33B WRITE 0     0   0 /var/lib/postfix/master.lock</span></span><br><span class="line"><span class="comment"># ctcm_agentd      1075 POSIX   4B WRITE 0     0   0 /run/ctcm_agentd.pid</span></span><br><span class="line"><span class="comment"># ctcm_agentd      2173 POSIX   4B WRITE 0     0   0 /run/ctcm_agent#ce1b2bd8-01d8-47c3-8.pid</span></span><br><span class="line"><span class="comment"># crond            1208 FLOCK   5B WRITE 0     0   0 /run/crond.pid</span></span><br></pre></td></tr></table></figure>
<hr>

<h4 id="0x01-æ–‡ä»¶æ¯”è¾ƒä¸åˆ†å‰²"><a href="#0x01-æ–‡ä»¶æ¯”è¾ƒä¸åˆ†å‰²" class="headerlink" title="0x01 æ–‡ä»¶æ¯”è¾ƒä¸åˆ†å‰²"></a>0x01 æ–‡ä»¶æ¯”è¾ƒä¸åˆ†å‰²</h4><h5 id="diff-å‘½ä»¤"><a href="#diff-å‘½ä»¤" class="headerlink" title="diff  å‘½ä»¤"></a>diff  å‘½ä»¤</h5><p>æè¿°ï¼šæ¯”è¾ƒç»™å®šçš„ä¸¤ä¸ªæ–‡ä»¶ä¸åŒä¹‹å¤„,å¹¶ä»¥æ‰€åœ¨è¡Œçš„å½¢å¼è¿›è¡Œæ˜¾ç¤º;é»˜è®¤æ˜¯ä»¥é€è¡Œçš„æ–¹å¼è¿›è¡Œæ¯”è¾ƒæ–‡æœ¬æ–‡ä»¶çš„å¼‚åŒå¤„,æ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹ ï¼ˆæºæ–‡ä»¶ å’Œ ç›®æ ‡æ–‡ä»¶ï¼‰,å¦‚æœä½¿ç”¨â€œ-â€ä»£æ›¿â€œæ–‡ä»¶â€å‚æ•°,åˆ™è¦æ¯”è¾ƒçš„å†…å®¹å°†æ¥è‡ªæ ‡å‡†è¾“å…¥ã€‚</p>
<p><strong>åŸºç¡€è¯­æ³•</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff [é€‰é¡¹] â€¦ [æ–‡ä»¶1æˆ–ç›®å½•1] [æ–‡ä»¶2æˆ–ç›®å½•2]ï¼ˆå››ç§ç»„åˆæ–¹å¼ï¼‰</span><br></pre></td></tr></table></figure></p>
<p><strong>å‘½ä»¤å‚æ•°</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">-a,--text æŠŠæ‰€æœ‰æ–‡ä»¶å½“åšæ–‡æœ¬æ–‡ä»¶é€è¡Œæ¯”è¾ƒ</span><br><span class="line">-b,--ignore-space-change å¿½ç•¥ç©ºæ ¼äº§ç”Ÿçš„å˜åŒ–</span><br><span class="line">-B,--ignore-blank-lines å¿½ç•¥ç©ºç™½è¡Œçš„å˜åŒ–</span><br><span class="line">-c,â€“C NUMï¼Œ--context[=NUM] ä½¿ç”¨ä¸Šä¸‹æ–‡è¾“å‡ºæ ¼å¼ï¼ˆæ–‡ä»¶1åœ¨ä¸Šï¼Œæ–‡ä»¶2åœ¨ä¸‹ï¼Œåœ¨å·®å¼‚ç‚¹ä¼šæ ‡æ³¨å‡ºæ¥ï¼‰ï¼Œè¾“å‡ºNUMï¼ˆé»˜è®¤3ï¼‰è¡Œçš„ä¸Šä¸‹æ–‡ï¼ˆä¸Šä¸‹å„NUMè¡Œï¼Œä¸åŒ…æ‹¬å·®å¼‚è¡Œï¼‰</span><br><span class="line">-d,--minimal ä½¿ç”¨ä¸åŒçš„ç®—æ³•ï¼ŒåŠªåŠ›å¯»æ‰¾ä¸€ä¸ªè¾ƒå°çš„å˜åŒ–é›†åˆã€‚è¿™ä¼šä½¿diffå˜æ…¢ï¼ˆæœ‰æ—¶æ›´æ…¢ï¼‰</span><br><span class="line">-D NAME,--ifdef=NAME åˆå¹¶<span class="keyword">if</span>-then-elseæ ¼å¼è¾“å‡ºï¼Œé¢„å¤„ç†å®ï¼ˆç”±NAMEå‚æ•°æä¾›ï¼‰æ¡ä»¶</span><br><span class="line">-e,--ed è¾“å‡ºä¸€ä¸ªedæ ¼å¼çš„è„šæœ¬æ–‡ä»¶</span><br><span class="line">-E,--ignore-all-space å¿½ç•¥ç”±äºTabæ‰©å±•è€Œå¯¼è‡´çš„å˜åŒ–</span><br><span class="line">-F RE,--show-function-line=RE åœ¨ä¸Šä¸‹æ–‡è¾“å‡ºæ ¼å¼ï¼ˆæ–‡ä»¶1åœ¨ä¸Šï¼Œæ–‡ä»¶2åœ¨ä¸‹ï¼‰å’Œç»Ÿä¸€è¾“å‡ºæ ¼å¼ä¸­ï¼Œå¯¹äºæ¯ä¸€å¤§å—çš„ä¸åŒï¼Œæ˜¾ç¤ºå‡ºåŒ¹é…REï¼ˆregexpæ­£åˆ™è¡¨è¾¾å¼ï¼‰æœ€è¿‘çš„è¡Œ</span><br><span class="line">-i,--ignore-case å¿½ç•¥å¤§å°å†™çš„åŒºåˆ«</span><br><span class="line">-I RE,--ignore-matching-lines=RE å¿½ç•¥æ‰€æœ‰åŒ¹é…REï¼ˆregexpæ­£åˆ™è¡¨è¾¾å¼ï¼‰çš„è¡Œçš„æ›´æ”¹</span><br><span class="line">-l,--paginate é€šè¿‡prç¼–ç ä¼ é€’è¾“å‡ºï¼Œä½¿å…¶åˆ†é¡µ</span><br><span class="line">-n,--rcs è¾“å‡ºRCSæ ¼å¼å·®å¼‚</span><br><span class="line"></span><br><span class="line">-N,--new-file æŠŠç¼ºå°‘çš„æ–‡ä»¶å½“åšç©ºç™½æ–‡ä»¶å¤„ç†</span><br><span class="line"></span><br><span class="line">-p,--show-c-function æ˜¾ç¤ºå¸¦æœ‰Cå‡½æ•°çš„å˜åŒ–</span><br><span class="line"></span><br><span class="line">-q,--brief ä»…è¾“å‡ºæ–‡ä»¶æ˜¯å¦æœ‰å·®å¼‚ï¼Œä¸æŠ¥å‘Šè¯¦ç»†å·®å¼‚</span><br><span class="line"></span><br><span class="line">-r,--recursive å½“æ¯”è¾ƒç›®å½•æ—¶ï¼Œé€’å½’æ¯”è¾ƒæ‰€æœ‰æ‰¾åˆ°çš„å­ç›®å½•</span><br><span class="line"></span><br><span class="line">-s,--report-identical-files å½“ä¸¤ä¸ªæ–‡ä»¶ç›¸åŒæ—¶æŠ¥å‘Š</span><br><span class="line"></span><br><span class="line">-S FILE,--starting-file=FILE åœ¨æ¯”è¾ƒç›®å½•æ—¶ï¼Œä»FILEå¼€å§‹ã€‚ç”¨äºç»§ç»­ä¸­æ–­çš„æ¯”è¾ƒ</span><br><span class="line"></span><br><span class="line">-t,--expand-tabs å°†è¾“å‡ºæ—¶æ‰©å±•Tabè½¬æ¢ä¸ºç©ºæ ¼ï¼Œä¿æŠ¤è¾“å…¥æ–‡ä»¶çš„tabå¯¹é½æ–¹å¼</span><br><span class="line"></span><br><span class="line">-T,--initial-tab é€šè¿‡é¢„å…ˆè®¾ç½®çš„tabä½¿é€‰é¡¹å¡å¯¹é½ï¼ˆï¼Ÿï¼Ÿï¼Ÿï¼‰</span><br><span class="line"></span><br><span class="line">-u,-U NUM,--unified[=NUM] ä½¿ç”¨ç»Ÿä¸€è¾“å‡ºæ ¼å¼ï¼ˆè¾“å‡ºä¸€ä¸ªæ•´ä½“ï¼Œåªæœ‰åœ¨å·®å¼‚çš„åœ°æ–¹ä¼šè¾“å‡ºå·®å¼‚ç‚¹ï¼Œå¹¶æ ‡æ³¨å‡ºæ¥ï¼‰ï¼Œè¾“å‡ºNUMï¼ˆé»˜è®¤3ï¼‰è¡Œçš„ä¸Šä¸‹æ–‡ï¼ˆä¸Šä¸‹å„NUMè¡Œï¼Œä¸åŒ…æ‹¬å·®å¼‚è¡Œï¼‰</span><br><span class="line"></span><br><span class="line">-v,--version è¾“å‡ºç‰ˆæœ¬å·</span><br><span class="line"></span><br><span class="line">-w,--ignore-all-space æ¯”è¾ƒæ—¶å¿½ç•¥æ‰€æœ‰ç©ºæ ¼</span><br><span class="line"></span><br><span class="line">-W NUM,--width=NUM åœ¨å¹¶åˆ—è¾“å‡ºæ ¼å¼æ—¶ï¼ŒæŒ‡å®šåˆ—çš„å®½åº¦ä¸ºNUMï¼ˆé»˜è®¤130ï¼‰</span><br><span class="line"></span><br><span class="line">-x PAT,--exclude=PAT æ’é™¤ä¸PATï¼ˆpatternæ ·å¼ï¼‰åŒ¹é…çš„æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">-X FILE,--exclude-from=FILE æ’é™¤ä¸FILEä¸­æ ·å¼åŒ¹é…çš„æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">-y,--side-by-side ä½¿ç”¨å¹¶åˆ—è¾“å‡ºæ ¼å¼</span><br><span class="line"></span><br><span class="line">--from-file=FILE1 FILE1ä¸æ‰€æœ‰æ“ä½œå¯¹è±¡æ¯”è¾ƒï¼ŒFILE1å¯ä»¥æ˜¯ç›®å½•</span><br><span class="line"></span><br><span class="line">--<span class="built_in">help</span> è¾“å‡ºå¸®åŠ©ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">--horizon-lines=NUM ä¿ç•™NUMè¡Œçš„å…¬å…±å‰ç¼€å’Œåç¼€</span><br><span class="line"></span><br><span class="line">--ignore-file-name-case æ¯”è¾ƒæ—¶å¿½ç•¥æ–‡ä»¶åå¤§å°å†™</span><br><span class="line"></span><br><span class="line">--label LABEL ä½¿ç”¨LABELï¼ˆæ ‡è¯†ï¼‰ä»£æ›¿æ–‡ä»¶å</span><br><span class="line"></span><br><span class="line">--left-column ï¼ˆåœ¨å¹¶åˆ—è¾“å‡ºæ ¼å¼ä¸­ï¼‰åªè¾“å‡ºå·¦åˆ—çš„å…¬å…±è¡Œ</span><br><span class="line"></span><br><span class="line">--no- ignore-file-name-case æ¯”è¾ƒæ—¶è€ƒè™‘æ–‡ä»¶åå¤§å°å†™</span><br><span class="line"></span><br><span class="line">--normal è¾“å‡ºä¸€ä¸ªæ­£å¸¸çš„å·®å¼‚</span><br><span class="line"></span><br><span class="line">--speed-large-files å‡è®¾æ–‡ä»¶ååˆ†å¤§ï¼Œè€Œä¸”æœ‰è®¸å¤šå¾®å°çš„å·®å¼‚</span><br><span class="line"></span><br><span class="line">--strip-trailing-cr å»æ‰åœ¨è¾“å…¥æ—¶å°¾éšçš„å›è½¦ç¬¦</span><br><span class="line"></span><br><span class="line">--suppress-common-lines ä¸è¾“å‡ºå…¬å…±è¡Œ</span><br><span class="line"></span><br><span class="line">--to-file=FILE2 æ‰€æœ‰æ“ä½œå¯¹è±¡ä¸FILE2æ¯”è¾ƒï¼ŒFILE2å¯ä»¥æ˜¯ç›®å½•</span><br><span class="line"></span><br><span class="line">--unidiredtional-newfile å°†ç¼ºå°‘çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶è§†ä¸ºç©ºæ–‡ä»¶</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">--GTYPE-group-format=GFMT ä»¥GFMTæ ¼å¼åŒ–GTYPEè¾“å…¥ç»„</span><br><span class="line"></span><br><span class="line">--line-format=LFMT ä»¥LFMTæ ¼å¼åŒ–è¾“å…¥æ‰€æœ‰è¡Œ</span><br><span class="line"></span><br><span class="line">--LTYPE-line-format=LFMT ä»¥LFMTæ ¼å¼åŒ–LTYPEè¾“å…¥è¡Œ</span><br><span class="line"></span><br><span class="line">LTYPEå¯ä»¥æ˜¯â€™oldâ€™,â€™newâ€™æˆ–â€™unchangedâ€™ã€‚GTYPEå¯ä»¥æ˜¯LTYPEé€‰é¡¹æˆ–â€™changedâ€™</span><br><span class="line"></span><br><span class="line">       GFMTåŒ…æ‹¬ï¼š</span><br><span class="line"></span><br><span class="line">              %&lt; è¯¥è¡Œå±äºFILE1</span><br><span class="line"></span><br><span class="line">              %&gt; è¯¥è¡Œå±äºFILE2</span><br><span class="line"></span><br><span class="line">              %= è¯¥è¡Œå±äºFILE1å’ŒFILE2å…¬å…±è¡Œ</span><br><span class="line"></span><br><span class="line">              %[-][WIDTHï¼ˆå®½åº¦ï¼‰][.[PRECï¼ˆç²¾ç¡®åº¦ï¼‰]]&#123;doxX&#125;LETTERï¼ˆå­—æ¯ï¼‰ <span class="built_in">printf</span>æ ¼å¼è§„èŒƒLETTERã€‚å¦‚ä¸‹å­—æ¯è¡¨ç¤ºå±äºæ–°çš„æ–‡ä»¶ï¼Œå°å†™è¡¨ç¤ºå±äºæ—§çš„æ–‡ä»¶ï¼š</span><br><span class="line"></span><br><span class="line">                     F è¡Œç»„ä¸­ç¬¬ä¸€è¡Œçš„è¡Œå·</span><br><span class="line"></span><br><span class="line">                     L è¡Œç»„ä¸­æœ€åä¸€è¡Œçš„è¡Œå·</span><br><span class="line"></span><br><span class="line">                     N è¡Œæ•°ï¼ˆ=L-F+1ï¼‰</span><br><span class="line"></span><br><span class="line">                     E F-1</span><br><span class="line"></span><br><span class="line">                     M L+1</span><br><span class="line"></span><br><span class="line">       LFMTå¯åŒ…å«ï¼š</span><br><span class="line"></span><br><span class="line">              %L è¯¥è¡Œå†…å®¹</span><br><span class="line"></span><br><span class="line">              %l è¯¥è¡Œå†…å®¹ï¼Œä½†ä¸åŒ…æ‹¬å°¾éšçš„æ¢è¡Œç¬¦</span><br><span class="line"></span><br><span class="line">              %[-][WIDTH][.[PREC]]&#123;doxX&#125;n <span class="built_in">printf</span>æ ¼å¼è§„èŒƒè¾“å…¥è¡Œç¼–å·</span><br><span class="line"></span><br><span class="line">       GFMTæˆ–LFMTå¯åŒ…å«ï¼š</span><br><span class="line"></span><br><span class="line">       %% %</span><br><span class="line"></span><br><span class="line">%câ€™Câ€™ å•ä¸ªå­—ç¬¦C</span><br><span class="line"></span><br><span class="line">%câ€™\000â€™ å…«è¿›åˆ¶000æ‰€ä»£è¡¨çš„å­—ç¬¦</span><br></pre></td></tr></table></figure></p>
<p>ç‰¹æ®Šå­—ç¬¦å«ä¹‰:</p>
<ul>
<li>å…¶ä¸­å­—æ¯â€aâ€ã€â€dâ€ã€â€câ€åˆ†åˆ«è¡¨ç¤ºæ·»åŠ ã€åˆ é™¤åŠä¿®æ”¹æ“ä½œã€‚</li>
<li>å…¶ä¸­ä»¥&lt;å¼€å§‹çš„è¡Œå±äºæ–‡ä»¶1ï¼Œä»¥&gt;å¼€å§‹çš„è¡Œå±äºæ–‡ä»¶2ã€‚</li>
<li>è€Œâ€n1â€ã€â€n2â€è¡¨ç¤ºåœ¨æ–‡ä»¶1ä¸­çš„è¡Œå·ï¼Œâ€n3â€ã€â€n4â€è¡¨ç¤ºåœ¨æ–‡ä»¶2ä¸­çš„è¡Œå·,åé¢ä¼šä»¥&gt;æ˜¾ç¤ºå…·ä½“å±äºå“ªä¸€ä¸ªæ–‡ä»¶</li>
</ul>
<p>å®é™…æ¡ˆä¾‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤ºä¾‹1.å°†ç›®å½•/usr/liä¸‹çš„æ–‡ä»¶"test.txt"ä¸å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶"test.txt"è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line">diff /usr/li test.txt     <span class="comment">#ä½¿ç”¨diffæŒ‡ä»¤å¯¹æ–‡ä»¶è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line">n1 a n3,n4         </span><br><span class="line">n1,n2 d n3  </span><br><span class="line">n1,n2 c n3,n4 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹2.æ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶å¤¹ä¸åŒå’Œå’Œé€’å½’æ¯”è¾ƒ</span></span><br><span class="line">diff -r myweb/ html</span><br></pre></td></tr></table></figure></p>
<figure class="image-box">
                <a rel=æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629093058.png" target="_blank" title="WeiyiGeek.ç¤ºä¾‹2" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629093058.png" alt="WeiyiGeek.ç¤ºä¾‹2" title="" class=""></a>
                <p>WeiyiGeek.ç¤ºä¾‹2</p>
            </figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤ºä¾‹3.å°†è¡¥å®šæ–‡ä»¶è¿›è¡Œè¾“å…¥åˆ°æ–°æ–‡ä»¶å¤¹ä¸­</span></span><br><span class="line"><span class="comment">#ä»æ•ˆæœæ¥çœ‹äº‹æ˜¯å°†ä¸¤ä¸ªæ–‡ä»¶çš„ä¸åŒä¹‹å¤„éƒ½è¾“å‡º -3,5 ä»£è¡¨ åˆ é™¤ä¸¤ä¸ªå­—ç¬¦ï¼Œ +3,5ä»£è¡¨æ·»åŠ ä¸¤ä¸ªå­—ç¬¦</span></span><br><span class="line">diff -ruN test1.rb,test1.rb</span><br><span class="line">diff -ruN test.rb test1.rb &gt; test.diff   <span class="comment">#diffçš„è¾“å‡ºæ–‡ä»¶è¢«ç§°ä¸ºè¡¥ä¸ï¼ˆpatchï¼‰ï¼Œå¯ä»¥ä½¿ç”¨patchå‘½ä»¤å°†æ–‡ä»¶å†…å®¹æ›´æ–°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹4.ä»¥å¹¶åˆ—è¾“å‡ºæ ¼å¼å±•ç¤ºä¸¤ä¸ªæ–‡ä»¶çš„ä¸åŒ</span></span><br><span class="line">diff -y t1.txt t2.txt</span><br><span class="line">diff -y -W 40 t1.txt t2.txt <span class="comment"># å¹¶åˆ—è¾“å‡ºæ ¼å¼ä¸‹æ§åˆ¶å®½åº¦</span></span><br><span class="line">this is a text!      this is aaa text!</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹5.ä»¥ä¸Šä¸‹æ–‡è¾“å‡ºæ ¼å¼å±•ç¤ºä¸¤ä¸ªæ–‡ä»¶çš„ä¸åŒ</span></span><br><span class="line">diff -c t1.txt t2.txt </span><br><span class="line">diff -c t1.txt t2.txt </span><br><span class="line"><span class="comment">#*ä»£è¡¨t1.txt - ä»£è¡¨t2.txt - !æ ‡æ³¨å·®å¼‚è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹6.ä»¥ç»Ÿä¸€è¾“å‡ºæ ¼å¼å±•ç¤ºä¸¤ä¸ªæ–‡ä»¶çš„ä¸åŒ</span></span><br><span class="line">--- t1.txt  2018-06-23 21:44:15.171207940 +0800ã€€ã€€<span class="comment">#-ä»£è¡¨t1.txt</span></span><br><span class="line">+++ t2.txt  2018-06-23 21:44:54.987207910 +0800ã€€  <span class="comment">#+ä»£è¡¨t2.txt</span></span><br><span class="line"><span class="comment">#//-ä»£è¡¨å‰é¢çš„æ–‡ä»¶æ¯”åé¢çš„æ–‡ä»¶å¤šä¸€è¡Œï¼Œ+ä»£è¡¨åé¢çš„æ–‡ä»¶æ¯”å‰é¢çš„æ–‡ä»¶å¤šä¸€è¡Œï¼Œä¸€èˆ¬ä¸€ä¸€å¯¹åº”</span></span><br></pre></td></tr></table></figure>
<p><em>æ³¨æ„äº‹é¡¹</em>ï¼š</p>
<ul>
<li>diff - - æ¯”è¾ƒä¸€ä»½æ ‡å‡†è¾“å…¥çš„å®ƒè‡ªå·±çš„æ‹·è´ï¼Œå¦‚æœ <code>æºæ–‡ä»¶ æ˜¯ä¸€ä¸ªç›®å½•å’Œ ç›®æ ‡æ–‡ä»¶ ä¸æ˜¯ï¼ˆç›®å½•ï¼‰</code>, diff ä¼šæ¯”è¾ƒåœ¨ <code>æºæ–‡ä»¶ï¼ˆç›®å½•ï¼‰ é‡Œçš„æ–‡ä»¶çš„ä¸­å’Œç›®æ ‡æ–‡ä»¶åŒåçš„ï¼ˆæ–‡ä»¶ï¼‰</code> , åè¿‡æ¥ä¹Ÿä¸€æ ·éç›®å½•æ–‡ä»¶ä¸èƒ½æ˜¯ - .</li>
<li>å¦‚æœè¯¥å‘½ä»¤æŒ‡å®šè¿›è¡Œç›®å½•çš„æ¯”è¾ƒ,åˆ™å°†ä¼šæ¯”è¾ƒè¯¥ç›®å½•ä¸­å…·æœ‰ç›¸åŒæ–‡ä»¶åçš„æ–‡ä»¶, ä¾ç…§å­—æ¯æ¬¡åºæ’åº;è€Œä¸ä¼šå¯¹å…¶å­ç›®å½•æ–‡ä»¶è¿›è¡Œä»»ä½•æ¯”è¾ƒæ“ä½œ,è¿™ä¸ªæ¯”è¾ƒæ˜¯ä¸ä¼šé€’å½’çš„,é™¤éç»™å‡º -r æˆ–è€… â€“recursive.</li>
<li>diff ä¸æŠŠä¸€ä¸ªç›®å½•çš„å†…å®¹çœ‹ä¸ºå®ƒæ˜¯ä¸€ä¸ªæ–‡ä»¶æ¥æ¯”è¾ƒã€‚è¢«æŒ‡å®šçš„æ–‡ä»¶ä¸èƒ½æ˜¯æ ‡å‡†çš„è¾“å…¥, å› ä¸ºæ ‡å‡†çš„è¾“å…¥æ˜¯æ— åçš„å¹¶ä¸”ï¼‚æœ‰ä¸€æ ·çš„åå­—çš„æ–‡ä»¶ï¼‚çš„è§‚ç‚¹ä¸é€‚ç”¨ã€‚</li>
</ul>
<p><br></p>
<h5 id="comm-å‘½ä»¤"><a href="#comm-å‘½ä»¤" class="headerlink" title="comm å‘½ä»¤"></a>comm å‘½ä»¤</h5><p>æè¿°ï¼šå¯ä»¥ç”¨äºä¸¤ä¸ªæ–‡ä»¶ä¹‹é—´çš„æ¯”è¾ƒ( é€è¡Œæ¯”è¾ƒä¸¤ä¸ªå·²æ’åºçš„æ–‡ä»¶)ï¼Œå®ƒæœ‰ä¸€äº›é€‰é¡¹å¯ä»¥ç”¨æ¥è°ƒæ•´è¾“å‡ºï¼Œä»¥ä¾¿æ‰§è¡Œäº¤é›†ã€æ±‚å·®ã€ä»¥åŠå·®é›†æ“ä½œã€‚</p>
<ul>
<li>äº¤é›†ï¼šæ‰“å°å‡ºä¸¤ä¸ªæ–‡ä»¶æ‰€å…±æœ‰çš„è¡Œã€‚</li>
<li>æ±‚å·®ï¼šæ‰“å°å‡ºæŒ‡å®šæ–‡ä»¶æ‰€åŒ…å«çš„ä¸”ä¸ç›¸åŒçš„è¡Œã€‚</li>
<li>å·®é›†ï¼šæ‰“å°å‡ºåŒ…å«åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä½†ä¸åŒ…å«åœ¨å…¶ä»–æŒ‡å®šæ–‡ä»¶ä¸­çš„è¡Œã€‚</li>
</ul>
<p>åŸºç¡€è¯­æ³•ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">comm(é€‰é¡¹)(å‚æ•°)</span><br><span class="line"></span><br><span class="line"><span class="comment">#é€‰é¡¹</span></span><br><span class="line">-1ï¼šä¸æ˜¾ç¤ºåœ¨ç¬¬ä¸€ä¸ªæ–‡ä»¶å‡ºç°çš„å†…å®¹ï¼›</span><br><span class="line">-2ï¼šä¸æ˜¾ç¤ºåœ¨ç¬¬äºŒä¸ªæ–‡ä»¶ä¸­å‡ºç°çš„å†…å®¹ï¼›</span><br><span class="line">-3ï¼šä¸æ˜¾ç¤ºåŒæ—¶åœ¨ä¸¤ä¸ªæ–‡ä»¶ä¸­éƒ½å‡ºç°çš„å†…å®¹ã€‚</span><br><span class="line">--check-order     check that the input is correctly sorted, even <span class="keyword">if</span> all input lines are pairable</span><br><span class="line">--nocheck-order   <span class="keyword">do</span> not check that the input is correctly sorted</span><br><span class="line">--output-delimiter=STR  separate columns with STR</span><br></pre></td></tr></table></figure></p>
<p>å®é™…æ¡ˆä¾‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤ºä¾‹1.è¾“å‡ºçš„ç¬¬ä¸€åˆ—åªåŒ…å«åœ¨aaa.txtä¸­å‡ºç°çš„è¡Œï¼Œç¬¬äºŒåˆ—åŒ…å«åœ¨bbb.txtä¸­å‡ºç°çš„è¡Œï¼Œç¬¬ä¸‰åˆ—åŒ…å«åœ¨aaa.txtå’Œbbb.txtä¸­ç›¸åŒçš„è¡Œã€‚å„åˆ—æ˜¯ä»¥åˆ¶è¡¨ç¬¦ï¼ˆ\tï¼‰ä½œä¸ºå®šç•Œç¬¦ã€‚</span></span><br><span class="line">$ comm aaa.txt bbb.txt </span><br><span class="line">aaa</span><br><span class="line">                bbb</span><br><span class="line">                ccc</span><br><span class="line">        aaa</span><br><span class="line">ddd</span><br><span class="line">eee</span><br><span class="line">111</span><br><span class="line">222</span><br><span class="line">        hhh</span><br><span class="line">        ttt</span><br><span class="line">        jjj</span><br><span class="line">ç¬¬ä¸€åˆ—  ç¬¬äºŒåˆ—  ç¬¬ä¸‰åˆ—</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹2. äº¤é›† æ‰“å°ä¸¤ä¸ªæ–‡ä»¶çš„äº¤é›†ï¼Œéœ€è¦åˆ é™¤ç¬¬ä¸€åˆ—å’Œç¬¬äºŒåˆ—ï¼š</span></span><br><span class="line">comm aaa.txt bbb.txt -1 -2 <span class="comment">#å³è‡ªæ˜¾ç¤ºç¬¬ä¸‰åˆ—</span></span><br><span class="line"><span class="comment"># bbb</span></span><br><span class="line"><span class="comment"># ccc</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹3. æ±‚å·® æ‰“å°å‡ºä¸¤ä¸ªæ–‡ä»¶ä¸­ä¸ç›¸åŒçš„è¡Œï¼Œéœ€è¦åˆ é™¤ç¬¬ä¸‰åˆ—ï¼š</span></span><br><span class="line">comm aaa.txt bbb.txt -3 | sed <span class="string">'s/^\t//'</span>   <span class="comment"># è¿ç»­çš„bbbï¼Œcccå¯ä»¥åŒ¹é…, æ˜¯å°†åˆ¶è¡¨ç¬¦ï¼ˆ\tï¼‰åˆ é™¤ï¼Œä»¥ä¾¿æŠŠä¸¤åˆ—åˆå¹¶æˆä¸€åˆ—ã€‚</span></span><br><span class="line">comm -3 t1.txt t2.txt --nocheck-order | tr -d <span class="string">'\t'</span></span><br><span class="line">aaa</span><br><span class="line">aaa</span><br><span class="line">ddd</span><br><span class="line">eee</span><br><span class="line">111</span><br><span class="line">222</span><br><span class="line">hhh</span><br><span class="line">ttt</span><br><span class="line">jjj</span><br><span class="line">comm -3 t1.txt t2.txt --nocheck-order | tr -d <span class="string">'\t'</span> | uniq -u  <span class="comment">#åˆ é™¤é‡å¤çš„è¡Œ</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹3.å·®é›†é€šè¿‡åˆ é™¤ä¸éœ€è¦çš„åˆ—ï¼Œå¯ä»¥å¾—åˆ°aaa.txtå’Œbbb.txtçš„å·®é›†ï¼š</span></span><br><span class="line"><span class="variable">$comm</span> aaa.txt bbb.txt -1 -3   <span class="comment">#aaa.txtçš„å·®é›†</span></span><br><span class="line"><span class="variable">$comm</span> aaa.txt bbb.txt -2 -3   <span class="comment">#bbb.txtçš„å·®é›†</span></span><br><span class="line">aaa</span><br><span class="line">ddd</span><br><span class="line">eee</span><br><span class="line">111</span><br><span class="line">222</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h5 id="split-å‘½ä»¤"><a href="#split-å‘½ä»¤" class="headerlink" title="split å‘½ä»¤"></a>split å‘½ä»¤</h5><p>splitå‘½ä»¤å¯ä»¥å°†ä¸€ä¸ªå¤§æ–‡ä»¶åˆ†å‰²æˆå¾ˆå¤šä¸ªå°æ–‡ä»¶ï¼Œæœ‰æ—¶éœ€è¦å°†æ–‡ä»¶åˆ†å‰²æˆæ›´å°çš„ç‰‡æ®µï¼Œæ¯”å¦‚ä¸ºæé«˜å¯è¯»æ€§ï¼Œç”Ÿæˆæ—¥å¿—ç­‰</p>
<p>è¯­æ³•å‚æ•°ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-d ä½¿ç”¨æ•°å­—è€Œä¸æ˜¯å­—æ¯ä½œä¸ºåˆ‡å‰²åçš„å°æ–‡ä»¶çš„åç¼€ï¼›</span><br><span class="line">-a &lt;number&gt;,åç¼€çš„length </span><br><span class="line">-v æ˜¾ç¤ºè¯¦ç»†çš„å¤„ç†ä¿¡æ¯</span><br><span class="line">-b &lt;å­—èŠ‚&gt; æ¯ä¸ªåˆ†å‰²æ–‡ä»¶çš„å¤§å°</span><br><span class="line">-C &lt;æ•°å­—&gt; æŒ‡å®šè¾“å‡ºåˆ°æ¯ä¸€ä¸ªæ–‡ä»¶çš„æ¯ä¸€è¡Œçš„å¤§å°ï¼Œæ•°å­—åç¼€å¯ä»¥æ˜¯</span><br><span class="line">    b:  512(blocks)   <span class="comment">#éå¸¸æ³¨æ„</span></span><br><span class="line">    K:  1024(kibiBytes)</span><br><span class="line">    KB: 1000(kiloBytes)</span><br><span class="line">    M:  1024*1024(mebiBytes)</span><br><span class="line">    MB: 1000*1000(megaBytes)</span><br><span class="line">    G:  1024*1024*1024(gibiBytes)</span><br><span class="line">    GB: 1000*1000*1000(gibaBytes)  <span class="comment">#T, P, E, Z, Y</span></span><br><span class="line">-l&lt;è¡Œæ•°&gt; æŒ‡å®šåˆ‡å‰²çš„è¡Œæ•°ä½œä¸ºåˆ‡å‰²æ–‡ä»¶çš„å•ä½ï¼›</span><br></pre></td></tr></table></figure></p>
<p>å®é™…æ¡ˆä¾‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤ºä¾‹1.ç”Ÿæˆä¸€ä¸ªå¤§å°ä¸º100KBçš„æµ‹è¯•æ–‡ä»¶ï¼šç„¶åå°†å…¶è¿›è¡Œåˆ†å‰²</span></span><br><span class="line">dd <span class="keyword">if</span>=/dev/zero bs=100k count=1 of=date.file</span><br><span class="line">split -b 10k date.file  <span class="comment">#ä½¿ç”¨splitå‘½ä»¤å°†ä¸Šé¢åˆ›å»ºçš„date.fileæ–‡ä»¶åˆ†å‰²æˆå¤§å°ä¸º10KBçš„å°æ–‡ä»¶ï¼š</span></span><br></pre></td></tr></table></figure><br><figure class="image-box">
                <a rel=æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629135548.png" target="_blank" title="WeiyiGeek.splitåˆ†å‰²" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629135548.png" alt="WeiyiGeek.splitåˆ†å‰²" title="" class=""></a>
                <p>WeiyiGeek.splitåˆ†å‰²</p>
            </figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤ºä¾‹2.æ–‡ä»¶è¢«åˆ†å‰²æˆå¤šä¸ªå¸¦æœ‰å­—æ¯çš„åç¼€æ–‡ä»¶ï¼Œå¦‚æœæƒ³ç”¨æ•°å­—åç¼€å¯ä½¿ç”¨-då‚æ•°ï¼ŒåŒæ—¶å¯ä»¥ä½¿ç”¨-a lengthæ¥æŒ‡å®šåç¼€çš„é•¿åº¦ï¼š</span></span><br><span class="line">split -b 10k date.file -d -a 3; ls </span><br><span class="line"><span class="comment"># date.file  x000 x001 x002 x003 x004 x005 x006 x007 x008 x009</span></span><br><span class="line">split -b 1b anaconda-ks.cfg -d -a 2 split <span class="comment">#ä¸ºåˆ†å‰²åçš„æ–‡ä»¶æŒ‡å®šæ–‡ä»¶åçš„å‰ç¼€</span></span><br><span class="line"><span class="comment"># -rw-r--r--. 1 root root  512 Jun 26 06:33 split00</span></span><br><span class="line"><span class="comment"># -rw-r--r--. 1 root root  512 Jun 26 06:33 split01</span></span><br><span class="line"><span class="comment"># -rw-r--r--. 1 root root  261 Jun 26 06:33 split02</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹4.è¿˜å¯ä»¥ä»¥åˆ†å‰²æµåª’ä½“</span></span><br><span class="line">split -b 20m RevolutionOS.rmvb RevOS_part_ ; ls -lh</span><br><span class="line"><span class="comment"># æ€»è®¡ 552M</span></span><br><span class="line"><span class="comment"># -rwx------ 1 hoho hoho 276M 2005-09-09 RevolutionOS.rmvb</span></span><br><span class="line"><span class="comment"># -rw-r--r-- 1 root root  20M 03-19 17:59 RevOS_part_aa</span></span><br><span class="line"><span class="comment"># -rw-r--r-- 1 root root  20M 03-19 17:59 RevOS_part_ab</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹3.# ä½¿ç”¨-lé€‰é¡¹æ ¹æ®æ–‡ä»¶çš„è¡Œæ•°æ¥åˆ†å‰²æ–‡ä»¶ï¼Œä¾‹å¦‚æŠŠæ–‡ä»¶åˆ†å‰²æˆæ¯ä¸ªåŒ…å«10è¡Œçš„å°æ–‡ä»¶ï¼š</span></span><br><span class="line">split -l 10 date.file</span><br><span class="line">split -l 10 test.txt text_</span><br></pre></td></tr></table></figure>
<figure class="image-box">
                <a rel=æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629140052.png" target="_blank" title="WeiyiGeek.splitç¤ºä¾‹" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629140052.png" alt="WeiyiGeek.splitç¤ºä¾‹" title="" class=""></a>
                <p>WeiyiGeek.splitç¤ºä¾‹</p>
            </figure>
<p><br></p>
<h5 id="csplit-å‘½ä»¤"><a href="#csplit-å‘½ä»¤" class="headerlink" title="csplit å‘½ä»¤"></a>csplit å‘½ä»¤</h5><p>æè¿°ï¼šç”¨äºå°†ä¸€ä¸ªå¤§æ–‡ä»¶åˆ†å‰²æˆå°çš„ç¢ç‰‡ï¼Œå¹¶ä¸”å°†åˆ†å‰²åçš„æ¯ä¸ªç¢ç‰‡ä¿å­˜æˆä¸€ä¸ªæ–‡ä»¶ã€‚ç¢ç‰‡æ–‡ä»¶çš„å‘½åç±»ä¼¼â€œxx00â€ï¼Œâ€œxx01â€ï¼ŒåŒæ—¶æ¯ä¸ªåˆ†å—æ–‡ä»¶çš„å­—èŠ‚æ•°ä¹Ÿå°†è¢«è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºã€‚</p>
<p>csplitå‘½ä»¤æ˜¯splitçš„ä¸€ä¸ªå˜ä½“ï¼Œä»–ä»¬çš„ä¸åŒç‚¹ï¼š</p>
<ul>
<li>splitåªèƒ½å¤Ÿæ ¹æ®æ–‡ä»¶å¤§å°æˆ–è¡Œæ•°æ¥åˆ†å‰²</li>
<li>csplitèƒ½å¤Ÿæ ¹æ®æ–‡ä»¶æœ¬èº«ç‰¹ç‚¹æ¥åˆ†å‰²æ–‡ä»¶ã€‚</li>
</ul>
<p>è¯­æ³•å‚æ•°ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">csplit [é€‰é¡¹]... æ–‡ä»¶oræ ¼å¼  <span class="comment">#å¦‚æœæ–‡ä»¶ä¸º"-"ï¼Œåˆ™è¯»å–æ ‡å‡†è¾“å…¥</span></span><br><span class="line">csplit [-kqsz][-b&lt;è¾“å‡ºæ ¼å¼&gt;][-f&lt;è¾“å‡ºå­—é¦–å­—ç¬¦ä¸²&gt;][-n&lt;è¾“å‡ºæ–‡ä»¶åä½æ•°&gt;][æ–‡ä»¶][èŒƒæœ¬æ ·å¼...] </span><br><span class="line"></span><br><span class="line"><span class="comment">#é•¿é€‰é¡¹å¿…é¡»ä½¿ç”¨çš„å‚æ•°å¯¹äºçŸ­é€‰é¡¹æ—¶ä¹Ÿæ˜¯å¿…éœ€ä½¿ç”¨çš„ï¼š</span></span><br><span class="line">-b, --suffix-format=æ ¼å¼    ä½¿ç”¨sprintf æ ¼å¼ä»£æ›¿%02d.log,ä¸-nè¿ç”¨å½¢æˆåç¼€;</span><br><span class="line">-f, --prefix=å‰ç¼€        ä½¿ç”¨æŒ‡å®šå‰ç¼€ä»£æ›¿<span class="string">"xx"</span>,â€œhelloâ€ï¼Œåˆ™è¾“å‡ºçš„æ–‡ä»¶åç§°ä¼šå˜æˆhello00ï¼Œhelloã€</span><br><span class="line">-k, --keep-files        ä¸ç§»é™¤é”™è¯¯çš„è¾“å‡ºæ–‡ä»¶</span><br><span class="line">-n, --digits=æ•°ä½        ä½¿ç”¨æŒ‡å®šçš„è¿›åˆ¶æ•°ä½ä»£æ›¿äºŒè¿›åˆ¶,â€œ3â€ï¼Œåˆ™è¾“å‡ºçš„æ–‡ä»¶åç§°ä¼šå˜æˆxx000ï¼Œxx001ç­‰</span><br><span class="line">-z, --elide-empty-files    åˆ é™¤ç©ºçš„è¾“å‡ºæ–‡ä»¶</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ ¼å¼"å¯ä»¥æ˜¯,ä¸€ä¸ªè¡Œçš„åç§»é‡éœ€è¦åœ¨æ­£æ•´æ•°å€¼ä¹‹åå£°æ˜"+" æˆ– "-"</span></span><br><span class="line">æ•´æ•°                ä¸åŒ…æ‹¬æŒ‡å®šçš„è¡Œï¼Œå¹¶ä»¥å…¶ä¸ºæ–‡ä»¶åˆ†å—è¾¹ç•Œ</span><br><span class="line">/è¡¨è¾¾å¼/[åç§»é‡]    ä¸åŒ…æ‹¬åŒ¹é…åˆ°çš„è¡Œï¼Œå¹¶ä»¥å…¶ä¸ºæ–‡ä»¶åˆ†å—è¾¹ç•Œ</span><br><span class="line">%è¡¨è¾¾å¼%[åç§»é‡]    é¢„å…ˆè·³è¿‡åŒ¹é…çš„è¡Œæ•°ï¼Œä»¥å…¶ä¸ºæ–‡ä»¶åˆ†å—è¾¹ç•Œ</span><br><span class="line"></span><br><span class="line">-s, --quiet, --silent    ä¸æ˜¾ç¤ºè¾“å‡ºæ–‡ä»¶çš„å°ºå¯¸è®¡æ•°</span><br><span class="line">&#123;æ•´æ•°&#125;             å°†ä¹‹å‰æŒ‡å®šçš„æ¨¡å¼é‡å¤æŒ‡å®šçš„æ¬¡æ•°</span><br><span class="line">&#123;*&#125;                å°†ä¹‹å‰æŒ‡å®šçš„æ¨¡å¼é‡å¤å°½å¯èƒ½å¤šçš„æ¬¡æ•°ã€‚</span><br></pre></td></tr></table></figure></p>
<p>å®é™…æ¡ˆä¾‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤ºä¾‹1ã€‚éœ€è¦å°†server.logåˆ†å‰²æˆserver1.logã€server2.logã€server3.logï¼Œè¿™äº›æ–‡ä»¶çš„å†…å®¹åˆ†åˆ«å–è‡ªåŸæ–‡ä»¶ä¸­ä¸åŒçš„SERVERéƒ¨åˆ†ï¼š</span></span><br><span class="line">csplit server.log /SERVER/ -n2 -s &#123;*&#125; -f server -b <span class="string">"%02d.log"</span>; rm server00.log ; ls  <span class="comment">#åŒ¹é…SERVERè¾¹ç•Œæ¯æ¬¡ä»¥å®ƒä½œä¸ºåˆ†å‰²ç•Œé™</span></span><br><span class="line"><span class="variable">$csplit</span> textfile /<span class="string">"Chapter X"</span>/   <span class="comment">#æŠŠæ–‡ä»¶ä»¥å­—ç¬¦ä¸²"Chapter X"ä¸ºåˆ†ç•Œç¬¦ï¼Œåˆ†æˆä¸¤éƒ¨åˆ† </span></span><br><span class="line"><span class="comment">#æ‰¿ä¸Šä¾‹ï¼Œ ä½†åˆ†å‰²æ–‡ä»¶æ—¶ä»¥"Chapter X"å­—ç¬¦ä¸²å¾€ä¸‹4è¡Œæ‰æ˜¯åˆ†å‰²ç‚¹ </span></span><br><span class="line"><span class="variable">$csplit</span> textfile /<span class="string">"Chapter X"</span>/+4server01.log server02.log server03.log server.log</span><br></pre></td></tr></table></figure><br><figure class="image-box">
                <a rel=æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629141603.png" target="_blank" title="WeiyiGeek.å†…å®¹åˆ†å‰²" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629141603.png" alt="WeiyiGeek.å†…å®¹åˆ†å‰²" title="" class=""></a>
                <p>WeiyiGeek.å†…å®¹åˆ†å‰²</p>
            </figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤ºä¾‹3.æŒ‰è¡Œåˆ†å‰²</span></span><br><span class="line">csplit test.txt -z -f server -b <span class="string">"%02d.log"</span> 6 &#123;1&#125;    <span class="comment"># 6 line éœ€è¦é™¤å» \nä¸€è¡Œï¼Œåˆ†æˆ3ä»½ ï¼ˆè‡ªåŠ¨åŒ¹é…åˆ†å‰²å¯èƒ½ä¼šå‡ºé”™ï¼‰</span></span><br><span class="line"><span class="comment"># 93</span></span><br><span class="line"><span class="comment"># 102</span></span><br><span class="line"><span class="comment"># 87</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠæ–‡ä»¶ FILE åˆ†è§£ï¼Œåˆ†è§£åå¤§å°ä¸º 15000 è¡Œï¼Œæ–‡ä»¶åå‰ç¼€ä¸º prefix åç¼€ä¸º 00ã€01ã€02 ......99ï¼Œè€Œæ–‡ä»¶ä¸ªæ•°ä¸å¤šäº100ä¸ªã€‚ </span></span><br><span class="line">csplit -k -f prefix FILE 15000 &#123;99&#125;</span><br></pre></td></tr></table></figure>
<p><em>æ³¨æ„äº‹é¡¹ï¼š</em></p>
<ul>
<li>æ‚¨å¯ä»¥ä½¿ç”¨æ˜Ÿå·é€šé…ç¬¦æ¥å‘Šè¯‰ csplit å°½å¯èƒ½å¤šåœ°é‡å¤åˆ†å‰²ã€‚è¿™å¬èµ·æ¥å¾ˆé…·ï¼Œä½†æ˜¯å¦‚æœæ–‡ä»¶ä¸èƒ½ç­‰åˆ†ï¼Œåˆ™å¯èƒ½ä¼šå¤±è´¥</li>
</ul>
<hr>

<h4 id="0x02-å†…å®¹åˆ†å‰²ä¸æ’åº"><a href="#0x02-å†…å®¹åˆ†å‰²ä¸æ’åº" class="headerlink" title="0x02 å†…å®¹åˆ†å‰²ä¸æ’åº"></a>0x02 å†…å®¹åˆ†å‰²ä¸æ’åº</h4><h5 id="cut-å‘½ä»¤"><a href="#cut-å‘½ä»¤" class="headerlink" title="cut å‘½ä»¤"></a>cut å‘½ä»¤</h5><p>æè¿°ï¼šç”¨æ¥æ˜¾ç¤ºè¡Œä¸­çš„æŒ‡å®šéƒ¨åˆ†,åˆ é™¤æ–‡ä»¶ä¸­æŒ‡å®šå­—æ®µ,åœ¨æ–‡ä»¶çš„æ¯ä¸€è¡Œä¸­æå–ç‰‡æ–­,åœ¨ æ¯ä¸ªæ–‡ä»¶ FILE çš„ å„è¡Œ ä¸­, æŠŠ æå–çš„ç‰‡æ–­æ˜¾ç¤ºåœ¨æ ‡å‡†è¾“å‡º.</p>
<p>cutå‘½ä»¤æœ‰ä¸¤é¡¹åŠŸèƒ½ï¼š</p>
<ul>
<li>ä¸€æ˜¯ç”¨æ¥æ˜¾ç¤ºæ–‡ä»¶çš„å†…å®¹ï¼Œå®ƒä¾æ¬¡è¯»å–ç”±å‚æ•°fileæ‰€æŒ‡ æ˜çš„æ–‡ä»¶ï¼Œå°†å®ƒä»¬çš„å†…å®¹è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºä¸Š;</li>
<li>äºŒæ˜¯è¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Œå¦‚cut fl f2 &gt; f3å°†æŠŠæ–‡ä»¶flå’Œå‡ çš„å†…å®¹åˆå¹¶èµ·æ¥;</li>
</ul>
<p>å‚æ•°è¯­æ³•ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-b, --bytes=LISTï¼šä»…æ˜¾ç¤ºè¡Œä¸­æŒ‡å®šç›´æ¥èŒƒå›´çš„å†…å®¹ï¼›</span><br><span class="line">-c, --characters=LISTï¼šä»…æ˜¾ç¤ºè¡Œä¸­æŒ‡å®šèŒƒå›´çš„å­—ç¬¦ï¼›</span><br><span class="line">-d, --delimiter=DELIMï¼šæŒ‡å®šå­—æ®µçš„åˆ†éš”ç¬¦ï¼Œé»˜è®¤çš„å­—æ®µåˆ†éš”ç¬¦ä¸ºâ€œTABâ€ï¼›</span><br><span class="line">-f, --fields=LISTï¼šæ˜¾ç¤ºæŒ‡å®šå­—æ®µçš„å†…å®¹ï¼›</span><br><span class="line">-nï¼šä¸â€œ-bâ€é€‰é¡¹è¿ç”¨ï¼Œä¸åˆ†å‰²å¤šå­—èŠ‚å­—ç¬¦ï¼›</span><br><span class="line">--complementï¼šè¡¥è¶³è¢«é€‰æ‹©çš„å­—èŠ‚ã€å­—ç¬¦æˆ–å­—æ®µï¼›(å–åæ˜¾ç¤º)</span><br><span class="line">--output-delimiter=&lt;å­—æ®µåˆ†éš”ç¬¦&gt;ï¼šæŒ‡å®šè¾“å‡ºå†…å®¹æ˜¯çš„å­—æ®µåˆ†å‰²ç¬¦ï¼›</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä½¿ç”¨ä¸”åªä½¿ç”¨ -b, -c æˆ– -f ä¸­çš„ä¸€ä¸ªé€‰é¡¹. LIST ç”± ä¸€ä¸ª èŒƒå›´ (range) æˆ– é€—å· éš”å¼€çš„å¤šä¸ªèŒƒå›´ç»„æˆ. èŒƒå›´æ˜¯ä¸‹åˆ—å½¢å¼ ä¹‹ä¸€:</span></span><br><span class="line">N  ï¼š ç¬¬ N ä¸ª å­—èŠ‚, å­—ç¬¦ æˆ– å­—æ®µ, ä» 1 è®¡æ•° èµ·</span><br><span class="line">N- ï¼š ä» ç¬¬ N ä¸ª å­—èŠ‚, å­—ç¬¦ æˆ– å­—æ®µ ç›´è‡³ è¡Œå°¾</span><br><span class="line">N-Mï¼šä» ç¬¬ N åˆ° ç¬¬ M (å¹¶åŒ…æ‹¬ ç¬¬M) ä¸ª å­—èŠ‚, å­—ç¬¦ æˆ– å­—æ®µ</span><br><span class="line">-M ï¼š ä» ç¬¬ 1 åˆ° ç¬¬ M (å¹¶åŒ…æ‹¬ ç¬¬M) ä¸ª å­—èŠ‚, å­—ç¬¦ æˆ– å­—æ®µ</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¦‚æœ æ²¡æœ‰ æŒ‡å®š æ–‡ä»¶ FILE, æˆ– FILE æ˜¯ -, å°±ä» æ ‡å‡†è¾“å…¥ è¯»å– æ•°æ®.</span></span><br></pre></td></tr></table></figure></p>
<p>å®é™…æ“ä½œï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">cat test.txt </span><br><span class="line">No Name Mark Percent</span><br><span class="line">01 tom 69 91</span><br><span class="line">02 jack 71 87</span><br><span class="line">03 alex 68 98</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹1ï¼šé‡‡ç”¨é»˜è®¤çš„&lt;tab&gt;åˆ†å‰²ç„¶åä½¿ç”¨-fæ¥æå–æŒ‡å®šå­—æ®µ</span></span><br><span class="line">cut -f 1 test.txt</span><br><span class="line"><span class="comment"># No</span></span><br><span class="line"><span class="comment"># 01</span></span><br><span class="line"><span class="comment"># 02</span></span><br><span class="line"><span class="comment"># ä»¥:åˆ†å‰²æ–‡ä»¶,è¾“å‡ºç¬¬ä¸€,äºŒ,ä¸‰ä¸ªå­—æ®µï¼ˆæŒ‡å®šåˆ†éš”ç¬¦ï¼‰</span></span><br><span class="line">cat /etc/passwd | cut -f 1,2,3 -d <span class="string">":"</span> | head -5</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹2.è¾“å‡ºpasswdä¸­å¾—ç¬¬ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">cat /etc/passwd | cut -b 1</span><br><span class="line">cat /etc/passwd | cut -b 1-4 | head -5    <span class="comment">#è¾“å‡ºæ–‡ä»¶çš„å‰å››ä¸ªå­—ç¬¦</span></span><br></pre></td></tr></table></figure><br><figure class="image-box">
                <a rel=æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629094106.png" target="_blank" title="WeiyiGeek.cutç¤ºä¾‹1èåˆ" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629094106.png" alt="WeiyiGeek.cutç¤ºä¾‹1èåˆ" title="" class=""></a>
                <p>WeiyiGeek.cutç¤ºä¾‹1èåˆ</p>
            </figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤ºä¾‹3.ä»¥ç‰¹æ®Šç¬¦å·è¿›è¡Œåˆ†å‰²æ—¶ $'\n' (æ¢è¡Œ), $'\t'ï¼ˆTabå»ºï¼‰ï¼ŒæŒ‰ç…§åæ–œæ æ§åˆ¶çš„å­—ç¬¦è½¬æ¢è¿›è¡Œè½¬æ¢ï¼ˆprintf è¾“å‡ºæ ¼å¼ï¼‰ï¼š</span></span><br><span class="line">cat <span class="built_in">test</span> | cut -f1,3 -d $<span class="string">'\t'</span>   <span class="comment"># ä»¥tabä½œä¸ºåˆ†å‰²ç¬¦å·</span></span><br><span class="line">cat <span class="built_in">test</span> | cut -f1,3 -d $<span class="string">'\n'</span>   <span class="comment"># ä»¥æ¢è¡Œç¬¦ä½œä¸ºåˆ†å‰²ç¬¦å·</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹4.æ‰“å°0å­—æ®µåˆ°3å­—æ®µå¾—æ•°æ®å’Œæ’é™¤</span></span><br><span class="line">cut -d $<span class="string">'\t'</span> -f -3 test.txt </span><br><span class="line"><span class="comment">#--complement é€‰é¡¹æå–æŒ‡å®šå­—æ®µä¹‹å¤–çš„åˆ—ï¼ˆæ‰“å°é™¤äº†ç¬¬äºŒåˆ—ä¹‹å¤–çš„åˆ—ï¼‰ï¼š</span></span><br><span class="line">cut -f2 --complement test.txt </span><br><span class="line"><span class="comment"># No Mark Percent</span></span><br><span class="line"><span class="comment"># 01 69 91</span></span><br><span class="line"><span class="comment"># 02 71 87</span></span><br><span class="line"><span class="comment"># 03 68 98</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹5.å°†æ‰€æœ‰è¡Œçš„2-3å­—ç¬¦æ‰“å°å‡ºæ¥</span></span><br><span class="line">cut -c 2,3 test.txt </span><br><span class="line">cut -c 1-4 test.txt  <span class="comment">#ä¸¤ç§å½¢å¼éƒ½å¯ä»¥</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$RANDOM</span> | md5sum | cut -c 1-8  <span class="comment">#å€¼å¾—å­¦ä¹  </span></span><br><span class="line">60354ab3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹6.é‡‡ç”¨åˆ¶å®šè¾“å‡ºç¬¦è¾“å‡ºåˆ†å‰²çš„å­—ç¬¦</span></span><br><span class="line">$ cut -d <span class="string">" "</span> -f 1,3 --output-delimiter=<span class="string">'-'</span> init.sh</span><br><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">npm-set</span><br><span class="line">npm-set</span><br><span class="line">npm--g</span><br><span class="line">npm---save</span><br><span class="line">hexo</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹7.é‡‡ç”¨åˆ‡å‰²æ’åºå»é‡è¿›è¡Œå›¾ç‰‡ç›®å½•åˆ›å»º</span></span><br><span class="line"><span class="keyword">for</span> dir <span class="keyword">in</span> $(cut -d <span class="string">" "</span> -f 3 gzkz.sh  | cut -d <span class="string">"/"</span> -f 4 | sort | uniq );<span class="keyword">do</span>  mkdir -vp <span class="variable">$&#123;dir&#125;</span>; <span class="keyword">done</span> </span><br><span class="line">mkdir: å·²åˆ›å»ºç›®å½• <span class="string">"0101"</span></span><br><span class="line">....</span><br><span class="line">mkdir: å·²åˆ›å»ºç›®å½• <span class="string">"0140"</span></span><br></pre></td></tr></table></figure>
<figure class="image-box">
                <a rel=æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629095035.png" target="_blank" title="WeiyiGeek.cutç¤ºä¾‹" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629095035.png" alt="WeiyiGeek.cutç¤ºä¾‹" title="" class=""></a>
                <p>WeiyiGeek.cutç¤ºä¾‹</p>
            </figure>
<p><em>æ³¨æ„äº‹é¡¹ï¼š</em></p>
<ul>
<li>åœ¨ä½¿ç”¨-dæŒ‡å®šç‰¹æ®Šåˆ†å‰²å­—ç¬¦çš„æ—¶å€™<code>éœ€è¦é‡‡ç”¨&#39;&#39;å•å¼•å·</code>å¦åˆ™ä¼šæŠ¥é”™;</li>
</ul>
<p><br></p>
<h5 id="sort-å‘½ä»¤"><a href="#sort-å‘½ä»¤" class="headerlink" title="sort å‘½ä»¤"></a>sort å‘½ä»¤</h5><p>æè¿°ï¼šåœ¨Linuxé‡Œéå¸¸æœ‰ç”¨,å®ƒå°†æ–‡ä»¶è¿›è¡Œæ’åº,å¹¶å°†æ’åºç»“æœæ ‡å‡†è¾“å‡º,sortå‘½ä»¤æ—¢å¯ä»¥ä»ç‰¹å®šçš„æ–‡ä»¶,ä¹Ÿå¯ä»¥ä»stdinä¸­è·å–è¾“å…¥ã€‚</p>
<p>å‚æ•°è¯­æ³•ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">ç”¨æ³•ï¼šsort [é€‰é¡¹]... [æ–‡ä»¶]...Â  æˆ–ï¼š sort [é€‰é¡¹]... --files0-from=F</span><br><span class="line"><span class="comment">#ä¸²è”æ’åºæ‰€æœ‰æŒ‡å®šæ–‡ä»¶å¹¶å°†ç»“æœå†™åˆ°æ ‡å‡†è¾“å‡ºï¼Œå¦‚æœä¸æŒ‡å®šæ–‡ä»¶,æˆ–è€…æ–‡ä»¶ä¸º"-",åˆ™ä»æ ‡å‡†è¾“å…¥è¯»å–æ•°æ®ã€‚</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ’åºé€‰é¡¹ï¼š</span></span><br><span class="line">  -b, --ignore-leading-blanks   å¿½ç•¥å‰å¯¼çš„ç©ºç™½åŒºåŸŸ</span><br><span class="line">  -d, --dictionary-order        åªè€ƒè™‘ç©ºç™½åŒºåŸŸå’Œå­—æ¯å­—ç¬¦</span><br><span class="line">  -f, --ignore-case             å¿½ç•¥å­—æ¯å¤§å°å†™</span><br><span class="line">  -g, --general-numeric-sort    æŒ‰ç…§å¸¸è§„æ•°å€¼æ’åº</span><br><span class="line">  -i, --ignore-nonprinting      åªæ’åºå¯æ‰“å°å­—ç¬¦</span><br><span class="line">  -M, --month-sort              æ¯”è¾ƒ (æœªçŸ¥) &lt; <span class="string">"ä¸€æœˆ"</span> &lt; ... &lt; <span class="string">"åäºŒæœˆ"</span> åœ¨LC_ALL=C æ—¶ä¸º(unknown) &lt; <span class="string">'JAN'</span> &lt; ... &lt; <span class="string">'`DEC'</span></span><br><span class="line">  -h, --human-numeric-sort      ä½¿ç”¨æ˜“è¯»æ€§æ•°å­—(ä¾‹å¦‚ï¼š 2K 1G-å³æ–‡ä»¶å¤§å°æ’åº)</span><br><span class="line">  -n, --numeric-sort            æ ¹æ®å­—ç¬¦ä¸²æ•°å€¼æ¯”è¾ƒ(æ•°å­—æ’åºï¼Œé»˜è®¤æ˜¯å‡åº)</span><br><span class="line">  -R, --random-sort             æ ¹æ®éšæœº<span class="built_in">hash</span> æ’åº</span><br><span class="line">      --random-source=æ–‡ä»¶      ä»æŒ‡å®šæ–‡ä»¶ä¸­è·å¾—éšæœºå­—èŠ‚</span><br><span class="line">  -r, --reverse                 é€†åºè¾“å‡ºæ’åºç»“æœ</span><br><span class="line">  --sort=WORD                   æŒ‰ç…§WORD æŒ‡å®šçš„æ ¼å¼æ’åºï¼šä¸€èˆ¬æ•°å­—-g,é«˜å¯è¯»æ€§-h,æœˆä»½-M,æ•°å­—-n,éšæœº-R,ç‰ˆæœ¬  <span class="string">"general-numeric"</span> - <span class="string">"human-numeric"</span> - <span class="string">"month"</span> - <span class="string">"numeric"</span> - <span class="string">"random"</span> - <span class="string">"version"</span></span><br><span class="line">  -V, --version-sort            åœ¨æ–‡æœ¬å†…è¿›è¡Œè‡ªç„¶ç‰ˆæœ¬æ’åº</span><br><span class="line"></span><br><span class="line"><span class="comment">#å…¶ä»–é€‰é¡¹ï¼š</span></span><br><span class="line">--batch-size=NMERGE       ä¸€æ¬¡æœ€å¤šåˆå¹¶NMERGE ä¸ªè¾“å…¥;å¦‚æœè¾“å…¥æ›´å¤šåˆ™ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶</span><br><span class="line">-c, --check, --check=diagnose-first   æ£€æŸ¥è¾“å…¥æ˜¯å¦å·²æ’åº,è‹¥å·²æœ‰åºåˆ™ä¸è¿›è¡Œæ“ä½œ</span><br><span class="line">-C, --check=quiet, --check=silent     ç±»ä¼¼-c,ä½†ä¸æŠ¥å‘Šç¬¬ä¸€ä¸ªæ— åºè¡Œ</span><br><span class="line">    --compress-program=ç¨‹åº   ä½¿ç”¨æŒ‡å®šç¨‹åºå‹ç¼©ä¸´æ—¶æ–‡ä»¶;ä½¿ç”¨è¯¥ç¨‹åºçš„-d å‚æ•°è§£å‹ç¼©æ–‡ä»¶</span><br><span class="line">    --debug                   ä¸ºç”¨äºæ’åºçš„è¡Œæ·»åŠ æ³¨é‡Š,å¹¶å°†æœ‰å¯èƒ½æœ‰é—®é¢˜çš„ç”¨æ³•è¾“å‡ºåˆ°æ ‡å‡†é”™è¯¯è¾“å‡º</span><br><span class="line">    --files0-from=æ–‡ä»¶        ä»æŒ‡å®šæ–‡ä»¶è¯»å–ä»¥NUL ç»ˆæ­¢çš„åç§°,å¦‚æœè¯¥æ–‡ä»¶è¢«æŒ‡å®šä¸º<span class="string">"-"</span>åˆ™ä»æ ‡å‡†è¾“å…¥è¯»æ–‡ä»¶å</span><br><span class="line">-k, --key=ä½ç½®1[,ä½ç½®2]       åœ¨ä½ç½®1 å¼€å§‹ä¸€ä¸ªkey,åœ¨ä½ç½®2 ç»ˆæ­¢(é»˜è®¤ä¸ºè¡Œå°¾)å‚çœ‹POSè¯­æ³•</span><br><span class="line"><span class="comment">#è¡¥å……-ké€‰é¡¹çš„å…·ä½“è¯­æ³•æ ¼å¼ï¼š</span></span><br><span class="line"><span class="comment"># FStart(å­—æ®µ).CStart(åˆ—) Modifie,FEnd.CEnd Modifier</span></span><br><span class="line"><span class="comment"># -------Start--------,-------End--------</span></span><br><span class="line"><span class="comment"># FStart.CStart é€‰é¡¹  ,  FEnd.CEnd é€‰é¡¹</span></span><br><span class="line"><span class="comment"># Startéƒ¨åˆ†ä¹Ÿç”±ä¸‰éƒ¨åˆ†ç»„æˆäºEndéƒ¨åˆ†ä»¥`,`åˆ†å‰²ï¼Œå…¶ä¸­çš„Modifieréƒ¨åˆ†å°±æ˜¯æˆ‘ä»¬ä¹‹å‰è¯´è¿‡çš„ç±»ä¼¼nå’Œrçš„é€‰é¡¹éƒ¨åˆ†;ï¼Œ</span></span><br><span class="line"><span class="comment"># - å…¶ä¸­FStartå°±æ˜¯è¡¨ç¤ºä½¿ç”¨çš„åŸŸï¼Œè€ŒCStartåˆ™è¡¨ç¤ºåœ¨FStartåŸŸä¸­ä»ç¬¬å‡ ä¸ªå­—ç¬¦å¼€å§‹ç®—â€œæ’åºé¦–å­—ç¬¦â€ã€‚</span></span><br><span class="line"><span class="comment"># - å¦‚æœä½ çœç•¥.CEndï¼Œåˆ™è¡¨ç¤ºç»“å°¾åˆ°â€œåŸŸå°¾â€ï¼Œå³æœ¬åŸŸçš„æœ€åä¸€ä¸ªå­—ç¬¦ã€‚æˆ–è€…å¦‚æœä½ å°†CEndè®¾å®šä¸º0(é›¶)ï¼Œä¹Ÿæ˜¯è¡¨ç¤ºç»“å°¾åˆ°â€œåŸŸå°¾â€ã€‚</span></span><br><span class="line"></span><br><span class="line">-u, --unique     <span class="comment"># é…åˆ-c,ä¸¥æ ¼æ ¡éªŒæ’åº;ä¸é…åˆ-c,åˆ™åªè¾“å‡ºä¸€æ¬¡æ’åºç»“æœ(å¯ä»¥å»é‡å¤)</span></span><br><span class="line">-m, --merge                   åˆå¹¶å·²æ’åºçš„æ–‡ä»¶,ä¸å†è¿›è¡Œæ’åº</span><br><span class="line">-o, --output=æ–‡ä»¶             <span class="comment">#å°†ç»“æœå†™å…¥åˆ°æ–‡ä»¶è€Œéæ ‡å‡†è¾“å‡º</span></span><br><span class="line">-s, --stable                  ç¦ç”¨last-resort æ¯”è¾ƒä»¥ç¨³å®šæ¯”è¾ƒç®—æ³•</span><br><span class="line">-S, --buffer-size=å¤§å°        æŒ‡å®šä¸»å†…å­˜ç¼“å­˜å¤§å°</span><br><span class="line">-t, --field-separator=åˆ†éš”ç¬¦  <span class="comment">#ä½¿ç”¨æŒ‡å®šçš„åˆ†éš”ç¬¦ä»£æ›¿éç©ºæ ¼åˆ°ç©ºæ ¼çš„è½¬æ¢ ç±»ä¼¼äºawkçš„-F,cutçš„-dé€‰é¡¹;</span></span><br><span class="line">-T, --temporary-directory=ç›®å½•        ä½¿ç”¨æŒ‡å®šç›®å½•è€Œé<span class="variable">$TMPDIR</span> æˆ–/tmp ä½œä¸ºä¸´æ—¶ç›®å½•,å¯ç”¨å¤šä¸ªé€‰é¡¹æŒ‡å®šå¤šä¸ªç›®å½•</span><br><span class="line">--parallel=N                      å°†åŒæ—¶è¿è¡Œçš„æ’åºæ•°æ”¹å˜ä¸ºN</span><br><span class="line">-z, --zero-terminated ä»¥0 å­—èŠ‚è€Œéæ–°è¡Œä½œä¸ºè¡Œå°¾æ ‡å¿—</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŒ‡å®šçš„å¤§å°å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å•ä½ä¹‹ä¸€ï¼š</span></span><br><span class="line">å†…å­˜ä½¿ç”¨ç‡% 1%,b 1ã€K 1024 (é»˜è®¤),Mã€Gã€Tã€Pã€Eã€Zã€Y ç­‰ä¾æ­¤ç±»æ¨</span><br></pre></td></tr></table></figure></p>
<p>å®é™…æ¡ˆä¾‹:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤ºä¾‹0.ä¼šæŒ‰ç…§å…ˆå­—æ¯åæ•°å­—è¿›è¡Œæ’åº (Default)å³ä¾æ¬¡æŒ‰ASCIIç å€¼è¿›è¡Œæ¯”è¾ƒï¼Œæœ€åå°†ä»–ä»¬æŒ‰å‡åºè¾“å‡ºã€‚</span></span><br><span class="line">sort -n 1.txt <span class="comment">#é»˜è®¤ä»¥ç¬¬ä¸€ä¸ªæ•°æ®æ¥æ’åº,è€Œä¸”é»˜è®¤æ˜¯ä»¥å­—ç¬¦ä¸²å½¢å¼æ¥æ’åº,æ‰€ä»¥ç”±å­—æ¯ a å¼€å§‹å‡åºæ’åº (å¯ä»¥ä¸åŠ ä¸Š-k 1,1)</span></span><br><span class="line"><span class="comment"># admin</span></span><br><span class="line"><span class="comment"># blog</span></span><br><span class="line"><span class="comment"># pass</span></span><br><span class="line"><span class="comment"># 123</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹1.ç›´æ¥å»é‡å¤è¿›è¡Œæ’åº</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">" 10.0.0.1 \n 10.0.0.2 \n 10.0.0.2 \n 10.0.0.1 \n 10.0.0.1 \n 10.0.0.3 "</span> | sort -u</span><br><span class="line"><span class="comment">#  10.0.0.1</span></span><br><span class="line"><span class="comment">#  10.0.0.2</span></span><br><span class="line"><span class="comment">#  10.0.0.3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹1.æŒ‡å®šåˆ†éš”ç¬¦ä¸ä½ç½®å»æ‰é‡å¤å€¼</span></span><br><span class="line">sort -t <span class="string">":"</span> -k 1,1 /etc/passwd <span class="comment">#å†…å®¹æ˜¯ä»¥ : æ¥åˆ†éš”çš„,ä»¥ç¬¬ä¸€æ ç¬¬ä¸€ä¸ªå•è¯æ’åºæ¥æ’åºï¼ˆé»˜è®¤æŒ‰ç…§å­—æ¯æ’åºï¼‰</span></span><br><span class="line">cat /etc/passwd | sort -t<span class="string">':'</span> -k 7 -u</span><br><span class="line">cat /etc/passwd | sort -t <span class="string">':'</span> -k 3n      <span class="comment">#ç”¨æ•°å­—æ’åº,é»˜è®¤æ˜¯ä»¥å­—ç¬¦ä¸²æ¥æ’åºçš„</span></span><br><span class="line">cat /etc/passwd | sort -t <span class="string">':'</span> -k 3nr     <span class="comment">#å€’åºæ’åˆ—,é»˜è®¤æ˜¯å‡åºæ’åº</span></span><br></pre></td></tr></table></figure><br><figure class="image-box">
                <a rel=æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629084802.png" target="_blank" title="WeiyiGeek.sortç¤ºä¾‹1" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629084802.png" alt="WeiyiGeek.sortç¤ºä¾‹1" title="" class=""></a>
                <p>WeiyiGeek.sortç¤ºä¾‹1</p>
            </figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤ºä¾‹2.-ké€‰é¡¹åŸºç¡€ä½¿ç”¨äºè¿›é˜¶</span></span><br><span class="line"><span class="comment">#ä»å…¬å¸è‹±æ–‡åç§°çš„ç¬¬äºŒä¸ªå­—æ¯å¼€å§‹è¿›è¡Œæ’åºï¼š</span></span><br><span class="line">$ sort -t <span class="string">' '</span> -k 1.2 facebook.txt  <span class="comment">#-k 1.2 è¡¨ç¤ºå¯¹ç¬¬ä¸€ä¸ªåŸŸçš„ç¬¬äºŒä¸ªå­—ç¬¦å¼€å§‹åˆ°æœ¬åŸŸçš„æœ€åä¸€ä¸ªå­—ç¬¦ä¸ºæ­¢çš„å­—ç¬¦ä¸²è¿›è¡Œæ’åº</span></span><br><span class="line"><span class="comment"># baidu 100 5000 #baiduå› ä¸ºç¬¬äºŒä¸ªå­—æ¯æ˜¯aè€Œååˆ—æ¦œé¦–ã€‚</span></span><br><span class="line"><span class="comment"># sohu 100 4500 #sohuå’Œ googleç¬¬äºŒä¸ªå­—ç¬¦éƒ½æ˜¯oï¼Œä½†sohuçš„håœ¨googleçš„oå‰é¢ï¼Œæ‰€ä»¥ä¸¤è€…åˆ†åˆ«æ’åœ¨ç¬¬äºŒå’Œç¬¬ä¸‰ã€‚</span></span><br><span class="line"><span class="comment"># google 110 5000 </span></span><br><span class="line"><span class="comment"># guge 50 3000 #gugeåªèƒ½å±ˆå±…ç¬¬å››äº†ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åªé’ˆå¯¹å…¬å¸è‹±æ–‡åç§°çš„ç¬¬äºŒä¸ªå­—æ¯è¿›è¡Œæ’åºï¼Œå¦‚æœç›¸åŒçš„æŒ‰ç…§å‘˜å·¥å·¥èµ„è¿›è¡Œé™åºæ’åºï¼š</span></span><br><span class="line">$ sort -t <span class="string">' '</span> -k 1.2,1.2 -nrk 3,3 facebook.txt  <span class="comment">#n æ•°å­—/ -r åå‘  # -k 3,3 æŒ‡å®šå‘˜å·¥å·¥èµ„åŸŸ</span></span><br><span class="line"><span class="comment"># baidu 100 5000  #ä½¿ç”¨äº†-k 1.2,1.2çš„è¡¨ç¤ºæ–¹å¼ï¼Œè¡¨ç¤ºæˆ‘ä»¬â€œåªâ€å¯¹ç¬¬äºŒä¸ªå­—æ¯è¿›è¡Œæ’åº</span></span><br><span class="line"><span class="comment"># google 110 5000</span></span><br><span class="line"><span class="comment"># sohu 100 4500</span></span><br><span class="line"><span class="comment"># guge 50 3000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯¹/etc/passwd,å…ˆä»¥ç¬¬å…­ä¸ªåŸŸçš„ç¬¬2ä¸ªå­—ç¬¦åˆ°ç¬¬4ä¸ªå­—ç¬¦è¿›è¡Œæ­£å‘æ’åº,å†åŸºäºç¬¬ä¸€ä¸ªåŸŸè¿›è¡Œåå‘æ’åº</span></span><br><span class="line">cat /etc/passwd | sort -t<span class="string">':'</span> -k 6.2,6.4 -k 1r</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹3.ä¸ªäººç†è§£ã€</span></span><br><span class="line">sort -t <span class="string">","</span> -rk 1.2,1,5 -u file.txt <span class="comment">#å¯¹æ–‡ä»¶ä¸­å†…å®¹ä»¥,å·åˆ†å‰²ç„¶åå†ç¬¬ä¸€ä¸ªåŸŸçš„ç¬¬äºŒä¸ªå­—æ¯å¼€å§‹åˆ°ç¬¬äº”ä¸ªå­—æ¯æœºè¿›è¡Œé€†å‘æ’åº(é™åº)ï¼Œç„¶åå»æ‰é‡å¤å†…å®¹ï¼›</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹4.IPä¸MACå¤„ç†</span></span><br><span class="line">sort -t <span class="string">'.'</span> -k 3.1,3.1nr -k4.1,4.3nr arp.txt</span><br><span class="line">172.25.27.33 16-15-16-EE-76-BD</span><br><span class="line">192.168.137.26 16-15-16-EE-76-BD</span><br><span class="line">192.168.137.1 16-15-16-EE-76-BD</span><br><span class="line">255.255.255.240 16-15-16-EE-76-BD</span><br></pre></td></tr></table></figure>
<figure class="image-box">
                <a rel=æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629084847.png" target="_blank" title="WeiyiGeek.sortç¤ºä¾‹2" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629084847.png" alt="WeiyiGeek.sortç¤ºä¾‹2" title="" class=""></a>
                <p>WeiyiGeek.sortç¤ºä¾‹2</p>
            </figure>
<p><br></p>
<h5 id="uniq-å‘½ä»¤"><a href="#uniq-å‘½ä»¤" class="headerlink" title="uniq å‘½ä»¤"></a>uniq å‘½ä»¤</h5><p>æè¿°ï¼šç”¨äºæŠ¥å‘Šæˆ–å¿½ç•¥æ–‡ä»¶ä¸­çš„é‡å¤è¡Œ,ä¸€èˆ¬ä¸sortå‘½ä»¤ç»“åˆä½¿ç”¨</p>
<p>è¯­æ³•å‚æ•°ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">uniq(é€‰é¡¹)(å‚æ•°)</span><br><span class="line">è¾“å…¥æ–‡ä»¶ï¼šæŒ‡å®šè¦å»é™¤çš„é‡å¤è¡Œæ–‡ä»¶ã€‚å¦‚æœä¸æŒ‡å®šæ­¤é¡¹ï¼Œåˆ™ä»æ ‡å‡†è¯»å–æ•°æ®ï¼›</span><br><span class="line">è¾“å‡ºæ–‡ä»¶ï¼šæŒ‡å®šè¦å»é™¤é‡å¤è¡Œåçš„å†…å®¹è¦å†™å…¥çš„è¾“å‡ºæ–‡ä»¶ã€‚å¦‚æœä¸æŒ‡å®šæ­¤é€‰é¡¹ï¼Œåˆ™å°†å†…å®¹æ˜¾ç¤ºåˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ï¼ˆæ˜¾ç¤ºç»ˆç«¯ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">#[é€‰é¡¹]</span></span><br><span class="line">-cæˆ–--countï¼šåœ¨æ¯åˆ—æ—è¾¹æ˜¾ç¤ºè¯¥è¡Œé‡å¤å‡ºç°çš„æ¬¡æ•°ï¼›</span><br><span class="line">-dæˆ–--repeatedï¼šä»…æ˜¾ç¤ºé‡å¤å‡ºç°çš„è¡Œåˆ—ï¼Œå³è¡¨ç¤ºæ˜¾ç¤ºé‡å¤çš„è¡Œï¼›</span><br><span class="line">-f næˆ–--skip-fields=nï¼šå¿½ç•¥æ¯”è¾ƒæŒ‡å®šçš„æ ä½,å‰nä¸ªå­—æ®µä¸æ¯ä¸ªå­—æ®µå‰çš„ç©ºç™½ä¸€èµ·è¢«å¿½ç•¥;</span><br><span class="line">-s&lt;å­—ç¬¦ä½ç½®&gt;æˆ–--skip-chars=&lt;å­—ç¬¦ä½ç½®&gt;ï¼šå¿½ç•¥æ¯”è¾ƒæŒ‡å®šçš„å­—ç¬¦ï¼›</span><br><span class="line">-uæˆ–--uniqueï¼šä»…æ˜¾ç¤ºå‡ºä¸€æ¬¡çš„è¡Œåˆ—ï¼Œå³è¡¨ç¤ºæ˜¾ç¤ºä¸é‡å¤çš„è¡Œï¼›</span><br><span class="line">-w&lt;å­—ç¬¦ä½ç½®&gt;æˆ–--check-chars=&lt;å­—ç¬¦ä½ç½®&gt;ï¼šæŒ‡å®šè¦æ¯”è¾ƒçš„å­—ç¬¦ã€‚</span><br></pre></td></tr></table></figure></p>
<p>å®é™…æ¡ˆä¾‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤ºä¾‹0ã€‚ä¸åŠ å‚æ•°åªå¯¹ç›¸é‚»çš„è¡Œç›¸åŒçš„å†…å®¹å»é‡</span></span><br><span class="line">uniq file.txt</span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">"10.0.0.1 \n 10.0.0.2 \n 10.0.0.2 \n 10.0.0.1 \n 10.0.0.1 \n 10.0.0.3 "</span> | uniq </span><br><span class="line"><span class="comment">#  10.0.0.1</span></span><br><span class="line"><span class="comment">#  10.0.0.2</span></span><br><span class="line"><span class="comment">#  10.0.0.1  ï¼ˆè¿˜æ˜¯æœ‰é‡å¤ï¼‰</span></span><br><span class="line"><span class="comment">#  10.0.0.3</span></span><br><span class="line">uniq file.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹1.åŸæœ¬ä½¿ç”¨sortè¾“å‡ºçš„å†…å®¹ä¸­æœ‰å¾ˆå¤šé‡å¤(å®é™…å°†é‡å¤çš„æ”¾åœ¨ä¸€èµ·),å¯åœ¨åé¢åŠ ä¸Š|uniqå®Œå…¨å»é‡</span></span><br><span class="line">sort file.txt | uniq</span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">" 10.0.0.1 \n 10.0.0.2 \n 10.0.0.2 \n 10.0.0.1 \n 10.0.0.1 \n 10.0.0.3 "</span> | sort | uniq </span><br><span class="line"><span class="comment">#  10.0.0.1</span></span><br><span class="line"><span class="comment">#  10.0.0.2</span></span><br><span class="line"><span class="comment">#  10.0.0.3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹2.æŒ‰ç…§é¡ºåºæ’åˆ—å¹¶ä¸”æ˜¾ç¤ºä¸é‡å¤</span></span><br><span class="line">sort -u file <span class="comment">#ä½œç”¨ç›¸åŒå»é‡å¤</span></span><br><span class="line">sort file | uniq -u</span><br><span class="line">uniq -u file <span class="comment">#ä¸æ˜¾ç¤ºé‡å¤çš„æ•°æ®ï¼ˆ"åªæ˜¾ç¤ºå‡ºç°ä¸€æ¬¡çš„æ•°æ®,æœ‰é‡å¤è¿‡çš„æ•°æ®åˆ™ä¸æ˜¾ç¤º"ï¼‰</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹3.ç»Ÿè®¡å„è¡Œåœ¨æ–‡ä»¶ä¸­å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">sort file.txt | uniq -c</span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">" 10.0.0.1 \n 10.0.0.2 \n 10.0.0.2 \n 10.0.0.1 \n 10.0.0.1 \n 10.0.0.3 "</span> | sort | uniq -c</span><br><span class="line"><span class="comment"># 3  10.0.0.1</span></span><br><span class="line"><span class="comment"># 2  10.0.0.2</span></span><br><span class="line"><span class="comment"># 1  10.0.0.3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹4.æ–‡ä»¶ä¸­æ‰¾å‡ºé‡å¤è¡Œ</span></span><br><span class="line">sort file.txt | uniq -d</span><br></pre></td></tr></table></figure></p>
<figure class="image-box">
                <a rel=æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629090256.png" target="_blank" title="WeiyiGeek.åŸºç¡€ç¤ºä¾‹" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190629090256.png" alt="WeiyiGeek.åŸºç¡€ç¤ºä¾‹" title="" class=""></a>
                <p>WeiyiGeek.åŸºç¡€ç¤ºä¾‹</p>
            </figure>
<p><br></p>
<h5 id="fold-å‘½ä»¤"><a href="#fold-å‘½ä»¤" class="headerlink" title="fold å‘½ä»¤"></a>fold å‘½ä»¤</h5><p>æè¿°ï¼šç”¨äºé™åˆ¶æ–‡ä»¶åˆ—å®½,foldæŒ‡ä»¤ä¼šä»æŒ‡å®šçš„æ–‡ä»¶é‡Œè¯»å–å†…å®¹ï¼Œå°†è¶…è¿‡é™å®šåˆ—å®½çš„åˆ—åŠ å…¥å¢åˆ—å­—ç¬¦åï¼Œè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ã€‚è‹¥ä¸æŒ‡å®šä»»ä½•æ–‡ä»¶åç§°ï¼Œæˆ–æ˜¯æ‰€ç»™äºˆçš„æ–‡ä»¶åä¸ºâ€-â€œï¼Œåˆ™foldæŒ‡ä»¤ä¼šä»æ ‡å‡†è¾“å…¥è®¾å¤‡è¯»å–æ•°æ®ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è¯­æ³•</span></span><br><span class="line">fold [-bs][-w&lt;æ¯åˆ—è¡Œæ•°&gt;][--<span class="built_in">help</span>][--version][æ–‡ä»¶...]</span><br><span class="line"></span><br><span class="line"><span class="comment">#å‚æ•°ï¼š</span></span><br><span class="line">-bæˆ–--bytes ä»¥Byteä¸ºå•ä½è®¡ç®—åˆ—å®½ï¼Œè€Œéé‡‡ç”¨è¡Œæ•°ç¼–å·ä¸ºå•ä½ã€‚</span><br><span class="line">-cæˆ–--characters ä»¥å­—ç¬¦ä¸ºå•ä½ï¼ŒæŒ‡å®šå®½åº¦</span><br><span class="line">-sæˆ–--spaces ä»¥ç©ºæ ¼å­—ç¬¦ä½œä¸ºæ¢åˆ—ç‚¹ã€‚</span><br><span class="line">-w&lt;æ¯åˆ—è¡Œæ•°&gt;æˆ–--width&lt;æ¯åˆ—è¡Œæ•°&gt; è®¾ç½®æ¯åˆ—çš„æœ€å¤§è¡Œæ•°ã€‚</span><br></pre></td></tr></table></figure>
<p>å®é™…æ¡ˆä¾‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤ºä¾‹1.å°†ä¸€ä¸ª0~9çš„æ•°å­—æ–‡ä»¶è¿›è¡Œè¡ŒæŠ˜å å®½åº¦æˆä¸º2</span></span><br><span class="line">fold -w 2 test.log</span><br><span class="line"><span class="comment"># 0123456789</span></span><br><span class="line"><span class="comment"># 01</span></span><br><span class="line"><span class="comment"># 23</span></span><br><span class="line"><span class="comment"># 45</span></span><br><span class="line"><span class="comment"># 67</span></span><br><span class="line"><span class="comment"># 89</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹2.å¯†ç å­—ç¬¦é•¿åº¦æˆªå–</span></span><br><span class="line">cat /dev/urandom | tr -dc <span class="string">'_a-zA-Z0-9!@#$%&amp;*.-+'</span> | fold -w 12 | head -1</span><br><span class="line"><span class="comment"># yduDZvYNLY42</span></span><br><span class="line"><span class="comment"># .g0VvfzPooh*</span></span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h5 id="truncate-å‘½ä»¤"><a href="#truncate-å‘½ä»¤" class="headerlink" title="truncate å‘½ä»¤"></a>truncate å‘½ä»¤</h5><p>æè¿°:truncateå‘½ä»¤å¯ä»¥å°†ä¸€ä¸ªæ–‡ä»¶ç¼©å°æˆ–è€…æ‰©å±•åˆ°æŸä¸ªç»™å®šçš„å¤§å°;</p>
<ul>
<li>å¦‚æœæŒ‡å®šæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºã€‚</li>
<li>å¦‚æœæŒ‡å®šæ–‡ä»¶è¶…å‡ºæŒ‡å®šå¤§å°åˆ™è¶…å‡ºçš„æ•°æ®å°†ä¸¢å¤±ã€‚</li>
<li>å¦‚æœæŒ‡å®šæ–‡ä»¶å°äºæŒ‡å®šå¤§å°åˆ™ç”¨0 è¡¥è¶³ã€‚</li>
</ul>
<p>åŸºç¡€ç”¨æ³•:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">ç”¨æ³•ï¼štruncate é€‰é¡¹... æ–‡ä»¶...</span><br><span class="line"><span class="comment">#é•¿é€‰é¡¹å¿…é¡»ä½¿ç”¨çš„å‚æ•°å¯¹äºçŸ­é€‰é¡¹æ—¶ä¹Ÿæ˜¯å¿…éœ€ä½¿ç”¨çš„ã€‚</span></span><br><span class="line">-c, --no-create	ä¸åˆ›å»ºæ–‡ä»¶</span><br><span class="line">-o, --io-blocks	å°†SIZE è§†ä¸ºIO å—æ•°è€Œä¸ä½¿ç”¨å­—èŠ‚æ•°</span><br><span class="line">-r, --reference=æ–‡ä»¶   ä½¿ç”¨æ­¤æ–‡ä»¶çš„å¤§å°</span><br><span class="line">-s, --size=å¤§å°	ä½¿ç”¨æ­¤å¤§å° KB 1000ï¼ŒK 1024ï¼ŒMB 1000*1000ï¼ŒM 1024*1024ï¼Œè¿˜æœ‰ Gã€Tã€Pã€Eã€Zã€Yã€‚</span><br><span class="line">    --<span class="built_in">help</span>		æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯å¹¶é€€å‡º</span><br><span class="line">    --version		æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡º</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŒ‡å®šå¤§å°ä¹Ÿå¯ä½¿ç”¨ä»¥ä¸‹å‰ç¼€ä¿®é¥°ï¼š</span></span><br><span class="line"><span class="string">"+"</span> å¢åŠ ï¼Œ<span class="string">"-"</span> å‡å°‘ï¼Œ<span class="string">"&lt;"</span> è‡³å¤šï¼Œ<span class="string">"&gt;"</span> è‡³å°‘ï¼Œ</span><br><span class="line"><span class="string">"/"</span> å°äºç­‰äºåŸå°ºå¯¸æ•°å­—çš„æŒ‡å®šæ•°å­—çš„æœ€å°å€æ•°ï¼Œ<span class="string">"%"</span> å¤§äºç­‰äºåŸå°ºå¯¸æ•°å­—çš„æŒ‡å®šæ•°å­—çš„æœ€å¤§å€æ•°ã€‚</span><br><span class="line">è¯‘è€…æ³¨ï¼šå½“è¾“å…¥å€¼ä¸ºmï¼Œå‚è€ƒå€¼ä¸ºn æ—¶ï¼Œ</span><br><span class="line"><span class="string">"/"</span> è¿ç®—çš„æ•°å­¦è®¡ç®—å¼ä¸º m / n * nï¼›</span><br><span class="line"><span class="string">"%"</span> è¿ç®—çš„æ•°å­¦è®¡ç®—å¼ä¸º( m + n - 1 ) / n * n</span><br></pre></td></tr></table></figure></p>
<p>æ³¨æ„ï¼š-r å’Œ-s æ˜¯äº’æ–¥çš„é€‰é¡¹ã€‚</p>
<p>åŸºç¡€å®ä¾‹:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å®ä¾‹1.æ¸…ç©ºæ–‡ä»¶</span></span><br><span class="line">truncate -s 0 /tmp/<span class="built_in">test</span>  </span><br><span class="line"></span><br><span class="line"><span class="comment">#å®ä¾‹2.è®¾ç½®æ–‡ä»¶å¤§å°ä¸æ–‡ä»¶æ‰©å®¹</span></span><br><span class="line">truncate -s +100M /tmp/<span class="built_in">test</span>  </span><br><span class="line">[root@initiator tmp]$ du -ah <span class="built_in">test</span>  <span class="comment">#æ˜¾ç¤ºçœŸå®æ–‡ä»¶çš„å¤§å°</span></span><br><span class="line">0 <span class="built_in">test</span></span><br><span class="line">[root@initiator tmp]$ ls -alh <span class="built_in">test</span> <span class="comment">#æ˜¾ç¤ºæ‰©å®¹åçš„æ–‡ä»¶å¤§å°</span></span><br><span class="line">-rw-r--r--. 1 root root 100M 4æœˆ  20 22:16 <span class="built_in">test</span></span><br></pre></td></tr></table></figure></p>

        </div>
        <!-- Google å¹¿å‘Š -->
        
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-9134434519967436" data-ad-slot="7905848205"></ins>
  

        
<hr/>
<div style="text-align: center;font-weight: bold;">
  <p> æ¬¢è¿å„ä½å¿—åŒé“åˆçš„æœ‹å‹ä¸€èµ·å­¦ä¹ äº¤æµï¼Œå¦‚æ–‡ç« æœ‰è¯¯è¯·åœ¨ä¸‹æ–¹ç•™ä¸‹æ‚¨å®è´µçš„ç»éªŒçŸ¥è¯†ï¼Œä¸ªäººé‚®ç®±åœ°å€<b style="color:#ff654e"><code>ã€master#weiyigeek.topã€‘</code></b>æˆ–è€…ä¸ªäººå…¬ä¼—å·<b style="color:#ff654e"><code>ã€WeiyiGeekã€‘</code></b>è”ç³»æˆ‘ã€‚ </p>
  <p> æ›´å¤šæ–‡ç« æ¥æºäº<b style="color:#03a9f4">ã€WeiyiGeek Blog - ä¸ºäº†èƒ½åˆ°è¿œæ–¹ï¼Œè„šä¸‹çš„æ¯ä¸€æ­¥éƒ½ä¸èƒ½å°‘ã€‘</b>, ä¸ªäººé¦–é¡µåœ°å€( <a style="color: #03a9f4;" href="https://weiyigeek.top" target="_blank"> https://weiyigeek.top </a> )</p>
<!-- 

  <ul style="font-weight: bolder;">
    <li>
      <p><span style="color: #03a9f4">echo&nbsp;&nbsp;"ã€ç‚¹ä¸ªèµã€‘ï¼ŒåŠ¨åŠ¨ä½ é‚£ç²—å£®çš„æ‹‡æŒ‡æˆ–è€…èŠŠèŠŠç‰æ‰‹ï¼Œäº²ï¼"</span></p>
    </li>
    <li>
      <p><span style="color: #ff9201">printf("%s",&nbsp;"ã€æŠ•ä¸ªå¸ã€‘ï¼Œä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼ŒæŠ•ä¸ªç¡¬å¸è¡Œä¸è¡Œï¼Œäº²ï¼")</span></p>
    </li>
    <li>
      <p><span style="color: #02a2ff">fmt.Printf("ã€æ”¶ä¸ªè—ã€‘ï¼Œé˜…åå³ç„šä¸åƒç°ï¼Œäº²ï¼")&nbsp;&nbsp;</span></p>
    </li>
    <li>
      <p><span style="color:red">console.info("ã€è½¬ä¸ªå‘ã€‘ï¼Œè®©æ›´å¤šçš„å¿—åŒé“åˆçš„æœ‹å‹ä¸€èµ·å­¦ä¹ äº¤æµï¼Œäº²ï¼")</span></p>
    </li>
    <li>
      <p><span style="color: #ff654e">System.out.println("ã€å…³ä¸ªæ³¨ã€‘ï¼Œåç»­æµè§ˆæŸ¥çœ‹ä¸è¿·è·¯å“Ÿï¼Œäº²ï¼")</span></p>
    </li>
  </ul> -->
  <div>
    <img src="/img/share-wechat.jpg" class="img-responsive" alt="æ‰«æFollow(å…³æ³¨)WeiyiGeekå…¬ä¼—å·ä¸Visit(æµè§ˆ)æå®¢å…¨æ ˆä¿®ç‚¼å°ç¨‹åº" >
    <p>ä¸“æ ä¹¦å†™ä¸æ˜“ï¼Œå¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªä¸“æ è¿˜ä¸é”™çš„ï¼Œè¯·ç»™è¿™ç¯‡ä¸“æ  <b style="color: red;">ã€ç‚¹ä¸ªèµã€æŠ•ä¸ªå¸ã€æ”¶ä¸ªè—ã€å…³ä¸ªæ³¨ã€è½¬ä¸ªå‘ã€èµä¸ªåŠ©ã€‘</b>ï¼Œè¿™å°†å¯¹æˆ‘çš„è‚¯å®šï¼Œæˆ‘å°†æŒç»­æ•´ç†å‘å¸ƒæ›´å¤šä¼˜è´¨åŸåˆ›æ–‡ç« ï¼ã€‚</p>
    <img src="/img/weiyigeek.jpg" class="img-responsive" alt="WeiyiGeek-banner">
  </div>
</div>
  <hr>
  

  <blockquote class="post-copyright">
    <div class="content">
      
        
<span class="post-time">
    æœ€åæ›´æ–°æ—¶é—´ï¼š<time datetime="2022-08-26T10:19:14.080Z" itemprop="dateUpdated">2022-08-26 18:19:14</time>
</span><br>


        <span>æ–‡ç« åŸå§‹è·¯å¾„ï¼š<a href="https://github.com/WeiyiGeek/blog/edit/master/source/_posts/ç³»ç»Ÿè¿ç»´/Linux/å¸¸ç”¨å‘½ä»¤/æ–‡ä»¶ç®¡ç†ç±»å‘½ä»¤/æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤.md" target="_blank" rel="noopener noreferrer">_posts/ç³»ç»Ÿè¿ç»´/Linux/å¸¸ç”¨å‘½ä»¤/æ–‡ä»¶ç®¡ç†ç±»å‘½ä»¤/æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤.md</a></span><br>
         <span class="copy-copyright">è½¬è½½æ³¨æ˜å‡ºå¤„ï¼ŒåŸæ–‡åœ°å€ï¼š<a href="/2019/6-5-156.html" target="_blank" rel="external">https://blog.weiyigeek.top/2019/6-5-156.html</a></span><br>æœ¬ç«™æ–‡ç« å†…å®¹éµå¾ª <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">çŸ¥è¯†å…±äº« ç½²å - éå•†ä¸šæ€§ - ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…åè®®</a> 
    </div>
    <footer>
      <a href="https://blog.weiyigeek.top">
        <img src="/img/avatar.jpg" alt="WeiyiGeek">
        WeiyiGeek
      </a>
    </footer>
  </blockquote>


        
            <div class="page-reward">
  <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-rectangle waves-light">â˜•ï¸ è¯·ä½œè€…å–æ¯å’–å•¡!</a>
</div>
            
        
        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E6%9F%A5%E7%9C%8B%E5%88%86%E5%89%B2/" rel="tag">æ–‡ä»¶æŸ¥çœ‹åˆ†å‰²</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2019/6-5-156.html&title=ã€Šæ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ã€‹ â€” WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2019/6-5-156.html&title=ã€Šæ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ã€‹ â€” WeiyiGeek Blog&source=[TOC]" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2019/6-5-156.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€Šæ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ã€‹ â€” WeiyiGeek Blog&url=https://blog.weiyigeek.top/2019/6-5-156.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2019/6-5-156.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
          <!-- è¯„è®ºç»„ä»¶ -->


<div id="gitalk-container"></div>
<script type="text/javascript" src="/js/plugins/gitalk.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/custom/gitalk.init.js?v=1.6.6"></script>
        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/2019/6-5-155.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">æ–‡ä»¶æŸ¥æ‰¾ä¸‹è½½å‘½ä»¤</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/2019/6-5-458.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">4.Dockerå­¦ä¹ ä¹‹è¿›é˜¶ä½¿ç”¨</h4>
      </a>
    </div>
  
</nav>


    
    
        <aside class="post-widget">
            <nav class="post-toc-wrap" id="post-toc">
                <strong>ç›®å½•</strong>
                <ol class="post-toc"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x00-æ–‡ä»¶æŸ¥çœ‹"><span class="post-toc-number">1.</span> <span class="post-toc-text">0x00 æ–‡ä»¶æŸ¥çœ‹</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x01-æ–‡ä»¶æ¯”è¾ƒä¸åˆ†å‰²"><span class="post-toc-number">2.</span> <span class="post-toc-text">0x01 æ–‡ä»¶æ¯”è¾ƒä¸åˆ†å‰²</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x02-å†…å®¹åˆ†å‰²ä¸æ’åº"><span class="post-toc-number">3.</span> <span class="post-toc-text">0x02 å†…å®¹åˆ†å‰²ä¸æ’åº</span></a></li></ol>
            </nav>
            <div class="toc-bar"><div>
        </aside>
    


    <!-- æ”¯ä»˜å®å¾®ä¿¡æ–‡ç« èµèµ -->
    
      <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        å¦‚æœæ­¤ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œå°±è¯·ä½œè€…å–æ¯ Coffee â˜•ï¸â˜•ï¸!
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardwechat" src="/img/reward-wechat.jpg" height="250" height="250" alt="å¾®ä¿¡æ‰“èµäºŒç»´ç ">
            <img id="rewardalipay" src="/img/reward-alipay.png" height="250" height="250" alt="æ”¯ä»˜å®æ‰“èµäºŒç»´ç ">
        </div>
        
        <label class="reward-toggle">
            <!-- <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/reward-wechat.jpg" data-alipay="/img/reward-alipay.png"> -->
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">å¾®ä¿¡</span>
                <span class="reward-toggle-item alipay">æ”¯ä»˜å®</span>
            </div>
        </label>
        
    </div>
</div>

      

    <!-- å¾®ä¿¡å…¬ä¼—å·å…³æ³¨/æ–‡ç« ç‰ˆæƒå¤åˆ¶ -->
    
      <div id="btw-mask" style="position: fixed; top: 0px; right: 0px; bottom: 0px; left: 0px; opacity: 0.7; z-index: 999; background: rgb(0, 0, 0); display:none"></div>
<div id="btw-modal" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 360px; text-align: center; font-size: 13px; background: rgb(255, 255, 255); border-radius: 10px; z-index: 9999; font-family: PingFangSC-Regular, sans-serif;display:none">
<span id="btw-modal-close-btn" style="position: absolute; top: 5px; right: 15px; line-height: 1.8; font-size: 15px; cursor: pointer; opacity: 0.2; z-index: 9999; color: rgb(0, 0, 0); background: none; border: none; outline: none;">X</span>
<p id="btw-modal-header" style="margin-top: 40px; line-height: 1.8; font-size: 13px; ">
<b style="color:#6190e8;">ä½ å¥½æœ‹å‹,å¯ä»¥å…³ä¸ªæ³¨å—? â¤ <br> è¿™å°†æ˜¯æˆ‘æŒç»­æ›´æ–°æ–‡ç« çš„åŠ¨åŠ›æºæ³‰ï¼Œè°¢è°¢æ”¯æŒï¼(à¹‘â€²á´—â€µà¹‘) </b> <br> å¦‚ä¸æƒ³å…³æ³¨è¯·ç‚¹å‡»å³ä¸Šè§’çš„ã€Xã€‘<br>
<br>Method 1.Please visit <strong><a href="https://twitter.com/WeiyiGeek" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">ã€My Twitterã€‘</a></strong>. There is an article verification code in the homepage.
<br>æ–¹å¼2.è¯·è®¿é—®æœ¬åšä¸»çš„Bç«™<strong><a href="https://space.bilibili.com/385802642" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">ã€WeiyiGeekã€‘</a></strong>é¦–é¡µå…³æ³¨UPä¸»,<br>å°†è‡ªåŠ¨éšæœºè·å–è§£é”éªŒè¯ç ã€‚
<br>æ–¹å¼3.æ‰«ä¸€æ‰«ä¸‹æ–¹äºŒç»´ç ï¼Œå…³æ³¨æœ¬ç«™<strong>å®˜æ–¹å…¬ä¼—å·</strong><br>
å›å¤ï¼š<strong style="color: rgb(240, 65, 52);">éªŒè¯ç </strong>
å°†è·å–<strong style="color: rgb(240, 65, 52);">è§£é”(æœ‰æ•ˆæœŸ7å¤©)</strong>æœ¬ç«™æ‰€æœ‰æŠ€æœ¯æ–‡ç« å“Ÿ!</p>
<img src="/img/wechat-search.png" style="width: 300px; margin-top: 10px;">
<div id="btw-modal-input-code" style="margin-top: 20px; background: rgb(255, 255, 255);">
  <input id="btw-modal-input" type="number" minlength="4" maxlength="4" placeholder="è¯·è¾“å…¥éªŒè¯ç |Verification Code"
    style="width: 165px; height: 32px; line-height: 32px; padding: 0px 10px; margin: 0px 10px; font-size: 13px; text-rendering: auto; text-transform: none; cursor: text; outline: none; box-sizing: border-box; border: 1px solid rgb(221, 221, 221); -webkit-appearance: textfield; background-color: white; -webkit-rtl-ordering: logical;"/>
  <button id="btw-submit-btn" onclick="yzm_vertify()"
    style="padding: 0px 20px; height: 32px; font-size: 14px; outline: none; border: none; color: rgb(255, 255, 255); background: rgb(222, 104, 109); cursor: pointer;">æ
    äº¤</button> </div>
<p id="btw-footer" style="margin: 40px 0px 20px; color: rgb(153, 153, 153);">@WeiyiGeek - ä¸ºäº†èƒ½åˆ°è¿œæ–¹ï¼Œè„šä¸‹çš„æ¯ä¸€æ­¥éƒ½ä¸èƒ½å°‘</p>
</div>
        
</article>
</div>

    </main>
    <footer class="footer ">
    
    <div class="top">
        
            <p>
    <span>Linksï¼š</span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top" target="_blank">https://weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.weiyigeek.top" target="_blank">https://blog.weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top/img/wechat-search.png" target="_blank">å…¬ä¼—è´¦å·</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://space.bilibili.com/385802642/article" target="_blank">å“”å“©å“”å“©ä¸“æ </a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://github.com/weiyigeek" target="_blank">ä¸ªäººGithub</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://gitee.com/WeiyiGeek" target="_blank">ä¸ªäººGitee</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.zhihu.com/people/weiyiSec" target="_blank">ä¸ªäººçŸ¥ä¹</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.cnblogs.com/WeiyiGeek" target="_blank">åšå®¢å›­</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://my.oschina.net/weiyigeek" target="_blank">OSCHINA</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.toutiao.com/c/user/token/MS4wLjABAAAAqcPSoMqfctaEqJpGSF775eeCjWkrop4AOyLITdMx-L78F5iXzfQcSRM5sY4dq3wR" target="_blank">ä»Šæ—¥å¤´æ¡</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.csdn.net/u013072756?type=lately" target="_blank">CSDN</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.jianshu.com/u/5199a1104739" target="_blank">ç®€ä¹¦</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cloud.tencent.com/developer/user/1389665/articles" target="_blank">è…¾è®¯äº‘+äº‘ç¤¾åŒº</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cuttlefish.baidu.com/shop/75c5dbd8d15abe23482f4d40" target="_blank">ç™¾åº¦æ–‡åº“</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://author.baidu.com/home?from=blog&app_id=1726736601523415" target="_blank">ITæå®¢çŸ¥è¯†åˆ†äº«</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.51cto.com/weiyigeek" target="_blank">51CTOåšå®¢</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://juejin.cn/user/122767337595934" target="_blank">æ˜é‡‘</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weibo.com/a/hot/7622022703618049_1.html" target="_blank">å¾®åšæ–‡ç« </a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.xiaohongshu.com/user/profile/627c98bb000000001000e7ba" target="_blank">å°çº¢ä¹¦</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://segmentfault.com/u/weiyigeek" target="_blank">Segmentfault</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.douyin.com/user/MS4wLjABAAAAMSBdMja6XLsdmzafb0RNbFeBemIOk38K1PaOClZeI1Q" target="_blank">æŠ–éŸ³ä¸»é¡µ</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.kuaishou.com/profile/3xfbrsrhd2i69x9" target="_blank">å¿«æ‰‹ä¸»é¡µ</a>
    </span>
    
</p>

        
    </div>
    
    <div class="bottom">
      <p>
        <span>WeiyiGeek &copy; 2018 - 2022 <a href="https://weiyigeek.top" target="_blank" rel="noopener">weiyigeek.top</a> All rights reserved.å”¯ä¸€æå®¢ITçŸ¥è¯†åˆ†äº« ç‰ˆæƒæ‰€æœ‰ </span>
        
        <span>
          Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/weiyigeek" target="_blank">mellow</a>
        </span>
        
        <br/>è®¿é—®ç»Ÿè®¡
        <span><a href="/sitemap.xml" target="_blank" rel="Sitemaps-ç«™ç‚¹åœ°å›¾">Sitemaps</a> </span>
        <span><a href="/baidusitemap.xml" target="_blank" rel="baidusitemaps-ç™¾åº¦ç«™ç‚¹åœ°å›¾">ç«™ç‚¹åœ°å›¾</a> </span>
        <!-- 
  -->
        <br/>ICPå¤‡æ¡ˆå·<span><a href="https://beian.miit.gov.cn" target="_blank">æ¸ICPå¤‡2022003447å·</a></span>
        <br/>
        <div id="cc-myssl-id">
          <a href="https://myssl.com/blog.weiyigeek.top?from=mysslid" target="_blank" rel="noopener"><img src="https://static.myssl.com/res/images/myssl-id1.png" alt="MySSLå®‰å…¨è®¤è¯" style="max-height:50px;display:block;margin:0 auto"></a>
        </div>
      </p>
    </div>
</footer>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>


<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2019/6-5-156.html&title=ã€Šæ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ã€‹ â€” WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2019/6-5-156.html&title=ã€Šæ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ã€‹ â€” WeiyiGeek Blog&source=[TOC]" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2019/6-5-156.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€Šæ–‡ä»¶æŸ¥çœ‹åˆ†å‰²å‘½ä»¤ã€‹ â€” WeiyiGeek Blog&url=https://blog.weiyigeek.top/2019/6-5-156.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2019/6-5-156.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>æ‰«ä¸€æ‰«ï¼Œåˆ†äº«åˆ°å¾®ä¿¡</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACI0lEQVR42u3aQXLDIAwF0N7/0u0B2jj/C6czhscqEzuY54WCJL6+4vH9YuRXr+989dubBwYGxmMZyXTXS7me89U3v+9v2RgYGKcx8qnbRVzfmXxz/UQMDAyM9vNstK8PAwMDIwmO15vL64CbB1kMDAyMNonNC23F4/8/F8fAwHggI6+6///nj/Q3MDAwHsVYSTXvSmhvSIAxMDC2ZsxamCvhst3eFRtNDAyMTRmzNLVdXFJ0a6l//G9gYGAcwFg5bLFyeCJ5fW8aFRgYGAcw8sCXpJ3tDHkgjva2GBgY2zHyQLkSiNcbEnUnFgMDY1NGO1EbEGcBN/kVBgbG3oxZApmno3nzINlcvmkMYGBgbMqYbcKiYn28uPWmKQYGxgmMfBeZ35MsIm9LRCEYAwNja8asGZBv+NpX04IxMDD2ZhTJ4SgRbY+a5dtEDAyM0xjJaItubYivuxkYGBjHMGYPaEv/bfszT4YxMDBOY7RhN09Z8wCaH+yIaocYGBgbMdom5UpyO0t9o/VgYGAcw1gpjX2u0BYFfQwMjK0Zedtg1hfNQ+2syYqBgbE347scbaMx39i18//xj4GBgbEpYyVo5kW3lSZoQsXAwDiBsRJkW3D+Iur3jYGBcQCjPWzxuaA8S4kxMDAwZg+bJbTJqjAwMDDadDS/2gbrZJ0YGBjnMNokNi/ZJxvEWSPhhnIbBgbGQxj31rLycv8s+C41MjEwMJ7H+AE+XmWruTSUVwAAAABJRU5ErkJggg==" alt="å¾®ä¿¡åˆ†äº«äºŒç»´ç ">
</div>


    
    <!-- main-js -->
<script type="text/javascript" src="/js/jquery/2.1.0-jquery.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/ios-orientationchange-fix.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/jquery/3.5.2-jquery.fancybox.min.js?v=1.6.6"></script>
<!--  //cdn.bootcss.com/node-waves/0.7.4/waves.min.js -->
<script type="text/javascript" src="/js/node-waves/0.7.4-waves.min.js?v=1.6.6"></script> 

<script type="text/javascript" src="/js/method.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/blog.js?v=1.6.6"></script>

<!-- third-party -->
<script type="text/javascript" src="/js/plugins/local_search.js?v=1.6.6"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) { search_path = "search.xml";}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script> 

<script> (adsbygoogle = window.adsbygoogle || []).push({});</script>    


<!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> --> 


  


<script>
  var _hmt = _hmt || [];
  (function() {
    // ç™¾åº¦ç»Ÿè®¡
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?53923c4b5560739bc0ed61e183be6acf";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>
 


<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.staticfile.org/mathjax/2.7.9/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
 
<script>
    (function() {
        var OriginTitile = document.title, titleTime;
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.title = 'WeiyiGeek Blog-å…³æ³¨äºç½‘ç»œå®‰å…¨_ç‰©è”ç½‘å®‰å…¨å¼€å‘_ç½‘ç»œå®‰å…¨è¿ç»´-å­¦ä¹ å¿ƒå¾—åˆ†äº«';
                clearTimeout(titleTime);
            } else {
                document.title = '(ã¤ã‚§âŠ‚)å’¦!åˆå¥½äº†!';
                titleTime = setTimeout(function() {
                    document.title = OriginTitile;
                },2000);
            }
        });
    })();
</script>
 

     <script type="text/javascript" src="/js/custom/copytips.js?v=1.6.6"></script> 
</body>
</html>