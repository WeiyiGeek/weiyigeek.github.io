{"title":"MySQL数据库编程基础入门2","slug":"数据存储/MySQL/MySQL数据库编程基础入门2","date":"2020-01-15T13:34:33.000Z","updated":"2022-04-11T02:40:12.446Z","url":"2020/1-15-44.html","path":"api/articles/2020/1-15-44.html.json","covers":["https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200116161215.png"],"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h4 id=\"0-MySQL语法\"><a href=\"#0-MySQL语法\" class=\"headerlink\" title=\"0.MySQL语法\"></a>0.MySQL语法</h4><p>描述:学习MySQL除了一些基本的SQL语句以外，我们还需要学习MySQL扩展部分的知识；通过前面的学习我们知道SQL类型大致分为四类，在后面的学习采用这四类来入门了解使用MySQL 8.0;</p>\n<h5 id=\"语法定义\"><a href=\"#语法定义\" class=\"headerlink\" title=\"语法定义\"></a>语法定义</h5><p><em>语法定义说明:</em></p>\n<ul>\n<li>1.SQL关键字不区分大小写，可以用任何字母大写（建议大写）,每条语句后加上’;’结束;</li>\n<li>2.在语法描述中，方括号 <code>[ 关键字 ]</code>表示可选的关键字参数;</li>\n<li>3.当语法元素由多个替代项组成时，替代项由竖线<code>[ 关键字 | 关键字 ]</code>分隔,表示里面的参数关键字赛可以被选择使用的;如:<code>TRIM([[BOTH | LEADING | TRAILING] [remstr] FROM] str)</code></li>\n<li>4.当必须从一组选项中选择一个成员时在用 <code>{ 关键字 }</code>中列出,如<code>{DESCRIBE | DESC} tbl_name [col_name | wild]</code>;</li>\n<li>5.省略号（…）表示省略了语句的一部分，通常是为了提供较短版本的更复杂的语法例如:<code>SELECT ... INTO OUTFILE</code>是SELECT语句形式的简写，该语句的INTO OUTFILE后面还有一个 子句。</li>\n<li>6.省略号还可以指示可以重复执行语句的前面的语法元素;比如reset_option可以给出多个值,每个值后面的第一个值前都带有逗号：<code>RESET reset_option [,reset_option] ...</code></li>\n<li>7.注释采用<code>--</code> 或者 <code>/****/</code>进行SQL语句注释</li>\n</ul>\n<p><br></p>\n<h5 id=\"表约束定义\"><a href=\"#表约束定义\" class=\"headerlink\" title=\"表约束定义\"></a>表约束定义</h5><p>描述:表的约束在定义表结构中是非常常用的我们需要对其进行深入的了解和学习;<br>什么叫约束?<br>答:对相应数据表中的列设定约束以规范存储的数据,主要分为五大约束;</p>\n<p>表关键字和约束<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 表关键字</span></span><br><span class=\"line\">IF EXISTS</span><br><span class=\"line\">IF NOT EXISTS</span><br><span class=\"line\">CONSTRAINT  <span class=\"comment\">-- 约束名称</span></span><br><span class=\"line\">REFERENCES  <span class=\"comment\">-- 外键来源</span></span><br><span class=\"line\">AUTO_INCREMENT <span class=\"comment\">-- 自增长:用于系统自动生成字段的主键值;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 表定义约束</span></span><br><span class=\"line\">PRIMARK KEY <span class=\"comment\">-- 主键约束即提高手上效率</span></span><br><span class=\"line\">FOREIGN KEY  <span class=\"comment\">-- 外键约束 </span></span><br><span class=\"line\">NOT NULL  <span class=\"comment\">-- 非空约束</span></span><br><span class=\"line\">UNIQUE <span class=\"comment\">-- 唯一性约束即数据值唯一性</span></span><br><span class=\"line\">DEFAULT '值' <span class=\"comment\">-- 默认约束对应列中值的默认值设置</span></span><br></pre></td></tr></table></figure><br><br></p>\n<p><strong>(1) 主键约束</strong><br>描述:是表中一列或者多了的组合，主键约束要请主键列的数据唯一且不允许为空。用来唯一的标识表中的一条记录;</p>\n<ul>\n<li>单字段主键:</li>\n<li>多字段联合主键:</li>\n</ul>\n<p>基础示例:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 单字段</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> t1 (</span><br><span class=\"line\">    <span class=\"keyword\">id</span> <span class=\"built_in\">INT</span> PRIMARY <span class=\"keyword\">KEY</span>,  <span class=\"comment\">-- 默认NOT NULL</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 多字段</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> t2 (</span><br><span class=\"line\">    <span class=\"keyword\">id</span> <span class=\"built_in\">INT</span>(<span class=\"number\">10</span>),</span><br><span class=\"line\">    uid <span class=\"built_in\">INT</span>(<span class=\"number\">10</span>),</span><br><span class=\"line\">    PRIMARY <span class=\"keyword\">KEY</span>(<span class=\"keyword\">id</span>,uid)</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 推荐形式</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"keyword\">IF</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">EXISTS</span> t3 (</span><br><span class=\"line\">  <span class=\"keyword\">id</span> <span class=\"built_in\">SMALLINT</span> PRIMARY <span class=\"keyword\">KEY</span> AUTO_INCREMENT,</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure></p>\n<p>注意事项:</p>\n<ul>\n<li>在设置了某一字段为主键自增长的时候，插入时候可以指定NULL但是实际也是插入的非NULL值;</li>\n<li>主键约束:默认就是不能为空并且唯一，一张表只能有一个主键，常常供外键使用</li>\n</ul>\n<p><br></p>\n<p><strong>(2) 外键约束</strong><br>描述:外键是搭配主键使用可以为空值（看做主键的子集），若不为空值则每一个外键值必须等于另外一个表中主键的某值，且外键数据类型必须与主键一致，主要的用途是维护多个表之间的关系;</p>\n<p>基础示例:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 表1</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> t1 (</span><br><span class=\"line\">    uid <span class=\"built_in\">INT</span>(<span class=\"number\">100</span>) PRIMARY <span class=\"keyword\">KEY</span>,  <span class=\"comment\">-- 外键依赖于来源表的主键 </span></span><br><span class=\"line\">    <span class=\"keyword\">name</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">255</span>)</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 表2</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> t2 (</span><br><span class=\"line\">    fid <span class=\"built_in\">INT</span>(<span class=\"number\">100</span>),</span><br><span class=\"line\">    phone <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">16</span>),</span><br><span class=\"line\">    <span class=\"keyword\">CONSTRAINT</span> fk_t1 <span class=\"keyword\">FOREIGN</span> <span class=\"keyword\">KEY</span>(fid)  <span class=\"comment\">-- 设置外键名称</span></span><br><span class=\"line\">    <span class=\"keyword\">REFERENCES</span> t1(uid)  <span class=\"comment\">-- 来源于t1表中的uid字段，且uid字段必须是t1表的主键</span></span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure></p>\n<p>注意事项:</p>\n<ul>\n<li>主键是不可以有空值的，而外键是可以有空值的;<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MySQL [Demo]&gt; desc t1;</span><br><span class=\"line\">+<span class=\"comment\">-------+--------------+------+-----+---------+-------+</span></span><br><span class=\"line\">| Field | Type         | Null | Key | Default | Extra |</span><br><span class=\"line\">+<span class=\"comment\">-------+--------------+------+-----+---------+-------+</span></span><br><span class=\"line\">| uid   | int(100)     | NO (关键点)  | PRI | NULL    | </span><br><span class=\"line\"></span><br><span class=\"line\">MySQL [Demo]&gt; desc t2;</span><br><span class=\"line\">+<span class=\"comment\">-------+-------------+------+-----+---------+-------+</span></span><br><span class=\"line\">| Field | Type        | Null | Key | Default | Extra |</span><br><span class=\"line\">+<span class=\"comment\">-------+-------------+------+-----+---------+-------+</span></span><br><span class=\"line\">| fid   | int(100)    | YES (关键点)  | MUL | NULL    |</span><br></pre></td></tr></table></figure></li>\n<li>t2表中插入的数据fid依赖于t1表中uid的值，它必须是uid的子集才能插入或者更新<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 向t1表插入两行数据</span></span><br><span class=\"line\">MySQL [Demo]&gt; INSERT INTO t1 VALUES (1,'Admin'),(2,'WeiyiGeek');</span><br><span class=\"line\">MySQL [Demo]&gt; INSERT INTO t2 VALUES (1,'18888888888'),(2,'19999999999');</span><br><span class=\"line\">MySQL [Demo]&gt; INSERT INTO t2 VALUES (NULL,'15555555555');  -- 可以插入空值</span><br><span class=\"line\"></span><br><span class=\"line\">MySQL [Demo]&gt; INSERT INTO t2 VALUES (3,'16666666666'); -- 执行错误，由于fid插入值非t1表uid字段的子集;</span><br><span class=\"line\"><span class=\"comment\">-- ERROR 1452 (23000): Cannot add or update a child row: a foreign key constraint f</span></span><br><span class=\"line\"><span class=\"comment\">-- ails (`Demo`.`t2`, CONSTRAINT `fk_t1` FOREIGN KEY (`fid`) REFERENCES `t1` (`uid`))</span></span><br><span class=\"line\"></span><br><span class=\"line\">MySQL [Demo]&gt; SELECT * FROM t2;</span><br><span class=\"line\"><span class=\"comment\">-- +------+-------------+</span></span><br><span class=\"line\"><span class=\"comment\">-- | fid  | phone       |</span></span><br><span class=\"line\"><span class=\"comment\">-- +------+-------------+</span></span><br><span class=\"line\"><span class=\"comment\">-- |    1 | 18888888888 |</span></span><br><span class=\"line\"><span class=\"comment\">-- |    2 | 19999999999 |</span></span><br><span class=\"line\"><span class=\"comment\">-- | NULL | 15555555555 |</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><br></p>\n<p><strong>(3) 非空约束</strong><br>描述:用于约束对应列中的值不能有空值，即插入的时候不能插入空值(不指定该列)或者设置该列NULL;<br>基础示例:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"keyword\">IF</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">EXISTS</span> t5 (</span><br><span class=\"line\">    <span class=\"keyword\">id</span> <span class=\"built_in\">INT</span> PRIMARY <span class=\"keyword\">KEY</span>,</span><br><span class=\"line\">    <span class=\"keyword\">name</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">10</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span></span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span>=<span class=\"keyword\">MEMORY</span> <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8;</span><br><span class=\"line\"></span><br><span class=\"line\">MySQL [Demo]&gt; INSERT INTO t5 VALUE (1,'Weiyi'),(2,''); -- 关键点 '' 不是空值而是空格</span><br><span class=\"line\">Query OK, 2 rows affected (0.08 sec)</span><br><span class=\"line\">Records: 2  Duplicates: 0  Warnings: 0</span><br><span class=\"line\"></span><br><span class=\"line\">MySQL [Demo]&gt; INSERT INTO t5 VALUE (3,NULL);</span><br><span class=\"line\">ERROR 1048 (23000): Column 'name' cannot be null</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<p><strong>(4) 唯一性约束</strong><br>描述:用于约束对应列中的值不能重复，但是可以有空值有且只能出现一个空值；<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"keyword\">IF</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">EXISTS</span> t1 (</span><br><span class=\"line\">   certid <span class=\"built_in\">INT</span> <span class=\"keyword\">UNIQUE</span></span><br><span class=\"line\">) ENGINX=MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8;  <span class=\"comment\">-- 指定其他的存储引擎默认是innoDB</span></span><br></pre></td></tr></table></figure></p>\n<p>注意事项：</p>\n<ul>\n<li>唯一约束列的内容必须是唯一,不能出现重复情况;</li>\n<li>唯一约束不可以作为其它表的外键，但是可以有多个唯一约束字段;</li>\n</ul>\n<p><br></p>\n<p><strong>(5) 默认约束</strong><br>描述:用于约束对应列中的值的默认值，除非默认值为空值否则不可以插入空值;<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"keyword\">IF</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">EXISTS</span> T2 (</span><br><span class=\"line\">  <span class=\"keyword\">name</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">10</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span><br><span class=\"line\">  sex ENUM(<span class=\"string\">'F'</span>,<span class=\"string\">'M'</span>,<span class=\"string\">'UN'</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"string\">'UN'</span></span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure></p>\n<hr>\n\n<h4 id=\"1-DQL-数据查询语句\"><a href=\"#1-DQL-数据查询语句\" class=\"headerlink\" title=\"1.DQL 数据查询语句\"></a>1.DQL 数据查询语句</h4><h5 id=\"SELECT-语句\"><a href=\"#SELECT-语句\" class=\"headerlink\" title=\"SELECT 语句\"></a>SELECT 语句</h5><p><strong>基础语法:</strong><br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">    [<span class=\"keyword\">ALL</span> | <span class=\"keyword\">DISTINCT</span> | <span class=\"keyword\">DISTINCTROW</span> ]</span><br><span class=\"line\">    [<span class=\"keyword\">HIGH_PRIORITY</span>]</span><br><span class=\"line\">    [<span class=\"keyword\">STRAIGHT_JOIN</span>]</span><br><span class=\"line\">    [<span class=\"keyword\">SQL_SMALL_RESULT</span>] [<span class=\"keyword\">SQL_BIG_RESULT</span>] [<span class=\"keyword\">SQL_BUFFER_RESULT</span>]</span><br><span class=\"line\">    [SQL_NO_CACHE] [<span class=\"keyword\">SQL_CALC_FOUND_ROWS</span>]</span><br><span class=\"line\">    select_expr [, select_expr] ...</span><br><span class=\"line\">    [into_option]</span><br><span class=\"line\">    [<span class=\"keyword\">FROM</span> table_references</span><br><span class=\"line\">      [<span class=\"keyword\">PARTITION</span> partition_list]]</span><br><span class=\"line\">    [<span class=\"keyword\">WHERE</span> where_condition]</span><br><span class=\"line\">    [<span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> &#123;col_name | expr | <span class=\"keyword\">position</span>&#125;, ... [<span class=\"keyword\">WITH</span> <span class=\"keyword\">ROLLUP</span>]]</span><br><span class=\"line\">    [<span class=\"keyword\">HAVING</span> where_condition]</span><br><span class=\"line\">    [<span class=\"keyword\">WINDOW</span> window_name <span class=\"keyword\">AS</span> (window_spec)</span><br><span class=\"line\">        [, window_name <span class=\"keyword\">AS</span> (window_spec)] ...]</span><br><span class=\"line\">    [<span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> &#123;col_name | expr | <span class=\"keyword\">position</span>&#125;</span><br><span class=\"line\">      [<span class=\"keyword\">ASC</span> | <span class=\"keyword\">DESC</span>], ... [<span class=\"keyword\">WITH</span> <span class=\"keyword\">ROLLUP</span>]]</span><br><span class=\"line\">    [<span class=\"keyword\">LIMIT</span> &#123;[<span class=\"keyword\">offset</span>,] <span class=\"keyword\">row_count</span> | <span class=\"keyword\">row_count</span> <span class=\"keyword\">OFFSET</span> <span class=\"keyword\">offset</span>&#125;]</span><br><span class=\"line\">    [into_option]</span><br><span class=\"line\">    [<span class=\"keyword\">FOR</span> &#123;<span class=\"keyword\">UPDATE</span> | <span class=\"keyword\">SHARE</span>&#125;</span><br><span class=\"line\">        [<span class=\"keyword\">OF</span> tbl_name [, tbl_name] ...]</span><br><span class=\"line\">        [<span class=\"keyword\">NOWAIT</span> | <span class=\"keyword\">SKIP</span> <span class=\"keyword\">LOCKED</span>] </span><br><span class=\"line\">      | <span class=\"keyword\">LOCK</span> <span class=\"keyword\">IN</span> <span class=\"keyword\">SHARE</span> <span class=\"keyword\">MODE</span>]</span><br><span class=\"line\">    [into_option]</span><br><span class=\"line\"></span><br><span class=\"line\">into_option: &#123;</span><br><span class=\"line\">    <span class=\"keyword\">INTO</span> <span class=\"keyword\">OUTFILE</span> <span class=\"string\">'file_name'</span></span><br><span class=\"line\">        [<span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> charset_name]</span><br><span class=\"line\">        export_options</span><br><span class=\"line\">  | <span class=\"keyword\">INTO</span> <span class=\"keyword\">DUMPFILE</span> <span class=\"string\">'file_name'</span></span><br><span class=\"line\">  | <span class=\"keyword\">INTO</span> var_name [, var_name] ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br/></p>\n<p><strong>基础语法说明:</strong><br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 常规单表查询</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> [*] [列名<span class=\"number\">1</span>,列名<span class=\"number\">2</span>] <span class=\"keyword\">FROM</span> 表名 [<span class=\"keyword\">WHERE</span> 条件] <span class=\"comment\">-- 去重</span></span><br><span class=\"line\"><span class=\"comment\">-- [WHERE 条件]</span></span><br><span class=\"line\">  字段 比较运算符 列值;</span><br><span class=\"line\">  IN (列值1,列值2) ;</span><br><span class=\"line\">  BETWEEN 10 AND 20;  <span class=\"comment\">-- 查询指定范围记录 10 &lt;= x &lt;=20</span></span><br><span class=\"line\">  LIKE '%Nord_'  <span class=\"comment\">-- 查询匹配字符的记录模糊匹配或者其他匹配</span></span><br><span class=\"line\">  NOT LIKE '%Nord_'  <span class=\"comment\">-- 带NOT的多条件查询</span></span><br><span class=\"line\">  LIMIT 0,10  <span class=\"comment\">-- 限制查询结果行数量 从1开始 10行数据</span></span><br><span class=\"line\">  REGEXP '正则表达式' <span class=\"comment\">-- 正则表达式查询 ^ $ . (单个字符) * +（1&lt;=匹配次数） | [] [^0-9] &#123;1,3&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 去重</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> [<span class=\"keyword\">DISTINCT</span>] [*] [列名<span class=\"number\">1</span>,列名<span class=\"number\">2</span>] <span class=\"keyword\">FROM</span> 表名 [<span class=\"keyword\">WHERE</span> 条件] </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--聚合函数 （行数、求和、最小、最大）等等;</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> 聚合函数(自字段) <span class=\"keyword\">FROM</span> 表名 [<span class=\"keyword\">WHERE</span> 条件] </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 别名</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">name</span> <span class=\"keyword\">AS</span> <span class=\"string\">'字段别名'</span>, grade <span class=\"keyword\">AS</span> <span class=\"string\">'字段别名'</span> <span class=\"keyword\">FROM</span> 表名 [<span class=\"keyword\">WHERE</span> 条件] </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--多列分组排序（升顺、倒绪）</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> [列名<span class=\"number\">1</span>,列名<span class=\"number\">2</span>] <span class=\"keyword\">FROM</span> 表名 [<span class=\"keyword\">WHERE</span> 条件] <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> 列名<span class=\"number\">1</span>,列名<span class=\"number\">2</span> [<span class=\"keyword\">DESC</span> | <span class=\"keyword\">ASC</span>] </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 表别名和分组过滤</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> [列名<span class=\"number\">1</span>,列名<span class=\"number\">2</span>] <span class=\"keyword\">FROM</span> 表名<span class=\"number\">1</span> <span class=\"keyword\">AS</span> 表别名<span class=\"number\">1</span>,表名<span class=\"number\">2</span> <span class=\"keyword\">AS</span> 表别名<span class=\"number\">2</span> [<span class=\"keyword\">WHERE</span> 条件] <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> 组名 <span class=\"keyword\">HAVING</span> 条件 </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 表别名和分组之后求和</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> [列名<span class=\"number\">1</span>,列名<span class=\"number\">2</span>] <span class=\"keyword\">FROM</span> 表名<span class=\"number\">1</span> <span class=\"keyword\">AS</span> 表别名<span class=\"number\">1</span>,表名<span class=\"number\">2</span> <span class=\"keyword\">AS</span> 表别名<span class=\"number\">2</span> [<span class=\"keyword\">WHERE</span> 条件] <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> 组名 <span class=\"keyword\">WITH</span> <span class=\"keyword\">ROLLUP</span>;  </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--聚合函数分组</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> 字段<span class=\"number\">1</span>,聚合函数(字段) <span class=\"keyword\">FROM</span> 表 <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> 需要分组的字段名称 <span class=\"keyword\">HAVING</span> [聚合函数(字段)] 分组显示条件</span><br></pre></td></tr></table></figure></p>\n<p><br/></p>\n<p><strong>基础示例:</strong><br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 指定返回的查询数量</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span> <span class=\"keyword\">LIMIT</span> <span class=\"number\">5</span>;     <span class=\"comment\">-- 查询前五行数据</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span> <span class=\"keyword\">LIMIT</span> <span class=\"number\">5</span>,<span class=\"number\">10</span>;  <span class=\"comment\">-- 查询第五行后的10条数据</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- SELECT 运算查询</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> product_name,price,(price * <span class=\"number\">80</span>) <span class=\"keyword\">AS</span> discount <span class=\"keyword\">WHERE</span> product;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- IN关键字联合查询</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">Id</span>,<span class=\"keyword\">Name</span>,Population <span class=\"keyword\">FROM</span> City <span class=\"keyword\">WHERE</span> <span class=\"keyword\">ID</span> <span class=\"keyword\">IN</span> (<span class=\"number\">100</span>,<span class=\"number\">101</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 正则表达式查询</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">id</span>,<span class=\"keyword\">name</span>,Country <span class=\"keyword\">FROM</span> city REGEXP <span class=\"string\">'^c'</span> <span class=\"keyword\">AND</span> quxian REGEXP <span class=\"string\">'g$'</span>; <span class=\"comment\">-- 以c开头并且以g结尾的数据</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 聚合函数</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">avg</span>(price) <span class=\"keyword\">FROM</span> product;    <span class=\"comment\">--平均价格 </span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> product <span class=\"keyword\">WHERE</span> price &gt; (<span class=\"keyword\">SELECT</span> <span class=\"keyword\">avg</span>(price) <span class=\"keyword\">FROM</span> product) <span class=\"comment\">--子查询</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 分组（对某个字段进行分组，统计显示），比如商品分类及其数量</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> product_type,<span class=\"keyword\">count</span>(*) <span class=\"keyword\">FROM</span> product <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> product_type;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 多字段分组(按照一个分组字段进行分组然后在进行第二的一个字段分组)</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> city <span class=\"keyword\">WHERE</span> <span class=\"keyword\">id</span> &lt; <span class=\"number\">10</span>  <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> ConuntryCode,District;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 需求:根据商品类型分组，统计每组商品的平均价格，并且显示商品平均价格 &gt; 60的产品分类;</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> product_type,<span class=\"keyword\">avg</span>(price) <span class=\"keyword\">FROM</span> product <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> product_type <span class=\"keyword\">HAVING</span> <span class=\"keyword\">avg</span>(price) &gt; <span class=\"number\">60</span>;</span><br></pre></td></tr></table></figure></p>\n<p><em>注意事项:</em></p>\n<ul>\n<li>注:WHERE 子句后不能直接接聚合函数需要在分组之前选择数据(<code>WHERE排除的数据不参加分组</code>),而分组中的HAVING可以直接接聚合函数在分组之后过滤数据;</li>\n<li>注:总结出查询的SQL语句的编写顺序:SELECT . FROM . WHERE . GROUP BY . HAVING . ORDER BY;</li>\n<li>注:总结出执行顺序FROM . WHERE . GROUP BY . HAVING . SELECT . ORDEY BY;</li>\n<li>注:AND 和 OR 可以一起使用，但是前者的优先级大于后者优先级;</li>\n<li>注:多列排序安装选后进行排序，中间用逗号进行分隔;</li>\n<li>注:进行SELECT查询语句的时候避免出现*,而是选出您想查询的字段并且在SELECT语句中清除的写出来;</li>\n<li>注:当表中的数据量很大时候慎用集合函数，并且使用Group BY 和 Order By 语句也会大大增加执行查询的效率;</li>\n<li>注:对于经常出现了WHERE条件中的字段进行建立索引，以提高速度;</li>\n</ul>\n<p><br></p>\n<h4 id=\"2-DDL-数据定义语句\"><a href=\"#2-DDL-数据定义语句\" class=\"headerlink\" title=\"2.DDL 数据定义语句\"></a>2.DDL 数据定义语句</h4><p>描述:原子数据定义语句支持也叫原子DDL语句,通过在MySQL 8.0中引入MySQL数据字典，可以实现原子DDL。<br>原子DDL语句将数据字典更新，存储引擎操作以及与DDL操作关联的二进制日志写入操作组合到单个原子事务中。<br>即使<code>事务在操作期间停止，事务也可以提交</code>，并在数据字典，存储引擎和二进制日志中保留适用的更改，或者回滚。</p>\n<ul>\n<li>支持的DDL语句<ul>\n<li>1.原子DDL功能支持表DDL语句和非表DDL语句(当前仅InnoDB存储引擎支持原子DDL),与表相关的DDL操作需要存储引擎支持,而非表DDL操作则不需要;</li>\n<li>2.表DDL语句:CREATE，ALTER和 DROP 数据库，表空间，表和索引以及TRUNCATE TABLE语句;</li>\n<li>3.非表DDL语句: CREATE和DROP 语句，以及（如果适用）ALTER 存储程序，触发器，视图和用户定义函数（UDF）的语句, 账户管理语句： CREATE，ALTER， DROP，如果适用RENAME报表用户和角色，以及GRANT 和REVOKE报表。</li>\n</ul>\n</li>\n<li>原子DDL特性<ul>\n<li>1.在DDL操作期间SQL层没有中间提交, 元数据更新，二进制日志写入和存储引擎操作（如果适用）组合为一个事务。</li>\n<li>2.DDL操作的可见行为是原子的，这会更改某些DDL语句的行为。注意:DDL语句（原子的或其他方式）隐式结束当前会话中处于活动状态的任何事务，就好像您COMMIT在执行该语句之前已执行了。</li>\n</ul>\n</li>\n<li>DDL语句行为的变化</li>\n<li>存储引擎支持</li>\n<li>查看DDL日志</li>\n</ul>\n<p><br></p>\n<h5 id=\"CREATE-语句\"><a href=\"#CREATE-语句\" class=\"headerlink\" title=\"CREATE 语句\"></a>CREATE 语句</h5><p>描述:CREATE 语句主要是用来创建数据库、表、视图、</p>\n<ul>\n<li>CREATE DATABASE</li>\n<li>CREATE TABLE</li>\n<li>CREATE VIEW</li>\n</ul>\n<p><br></p>\n<h6 id=\"CREATE-DATABASE-语句\"><a href=\"#CREATE-DATABASE-语句\" class=\"headerlink\" title=\"CREATE DATABASE 语句\"></a>CREATE DATABASE 语句</h6><p>基础语法:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 创建数据库以及指定字符集语法</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> &#123;<span class=\"keyword\">DATABASE</span> | <span class=\"keyword\">SCHEMA</span>&#125; [<span class=\"keyword\">IF</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">EXISTS</span>] db_name</span><br><span class=\"line\">    [create_specification] ...</span><br><span class=\"line\"><span class=\"comment\">-- create_specification</span></span><br><span class=\"line\">    [<span class=\"keyword\">DEFAULT</span>] <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> [=] charset_name  <span class=\"comment\">-- 指定默认的数据库字符集</span></span><br><span class=\"line\">  | [<span class=\"keyword\">DEFAULT</span>] <span class=\"keyword\">COLLATE</span> [=] collation_name      <span class=\"comment\">-- 指定默认的数据库排序校对规则(查询判断的时候)</span></span><br><span class=\"line\">  | <span class=\"keyword\">DEFAULT</span> ENCRYPTION [=] &#123;<span class=\"string\">'Y'</span> | <span class=\"string\">'N'</span>&#125;        <span class=\"comment\">-- 定义默认的数据库加密</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 简单说明</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> &#123;<span class=\"keyword\">DATABASE</span> | <span class=\"keyword\">SCHEMA</span>&#125; [<span class=\"keyword\">IF</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">EXISTS</span>] 数据库名称 <span class=\"keyword\">DEFAULT</span> <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> = 字符集 <span class=\"keyword\">COLLATE</span> = 校队规则 ENCRYPTION = <span class=\"string\">'Y'</span></span><br></pre></td></tr></table></figure></p>\n<p>基础实例:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 查看支持的字符集以及校对规则</span></span><br><span class=\"line\"><span class=\"keyword\">SHOW</span> <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span>;</span><br><span class=\"line\"><span class=\"keyword\">SHOW</span> <span class=\"keyword\">COLLATION</span> <span class=\"keyword\">LIKE</span> <span class=\"string\">'UTF8%'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 创建数据库并且指定字符编码和校队规则</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">DATABASE</span> <span class=\"keyword\">IF</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">EXISTS</span> black_hack <span class=\"keyword\">DEFAULT</span> <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> = <span class=\"string\">'utf8mb4'</span> <span class=\"keyword\">COLLATE</span>  = <span class=\"string\">'utf8mb4_bin'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 查看创建的数据库信息</span></span><br><span class=\"line\"><span class=\"keyword\">SHOW</span> <span class=\"keyword\">CREATE</span> <span class=\"keyword\">DATABASE</span> black_hack;</span><br></pre></td></tr></table></figure></p>\n<p>注意事项:</p>\n<ul>\n<li>注1:如果数据库存在并且您未指定<code>IF NOT EXISTS</code>则会发生错误</li>\n<li>注2:在LOCK TABLES语句的会话中不允许使用CREATE DATABASES;</li>\n<li>注3:如果不指定校队规则就默认采用 <code>utf8mb4_0900_ai_ci</code></li>\n</ul>\n<p><br></p>\n<h6 id=\"CREATE-TABLE-语句\"><a href=\"#CREATE-TABLE-语句\" class=\"headerlink\" title=\"CREATE TABLE 语句\"></a>CREATE TABLE 语句</h6><p>基础语法:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 基础语法</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> [<span class=\"keyword\">TEMPORARY</span>] <span class=\"keyword\">TABLE</span> [<span class=\"keyword\">IF</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">EXISTS</span>] tbl_name</span><br><span class=\"line\">    (create_definition,...)</span><br><span class=\"line\">    [table_options]</span><br><span class=\"line\">    [partition_options]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> [<span class=\"keyword\">TEMPORARY</span>] <span class=\"keyword\">TABLE</span> [<span class=\"keyword\">IF</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">EXISTS</span>] tbl_name</span><br><span class=\"line\">    [(create_definition,...)]</span><br><span class=\"line\">    [table_options]</span><br><span class=\"line\">    [partition_options]</span><br><span class=\"line\">    [<span class=\"keyword\">IGNORE</span> | <span class=\"keyword\">REPLACE</span>]</span><br><span class=\"line\">    [<span class=\"keyword\">AS</span>] query_expression</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> [<span class=\"keyword\">TEMPORARY</span>] <span class=\"keyword\">TABLE</span> [<span class=\"keyword\">IF</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">EXISTS</span>] tbl_name</span><br><span class=\"line\">    &#123; <span class=\"keyword\">LIKE</span> old_tbl_name | (<span class=\"keyword\">LIKE</span> old_tbl_name) &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">create_definition:</span><br><span class=\"line\">    col_name column_definition</span><br><span class=\"line\">  | &#123;<span class=\"keyword\">INDEX</span>|<span class=\"keyword\">KEY</span>&#125; [index_name] [index_type] (key_part,...)</span><br><span class=\"line\">      [index_option] ...</span><br><span class=\"line\">  | &#123;FULLTEXT|SPATIAL&#125; [<span class=\"keyword\">INDEX</span>|<span class=\"keyword\">KEY</span>] [index_name] (key_part,...)</span><br><span class=\"line\">      [index_option] ...</span><br><span class=\"line\">  | [<span class=\"keyword\">CONSTRAINT</span> [symbol]] PRIMARY <span class=\"keyword\">KEY</span></span><br><span class=\"line\">      [index_type] (key_part,...)</span><br><span class=\"line\">      [index_option] ...</span><br><span class=\"line\">  | [<span class=\"keyword\">CONSTRAINT</span> [symbol]] <span class=\"keyword\">UNIQUE</span> [<span class=\"keyword\">INDEX</span>|<span class=\"keyword\">KEY</span>]</span><br><span class=\"line\">      [index_name] [index_type] (key_part,...)</span><br><span class=\"line\">      [index_option] ...</span><br><span class=\"line\">  | [<span class=\"keyword\">CONSTRAINT</span> [symbol]] <span class=\"keyword\">FOREIGN</span> <span class=\"keyword\">KEY</span></span><br><span class=\"line\">      [index_name] (col_name,...)</span><br><span class=\"line\">      reference_definition</span><br><span class=\"line\">  | check_constraint_definition</span><br><span class=\"line\"></span><br><span class=\"line\">column_definition:</span><br><span class=\"line\">    data_type [<span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> | <span class=\"literal\">NULL</span>] [<span class=\"keyword\">DEFAULT</span> &#123;literal | (expr)&#125; ]</span><br><span class=\"line\">      [AUTO_INCREMENT] [<span class=\"keyword\">UNIQUE</span> [<span class=\"keyword\">KEY</span>]] [[PRIMARY] <span class=\"keyword\">KEY</span>]</span><br><span class=\"line\">      [<span class=\"keyword\">COMMENT</span> <span class=\"string\">'string'</span>]</span><br><span class=\"line\">      [<span class=\"keyword\">COLLATE</span> collation_name]</span><br><span class=\"line\">      [COLUMN_FORMAT &#123;<span class=\"keyword\">FIXED</span>|DYNAMIC|<span class=\"keyword\">DEFAULT</span>&#125;]</span><br><span class=\"line\">      [<span class=\"keyword\">STORAGE</span> &#123;DISK|<span class=\"keyword\">MEMORY</span>&#125;]</span><br><span class=\"line\">      [reference_definition]</span><br><span class=\"line\">      [check_constraint_definition]</span><br><span class=\"line\">  | data_type</span><br><span class=\"line\">      [<span class=\"keyword\">COLLATE</span> collation_name]</span><br><span class=\"line\">      [<span class=\"keyword\">GENERATED</span> <span class=\"keyword\">ALWAYS</span>] <span class=\"keyword\">AS</span> (expr)</span><br><span class=\"line\">      [<span class=\"keyword\">VIRTUAL</span> | <span class=\"keyword\">STORED</span>] [<span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> | <span class=\"literal\">NULL</span>]</span><br><span class=\"line\">      [<span class=\"keyword\">UNIQUE</span> [<span class=\"keyword\">KEY</span>]] [[PRIMARY] <span class=\"keyword\">KEY</span>]</span><br><span class=\"line\">      [<span class=\"keyword\">COMMENT</span> <span class=\"string\">'string'</span>]</span><br><span class=\"line\">      [reference_definition]</span><br><span class=\"line\">      [check_constraint_definition]</span><br><span class=\"line\"></span><br><span class=\"line\">data_type:</span><br><span class=\"line\">    (see Chapter <span class=\"number\">11</span>, <span class=\"keyword\">Data</span> Types)</span><br><span class=\"line\"></span><br><span class=\"line\">key_part: &#123;col_name [(<span class=\"keyword\">length</span>)] | (expr)&#125; [<span class=\"keyword\">ASC</span> | <span class=\"keyword\">DESC</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">index_type:</span><br><span class=\"line\">    <span class=\"keyword\">USING</span> &#123;BTREE | <span class=\"keyword\">HASH</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">index_option:</span><br><span class=\"line\">    KEY_BLOCK_SIZE [=] <span class=\"keyword\">value</span></span><br><span class=\"line\">  | index_type</span><br><span class=\"line\">  | <span class=\"keyword\">WITH</span> PARSER parser_name</span><br><span class=\"line\">  | <span class=\"keyword\">COMMENT</span> <span class=\"string\">'string'</span></span><br><span class=\"line\">  | &#123;<span class=\"keyword\">VISIBLE</span> | <span class=\"keyword\">INVISIBLE</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">check_constraint_definition:</span><br><span class=\"line\">    [<span class=\"keyword\">CONSTRAINT</span> [symbol]] <span class=\"keyword\">CHECK</span> (expr) [[<span class=\"keyword\">NOT</span>] <span class=\"keyword\">ENFORCED</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">reference_definition:</span><br><span class=\"line\">    <span class=\"keyword\">REFERENCES</span> tbl_name (key_part,...)</span><br><span class=\"line\">      [<span class=\"keyword\">MATCH</span> <span class=\"keyword\">FULL</span> | <span class=\"keyword\">MATCH</span> <span class=\"keyword\">PARTIAL</span> | <span class=\"keyword\">MATCH</span> SIMPLE]</span><br><span class=\"line\">      [<span class=\"keyword\">ON</span> <span class=\"keyword\">DELETE</span> reference_option]</span><br><span class=\"line\">      [<span class=\"keyword\">ON</span> <span class=\"keyword\">UPDATE</span> reference_option]</span><br><span class=\"line\"></span><br><span class=\"line\">reference_option:</span><br><span class=\"line\">    RESTRICT | <span class=\"keyword\">CASCADE</span> | <span class=\"keyword\">SET</span> <span class=\"literal\">NULL</span> | <span class=\"keyword\">NO</span> <span class=\"keyword\">ACTION</span> | <span class=\"keyword\">SET</span> <span class=\"keyword\">DEFAULT</span></span><br><span class=\"line\"></span><br><span class=\"line\">table_options:</span><br><span class=\"line\">    table_option [[,] table_option] ...</span><br><span class=\"line\"></span><br><span class=\"line\">table_option:</span><br><span class=\"line\">    AUTO_INCREMENT [=] <span class=\"keyword\">value</span></span><br><span class=\"line\">  | AVG_ROW_LENGTH [=] <span class=\"keyword\">value</span></span><br><span class=\"line\">  | [<span class=\"keyword\">DEFAULT</span>] <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> [=] charset_name</span><br><span class=\"line\">  | <span class=\"keyword\">CHECKSUM</span> [=] &#123;<span class=\"number\">0</span> | <span class=\"number\">1</span>&#125;</span><br><span class=\"line\">  | [<span class=\"keyword\">DEFAULT</span>] <span class=\"keyword\">COLLATE</span> [=] collation_name</span><br><span class=\"line\">  | <span class=\"keyword\">COMMENT</span> [=] <span class=\"string\">'string'</span></span><br><span class=\"line\">  | COMPRESSION [=] &#123;<span class=\"string\">'ZLIB'</span>|<span class=\"string\">'LZ4'</span>|<span class=\"string\">'NONE'</span>&#125;</span><br><span class=\"line\">  | <span class=\"keyword\">CONNECTION</span> [=] <span class=\"string\">'connect_string'</span></span><br><span class=\"line\">  | &#123;<span class=\"keyword\">DATA</span>|<span class=\"keyword\">INDEX</span>&#125; <span class=\"keyword\">DIRECTORY</span> [=] <span class=\"string\">'absolute path to directory'</span></span><br><span class=\"line\">  | DELAY_KEY_WRITE [=] &#123;<span class=\"number\">0</span> | <span class=\"number\">1</span>&#125;</span><br><span class=\"line\">  | ENCRYPTION [=] &#123;<span class=\"string\">'Y'</span> | <span class=\"string\">'N'</span>&#125;</span><br><span class=\"line\">  | <span class=\"keyword\">ENGINE</span> [=] engine_name</span><br><span class=\"line\">  | INSERT_METHOD [=] &#123; <span class=\"keyword\">NO</span> | <span class=\"keyword\">FIRST</span> | <span class=\"keyword\">LAST</span> &#125;</span><br><span class=\"line\">  | KEY_BLOCK_SIZE [=] <span class=\"keyword\">value</span></span><br><span class=\"line\">  | MAX_ROWS [=] <span class=\"keyword\">value</span></span><br><span class=\"line\">  | MIN_ROWS [=] <span class=\"keyword\">value</span></span><br><span class=\"line\">  | PACK_KEYS [=] &#123;<span class=\"number\">0</span> | <span class=\"number\">1</span> | <span class=\"keyword\">DEFAULT</span>&#125;</span><br><span class=\"line\">  | <span class=\"keyword\">PASSWORD</span> [=] <span class=\"string\">'string'</span></span><br><span class=\"line\">  | ROW_FORMAT [=] &#123;<span class=\"keyword\">DEFAULT</span>|DYNAMIC|<span class=\"keyword\">FIXED</span>|COMPRESSED|REDUNDANT|<span class=\"keyword\">COMPACT</span>&#125;</span><br><span class=\"line\">  | STATS_AUTO_RECALC [=] &#123;<span class=\"keyword\">DEFAULT</span>|<span class=\"number\">0</span>|<span class=\"number\">1</span>&#125;</span><br><span class=\"line\">  | STATS_PERSISTENT [=] &#123;<span class=\"keyword\">DEFAULT</span>|<span class=\"number\">0</span>|<span class=\"number\">1</span>&#125;</span><br><span class=\"line\">  | STATS_SAMPLE_PAGES [=] <span class=\"keyword\">value</span></span><br><span class=\"line\">  | <span class=\"keyword\">TABLESPACE</span> tablespace_name [<span class=\"keyword\">STORAGE</span> &#123;DISK|<span class=\"keyword\">MEMORY</span>&#125;]</span><br><span class=\"line\">  | <span class=\"keyword\">UNION</span> [=] (tbl_name[,tbl_name]...)</span><br><span class=\"line\"></span><br><span class=\"line\">partition_options:</span><br><span class=\"line\">    <span class=\"keyword\">PARTITION</span> <span class=\"keyword\">BY</span></span><br><span class=\"line\">        &#123; [LINEAR] <span class=\"keyword\">HASH</span>(expr)</span><br><span class=\"line\">        | [LINEAR] <span class=\"keyword\">KEY</span> [ALGORITHM=&#123;<span class=\"number\">1</span>|<span class=\"number\">2</span>&#125;] (column_list)</span><br><span class=\"line\">        | <span class=\"keyword\">RANGE</span>&#123;(expr) | <span class=\"keyword\">COLUMNS</span>(column_list)&#125;</span><br><span class=\"line\">        | <span class=\"keyword\">LIST</span>&#123;(expr) | <span class=\"keyword\">COLUMNS</span>(column_list)&#125; &#125;</span><br><span class=\"line\">    [<span class=\"keyword\">PARTITIONS</span> <span class=\"keyword\">num</span>]</span><br><span class=\"line\">    [<span class=\"keyword\">SUBPARTITION</span> <span class=\"keyword\">BY</span></span><br><span class=\"line\">        &#123; [LINEAR] <span class=\"keyword\">HASH</span>(expr)</span><br><span class=\"line\">        | [LINEAR] <span class=\"keyword\">KEY</span> [ALGORITHM=&#123;<span class=\"number\">1</span>|<span class=\"number\">2</span>&#125;] (column_list) &#125;</span><br><span class=\"line\">      [<span class=\"keyword\">SUBPARTITIONS</span> <span class=\"keyword\">num</span>]</span><br><span class=\"line\">    ]</span><br><span class=\"line\">    [(partition_definition [, partition_definition] ...)]</span><br><span class=\"line\"></span><br><span class=\"line\">partition_definition:</span><br><span class=\"line\">    <span class=\"keyword\">PARTITION</span> partition_name</span><br><span class=\"line\">        [<span class=\"keyword\">VALUES</span></span><br><span class=\"line\">            &#123;<span class=\"keyword\">LESS</span> <span class=\"keyword\">THAN</span> &#123;(expr | value_list) | MAXVALUE&#125;</span><br><span class=\"line\">            |</span><br><span class=\"line\">            <span class=\"keyword\">IN</span> (value_list)&#125;]</span><br><span class=\"line\">        [[<span class=\"keyword\">STORAGE</span>] <span class=\"keyword\">ENGINE</span> [=] engine_name]</span><br><span class=\"line\">        [<span class=\"keyword\">COMMENT</span> [=] <span class=\"string\">'string'</span> ]</span><br><span class=\"line\">        [<span class=\"keyword\">DATA</span> <span class=\"keyword\">DIRECTORY</span> [=] <span class=\"string\">'data_dir'</span>]</span><br><span class=\"line\">        [<span class=\"keyword\">INDEX</span> <span class=\"keyword\">DIRECTORY</span> [=] <span class=\"string\">'index_dir'</span>]</span><br><span class=\"line\">        [MAX_ROWS [=] max_number_of_rows]</span><br><span class=\"line\">        [MIN_ROWS [=] min_number_of_rows]</span><br><span class=\"line\">        [<span class=\"keyword\">TABLESPACE</span> [=] tablespace_name]</span><br><span class=\"line\">        [(subpartition_definition [, subpartition_definition] ...)]</span><br><span class=\"line\"></span><br><span class=\"line\">subpartition_definition:</span><br><span class=\"line\">    <span class=\"keyword\">SUBPARTITION</span> logical_name</span><br><span class=\"line\">        [[<span class=\"keyword\">STORAGE</span>] <span class=\"keyword\">ENGINE</span> [=] engine_name]</span><br><span class=\"line\">        [<span class=\"keyword\">COMMENT</span> [=] <span class=\"string\">'string'</span> ]</span><br><span class=\"line\">        [<span class=\"keyword\">DATA</span> <span class=\"keyword\">DIRECTORY</span> [=] <span class=\"string\">'data_dir'</span>]</span><br><span class=\"line\">        [<span class=\"keyword\">INDEX</span> <span class=\"keyword\">DIRECTORY</span> [=] <span class=\"string\">'index_dir'</span>]</span><br><span class=\"line\">        [MAX_ROWS [=] max_number_of_rows]</span><br><span class=\"line\">        [MIN_ROWS [=] min_number_of_rows]</span><br><span class=\"line\">        [<span class=\"keyword\">TABLESPACE</span> [=] tablespace_name]</span><br><span class=\"line\"></span><br><span class=\"line\">query_expression:</span><br><span class=\"line\">    <span class=\"keyword\">SELECT</span> ...   (<span class=\"keyword\">Some</span> valid <span class=\"keyword\">select</span> <span class=\"keyword\">or</span> <span class=\"keyword\">union</span> <span class=\"keyword\">statement</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 简单说明</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> [<span class=\"keyword\">IF</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">EXISTS</span>] 数据库名称 (</span><br><span class=\"line\">  列名<span class=\"number\">1</span> 类型(长度) 约束 <span class=\"keyword\">COMMENT</span> <span class=\"string\">'描述1'</span>,</span><br><span class=\"line\">  列名<span class=\"number\">2</span> 类型(长度) 约束 <span class=\"keyword\">COMMENT</span> <span class=\"string\">'描述2'</span>,</span><br><span class=\"line\">  PRIMARY <span class=\"keyword\">KEY</span>(列名<span class=\"number\">1</span>) <span class=\"keyword\">INDEX</span>(列名<span class=\"number\">1</span>)</span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span>=引擎 AUTO_INCREMENT=自增起始 <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">CHARSET</span>=utf8mb4 <span class=\"keyword\">COLLATE</span>=utf8mb4_0900_ai_ci ;</span><br></pre></td></tr></table></figure></p>\n<p>基础示例:<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- (1)创建基础表示例</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`Persons`</span> (</span><br><span class=\"line\">  <span class=\"string\">`ID`</span> <span class=\"built_in\">int</span>(<span class=\"number\">11</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> AUTO_INCREMENT <span class=\"keyword\">COMMENT</span> <span class=\"string\">'ID序号'</span>,</span><br><span class=\"line\">  <span class=\"string\">`LastName`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8mb4 <span class=\"keyword\">COLLATE</span> utf8mb4_0900_ai_ci <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'名称'</span>,</span><br><span class=\"line\">  PRIMARY <span class=\"keyword\">KEY</span> (<span class=\"string\">`ID`</span>)</span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span>=<span class=\"keyword\">InnoDB</span> AUTO_INCREMENT=<span class=\"number\">112</span> <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">CHARSET</span>=utf8mb4 <span class=\"keyword\">COLLATE</span>=utf8mb4_0900_ai_ci </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- (2) 创建索引表示例</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> t1 (</span><br><span class=\"line\">    <span class=\"keyword\">id</span> <span class=\"built_in\">INT</span> PRIMARY <span class=\"keyword\">KEY</span>,</span><br><span class=\"line\">    <span class=\"keyword\">name</span> VARCAHR(<span class=\"number\">255</span>),</span><br><span class=\"line\">    <span class=\"keyword\">INDEX</span> mul_index (<span class=\"keyword\">id</span>,<span class=\"keyword\">name</span>)</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- (3) 实例3索引与主键</span></span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> <span class=\"built_in\">record</span> (</span><br><span class=\"line\"> <span class=\"keyword\">id</span> <span class=\"built_in\">int</span>(<span class=\"number\">11</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>  PRIMARY <span class=\"keyword\">KEY</span> AUTO_INCREMENT,</span><br><span class=\"line\"> wybug_id longtext <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span><br><span class=\"line\"> rtime datetime,</span><br><span class=\"line\"> <span class=\"keyword\">INDEX</span> mul_index (wybug_id)</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 查看表以及创建的表创建信息</span></span><br><span class=\"line\">mysql&gt; SHOW TABLES;</span><br><span class=\"line\">mysql&gt; SHOW CREATE TABLE Persons;</span><br><span class=\"line\"><span class=\"comment\">-- 查看表结构</span></span><br><span class=\"line\">mysql&gt; DESC Persons;</span><br></pre></td></tr></table></figure></p>\n<p>注意事项:</p>\n<ul>\n<li>1.默认情况下表是使用InnoDB存储引擎在默认数据库中创建的;</li>\n<li>2.如果该表存在没有默认数据库或该数据库不存在则会发生错误。</li>\n<li>3.MySQL对表的数量没有限制。基础文件系统可能会对表示表的文件数量有所限制。</li>\n</ul>\n<p><br></p>\n<h6 id=\"CREATE-VIEW-语句\"><a href=\"#CREATE-VIEW-语句\" class=\"headerlink\" title=\"CREATE VIEW 语句\"></a>CREATE VIEW 语句</h6><p>描述:它可以创建或者替换现有的视图它将会始时的刷新拉取数据,视图定义受以下限制：</p>\n<ul>\n<li>1.SELECT语句不能引用系统变量或用户定义的变量</li>\n<li>2.存储的程序SELECT语句不能引用程序参数或局部变量</li>\n<li>3.SELECT语句不能引用准备好的语句参数</li>\n<li>4.定义中引用的任何表或视图都必须存在</li>\n<li>5.不能引用TEMPORARY 表,也不能创建TEMPORARY 视图;</li>\n<li>6.无法将触发器与视图关联。</li>\n<li>7.SELECT语句中列名的别名将根据最大列长度64个字符（而不是最大别名长度256个字符）进行检查。</li>\n</ul>\n<p>基础语法:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> [<span class=\"keyword\">OR</span> <span class=\"keyword\">REPLACE</span>]</span><br><span class=\"line\">    [ALGORITHM = &#123;UNDEFINED | <span class=\"keyword\">MERGE</span> | TEMPTABLE&#125;]</span><br><span class=\"line\">    [DEFINER = <span class=\"keyword\">user</span>]</span><br><span class=\"line\">    [<span class=\"keyword\">SQL</span> <span class=\"keyword\">SECURITY</span> &#123; DEFINER | INVOKER &#125;]</span><br><span class=\"line\">    <span class=\"keyword\">VIEW</span> view_name [(column_list)]</span><br><span class=\"line\">    <span class=\"keyword\">AS</span> select_statement</span><br><span class=\"line\">    [<span class=\"keyword\">WITH</span> [<span class=\"keyword\">CASCADED</span> | <span class=\"keyword\">LOCAL</span>] <span class=\"keyword\">CHECK</span> <span class=\"keyword\">OPTION</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 简单说明</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">VIEW</span> 视图名称 <span class=\"keyword\">AS</span> <span class=\"keyword\">SELECT</span> 字段<span class=\"number\">1</span>,字段<span class=\"number\">2</span> <span class=\"keyword\">FROM</span> 数据库;</span><br></pre></td></tr></table></figure></p>\n<p>基础示例：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 建立视图</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">VIEW</span> login_log <span class=\"keyword\">AS</span> </span><br><span class=\"line\">  <span class=\"keyword\">SELECT</span> <span class=\"keyword\">id</span>,userLogin,loginTime </span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> user_log </span><br><span class=\"line\">  <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> <span class=\"keyword\">id</span> <span class=\"keyword\">DESC</span>;</span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">-- 查看创建的视图信息和数据</span></span><br><span class=\"line\"><span class=\"keyword\">SHOW</span> <span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> login_log;</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> login_log;</span><br><span class=\"line\">| View     | <span class=\"keyword\">Create</span> <span class=\"keyword\">View</span>                                                  | character_set_client | collation_connection |</span><br><span class=\"line\">| <span class=\"comment\">-------- | ------------------------------------------------------------ | -------------------- | -------------------- |</span></span><br><span class=\"line\">| login_lo | <span class=\"keyword\">CREATE</span> ALGORITHM=UNDEFINED DEFINER=<span class=\"string\">`root`</span>@<span class=\"string\">`%`</span> <span class=\"keyword\">SQL</span> <span class=\"keyword\">SECURITY</span> DEFINER <span class=\"keyword\">VIEW</span> <span class=\"string\">`login_log`</span> <span class=\"keyword\">AS</span> <span class=\"keyword\">select</span> <span class=\"string\">`user_log`</span>.<span class=\"string\">`id`</span> <span class=\"keyword\">AS</span> <span class=\"string\">`id`</span>,<span class=\"string\">`user_log`</span>.<span class=\"string\">`userLogin`</span> <span class=\"keyword\">AS</span> <span class=\"string\">`userLogin`</span>,<span class=\"string\">`user_log`</span>.<span class=\"string\">`loginTime`</span> <span class=\"keyword\">AS</span> <span class=\"string\">`loginTime`</span> <span class=\"keyword\">from</span> <span class=\"string\">`user_log`</span> <span class=\"keyword\">order</span> <span class=\"keyword\">by</span> <span class=\"string\">`user_log`</span>.<span class=\"string\">`id`</span> <span class=\"keyword\">desc</span> | utf8mb4              | utf8mb4_0900_ai_ci   |</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<h6 id=\"CREATE-INDEX-语句\"><a href=\"#CREATE-INDEX-语句\" class=\"headerlink\" title=\"CREATE INDEX 语句\"></a>CREATE INDEX 语句</h6><p>描述:除了采用在CREATE TABLE 和 ALTER TABLE 添加索引外此原语句也是没有问题的;</p>\n<p>基础语法:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">INDEX</span> 索引名称 <span class=\"keyword\">ON</span> 表(字段)</span><br></pre></td></tr></table></figure></p>\n<p>实际案例:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">INDEX</span> name_ind <span class=\"keyword\">ON</span> t4(<span class=\"keyword\">name</span>);</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<h6 id=\"CREATE-USER-语句\"><a href=\"#CREATE-USER-语句\" class=\"headerlink\" title=\"CREATE USER 语句\"></a>CREATE USER 语句</h6><p>描述:</p>\n<p>基础语法:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">USER</span> <span class=\"string\">'username'</span>@<span class=\"string\">'host'</span> <span class=\"keyword\">IDENTIFIED</span> <span class=\"keyword\">BY</span> <span class=\"string\">'password'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 参数说明</span></span><br><span class=\"line\">username <span class=\"comment\">-- 你将创建的用户名</span></span><br><span class=\"line\">host <span class=\"comment\">-- 指定该用户在哪个主机上可以登陆,如果是本地用户可用localhost , 任意远程主机登陆使用通配符%</span></span><br><span class=\"line\">password <span class=\"comment\">-- 该用户的登陆密码,密码可以为空,如果为空则该用户可以不需要密码登陆服务器</span></span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<h5 id=\"ALTER-语句\"><a href=\"#ALTER-语句\" class=\"headerlink\" title=\"ALTER 语句\"></a>ALTER 语句</h5><p>描述：修改数据库,修改表和列(修改表的字符集)添加add列，修改modify列，修改change列名，删除drop列,<code>需要注意如果表中已有数据时候慎用</code>;</p>\n<ul>\n<li>1.ALLTER DATABASE</li>\n<li>2.ALLTER TABLE</li>\n</ul>\n<p><br></p>\n<h6 id=\"ALTER-DATABASE-语句\"><a href=\"#ALTER-DATABASE-语句\" class=\"headerlink\" title=\"ALTER DATABASE 语句\"></a>ALTER DATABASE 语句</h6><p>基础语法:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 基础语法</span></span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> &#123;<span class=\"keyword\">DATABASE</span> | <span class=\"keyword\">SCHEMA</span>&#125; [db_name]</span><br><span class=\"line\">    alter_specification ...</span><br><span class=\"line\">alter_specification:</span><br><span class=\"line\">    [<span class=\"keyword\">DEFAULT</span>] <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> [=] charset_name</span><br><span class=\"line\">  | [<span class=\"keyword\">DEFAULT</span>] <span class=\"keyword\">COLLATE</span> [=] collation_name</span><br><span class=\"line\">  | <span class=\"keyword\">DEFAULT</span> ENCRYPTION [=] &#123;<span class=\"string\">'Y'</span> | <span class=\"string\">'N'</span>&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<h6 id=\"ALTER-TABLE-语句\"><a href=\"#ALTER-TABLE-语句\" class=\"headerlink\" title=\"ALTER TABLE 语句\"></a>ALTER TABLE 语句</h6><p>基础语法:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> tbl_name</span><br><span class=\"line\">    [alter_specification [, alter_specification] ...]</span><br><span class=\"line\">    [partition_options]</span><br><span class=\"line\"></span><br><span class=\"line\">alter_specification:</span><br><span class=\"line\">    table_options</span><br><span class=\"line\">  | <span class=\"keyword\">ADD</span> [<span class=\"keyword\">COLUMN</span>] col_name column_definition</span><br><span class=\"line\">        [<span class=\"keyword\">FIRST</span> | <span class=\"keyword\">AFTER</span> col_name]</span><br><span class=\"line\">  | <span class=\"keyword\">ADD</span> [<span class=\"keyword\">COLUMN</span>] (col_name column_definition,...)</span><br><span class=\"line\">  | <span class=\"keyword\">ADD</span> &#123;<span class=\"keyword\">INDEX</span>|<span class=\"keyword\">KEY</span>&#125; [index_name]</span><br><span class=\"line\">        [index_type] (key_part,...) [index_option] ...</span><br><span class=\"line\">  | <span class=\"keyword\">ADD</span> &#123;FULLTEXT|SPATIAL&#125; [<span class=\"keyword\">INDEX</span>|<span class=\"keyword\">KEY</span>] [index_name]</span><br><span class=\"line\">        (key_part,...) [index_option] ...</span><br><span class=\"line\">  | <span class=\"keyword\">ADD</span> [<span class=\"keyword\">CONSTRAINT</span> [symbol]] PRIMARY <span class=\"keyword\">KEY</span></span><br><span class=\"line\">        [index_type] (key_part,...)</span><br><span class=\"line\">        [index_option] ...</span><br><span class=\"line\">  | <span class=\"keyword\">ADD</span> [<span class=\"keyword\">CONSTRAINT</span> [symbol]] <span class=\"keyword\">UNIQUE</span> [<span class=\"keyword\">INDEX</span>|<span class=\"keyword\">KEY</span>]</span><br><span class=\"line\">        [index_name] [index_type] (key_part,...)</span><br><span class=\"line\">        [index_option] ...</span><br><span class=\"line\">  | <span class=\"keyword\">ADD</span> [<span class=\"keyword\">CONSTRAINT</span> [symbol]] <span class=\"keyword\">FOREIGN</span> <span class=\"keyword\">KEY</span></span><br><span class=\"line\">        [index_name] (col_name,...)</span><br><span class=\"line\">        reference_definition</span><br><span class=\"line\">  | <span class=\"keyword\">ADD</span> [<span class=\"keyword\">CONSTRAINT</span> [symbol]] <span class=\"keyword\">CHECK</span> (expr) [[<span class=\"keyword\">NOT</span>] <span class=\"keyword\">ENFORCED</span>]</span><br><span class=\"line\">  | <span class=\"keyword\">DROP</span> &#123;<span class=\"keyword\">CHECK</span>|<span class=\"keyword\">CONSTRAINT</span>&#125; symbol</span><br><span class=\"line\">  | <span class=\"keyword\">ALTER</span> &#123;<span class=\"keyword\">CHECK</span>|<span class=\"keyword\">CONSTRAINT</span>&#125; symbol [<span class=\"keyword\">NOT</span>] <span class=\"keyword\">ENFORCED</span></span><br><span class=\"line\">  | ALGORITHM [=] &#123;<span class=\"keyword\">DEFAULT</span>|INSTANT|INPLACE|COPY&#125;</span><br><span class=\"line\">  | <span class=\"keyword\">ALTER</span> [<span class=\"keyword\">COLUMN</span>] col_name</span><br><span class=\"line\">        &#123;<span class=\"keyword\">SET</span> <span class=\"keyword\">DEFAULT</span> &#123;literal | (expr)&#125; | <span class=\"keyword\">DROP</span> <span class=\"keyword\">DEFAULT</span>&#125;</span><br><span class=\"line\">  | <span class=\"keyword\">ALTER</span> <span class=\"keyword\">INDEX</span> index_name &#123;<span class=\"keyword\">VISIBLE</span> | <span class=\"keyword\">INVISIBLE</span>&#125;</span><br><span class=\"line\">  | <span class=\"keyword\">CHANGE</span> [<span class=\"keyword\">COLUMN</span>] old_col_name new_col_name column_definition</span><br><span class=\"line\">        [<span class=\"keyword\">FIRST</span>|<span class=\"keyword\">AFTER</span> col_name]</span><br><span class=\"line\">  | [<span class=\"keyword\">DEFAULT</span>] <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> [=] charset_name [<span class=\"keyword\">COLLATE</span> [=] collation_name]</span><br><span class=\"line\">  | <span class=\"keyword\">CONVERT</span> <span class=\"keyword\">TO</span> <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> charset_name [<span class=\"keyword\">COLLATE</span> collation_name]</span><br><span class=\"line\">  | &#123;<span class=\"keyword\">DISABLE</span>|<span class=\"keyword\">ENABLE</span>&#125; <span class=\"keyword\">KEYS</span></span><br><span class=\"line\">  | &#123;DISCARD|<span class=\"keyword\">IMPORT</span>&#125; <span class=\"keyword\">TABLESPACE</span></span><br><span class=\"line\">  | <span class=\"keyword\">DROP</span> [<span class=\"keyword\">COLUMN</span>] col_name</span><br><span class=\"line\">  | <span class=\"keyword\">DROP</span> &#123;<span class=\"keyword\">INDEX</span>|<span class=\"keyword\">KEY</span>&#125; index_name</span><br><span class=\"line\">  | <span class=\"keyword\">DROP</span> PRIMARY <span class=\"keyword\">KEY</span></span><br><span class=\"line\">  | <span class=\"keyword\">DROP</span> <span class=\"keyword\">FOREIGN</span> <span class=\"keyword\">KEY</span> fk_symbol</span><br><span class=\"line\">  | <span class=\"keyword\">FORCE</span></span><br><span class=\"line\">  | <span class=\"keyword\">LOCK</span> [=] &#123;<span class=\"keyword\">DEFAULT</span>|<span class=\"keyword\">NONE</span>|<span class=\"keyword\">SHARED</span>|EXCLUSIVE&#125;</span><br><span class=\"line\">  | <span class=\"keyword\">MODIFY</span> [<span class=\"keyword\">COLUMN</span>] col_name column_definition</span><br><span class=\"line\">        [<span class=\"keyword\">FIRST</span> | <span class=\"keyword\">AFTER</span> col_name]</span><br><span class=\"line\">  | <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> col_name [, col_name] ...</span><br><span class=\"line\">  | <span class=\"keyword\">RENAME</span> <span class=\"keyword\">COLUMN</span> old_col_name <span class=\"keyword\">TO</span> new_col_name</span><br><span class=\"line\">  | <span class=\"keyword\">RENAME</span> &#123;<span class=\"keyword\">INDEX</span>|<span class=\"keyword\">KEY</span>&#125; old_index_name <span class=\"keyword\">TO</span> new_index_name</span><br><span class=\"line\">  | <span class=\"keyword\">RENAME</span> [<span class=\"keyword\">TO</span>|<span class=\"keyword\">AS</span>] new_tbl_name</span><br><span class=\"line\">  | &#123;<span class=\"keyword\">WITHOUT</span>|<span class=\"keyword\">WITH</span>&#125; <span class=\"keyword\">VALIDATION</span></span><br><span class=\"line\"></span><br><span class=\"line\">partition_options:</span><br><span class=\"line\">    partition_option [partition_option] ...</span><br><span class=\"line\"></span><br><span class=\"line\">partition_option:</span><br><span class=\"line\">    <span class=\"keyword\">ADD</span> <span class=\"keyword\">PARTITION</span> (partition_definition)</span><br><span class=\"line\">  | <span class=\"keyword\">DROP</span> <span class=\"keyword\">PARTITION</span> partition_names</span><br><span class=\"line\">  | DISCARD <span class=\"keyword\">PARTITION</span> &#123;partition_names | <span class=\"keyword\">ALL</span>&#125; <span class=\"keyword\">TABLESPACE</span></span><br><span class=\"line\">  | <span class=\"keyword\">IMPORT</span> <span class=\"keyword\">PARTITION</span> &#123;partition_names | <span class=\"keyword\">ALL</span>&#125; <span class=\"keyword\">TABLESPACE</span></span><br><span class=\"line\">  | <span class=\"keyword\">TRUNCATE</span> <span class=\"keyword\">PARTITION</span> &#123;partition_names | <span class=\"keyword\">ALL</span>&#125;</span><br><span class=\"line\">  | <span class=\"keyword\">COALESCE</span> <span class=\"keyword\">PARTITION</span> <span class=\"built_in\">number</span></span><br><span class=\"line\">  | REORGANIZE <span class=\"keyword\">PARTITION</span> partition_names <span class=\"keyword\">INTO</span> (partition_definitions)</span><br><span class=\"line\">  | <span class=\"keyword\">EXCHANGE</span> <span class=\"keyword\">PARTITION</span> partition_name <span class=\"keyword\">WITH</span> <span class=\"keyword\">TABLE</span> tbl_name [&#123;<span class=\"keyword\">WITH</span>|<span class=\"keyword\">WITHOUT</span>&#125; <span class=\"keyword\">VALIDATION</span>]</span><br><span class=\"line\">  | <span class=\"keyword\">ANALYZE</span> <span class=\"keyword\">PARTITION</span> &#123;partition_names | <span class=\"keyword\">ALL</span>&#125;</span><br><span class=\"line\">  | <span class=\"keyword\">CHECK</span> <span class=\"keyword\">PARTITION</span> &#123;partition_names | <span class=\"keyword\">ALL</span>&#125;</span><br><span class=\"line\">  | <span class=\"keyword\">OPTIMIZE</span> <span class=\"keyword\">PARTITION</span> &#123;partition_names | <span class=\"keyword\">ALL</span>&#125;</span><br><span class=\"line\">  | <span class=\"keyword\">REBUILD</span> <span class=\"keyword\">PARTITION</span> &#123;partition_names | <span class=\"keyword\">ALL</span>&#125;</span><br><span class=\"line\">  | <span class=\"keyword\">REPAIR</span> <span class=\"keyword\">PARTITION</span> &#123;partition_names | <span class=\"keyword\">ALL</span>&#125;</span><br><span class=\"line\">  | REMOVE PARTITIONING</span><br><span class=\"line\"></span><br><span class=\"line\">key_part: &#123;col_name [(<span class=\"keyword\">length</span>)] | (expr)&#125; [<span class=\"keyword\">ASC</span> | <span class=\"keyword\">DESC</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">index_type:</span><br><span class=\"line\">    <span class=\"keyword\">USING</span> &#123;BTREE | <span class=\"keyword\">HASH</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">index_option:</span><br><span class=\"line\">    KEY_BLOCK_SIZE [=] <span class=\"keyword\">value</span></span><br><span class=\"line\">  | index_type</span><br><span class=\"line\">  | <span class=\"keyword\">WITH</span> PARSER parser_name</span><br><span class=\"line\">  | <span class=\"keyword\">COMMENT</span> <span class=\"string\">'string'</span></span><br><span class=\"line\">  | &#123;<span class=\"keyword\">VISIBLE</span> | <span class=\"keyword\">INVISIBLE</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">table_options:</span><br><span class=\"line\">    table_option [[,] table_option] ...</span><br><span class=\"line\"></span><br><span class=\"line\">table_option:</span><br><span class=\"line\">    AUTO_INCREMENT [=] <span class=\"keyword\">value</span></span><br><span class=\"line\">  | AVG_ROW_LENGTH [=] <span class=\"keyword\">value</span></span><br><span class=\"line\">  | [<span class=\"keyword\">DEFAULT</span>] <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> [=] charset_name</span><br><span class=\"line\">  | <span class=\"keyword\">CHECKSUM</span> [=] &#123;<span class=\"number\">0</span> | <span class=\"number\">1</span>&#125;</span><br><span class=\"line\">  | [<span class=\"keyword\">DEFAULT</span>] <span class=\"keyword\">COLLATE</span> [=] collation_name</span><br><span class=\"line\">  | <span class=\"keyword\">COMMENT</span> [=] <span class=\"string\">'string'</span></span><br><span class=\"line\">  | COMPRESSION [=] &#123;<span class=\"string\">'ZLIB'</span>|<span class=\"string\">'LZ4'</span>|<span class=\"string\">'NONE'</span>&#125;</span><br><span class=\"line\">  | <span class=\"keyword\">CONNECTION</span> [=] <span class=\"string\">'connect_string'</span></span><br><span class=\"line\">  | &#123;<span class=\"keyword\">DATA</span>|<span class=\"keyword\">INDEX</span>&#125; <span class=\"keyword\">DIRECTORY</span> [=] <span class=\"string\">'absolute path to directory'</span></span><br><span class=\"line\">  | DELAY_KEY_WRITE [=] &#123;<span class=\"number\">0</span> | <span class=\"number\">1</span>&#125;</span><br><span class=\"line\">  | ENCRYPTION [=] &#123;<span class=\"string\">'Y'</span> | <span class=\"string\">'N'</span>&#125;</span><br><span class=\"line\">  | <span class=\"keyword\">ENGINE</span> [=] engine_name</span><br><span class=\"line\">  | INSERT_METHOD [=] &#123; <span class=\"keyword\">NO</span> | <span class=\"keyword\">FIRST</span> | <span class=\"keyword\">LAST</span> &#125;</span><br><span class=\"line\">  | KEY_BLOCK_SIZE [=] <span class=\"keyword\">value</span></span><br><span class=\"line\">  | MAX_ROWS [=] <span class=\"keyword\">value</span></span><br><span class=\"line\">  | MIN_ROWS [=] <span class=\"keyword\">value</span></span><br><span class=\"line\">  | PACK_KEYS [=] &#123;<span class=\"number\">0</span> | <span class=\"number\">1</span> | <span class=\"keyword\">DEFAULT</span>&#125;</span><br><span class=\"line\">  | <span class=\"keyword\">PASSWORD</span> [=] <span class=\"string\">'string'</span></span><br><span class=\"line\">  | ROW_FORMAT [=] &#123;<span class=\"keyword\">DEFAULT</span>|DYNAMIC|<span class=\"keyword\">FIXED</span>|COMPRESSED|REDUNDANT|<span class=\"keyword\">COMPACT</span>&#125;</span><br><span class=\"line\">  | STATS_AUTO_RECALC [=] &#123;<span class=\"keyword\">DEFAULT</span>|<span class=\"number\">0</span>|<span class=\"number\">1</span>&#125;</span><br><span class=\"line\">  | STATS_PERSISTENT [=] &#123;<span class=\"keyword\">DEFAULT</span>|<span class=\"number\">0</span>|<span class=\"number\">1</span>&#125;</span><br><span class=\"line\">  | STATS_SAMPLE_PAGES [=] <span class=\"keyword\">value</span></span><br><span class=\"line\">  | <span class=\"keyword\">TABLESPACE</span> tablespace_name [<span class=\"keyword\">STORAGE</span> &#123;DISK|<span class=\"keyword\">MEMORY</span>&#125;]</span><br><span class=\"line\">  | <span class=\"keyword\">UNION</span> [=] (tbl_name[,tbl_name]...)</span><br><span class=\"line\"></span><br><span class=\"line\">partition_options:</span><br><span class=\"line\">    (see <span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> options)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 简单说明字段操作</span></span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> 表名 <span class=\"keyword\">ADD</span> [<span class=\"keyword\">COLUMN</span>] 列名 类型 约束 [<span class=\"keyword\">FIRST</span>|<span class=\"keyword\">AFTER</span>] 已存在的字段名;</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> 表名 <span class=\"keyword\">MODIFY</span> [<span class=\"keyword\">COLUMN</span>] 列名 类型 约束 [<span class=\"keyword\">FIRST</span>|<span class=\"keyword\">AFTER</span>] 已存在的字段名;</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> 表名 <span class=\"keyword\">CHANGE</span> [<span class=\"keyword\">COLUMN</span>] 旧列名 新列名 类型 约束;</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> 表名 <span class=\"keyword\">DROP</span> [<span class=\"keyword\">COLUMN</span>] 列名;</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> 表名 <span class=\"keyword\">DROP</span> <span class=\"keyword\">FOREIGN</span> <span class=\"keyword\">KEY</span> 外键名;  <span class=\"comment\">-- 注意:当外键未删除时候不能删除该表</span></span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> 表名 <span class=\"keyword\">ENGINE</span>=存储引擎;</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> 表名 <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> 字符集;</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> 旧表名 <span class=\"keyword\">RENAME</span> 新表名;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 索引操作</span></span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> 表名 <span class=\"keyword\">ADD</span> <span class=\"keyword\">INDEX</span> 索引名称 (需要添加索引的字段)</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> 表名 <span class=\"keyword\">DROP</span> <span class=\"keyword\">INDEX</span> 索引名称;</span><br></pre></td></tr></table></figure></p>\n<p>基础示例:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 设置表默认字符集</span></span><br><span class=\"line\">mysql&gt; ALTER TABLE Persons CHARACTER SET = 'gbk';</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 修改表名和存储引擎</span></span><br><span class=\"line\">MySQL [Demo]&gt; ALTER TABLE Person RENAME Per;</span><br><span class=\"line\">MySQL [Demo]&gt; ALTER TABLE Per ENGINE=MYISAM;</span><br><span class=\"line\">MySQL [Demo]&gt; SHOW CREATE TABLE Per\\G;</span><br><span class=\"line\">Table: Per</span><br><span class=\"line\"><span class=\"keyword\">Create</span> <span class=\"keyword\">Table</span>: <span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`Per`</span> (</span><br><span class=\"line\">  <span class=\"string\">`id`</span> <span class=\"built_in\">int</span>(<span class=\"number\">11</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'Desc'</span>,</span><br><span class=\"line\">  PRIMARY <span class=\"keyword\">KEY</span> (<span class=\"string\">`id`</span>)</span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span>=MyISAM <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">CHARSET</span>=utf8mb4 <span class=\"keyword\">COLLATE</span>=utf8mb4_0900_ai_ci</span><br><span class=\"line\"><span class=\"number\">1</span> <span class=\"keyword\">row</span> <span class=\"keyword\">in</span> <span class=\"keyword\">set</span> (<span class=\"number\">0.05</span> sec)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 添加和修改索引</span></span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> t4 <span class=\"keyword\">ADD</span> <span class=\"keyword\">INDEX</span> name_ind (<span class=\"keyword\">name</span>(<span class=\"number\">20</span>));</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> t4 <span class=\"keyword\">DROP</span> <span class=\"keyword\">INDEX</span> name_ind;</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> t4 <span class=\"keyword\">ADD</span> <span class=\"keyword\">UNIQUE</span> <span class=\"keyword\">INDEX</span> name_ind1 (<span class=\"keyword\">name</span>(<span class=\"number\">20</span>));</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> t4 <span class=\"keyword\">DROP</span> <span class=\"keyword\">UNIQUE</span> <span class=\"keyword\">INDEX</span> name_ind1;</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<h6 id=\"RENAME-TABLE-语句\"><a href=\"#RENAME-TABLE-语句\" class=\"headerlink\" title=\"RENAME TABLE 语句\"></a>RENAME TABLE 语句</h6><p>描述:RENAME TABLE重命名一个或多个表，您必须<code>具有ALTER与 DROP原始表的权限以及CREATE与INSERT新表的权限</code>。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 基础语法</span></span><br><span class=\"line\"><span class=\"keyword\">RENAME</span> <span class=\"keyword\">TABLE</span></span><br><span class=\"line\">    tbl_name <span class=\"keyword\">TO</span> new_tbl_name</span><br><span class=\"line\">    [, tbl_name2 <span class=\"keyword\">TO</span> new_tbl_name2] ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 加单说明</span></span><br><span class=\"line\"><span class=\"keyword\">RENAME</span> <span class=\"keyword\">TABLE</span> 旧表名<span class=\"number\">1</span> <span class=\"keyword\">TO</span> 新表名<span class=\"number\">1</span>,旧表名<span class=\"number\">2</span> <span class=\"keyword\">TO</span> 新表名<span class=\"number\">2</span>;</span><br></pre></td></tr></table></figure>\n<p>基础示例:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- MySQL 8.X 新特性:可以重命名使用LOCK TABLES语句锁定的表,前提是它们已被WRITE锁锁定</span></span><br><span class=\"line\"><span class=\"keyword\">LOCK</span> <span class=\"keyword\">TABLE</span> old_table1 WRITE;</span><br><span class=\"line\"><span class=\"keyword\">RENAME</span> <span class=\"keyword\">TABLE</span> old_table1 <span class=\"keyword\">TO</span> new_table1,new_table1 <span class=\"keyword\">TO</span> new_table2;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 用来将表从一个数据库移动到另一个数据库</span></span><br><span class=\"line\"><span class=\"keyword\">RENAME</span> <span class=\"keyword\">TABLE</span> current_db.tbl_name <span class=\"keyword\">TO</span> other_db.tbl_name;</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<h5 id=\"DROP-语句\"><a href=\"#DROP-语句\" class=\"headerlink\" title=\"DROP 语句\"></a>DROP 语句</h5><p>描述:删除数据库或者表，注意删除后无法通过日志恢复;</p>\n<p>基础语法<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 删除数据库</span></span><br><span class=\"line\"><span class=\"keyword\">DROP</span> &#123;<span class=\"keyword\">DATABASE</span> | <span class=\"keyword\">SCHEMA</span>&#125; [<span class=\"keyword\">IF</span> <span class=\"keyword\">EXISTS</span>] 数据库名称</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 删除表</span></span><br><span class=\"line\"><span class=\"keyword\">DROP</span> [<span class=\"keyword\">TEMPORARY</span>] <span class=\"keyword\">TABLE</span> [<span class=\"keyword\">IF</span> <span class=\"keyword\">EXISTS</span>] 数据库表名称<span class=\"number\">1</span> [, 数据库表名称<span class=\"number\">2</span>] ... </span><br><span class=\"line\">     [RESTRICT | <span class=\"keyword\">CASCADE</span>] </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 删除索引</span></span><br><span class=\"line\"><span class=\"keyword\">DROP</span> <span class=\"keyword\">INDEX</span> index_name <span class=\"keyword\">ON</span> tbl_name</span><br><span class=\"line\">    [algorithm_option | lock_option] ...</span><br><span class=\"line\">algorithm_option:</span><br><span class=\"line\">    ALGORITHM [=] &#123;<span class=\"keyword\">DEFAULT</span>|INPLACE|COPY&#125;</span><br><span class=\"line\">lock_option:</span><br><span class=\"line\">    <span class=\"keyword\">LOCK</span> [=] &#123;<span class=\"keyword\">DEFAULT</span>|<span class=\"keyword\">NONE</span>|<span class=\"keyword\">SHARED</span>|EXCLUSIVE&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 删除试图</span></span><br><span class=\"line\"><span class=\"keyword\">DROP</span> <span class=\"keyword\">VIEW</span> [<span class=\"keyword\">IF</span> <span class=\"keyword\">EXISTS</span>] view_name [, view_name] ...</span><br><span class=\"line\">    [RESTRICT | <span class=\"keyword\">CASCADE</span>]</span><br></pre></td></tr></table></figure></p>\n<p>基础示例:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 删除索引</span></span><br><span class=\"line\"><span class=\"keyword\">DROP</span> <span class=\"keyword\">INDEX</span> name_ind <span class=\"keyword\">ON</span> t4;</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<h5 id=\"TRUNCATE-语句\"><a href=\"#TRUNCATE-语句\" class=\"headerlink\" title=\"TRUNCATE 语句\"></a>TRUNCATE 语句</h5><p>描述:TRUNCATE TABLE完全清空一张表它需要DROP 特权，从逻辑上讲它类似于DELETE删除所有行的语句或DROP TABLE 语句的序列,但是其中实现过程以及性能耗费的时间是不同的;</p>\n<p>基础语法:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">TRUNCATE</span> [<span class=\"keyword\">TABLE</span>] tbl_name</span><br></pre></td></tr></table></figure></p>\n<p>补充知识点:</p>\n<ul>\n<li>它与DELETE语句块的异同(前者先删除表再重建表，而后者一条一条删除表中的数据):执行速度，隐式提交因此无法回滚，只要表定义有效即使数据或索引文件已损坏也能重新创建空白表,将AUTO_INCREMENT值重置为其初始值,不调用ON DELETE触发器。<ul>\n<li>如果数据少DELETE效率高，否则数据多的话建议采用TRUNCATE;</li>\n</ul>\n</li>\n</ul>\n<hr/>\n\n<h4 id=\"3-DML-数据操纵语句\"><a href=\"#3-DML-数据操纵语句\" class=\"headerlink\" title=\"3.DML 数据操纵语句\"></a>3.DML 数据操纵语句</h4><h5 id=\"INSERT-语句\"><a href=\"#INSERT-语句\" class=\"headerlink\" title=\"INSERT 语句\"></a>INSERT 语句</h5><p>描述:批量插入比单条插入效率高，如果数据处理不好容易出现BUG；</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> [<span class=\"keyword\">LOW_PRIORITY</span> | <span class=\"keyword\">DELAYED</span> | <span class=\"keyword\">HIGH_PRIORITY</span>] [<span class=\"keyword\">IGNORE</span>]</span><br><span class=\"line\">    [<span class=\"keyword\">INTO</span>] tbl_name</span><br><span class=\"line\">    [<span class=\"keyword\">PARTITION</span> (partition_name [, partition_name] ...)]</span><br><span class=\"line\">    [(col_name [, col_name] ...)]</span><br><span class=\"line\">    &#123; &#123;<span class=\"keyword\">VALUES</span> | <span class=\"keyword\">VALUE</span>&#125; (value_list) [, (value_list)] ...</span><br><span class=\"line\">      |</span><br><span class=\"line\">      <span class=\"keyword\">VALUES</span> row_constructor_list</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    [<span class=\"keyword\">AS</span> row_alias[(col_alias [, col_alias] ...)]]</span><br><span class=\"line\">    [<span class=\"keyword\">ON</span> <span class=\"keyword\">DUPLICATE</span> <span class=\"keyword\">KEY</span> <span class=\"keyword\">UPDATE</span> assignment_list]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> [<span class=\"keyword\">LOW_PRIORITY</span> | <span class=\"keyword\">DELAYED</span> | <span class=\"keyword\">HIGH_PRIORITY</span>] [<span class=\"keyword\">IGNORE</span>]</span><br><span class=\"line\">    [<span class=\"keyword\">INTO</span>] tbl_name</span><br><span class=\"line\">    [<span class=\"keyword\">PARTITION</span> (partition_name [, partition_name] ...)]</span><br><span class=\"line\">    [<span class=\"keyword\">AS</span> row_alias[(col_alias [, col_alias] ...)]]</span><br><span class=\"line\">    <span class=\"keyword\">SET</span> assignment_list</span><br><span class=\"line\">    [<span class=\"keyword\">ON</span> <span class=\"keyword\">DUPLICATE</span> <span class=\"keyword\">KEY</span> <span class=\"keyword\">UPDATE</span> assignment_list]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> [<span class=\"keyword\">LOW_PRIORITY</span> | <span class=\"keyword\">HIGH_PRIORITY</span>] [<span class=\"keyword\">IGNORE</span>]</span><br><span class=\"line\">    [<span class=\"keyword\">INTO</span>] tbl_name</span><br><span class=\"line\">    [<span class=\"keyword\">PARTITION</span> (partition_name [, partition_name] ...)]</span><br><span class=\"line\">    [(col_name [, col_name] ...)]</span><br><span class=\"line\">    [<span class=\"keyword\">AS</span> row_alias[(col_alias [, col_alias] ...)]]</span><br><span class=\"line\">    &#123;<span class=\"keyword\">SELECT</span> ... | <span class=\"keyword\">TABLE</span> table_name&#125;</span><br><span class=\"line\">    [<span class=\"keyword\">ON</span> <span class=\"keyword\">DUPLICATE</span> <span class=\"keyword\">KEY</span> <span class=\"keyword\">UPDATE</span> assignment_list]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">value</span>:</span><br><span class=\"line\">    &#123;expr | <span class=\"keyword\">DEFAULT</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">value_list:</span><br><span class=\"line\">    <span class=\"keyword\">value</span> [, <span class=\"keyword\">value</span>] ...</span><br><span class=\"line\"></span><br><span class=\"line\">row_constructor_list:</span><br><span class=\"line\">    <span class=\"keyword\">ROW</span>(value_list)[, <span class=\"keyword\">ROW</span>(value_list)][, ...]</span><br><span class=\"line\"></span><br><span class=\"line\">assignment:</span><br><span class=\"line\">    col_name = [row_alias.]<span class=\"keyword\">value</span></span><br><span class=\"line\"></span><br><span class=\"line\">assignment_list:</span><br><span class=\"line\">    assignment [, assignment] ...</span><br></pre></td></tr></table></figure>\n<p>基础语法:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 单行插入</span></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> 表名 <span class=\"keyword\">SET</span> 列名<span class=\"number\">1</span>=Value1,列名<span class=\"number\">2</span>=Values2;</span><br><span class=\"line\"><span class=\"comment\">-- 多行插入</span></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> 表名(列名<span class=\"number\">1</span>,列名<span class=\"number\">2</span>,列名<span class=\"number\">3</span>) <span class=\"keyword\">VALUES</span> (value1,value2,value3,...),(value1,value2,value3,...); <span class=\"comment\">-- 多行插入</span></span><br></pre></td></tr></table></figure></p>\n<p>基础示例:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 单行插入</span></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> new_log <span class=\"keyword\">SET</span> userLogin=<span class=\"string\">'Admin'</span>,userPass=<span class=\"string\">'123456'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 指定字段插入</span></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> new_log(userLogin,userPass) <span class=\"keyword\">VALUES</span> (<span class=\"string\">'Apache'</span>,<span class=\"keyword\">MD5</span>(<span class=\"string\">'123556'</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 顺序插入(注意插入顺序以及非NULL值的字段)</span></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> new_log <span class=\"keyword\">VALUES</span> (<span class=\"literal\">null</span>,<span class=\"string\">'Apache'</span>,<span class=\"keyword\">NOW</span>(),<span class=\"keyword\">MD5</span>(<span class=\"string\">'123556'</span>));</span><br></pre></td></tr></table></figure></p>\n<figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200116161215.png\" alt=\"WeiyiGeek.INSERT数据插入\" title=\"\" class=\"\">\n                <p>WeiyiGeek.INSERT数据插入</p>\n            </figure>\n<p>注意事项:</p>\n<ul>\n<li>当字段设置了非NULL约束的时候，在插入时需要进行指定其值，否则插入报错;</li>\n</ul>\n<p><br></p>\n<h6 id=\"INSERT…SELECT-语句\"><a href=\"#INSERT…SELECT-语句\" class=\"headerlink\" title=\"INSERT…SELECT 语句\"></a>INSERT…SELECT 语句</h6><p>描述:从<a href=\"https://dev.mysql.com/doc/refman/8.0/en/select.html\" target=\"_blank\" rel=\"noopener\"><code>SELECT</code></a> 语句的结果中快速将许多行插入到表中，该语句的结果可以从一个或多个表中进行选择。</p>\n<p>基础语法:</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> [<span class=\"keyword\">LOW_PRIORITY</span> | <span class=\"keyword\">HIGH_PRIORITY</span>] [<span class=\"keyword\">IGNORE</span>]</span><br><span class=\"line\">    [<span class=\"keyword\">INTO</span>] tbl_name</span><br><span class=\"line\">    [<span class=\"keyword\">PARTITION</span> (partition_name [, partition_name] ...)]</span><br><span class=\"line\">    [(col_name [, col_name] ...)]</span><br><span class=\"line\">    &#123;<span class=\"keyword\">SELECT</span> ... | <span class=\"keyword\">TABLE</span> table_name&#125;</span><br><span class=\"line\">    [<span class=\"keyword\">ON</span> <span class=\"keyword\">DUPLICATE</span> <span class=\"keyword\">KEY</span> <span class=\"keyword\">UPDATE</span> assignment_list]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">value</span>:</span><br><span class=\"line\">    &#123;expr | <span class=\"keyword\">DEFAULT</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">assignment:</span><br><span class=\"line\">    col_name = <span class=\"keyword\">value</span></span><br><span class=\"line\"></span><br><span class=\"line\">assignment_list:</span><br><span class=\"line\">    assignment [, assignment] ...</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">-- 简单说明</span></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> 表名 (字段<span class=\"number\">1</span>,字段<span class=\"number\">2</span>,字段<span class=\"number\">3</span>)</span><br><span class=\"line\">  <span class=\"keyword\">SELECT</span> 字段<span class=\"number\">1</span>,字段<span class=\"number\">2</span>,字段<span class=\"number\">3</span></span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> tbl_temp1 <span class=\"keyword\">WHERE</span> 条件;</span><br></pre></td></tr></table></figure>\n<p>基础示例:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 查询插入（需要存在相同类型的字段）</span></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> Persons(lastName,userPass) <span class=\"keyword\">SELECT</span> userLogin,userPass <span class=\"keyword\">FROM</span> user_log</span><br><span class=\"line\">查询执行完毕，<span class=\"number\">3</span> 行受影响。</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 复制表整表插入</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> new_log <span class=\"keyword\">LIKE</span> user_log; </span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> new_log <span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> user_log;</span><br></pre></td></tr></table></figure></p>\n<p>注意事项:</p>\n<ul>\n<li>从MySQL 8.0.19开始，您可以使用 <a href=\"https://dev.mysql.com/doc/refman/8.0/en/table.html\" target=\"_blank\" rel=\"noopener\"><code>TABLE</code></a>语句代替 <a href=\"https://dev.mysql.com/doc/refman/8.0/en/select.html\" target=\"_blank\" rel=\"noopener\"><code>SELECT</code></a>，如下所示：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> ta <span class=\"keyword\">TABLE</span> tb;  <span class=\"comment\">-- TABLE tb 等同于 SELECT * FROM tb</span></span><br></pre></td></tr></table></figure></li>\n<li>要求数据库，表，存在并且，字段类型数量是一致的</li>\n</ul>\n<BR>\n\n<h5 id=\"UPDATE-语句\"><a href=\"#UPDATE-语句\" class=\"headerlink\" title=\"UPDATE 语句\"></a>UPDATE 语句</h5><p>描述:UPDATE 是DML语句，用于修改表中的行用于更新表记录,需要注意如果不加添条件加则会修改表中指定字段的所有值;<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 单表语法：</span></span><br><span class=\"line\"><span class=\"keyword\">UPDATE</span> [<span class=\"keyword\">LOW_PRIORITY</span>] [<span class=\"keyword\">IGNORE</span>] table_reference</span><br><span class=\"line\">    <span class=\"keyword\">SET</span> assignment_list</span><br><span class=\"line\">    [<span class=\"keyword\">WHERE</span> where_condition]</span><br><span class=\"line\">    [<span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> ...]</span><br><span class=\"line\">    [<span class=\"keyword\">LIMIT</span> <span class=\"keyword\">row_count</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">value</span>:</span><br><span class=\"line\">    &#123;expr | <span class=\"keyword\">DEFAULT</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">assignment:</span><br><span class=\"line\">    col_name = <span class=\"keyword\">value</span></span><br><span class=\"line\"></span><br><span class=\"line\">assignment_list:</span><br><span class=\"line\">    assignment [, assignment] ..</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 多表语法：</span></span><br><span class=\"line\"><span class=\"keyword\">UPDATE</span> [<span class=\"keyword\">LOW_PRIORITY</span>] [<span class=\"keyword\">IGNORE</span>] table_references</span><br><span class=\"line\">    <span class=\"keyword\">SET</span> assignment_list</span><br><span class=\"line\">    [<span class=\"keyword\">WHERE</span> where_condition]</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 简单说明</span></span><br><span class=\"line\"><span class=\"keyword\">UPDATE</span> 表名 <span class=\"keyword\">SET</span> 列名=列值,列名<span class=\"number\">2</span>=列值 [<span class=\"keyword\">WHERE</span> 条件]</span><br></pre></td></tr></table></figure></p>\n<p>基础案例:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<BR>\n\n<h5 id=\"DELETE-语句\"><a href=\"#DELETE-语句\" class=\"headerlink\" title=\"DELETE 语句\"></a>DELETE 语句</h5><p>描述:删除表中的数据会在日志中记录，并且需要注意如果不加上WHERE条件默认是整表数据库删除删除;<br>基础语法:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 单表语法</span></span><br><span class=\"line\"><span class=\"keyword\">DELETE</span> [<span class=\"keyword\">LOW_PRIORITY</span>] [<span class=\"keyword\">QUICK</span>] [<span class=\"keyword\">IGNORE</span>] <span class=\"keyword\">FROM</span> tbl_name [[<span class=\"keyword\">AS</span>] tbl_alias]</span><br><span class=\"line\">    [<span class=\"keyword\">PARTITION</span> (partition_name [, partition_name] ...)]</span><br><span class=\"line\">    [<span class=\"keyword\">WHERE</span> where_condition]</span><br><span class=\"line\">    [<span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> ...]</span><br><span class=\"line\">    [<span class=\"keyword\">LIMIT</span> <span class=\"keyword\">row_count</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 多表语法</span></span><br><span class=\"line\"><span class=\"keyword\">DELETE</span> [<span class=\"keyword\">LOW_PRIORITY</span>] [<span class=\"keyword\">QUICK</span>] [<span class=\"keyword\">IGNORE</span>]</span><br><span class=\"line\">    tbl_name[.*] [, tbl_name[.*]] ...</span><br><span class=\"line\">    <span class=\"keyword\">FROM</span> table_references</span><br><span class=\"line\">    [<span class=\"keyword\">WHERE</span> where_condition]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 简单说明</span></span><br><span class=\"line\"><span class=\"keyword\">DELETE</span> <span class=\"keyword\">FROM</span> 表名 [<span class=\"keyword\">WHERE</span> 条件]</span><br></pre></td></tr></table></figure></p>\n<p>基础示例:<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 多表删除:删除两个表中相同id的数据</span></span><br><span class=\"line\"><span class=\"keyword\">DELETE</span> new_log,user_log <span class=\"keyword\">FROM</span> user_log <span class=\"keyword\">LEFT</span> <span class=\"keyword\">JOIN</span> new_log <span class=\"keyword\">ON</span> new_log.id = user_log.id <span class=\"keyword\">WHERE</span> user_log.id = new_log.id;</span><br></pre></td></tr></table></figure></p>\n<hr/>\n\n<h4 id=\"4-DCL-数据控制语句\"><a href=\"#4-DCL-数据控制语句\" class=\"headerlink\" title=\"4.DCL 数据控制语句\"></a>4.DCL 数据控制语句</h4><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 系统字符编码</span></span><br><span class=\"line\">mysql&gt; show CHARACTER SET;</span><br><span class=\"line\">+<span class=\"comment\">----------+---------------------------------+---------------------+--------+</span></span><br><span class=\"line\">| Charset  | Description                     | Default collation   | Maxlen |</span><br><span class=\"line\">+<span class=\"comment\">----------+---------------------------------+---------------------+--------+</span></span><br><span class=\"line\">| ascii    | US ASCII                        | ascii_general_ci    |      1 |</span><br><span class=\"line\">| binary   | Binary pseudo charset           | binary              |      1 |</span><br><span class=\"line\">| gb18030  | China National Standard GB18030 | gb18030_chinese_ci  |      4 |</span><br><span class=\"line\">| utf8mb4  | UTF-8 Unicode                   | utf8mb4_0900_ai_ci  |      4 |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 系统字符编码校对规则</span></span><br><span class=\"line\">mysql&gt; SHOW COLLATION LIKE 'UTF8%';  </span><br><span class=\"line\">+<span class=\"comment\">----------------------------+---------+-----+---------+----------+---------+---------------+</span></span><br><span class=\"line\">| Collation                  | Charset | Id  | Default | Compiled | Sortlen | Pad_attribute |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------+---------+-----+---------+----------+---------+---------------+</span></span><br><span class=\"line\">| utf8mb4_bin                | utf8mb4 |  46 |         | Yes      |       1 | PAD SPACE     |</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 查看创建数据库的信息</span></span><br><span class=\"line\">mysql&gt; SHOW CREATE DATABASE black_hack;</span><br><span class=\"line\">| Database   | <span class=\"keyword\">Create</span> <span class=\"keyword\">Database</span>                                                                                              </span><br><span class=\"line\">| black_hack | <span class=\"keyword\">CREATE</span> <span class=\"keyword\">DATABASE</span> <span class=\"string\">`black_hack`</span> <span class=\"comment\">/*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_bin */</span>  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; <span class=\"keyword\">SHOW</span> <span class=\"keyword\">TABLES</span>;</span><br><span class=\"line\">+<span class=\"comment\">----------------+</span></span><br><span class=\"line\">| Tables_in_Demo |</span><br><span class=\"line\">+<span class=\"comment\">----------------+</span></span><br><span class=\"line\">| Aggregate      |</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SHOW CREATE TABLE Persons;  </span><br><span class=\"line\">| Persons | <span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`Persons`</span> (</span><br><span class=\"line\">  <span class=\"string\">`ID`</span> <span class=\"built_in\">int</span>(<span class=\"number\">11</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> AUTO_INCREMENT <span class=\"keyword\">COMMENT</span> <span class=\"string\">'ID序号'</span>,</span><br><span class=\"line\">  <span class=\"string\">`LastName`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8mb4 <span class=\"keyword\">COLLATE</span> utf8mb4_0900_ai_ci <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'名称'</span>,</span><br><span class=\"line\">  PRIMARY <span class=\"keyword\">KEY</span> (<span class=\"string\">`ID`</span>)</span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span>=<span class=\"keyword\">InnoDB</span> AUTO_INCREMENT=<span class=\"number\">112</span> <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">CHARSET</span>=utf8mb4 <span class=\"keyword\">COLLATE</span>=utf8mb4_0900_ai_ci |</span><br></pre></td></tr></table></figure>","comments":true,"excerpt":"[TOC]","categories":[{"name":"Database","path":"api/categories/Database.json"}],"tags":[{"name":"MySQL","path":"api/tags/MySQL.json"}]}