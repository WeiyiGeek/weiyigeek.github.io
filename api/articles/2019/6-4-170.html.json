{"title":"系统镜像操作相关命令一览表","slug":"系统运维/Linux/常用命令/系统镜像类命令/系统镜像操作相关命令一览表","date":"2019-06-04T13:35:30.000Z","updated":"2020-10-10T02:37:45.375Z","url":"2019/6-4-170.html","path":"api/articles/2019/6-4-170.html.json","covers":null,"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h4 id=\"0x00-镜像内容查看\"><a href=\"#0x00-镜像内容查看\" class=\"headerlink\" title=\"0x00 镜像内容查看\"></a>0x00 镜像内容查看</h4><h5 id=\"lsinitramfs-命令\"><a href=\"#lsinitramfs-命令\" class=\"headerlink\" title=\"lsinitramfs 命令\"></a>lsinitramfs 命令</h5><h5 id=\"lsinitrd-命令\"><a href=\"#lsinitrd-命令\" class=\"headerlink\" title=\"lsinitrd 命令\"></a>lsinitrd 命令</h5><p>描述:列出给定一个<code>initramfs</code>镜像的内容列表,它允许快速检查一个(或多个)指定initramfs文件的内容;</p>\n<p>命令语法参数:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Usage: lsinitrd [options] [&lt;initramfs file&gt; [&lt;filename&gt; [&lt;filename&gt; [...] ]]]</span><br><span class=\"line\">Usage: lsinitrd [options] -k &lt;kernel version&gt;</span><br><span class=\"line\">-s, --size                  sort the contents of the initramfs by size.</span><br><span class=\"line\">-m, --mod                   list modules.</span><br><span class=\"line\">-f, --file &lt;filename&gt;       <span class=\"built_in\">print</span> the contents of &lt;filename&gt;.</span><br><span class=\"line\">-k, --kver &lt;kernel version&gt; inspect the initramfs of &lt;kernel version&gt;.</span><br></pre></td></tr></table></figure></p>\n<p>基础示例:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 1.映像相关信息报考其大小/模块/文件列表</span></span><br><span class=\"line\"><span class=\"variable\">$lsinitrd</span> /boot/initramfs-3.10.0-1062.12.1.el7.x86_64.img</span><br><span class=\"line\"><span class=\"comment\"># Image: /boot/initramfs-3.10.0-1062.12.1.el7.x86_64.img: 18M</span></span><br><span class=\"line\"><span class=\"comment\"># ========================================================================</span></span><br><span class=\"line\"><span class=\"comment\"># Early CPIO image</span></span><br><span class=\"line\"><span class=\"comment\"># ========================================================================</span></span><br><span class=\"line\"><span class=\"comment\"># drwxr-xr-x   3 root     root            0 Feb 27 22:14 .</span></span><br><span class=\"line\"><span class=\"comment\"># -rw-r--r--   1 root     root            2 Feb 27 22:14 early_cpio</span></span><br><span class=\"line\"><span class=\"comment\"># drwxr-xr-x   3 root     root            0 Feb 27 22:14 kernel</span></span><br><span class=\"line\"><span class=\"comment\"># drwxr-xr-x   3 root     root            0 Feb 27 22:14 kernel/x86</span></span><br><span class=\"line\"><span class=\"comment\"># drwxr-xr-x   2 root     root            0 Feb 27 22:14 kernel/x86/microcode</span></span><br><span class=\"line\"><span class=\"comment\"># -rw-r--r--   1 root     root        33792 Feb 27 22:14 kernel/x86/microcode/GenuineIntel.bin</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 2.列举出映像模块信息 </span></span><br><span class=\"line\"><span class=\"variable\">$lsinitrd</span> -m /boot/initramfs-3.10.0-1062.12.1.el7.x86_64.img</span><br><span class=\"line\">Image: /boot/initramfs-3.10.0-1062.12.1.el7.x86_64.img: 18M</span><br><span class=\"line\">========================================================================</span><br><span class=\"line\">Version: dracut-033-564.el7</span><br><span class=\"line\">dracut modules:</span><br><span class=\"line\">bash</span><br><span class=\"line\">nss-softokn</span><br><span class=\"line\">i18n</span><br><span class=\"line\">network</span><br><span class=\"line\">ifcfg</span><br><span class=\"line\">drm</span><br><span class=\"line\">plymouth</span><br><span class=\"line\">kernel-modules</span><br><span class=\"line\">qemu</span><br><span class=\"line\">rootfs-block</span><br><span class=\"line\">terminfo</span><br><span class=\"line\">udev-rules</span><br><span class=\"line\">biosdevname</span><br><span class=\"line\">systemd</span><br><span class=\"line\">usrmount</span><br><span class=\"line\">base</span><br><span class=\"line\">fs-lib</span><br><span class=\"line\">microcode_ctl-fw_dir_override</span><br><span class=\"line\">shutdown</span><br><span class=\"line\">========================================================================</span><br></pre></td></tr></table></figure></p>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"Linux命令","path":"api/categories/Linux命令.json"}],"tags":[{"name":"镜像操作命令","path":"api/tags/镜像操作命令.json"}]}