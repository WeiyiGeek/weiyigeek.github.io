<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="content-language" content="zh-CN"/>
    <meta name="author" content="WeiyiGeek" />
    <meta name="msvalidate.01" content="5C552FB1D885E0E11D2957EC958C8018" />
    <meta name="shenma-site-verification" content="4c655e91c76be0a93c1b6954c666c9d6_1649049085"/>
    <meta name="bytedance-verification-code" content="lKs4FqwCHSJ3A/c5tT7X" />
    <meta name="sogou_site_verification" content="OC65iET6Bk" />
    
    <title>🌐 Resin应用服务器中间件安装和使用|WeiyiGeek Blog|唯一极客Geek-IT网络安全运维开发技术知识分享-博客站点</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    
    <meta name="keywords" content="Resin服务">
    <meta name="Description" content="WeiyiGeek-唯一极客博客站点,关注于网络安全运维,Web安全开发,IOT物联网安全开发,应用开发,分享技术学习知识与入坑解决,提升网络安全技术与自身技术能力,立志维护大众网络安全为己任,做一个对国家有用的人,为实现中华民族伟大复兴的中国梦不懈奋斗">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/jquery/3.5.2-jquery.fancybox.min.css?v=1.6.6" />
    <link rel="stylesheet" href="/css/style.css?v=1.6.6">
    <!--  -->
     <script type="text/javascript" src="/js/custom/articlecost.js?v=1.6.6"></script> 
    <link rel="stylesheet" href="/css/third-party/gitalk.css?v=1.6.6"> 
    <script type="text/javascript">
        // Data Center
        var DC = {
            reward:	true,
            lv: JSON.parse('{"enable":false,"app_id":null,"app_key":null,"icon":true}'),
            v: JSON.parse('{"enable":false,"appid":null,"appkey":null,"notify":true,"verify":true,"placeholder":"give me some sugers plz...","avatar":"wavatar"}')
        };
    </script>
    <script type="text/javascript">window.lazyScripts=[];</script>
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="WeiyiGeek Blog" type="application/atom+xml">
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="/img/brand.jpg" class="brand-bg" alt="WeiyiGeek-backgroud">
      
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg" alt="WeiyiGeek-头像">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">WeiyiGeek</h5>
          <a href="mailto:master@weiyigeek.top" title="master@weiyigeek.top" class="mail">
            <span>m</span><span>a</span><span>s</span><span>t</span><span>e</span><span>r</span><span>@</span><span>w</span><span>e</span><span>i</span><span>y</span><span>i</span><span>g</span><span>e</span><span>e</span><span>k</span><span>.</span><span>t</span><span>o</span><span>p</span>
          </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://weiyigeek.top/img/wechat-search.png" target="_blank">
                  <i class="icon icon-lg icon-wechat"></i>
                </a>
              </li>
            
              <li>
                <a href="https://github.com/weiyigeek" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
              <li>
                <a href="https://t.me/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-telegram"></i>
                </a>
              </li>
            
              <li>
                <a href="https://twitter.com/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-twitter"></i>
                </a>
              </li>
            
              <li>
                <a href="https://weibo.com/615643678" target="_blank">
                  <i class="icon icon-lg icon-weibo"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                首页
              </a>
            </li>
        
            <li class="">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                文章分类
              </a>
            </li>
        
            <li class="">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                文章标签
              </a>
            </li>
        
            <li class="">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                文章归档
              </a>
            </li>
        
            <li class="">
              <a href="/books"  >
                <i class="icon icon-lg icon-book"></i>
                学习书籍
              </a>
            </li>
        
            <li class="">
              <a href="/about"  >
                <i class="icon icon-lg icon-user"></i>
                关于作者
              </a>
            </li>
        
            <li class="">
              <a href="/links"  >
                <i class="icon icon-lg icon-link"></i>
                站点导航
              </a>
            </li>
        
            <li class="">
              <a href="https://weiyigeek.top/img/wechat-search.png" target="_blank" >
                <i class="icon icon-lg icon-wechat"></i>
                公众账号
              </a>
            </li>
        
            <li class="">
              <a href="https://space.bilibili.com/385802642" target="_blank" >
                <i class="icon icon-lg icon-youtube-play"></i>
                哔哩哔哩
              </a>
            </li>
        
            <li class="">
              <a href="https://github.com/weiyigeek" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="">
              <a href="https://twitter.com/WeiyiGeek" target="_blank" >
                <i class="icon icon-lg icon-twitter"></i>
                Twitter
              </a>
            </li>
        
            <li class="">
              <a href="https://weibo.com/615643678" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>Resin应用服务器中间件安装和使用</span>
            
        </div>

        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        

        
            <a href="/atom.xml" class="header-icon pull-right waves-effect waves-circle waves-light">
                <i class="icon icon-lg icon-rss"></i>
            </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="/img/banner.jpg" class="header-bg" alt="文章头部背景">
    <div class="container fade-scale">
        <h1 class="title">Resin应用服务器中间件安装和使用</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-06-28T05:34:30.000Z" itemprop="datePublished" class="page-time">
  2019-06-28
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/SystemOperation/">SystemOperation</a></li></ul>


            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>


<div class="container body-wrap">
    <article id="post-系统运维/Application/Web/WebApp/Resin/Resin应用服务器安装和使用"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">Resin应用服务器中间件安装和使用</h1>
        <div class="post-meta">
            <time class="post-time" title="2019-06-28 13:34:30" datetime="2019-06-28T05:34:30.000Z"  itemprop="datePublished">2019-06-28</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/SystemOperation/">SystemOperation</a></li></ul>



            

            


            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <p>[TOC]</p>
<a id="more"></a>
<h2 id="0x00-快速入门"><a href="#0x00-快速入门" class="headerlink" title="0x00 快速入门"></a>0x00 快速入门</h2><p>描述：Resin是 CAUCHO 公司(<a href="http://www.caucho.com/" target="_blank" rel="noopener">http://www.caucho.com/</a>) 的产品，是一个非常流行的应用服务器支持 servlets 和jsp的引擎，速度非常快。<br>官网介绍:“Resin的动态扩展和集群消除了停机时间，无需重大代码更改”，从单个服务器扩展到数百万用户，没有外部依赖关系,全球数以百万计的网站在 Resin 上运行。</p>
<p>Resin 实现功能: 负载均衡器、网络服务器 、应用服务器、分布式缓存 </p>
<p><br/></p>
<p>Resin 特性:</p>
<ul>
<li>支持HTTP/1.1的WEB服务器</li>
<li>支持显示动态内容和静态内容(能力强解析速度快)</li>
<li>扩展性好能和其他WEB服务器一起工作(比如Apache server和IIS等);</li>
<li>Resin支持Servlets 2.3标准和JSP 1.2标准(用Resin来进行JSP编程是很容易)</li>
<li>Resin支持负载平衡（Load balancing）,可以增加WEB站点的可靠性,方法是增加服务器的数量。比如一台SERVER的错误率是1%的话，那么支持负载平衡的两个Resin服务器就可以使错误率降到0.01%。</li>
<li>跨平台性:可以在 Windows / Linux 上面安装使用</li>
</ul>
<p><br/></p>
<p>Resin 应用场景:</p>
<ul>
<li>聚类 : Resin 的 Web 和应用程序服务器允许您将 Web 应用程序集群以实现高性能和可用性 </li>
<li>微服务 ：在一个 30MB 的小包中，Resin 可用于 Web 应用程序的 .jar、.war 或 .ear 部署 </li>
<li>物联网-云 ：Resin 连接任何可以发送和接收 JSON 的设备.</li>
</ul>
<p><br/></p>
<p>Resin的两个版本区别:</p>
<ul>
<li>Resin 4.0  免费 : 普通版本独立作为web服务器性能就要差一些,可以使用 <code>apache+resin</code> 借助apache的缓存功能提高性能;</li>
<li>Resin Pro 4.0 收费 : 强大的cache功能支持缓存和负载均衡;</li>
</ul>
<p>官网下载: <a href="https://caucho.com/products/resin/download" target="_blank" rel="noopener">https://caucho.com/products/resin/download</a></p>
<p><br></p>
<h2 id="0x01-Resin安装"><a href="#0x01-Resin安装" class="headerlink" title="0x01 Resin安装"></a>0x01 Resin安装</h2><p>通用环境依赖说明:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Resin: 4.0.62</span><br><span class="line">jDK: &gt;= 6+ (这里选择JDK8)</span><br></pre></td></tr></table></figure></p>
<p><strong>Windows安装环境</strong><br>Step1.安装JDK8并添加到环境变量<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 运行jdk-8u181-windows64.exe进行安装即可(默认路径)</span></span><br><span class="line">&gt;setx /M JAVA_HOME <span class="string">"C:\Program Files\Java\jdk1.8.0_181"</span></span><br><span class="line">&gt;setx /M JAVA_HOME <span class="string">"C:\Program Files\Java\jdk1.8.0_221"</span></span><br><span class="line">成功: 指定的值已得到保存。</span><br><span class="line">&gt;setx /M PATH <span class="string">"%PATH%;%JAVA_HOME%\bin;%JAVA_HOME%\jre;"</span></span><br><span class="line">成功: 指定的值已得到保存。</span><br><span class="line"><span class="comment">#重新打开一个cmd.exe执行验证</span></span><br><span class="line">C:\Users\Administrator\Desktop&gt;java -version</span><br><span class="line">java version <span class="string">"1.8.0_181"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_181-b13)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.181-b13, mixed mode)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Step2.解压Resin包到项目目录中,并将其根路径加入到环境变量之中;</span></span><br><span class="line">C:\Users\Administrator&gt;setx /M RESIN_HOME <span class="string">"C:\resin-4.0.62"</span></span><br><span class="line">成功: 指定的值已得到保存。</span><br><span class="line"></span><br><span class="line"><span class="comment">#step3.运行Resin包的安装程序 (注意需要.NET3.5支持) 根据需求选择 setup.exe 安装程序</span></span><br><span class="line">运行resin.exe或者在命令中执行  run java -jar lib/resin.jar start。</span><br><span class="line"><span class="comment">#在下面的框框中可以重启或者停止(直接点击start/stop)</span></span><br></pre></td></tr></table></figure></p>
<p>Step4.访问 <a href="http://localhost:8080/" target="_blank" rel="noopener">http://localhost:8080/</a> 页面说明安装成功</p>
<figure class="image-box">
                <a rel=Resin应用服务器中间件安装和使用 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/1/20190827210929.png" target="_blank" title="WeiyiGeek.验证安装成功" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/1/20190827210929.png" alt="WeiyiGeek.验证安装成功" title="" class=""></a>
                <p>WeiyiGeek.验证安装成功</p>
            </figure>
<p>Step5.点击/resin-admin 创建认证文件访问 <a href="http://localhost:8080/resin-admin/" target="_blank" rel="noopener">http://localhost:8080/resin-admin/</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#提交后的返回的信息</span></span><br><span class="line">1.To add the admin user, copy and paste the following into c:\resin-4.0.62\conf/resin.properties: (将以下配置加入resin.propertie中)</span><br><span class="line">admin_user : admin</span><br><span class="line">admin_password : &#123;SSHA&#125;6c3j7qekfBfEWQL9uD6wiasV9oCz3BGG</span><br><span class="line"><span class="comment">#当然您也可以采用Use "resinctl generate-password" and copy/paste here to set the admin生成</span></span><br><span class="line"></span><br><span class="line">2.默认是只允许localhost访问,当您设置下面的参数后将所有机器都能访问后台页面(注意防火墙的影响) add to c:\resin-4.0.62\conf/resin.properties: </span><br><span class="line">admin_external : <span class="literal">true</span></span><br><span class="line">admin_secure : <span class="literal">true</span></span><br><span class="line">Or modify directly c:\resin-4.0.62\conf\resin.xml: </span><br><span class="line">&lt;resin:<span class="built_in">set</span> var=<span class="string">"resin_admin_external"</span> value=<span class="string">"true"</span>/&gt;</span><br></pre></td></tr></table></figure><br><figure class="image-box">
                <a rel=Resin应用服务器中间件安装和使用 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/1/20190827211934.png" target="_blank" title="WeiyiGeek." data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/1/20190827211934.png" alt="WeiyiGeek." title="" class=""></a>
                <p>WeiyiGeek.</p>
            </figure></p>
<p>Step6.设置好之后便可以进行登录(采用外网机器登录)<br><figure class="image-box">
                <a rel=Resin应用服务器中间件安装和使用 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/1/20190827213151.png" target="_blank" title="WeiyiGeek." data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/1/20190827213151.png" alt="WeiyiGeek." title="" class=""></a>
                <p>WeiyiGeek.</p>
            </figure></p>
<p>Step7.简单的介绍一哈war部署<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#方式1把war文件放进resin目录中的webapps下，然后resin自动解压，这样虽然可以但是可能会遇到很多问题，就比如运行的时候找不到js文件了，报404，又或者找不到配置的文件或者action。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#方式2：在resin目录中的conf中的resin.conf，这个文件是resin自带的,打开这个文件，拉到底下找到&lt;web-app&gt;这个标签，然后把原本的&lt;web-app id="/" root-directory=""&gt;注释掉，添加下面一句</span></span><br><span class="line">&lt;web-app id=<span class="string">"/"</span> document-directory=<span class="string">"D:\test\**"</span> archive-path=<span class="string">"D:\test\**.war"</span>/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#方式3：通过resin-admin后台进行部署(注意需要开启ssl)</span></span><br><span class="line">Actions can only be performed on a <span class="built_in">local</span> server and over a secure connection (SSL).<span class="string">" Try https://192.168.17.129:8443/resin-admin/index.php?q=deploy&amp;s=0</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">访问网站：https://192.168.17.129:8443/Demo-1.1.0/</span></span><br><span class="line"><span class="string">Hello World!WeiyiGeek</span></span><br></pre></td></tr></table></figure><br><figure class="image-box">
                <a rel=Resin应用服务器中间件安装和使用 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/1/20190827224103.png" target="_blank" title="WeiyiGeek." data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/1/20190827224103.png" alt="WeiyiGeek." title="" class=""></a>
                <p>WeiyiGeek.</p>
            </figure></p>
<p><em>注意事项：</em></p>
<ul>
<li>启动的时候检查默认的8080端口是否被占用;</li>
</ul>
<h2 id="0x02-Resin配置文件"><a href="#0x02-Resin配置文件" class="headerlink" title="0x02 Resin配置文件"></a>0x02 Resin配置文件</h2><p>resin-4.0.x 配置文件结构:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">配置属性 :  --conf/resin.properties</span><br><span class="line">配置文件 :  --conf/resin.xml</span><br><span class="line">openSSL密钥 :   --conf/keys/</span><br><span class="line"></span><br><span class="line">许可信息文件 : --conf/licenses/</span><br><span class="line">部署服务器路径 : --webapps/  </span><br><span class="line">resin日志文件 :  --logs/</span><br></pre></td></tr></table></figure></p>
<p>配置文件conf/resin.properties说明:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># resin.properties - 配置变量值</span></span><br><span class="line"><span class="comment"># See resin.xml, cluster-default.xml, and health.xml for full configuration.</span></span><br><span class="line"><span class="comment"># Any variable defined by $&#123;...&#125; can be set as a property in this file.</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># Individual server overrides can be specified by prepending the server.id.</span></span><br><span class="line"><span class="comment"># 日志记录等级</span></span><br><span class="line"><span class="comment"># log_level : info</span></span><br><span class="line"><span class="comment"># app-0.log_level : finest</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 与Resin XML配置类似，修改此文件将触发重启。</span></span><br><span class="line"><span class="comment"># General log level (modify resin.xml for more granular log level adjustments)</span></span><br><span class="line"><span class="comment"># log_level     : finer</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用详细的浏览器错误报告(业务上线时候不建议)</span></span><br><span class="line">dev_mode      : <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># resin多久检查一次更新的文件。</span></span><br><span class="line"><span class="comment"># dependency_check_interval : 5m</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable /resin-doc Resin documentation</span></span><br><span class="line">resin_doc      : <span class="literal">true</span></span><br><span class="line">resin_doc_host :</span><br><span class="line"></span><br><span class="line"><span class="comment"># List Triad server ip-addresses:hmux-port for each tier, space separated </span></span><br><span class="line"><span class="comment">#应用服务设置</span></span><br><span class="line"><span class="comment"># App tier Triad servers must be listed to enable web-tier to </span></span><br><span class="line"><span class="comment"># app-tier load-balancing</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># web-tier Triad servers: web-0 web-1 web-2</span></span><br><span class="line"><span class="comment"># web_servers      : 127.0.0.1:6810</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># app-tier Triad servers: app-0 app-1 app-2</span></span><br><span class="line">app_servers      : 127.0.0.1:6800</span><br><span class="line"></span><br><span class="line"><span class="comment"># 允许弹性节点加入集群(支持云模式)</span></span><br><span class="line"><span class="comment"># elastic_cloud_enable : true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 弹性节点应该连接的集群——每个节点都将连接一个三元组服务器</span></span><br><span class="line"><span class="comment"># Use a separate resin.properties file for each cluster</span></span><br><span class="line">home_cluster : app</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用于弹性服务器在home_cluster中加入集群</span></span><br><span class="line"><span class="comment"># elastic_server : true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 为每个服务器创建一个不同的webapps/目录，用于垂直扩展</span></span><br><span class="line"><span class="comment"># elastic_webapp : true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用于具有动态IP地址的云服务器，其中服务器启动后为服务器分配DNS名称。resin会重试开始。</span></span><br><span class="line"><span class="comment"># elastic_dns : true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#指定配置文件中的——server</span></span><br><span class="line"><span class="comment"># home_server : app-0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set HTTP and HTTPS bind address</span></span><br><span class="line"><span class="comment"># http_address  : *</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set HTTP and HTTPS ports.</span></span><br><span class="line"><span class="comment">#   http       - default for all clusters and servers</span></span><br><span class="line"><span class="comment">#   app.http   - default for all servers in cluster 'app'</span></span><br><span class="line"><span class="comment">#   app-0.http - for server 'app-0' only </span></span><br><span class="line"><span class="comment"># http          : 8080</span></span><br><span class="line"></span><br><span class="line">app.http          : 8080</span><br><span class="line"><span class="comment"># app.https         : 8443</span></span><br><span class="line"></span><br><span class="line">web.http          : 8080</span><br><span class="line"><span class="comment"># web.https         : 8443</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 为了安全起见，Resin可以在绑定到端口80后切换到非root用户</span></span><br><span class="line">setuid_user   : </span><br><span class="line">setuid_group  : </span><br><span class="line"></span><br><span class="line"><span class="comment"># Arg直接传递到JVM</span></span><br><span class="line"><span class="comment"># jvm_args  : -Xmx2048m -XX:MaxPermSize=256m</span></span><br><span class="line"><span class="comment"># jvm_mode    : -server</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这个类路径比默认类路径具有优先级，就像您希望使用Hibernate的JPA这样的第三方库时一样</span></span><br><span class="line"><span class="comment"># jvm_classpath :</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 本地url供看门狗检查，以确保服务器已启动，空间分隔</span></span><br><span class="line"><span class="comment"># http_ping_urls : http://127.0.0.1/test.jsp</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 为端口控制活动线程的数量</span></span><br><span class="line">port_thread_max   : 256</span><br><span class="line">accept_thread_max : 32</span><br><span class="line">accept_thread_min : 4</span><br><span class="line"><span class="comment"># keepalive_max   : 512</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable JNI TCP speed optimizations</span></span><br><span class="line">tcp_cork : <span class="literal">true</span></span><br><span class="line">sendfile : <span class="literal">true</span></span><br><span class="line">keepalive_select_enable : <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># OpenSSL证书配置密钥通常存储在resin配置目录中。</span></span><br><span class="line"><span class="comment"># openssl_file : keys/test.crt</span></span><br><span class="line"><span class="comment"># openssl_key : keys/test.key</span></span><br><span class="line"><span class="comment"># openssl_chain_file : keys/test.ca</span></span><br><span class="line"><span class="comment"># openssl_password : changeme</span></span><br><span class="line"><span class="comment"># openssl_protocol : -sslv2 -sslv3</span></span><br><span class="line"><span class="comment"># openssl_cipher_suite :</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># JSSE证书配置密钥通常存储在resin配置目录中。</span></span><br><span class="line"><span class="comment"># jsse_keystore_type : jks</span></span><br><span class="line"><span class="comment"># jsse_keystore_file : /etc/resin/keys/server.keystore</span></span><br><span class="line"><span class="comment"># jsse_keystore_password : changeme</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># In absence of a signed certificate, Resin will fallback to using a </span></span><br><span class="line"><span class="comment"># self-signed development certificate if HTTPS is enabled</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用代理缓存——用于缓存内存中的静态内容</span></span><br><span class="line">proxy_cache_enable : <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sets the proxy cache memory size</span></span><br><span class="line"><span class="comment"># proxy_cache_size : 256m</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用集群持久会话(用于故障转移)</span></span><br><span class="line">session_store : <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># disable the quercus *.php mapping when using Apache for PHP</span></span><br><span class="line"><span class="comment"># quercus_disable : true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用数字后缀命名的web应用程序，例如foo-10.0。战争和可以浏览</span></span><br><span class="line"><span class="comment"># # / foo。当web应用程序的新版本被部署时，Resin会继续</span></span><br><span class="line"><span class="comment"># 将活动会话请求路由到以前的web应用程序版本</span></span><br><span class="line"><span class="comment"># #新会话将转到新版本，因此用户不会意识到</span></span><br><span class="line"><span class="comment"># #应用程序升级。</span></span><br><span class="line"><span class="comment"># webapp_multiversion_routing : true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the email address to receive weekly and restart PDF reports</span></span><br><span class="line"><span class="comment"># email : admin@example.com</span></span><br><span class="line">pdf_summary : <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用远程管理(对于远程CLI和EC2 ext: triad discovery)</span></span><br><span class="line"><span class="comment"># remote_admin_enable : true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable /resin-admin web administration console</span></span><br><span class="line">web_admin_enable : <span class="literal">true</span></span><br><span class="line">web_admin_host   :</span><br><span class="line"></span><br><span class="line"><span class="comment">#允许访问/树脂管理从非本地网络ip地址</span></span><br><span class="line"><span class="comment"># web_admin_external : true</span></span><br><span class="line"><span class="comment"># 要求HTTPS访问/树脂管理</span></span><br><span class="line"><span class="comment"># web_admin_ssl : true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用Resin REST Admin</span></span><br><span class="line"><span class="comment"># rest_admin_enable : true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># REST管理需要SSL</span></span><br><span class="line"><span class="comment"># rest_admin_ssl : true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 健康检查禁用</span></span><br><span class="line"><span class="comment"># health_disable   : true</span></span><br><span class="line"><span class="comment"># health_log_level : off</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问/树脂管理和远程CLI是密码限制。</span></span><br><span class="line"><span class="comment"># Use "resinctl generate-password" and copy/paste here to set the admin</span></span><br><span class="line"><span class="comment"># admin_user : admin</span></span><br><span class="line"><span class="comment"># admin_password : &#123;SSHA&#125;xxxxxxxx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 允许读取EC2用户数据作为树脂属性</span></span><br><span class="line"><span class="comment"># properties_import_url : http://169.254.169.254/latest/user-data</span></span><br></pre></td></tr></table></figure></p>
<p>常规配置配置文件 conf/resin.xml:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--- Resin 4.0 configuration file.--&gt;</span><br><span class="line">&lt;resin xmlns=<span class="string">"http://caucho.com/ns/resin"</span></span><br><span class="line">       xmlns:resin=<span class="string">"urn:java:com.caucho.resin"</span>&gt;</span><br><span class="line">  &lt;!-- property-based Resin configuration --&gt;</span><br><span class="line">  &lt;resin:properties path=<span class="string">"<span class="variable">$&#123;__DIR__&#125;</span>/resin.properties"</span> optional=<span class="string">"true"</span>/&gt;</span><br><span class="line">  &lt;resin:<span class="keyword">if</span> <span class="built_in">test</span>=<span class="string">"<span class="variable">$&#123;properties_import_url&#125;</span>"</span>&gt;</span><br><span class="line">     &lt;resin:properties path=<span class="string">"<span class="variable">$&#123;properties_import_url&#125;</span>"</span> optional=<span class="string">"true"</span> recover=<span class="string">"true"</span>/&gt;</span><br><span class="line">  &lt;/resin:<span class="keyword">if</span>&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- JDK日志API的日志配置 --&gt;</span><br><span class="line">  &lt;<span class="built_in">log</span>-handler name=<span class="string">""</span> level=<span class="string">"all"</span> path=<span class="string">"stdout:"</span></span><br><span class="line">               timestamp=<span class="string">"[%y-%m-%d %H:%M:%S.%s]"</span></span><br><span class="line">               format=<span class="string">" &#123;<span class="variable">$&#123;thread&#125;</span>&#125; <span class="variable">$&#123;log.message&#125;</span>"</span>/&gt;</span><br><span class="line">               </span><br><span class="line">  &lt;!-- </span><br><span class="line">     - Alternative pseudo-TTCC <span class="built_in">log</span> format</span><br><span class="line">     - &lt;<span class="built_in">log</span>-handler name=<span class="string">""</span> level=<span class="string">"all"</span> path=<span class="string">"stdout:"</span></span><br><span class="line">     -           timestamp=<span class="string">"%y-%m-%d %H:%M:%S.%s"</span></span><br><span class="line">     -           format=<span class="string">" [<span class="variable">$&#123;thread&#125;</span>] <span class="variable">$&#123;log.level&#125;</span> <span class="variable">$&#123;log.shortName&#125;</span> - <span class="variable">$&#123;log.message&#125;</span>"</span>/&gt;</span><br><span class="line">    --&gt;</span><br><span class="line">   </span><br><span class="line">  &lt;!--</span><br><span class="line">     - level=<span class="string">'info'</span> <span class="keyword">for</span> production</span><br><span class="line">     - <span class="string">'fine'</span> or <span class="string">'finer'</span> <span class="keyword">for</span> development and troubleshooting</span><br><span class="line">     - 日志信息级别：info生产环境 fine和finer适合开发环境和调试环境</span><br><span class="line">    --&gt;</span><br><span class="line">  &lt;logger name=<span class="string">""</span> level=<span class="string">"<span class="variable">$&#123;log_level?:'info'&#125;</span>"</span>/&gt;</span><br><span class="line">  &lt;logger name=<span class="string">"com.caucho.java"</span> level=<span class="string">"config"</span>/&gt;</span><br><span class="line">  &lt;logger name=<span class="string">"com.caucho.loader"</span> level=<span class="string">"config"</span>/&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!--</span><br><span class="line">     - Default configuration applied to all clusters, including</span><br><span class="line">     - HTTP, HTTPS, and /resin-admin configuration.</span><br><span class="line">    --&gt;</span><br><span class="line">  &lt;resin:import path=<span class="string">"<span class="variable">$&#123;__DIR__&#125;</span>/cluster-default.xml"</span>/&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;!--</span><br><span class="line">     - health configuration</span><br><span class="line">    --&gt;</span><br><span class="line">  &lt;resin:import path=<span class="string">"<span class="variable">$&#123;__DIR__&#125;</span>/health.xml"</span>/&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  &lt;!--</span><br><span class="line">     - Remote management requires at least one enabled admin user.</span><br><span class="line">    --&gt;</span><br><span class="line">  &lt;resin:AdminAuthenticator&gt;</span><br><span class="line">    &lt;user name=<span class="string">"<span class="variable">$&#123;admin_user&#125;</span>"</span> password=<span class="string">"<span class="variable">$&#123;admin_password&#125;</span>"</span>/&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;resin:import path=<span class="string">"<span class="variable">$&#123;__DIR__&#125;</span>/admin-users.xml"</span> optional=<span class="string">"true"</span>/&gt;</span><br><span class="line">  &lt;/resin:AdminAuthenticator&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!---对于集群系统，请在cluster_system_key中创建密码--&gt;</span><br><span class="line">  &lt;cluster-system-key&gt;<span class="variable">$&#123;cluster_system_key&#125;</span>&lt;/cluster-system-key&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!--</span><br><span class="line">     - 环境依赖检查时间生产系统设置长点，600s 10分钟(不用修改文件后手动重启)</span><br><span class="line">     - 检测会非常耗时搞resin优化的话，那么就把它设置的长一些,生产环境中干脆设置为-1禁止自动检测变更;</span><br><span class="line">    --&gt;</span><br><span class="line">  &lt;dependency-check-interval&gt;<span class="variable">$&#123;dependency_check_interval?:'2s'&#125;</span>&lt;/dependency-check-interval&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 属性动态集群连接 --&gt;</span><br><span class="line">  &lt;home-cluster&gt;<span class="variable">$&#123;home_cluster&#125;</span>&lt;/home-cluster&gt;</span><br><span class="line">  &lt;home-server&gt;<span class="variable">$&#123;home_server&#125;</span>&lt;/home-server&gt;</span><br><span class="line">  &lt;elastic-server&gt;<span class="variable">$&#123;elastic_server&#125;</span>&lt;/elastic-server&gt;</span><br><span class="line">  &lt;elastic-dns&gt;<span class="variable">$&#123;elastic_dns&#125;</span>&lt;/elastic-dns&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!--- JSSE default properties--&gt;</span><br><span class="line">  &lt;system-property</span><br><span class="line">    jdk.tls.ephemeralDHKeySize=<span class="string">"2048"</span></span><br><span class="line">    jdk.tls.rejectClientInitiatedRenegotiation=<span class="string">"true"</span></span><br><span class="line">    sun.security.ssl.allowUnsafeRenegotiation=<span class="string">"false"</span></span><br><span class="line">    sun.security.ssl.allowLegacyHelloMessages=<span class="string">"false"</span>/&gt;</span><br><span class="line">     </span><br><span class="line">  &lt;!--- 配置主应用程序集群。负载均衡配置也将有一个web集群。--&gt;</span><br><span class="line">  &lt;cluster id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;!-- define the servers <span class="keyword">in</span> the cluster --&gt;</span><br><span class="line">    &lt;server-multi id-prefix=<span class="string">"app-"</span> address-list=<span class="string">"<span class="variable">$&#123;app_servers&#125;</span>"</span> port=<span class="string">"6800"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;host-default&gt;</span><br><span class="line">      &lt;!-- 为.war扩展创建webapps目录 --&gt;</span><br><span class="line">      &lt;web-app-deploy path=<span class="string">"webapps"</span></span><br><span class="line">                      expand-preserve-fileset=<span class="string">"WEB-INF/work/**"</span></span><br><span class="line">                      multiversion-routing=<span class="string">"<span class="variable">$&#123;webapp_multiversion_routing&#125;</span>"</span></span><br><span class="line">                      path-suffix=<span class="string">"<span class="variable">$&#123;elastic_webapp?resin.id:''&#125;</span>"</span>/&gt;</span><br><span class="line">    &lt;/host-default&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">Sets the default character encoding to utf-8 &lt;character-encoding&gt;utf-8&lt;/character-encoding&gt; (默认字符集为 utf-8 )</span><br><span class="line"> --&gt;</span><br><span class="line">    &lt;!-- 在hosts/foo.example.com/webapps中自动部署虚拟主机 --&gt;</span><br><span class="line">    &lt;host-deploy path=<span class="string">"hosts"</span>&gt;</span><br><span class="line">      &lt;host-default&gt;</span><br><span class="line">        &lt;resin:import path=<span class="string">"host.xml"</span> optional=<span class="string">"true"</span>/&gt;</span><br><span class="line">      &lt;/host-default&gt;</span><br><span class="line">    &lt;/host-deploy&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 默认主机，匹配任何主机名 --&gt;</span><br><span class="line">    &lt;host id=<span class="string">""</span> root-directory=<span class="string">"."</span>&gt;</span><br><span class="line">      &lt;!--- web应用程序可以在resin.xml中重写/扩展 可以解压war--&gt;</span><br><span class="line">      &lt;web-app id=<span class="string">"/"</span> root-directory=<span class="string">"webapps/ROOT"</span>/&gt;</span><br><span class="line">    &lt;/host&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;resin:<span class="keyword">if</span> <span class="built_in">test</span>=<span class="string">"<span class="variable">$&#123;resin_doc&#125;</span>"</span>&gt;</span><br><span class="line">      &lt;host id=<span class="string">"<span class="variable">$&#123;resin_doc_host&#125;</span>"</span> root-directory=<span class="string">"<span class="variable">$&#123;resin_doc_host&#125;</span>"</span>&gt;</span><br><span class="line">        &lt;web-app id=<span class="string">"/resin-doc"</span> root-directory=<span class="string">"<span class="variable">$&#123;resin.root&#125;</span>/doc/resin-doc"</span>/&gt;</span><br><span class="line">      &lt;/host&gt;</span><br><span class="line">    &lt;/resin:<span class="keyword">if</span>&gt;</span><br><span class="line">  &lt;/cluster&gt;</span><br><span class="line"></span><br><span class="line">  &lt;cluster id=<span class="string">"web"</span>&gt;</span><br><span class="line">    &lt;!-- 定义集群中的服务器 --&gt;</span><br><span class="line">    &lt;server-multi id-prefix=<span class="string">"web-"</span> address-list=<span class="string">"<span class="variable">$&#123;web_servers&#125;</span>"</span> port=<span class="string">"6810"</span>/&gt;</span><br><span class="line">    &lt;host id=<span class="string">""</span> root-directory=<span class="string">"web"</span>&gt;</span><br><span class="line">      &lt;web-app id=<span class="string">""</span>&gt;</span><br><span class="line">        &lt;resin:LoadBalance regexp=<span class="string">""</span> cluster=<span class="string">"app"</span>/&gt;</span><br><span class="line">      &lt;/web-app&gt;</span><br><span class="line">    &lt;/host&gt;</span><br><span class="line">  &lt;/cluster&gt;</span><br><span class="line"></span><br><span class="line">&lt;/resin&gt;</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="0x03-Resin应用"><a href="#0x03-Resin应用" class="headerlink" title="0x03 Resin应用"></a>0x03 Resin应用</h2><p>描述:Resion主要应用就是部署和发布我们的JSP应用;</p>
<p><strong>Resin发布应用</strong><br>Resin发布应用其实和Tomcat几乎一模一样有两种方式:</p>
<ul>
<li>Resin目录发布</li>
<li>War发布</li>
</ul>
<p><strong>Resin3.x日志级别</strong><br>描述:java.util.logging.Level中的日志级别对应<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Level. ALL 指示应该记录所有消息。</span><br><span class="line">static Level	Level. CONFIG 是用于静态配置消息的消息级别。</span><br><span class="line">static Level	Level. FINE  是提供跟踪信息的消息级别。</span><br><span class="line">static Level	Level. FINER 指示一条相当详细的跟踪消息。</span><br><span class="line">static Level	Level. FINEST 指示一条最详细的跟踪消息。</span><br><span class="line">static Level	Level. INFO 是报告消息的消息级别。</span><br><span class="line">static Level	Level. OFF 是一个可用于关闭日志记录的特殊级别。</span><br><span class="line">static Level	Level. SEVERE 是指示严重失败的消息级别。</span><br><span class="line">static Level	Level. WARNING 是指示潜在问题的消息级别。</span><br></pre></td></tr></table></figure></p>
<hr>

<h2 id="0x04-Security"><a href="#0x04-Security" class="headerlink" title="0x04 Security"></a>0x04 Security</h2><p>描述:对于Resin服务进行安全配置加固;</p>
<p><strong>Resin 4.x版本</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1.外部主机不能访问配置登录(实际生产环境中建议不要让外网访问后台)</span></span><br><span class="line">vim /conf/resin.properties</span><br><span class="line"><span class="comment">#admin_external : true</span></span><br><span class="line"><span class="comment">#admin_secure : true</span></span><br><span class="line"><span class="comment">#或者</span></span><br><span class="line">vim /conf/resin.xml</span><br><span class="line">&lt;!-- &lt;resin:<span class="built_in">set</span> var=<span class="string">"resin_admin_external"</span> value=<span class="string">"true"</span>/&gt; --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#2.应为不同的用户分配不同的resin帐户，不允许不同用户间共享resint帐户(删除无关的用户)</span></span><br><span class="line"><span class="comment">#应要求 resin 管理帐户口令长度至少 8 位，且为数字、字母和特殊符号</span></span><br><span class="line"><span class="comment">#口令格式如：It#1s@te5t！、Test$6y&amp;y0u等</span></span><br><span class="line"><span class="comment">#方式1.将管理员口令粘贴到/resin-pro-4.0.36/conf/resin.properties，覆盖原来的口令 </span></span><br><span class="line"><span class="comment">#方式2.</span></span><br><span class="line">cat /resin/resin-pro-4.0.48/conf/admin-users.xml</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#3.禁用管理控制台/停止/限定resin-doc和resin-admin</span></span><br><span class="line"><span class="comment">#禁止非本地用户访问</span></span><br><span class="line">resin_doc: <span class="literal">false</span>  <span class="comment">#false 表示禁用 </span></span><br><span class="line">resin_doc_host：127.0.0.1</span><br><span class="line"><span class="comment">#禁用管理控制台</span></span><br><span class="line">web_admin_enable : <span class="literal">false</span> </span><br><span class="line">web_admin_host : <span class="literal">false</span></span><br><span class="line"><span class="comment">#删除默认页面</span></span><br><span class="line">%resin%/webapps/ROOT/index.jsp</span><br><span class="line">%resin%/doc/resin-doc</span><br><span class="line">%resin%/doc/resin-admin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#4.Resin应用执行权限(低权限用户运行)</span></span><br><span class="line">/usr/sbin/groupadd resin</span><br><span class="line">/usr/sbin/useradd -g resin resin -s /sbin/nologin</span><br><span class="line"><span class="comment">#%resin%/conf/resin.properties 修改 resin 配置文件中的配置项，确保 setuid_user 和 setuid_group 的值不为 root 修改如下字段：</span></span><br><span class="line">setuid_user : resin</span><br><span class="line">setuid_group :resin</span><br><span class="line"><span class="comment">#注： resin 为 非 root 权限用户，Windows下面执行采用resin用户即可</span></span><br><span class="line">runas /user:resin <span class="string">"cmd.exe cmd/k F:\resin11\httpd.exe "</span>-Xms512M<span class="string">" "</span>-Xmx1024M<span class="string">" "</span> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#5.更改Resin默认端口 resin.properties ;</span></span><br><span class="line">app.http  : 8080 </span><br><span class="line">web.http  : 8080</span><br><span class="line"><span class="comment"># 适用于 HTTPS 站点的参数</span></span><br><span class="line"><span class="comment"># app.https    : 8443</span></span><br><span class="line"><span class="comment"># web.https    : 8443</span></span><br><span class="line"><span class="comment"># openssl_file : keys/test.crt</span></span><br><span class="line"><span class="comment"># openssl_key  : keys/test.key</span></span><br><span class="line"><span class="comment"># openssl_password : changeme</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#6.隐藏版本信息</span></span><br><span class="line">Resin的版本信息被写死在了代码之中，无法通过配置文件来进行控制，修改方法如下：</span><br><span class="line"></span><br><span class="line">第一步：找到下列文件,将所有文件解压缩到一个目录中（例如：xxx）。</span><br><span class="line">%RESIN_HOME%/lib/resin.jar</span><br><span class="line">%RESIN_HOME%/lib/pro.jar（适用于Pro版本）</span><br><span class="line"></span><br><span class="line">第二步：找到下列文件：</span><br><span class="line">xxx/com/caucho/Version.class</span><br><span class="line">xxx/com/caucho/ProVersion.class(适用于Pro版本) </span><br><span class="line"></span><br><span class="line">用JD-GUI反编译版本上述文件，得到Version.java或ProVersion.java(适用于Pro版本)</span><br><span class="line">注意：如果导出文件内容为空，可直接从JD-GUI中复制出代码创建这个文件</span><br><span class="line"></span><br><span class="line">第三步：根据需要修改Version.java/ProVersion.java文件中的VERSION、FULL_VERSION和VERSION_DATA参数的值（建议直接删除小版本号）,修改完成后用下面的命令重新编译为class文件</span><br><span class="line">javac Version.java</span><br><span class="line">javac ProVersion.java（适用于Pro版本）</span><br><span class="line"></span><br><span class="line">第四步：然后重新打包</span><br><span class="line">将编译得到的class文件复制到原位置覆盖就文件，然后使用下面的命令重新打包：</span><br><span class="line"></span><br><span class="line">jar cfm resin.jar xxx/META-INF/MANIFEST.MF -C xxx/ .</span><br><span class="line">jar cfm pro.jar xxx/META-INF/MANIFEST.MF -C xxx/ . （适用于Pro版本）</span><br><span class="line"></span><br><span class="line">第五步：停止Resin，用新生成的jar文件覆盖原文件（建议在覆盖前先备份原文件）后重启Resin。 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#7.1 方式1管理目录安全应通过限制 ip 对管理目录的访问</span></span><br><span class="line">进入目录 %resin% / doc / resin-doc / WEB-INF</span><br><span class="line">使用命令“ vi resin-web.xml ”修改如下字段：</span><br><span class="line">&lt;resin:<span class="keyword">if</span> <span class="built_in">test</span>=<span class="string">"<span class="variable">$&#123;! resin_admin_external&#125;</span>"</span>&gt;</span><br><span class="line"> &lt;resin:IfNetwork&gt;</span><br><span class="line"> &lt;value&gt;127.0.0.1&lt;/value&gt;</span><br><span class="line"> &lt;value&gt;192.168.0.0/16&lt;/value&gt;</span><br><span class="line"> &lt;value&gt;[::1]&lt;/value&gt;</span><br><span class="line"> &lt;/resin:IfNetwork&gt;</span><br><span class="line">&lt;/resin:<span class="keyword">if</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#7.2 方式2为resin-admin设置白名单，webapps设置黑名单,然后新建立一个resin.properties中加一个参数用来放允许访问的ip：</span></span><br><span class="line"><span class="comment">#比如 `web_admin_allow_host: 10.10.10.10 10.10.10.11 10.10.10.12`</span></span><br><span class="line">&lt;cluster id=<span class="string">"app"</span>&gt;</span><br><span class="line">&lt;!-- 只允许指定ip访问resin-admin --&gt;</span><br><span class="line">    &lt;host id=<span class="string">"<span class="variable">$&#123;web_admin_host&#125;</span>"</span> root-directory=<span class="string">"<span class="variable">$&#123;web_admin_host&#125;</span>"</span>&gt;</span><br><span class="line">      &lt;web-app id=<span class="string">"/resin-admin"</span> root-directory=<span class="string">"<span class="variable">$&#123;resin.root&#125;</span>/doc/admin"</span>&gt;</span><br><span class="line">          &lt;resin:Allow url-pattern=<span class="string">"/admin/*"</span>&gt;</span><br><span class="line">              &lt;resin:IfNetwork value=<span class="string">"<span class="variable">$&#123;web_admin_allow_host&#125;</span>"</span>/&gt;</span><br><span class="line">          &lt;/resin:Allow&gt;</span><br><span class="line">      &lt;/web-app&gt;</span><br><span class="line">    &lt;/host&gt;</span><br><span class="line">&lt;/cluster&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#8.应开启日志记录</span></span><br><span class="line"><span class="comment">#cat  %resin% /conf/resin.xml 配置文件确保 level 值不为 Off</span></span><br><span class="line">&lt;<span class="built_in">log</span>-handler name=<span class="string">""</span> level=<span class="string">"all"</span> path=<span class="string">"stdout:"</span> timestamp=<span class="string">"[%y-%m-%d %H:%M:%S.%s]"</span></span><br><span class="line">format=<span class="string">" &#123;<span class="variable">$&#123;thread&#125;</span>&#125; <span class="variable">$&#123;log.message&#125;</span>"</span>/&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 9.应关闭开发模式</span></span><br><span class="line">vi %resin%/conf/resin.properties将resin.properties配置文件中的</span><br><span class="line">dev_mode: <span class="literal">true</span> <span class="comment">#注释掉</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 10.Resin 4.X SSL证书配置的两种方式，注意SSL证书格式JKS（Java Keystroe）文件是我们后面用来部署JSSE模式下所需要的文件。</span></span><br><span class="line"><span class="comment"># - Openssl 方式 - 因为Openssl模式下的速度更快，而且Openssl对TLS的支持更好，安全性高</span></span><br><span class="line">&lt;http port=<span class="string">"443"</span>&gt;</span><br><span class="line">  &lt;openssl&gt;</span><br><span class="line">    <span class="comment"># 服务器证书文件/私钥文件/以及私钥密码</span></span><br><span class="line">    &lt;certificate-file&gt;keys/server.cer&lt;/certificate-file&gt;</span><br><span class="line">    &lt;certificate-key-file&gt;keys/server.key&lt;/certificate-key-file&gt;</span><br><span class="line">    &lt;password&gt;my-password&lt;/password&gt;</span><br><span class="line">    <span class="comment"># 中间证书文件</span></span><br><span class="line">    &lt;certificate-chain-file&gt;keys/chain.cer&lt;/certificate-chain-file&gt;</span><br><span class="line">    <span class="comment"># 加密套件设定</span></span><br><span class="line">    &lt;cipher-suite&gt;ALL:!ADH:+HIGH:+MEDIUM:!NULL:!DH:!RC4:!DES &lt;/cipher-suite&gt;</span><br><span class="line">    <span class="comment"># SSL协议版本</span></span><br><span class="line">    &lt;protocol&gt;tlsv1 tls1.1 tls1.2&lt;/protocol&gt;</span><br><span class="line">  &lt;/openssl&gt;</span><br><span class="line">&lt;/http&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># - JSSE 方式 - 使用简单、速度较慢、且支持的最新TLS版本没有Openssl全。</span></span><br><span class="line">&lt;http port=<span class="string">"443"</span>&gt;</span><br><span class="line">  &lt;jsse-ssl&gt;</span><br><span class="line">    <span class="comment"># 设定Keystore文件的类型 </span></span><br><span class="line">    &lt;key-store-type&gt;jks&lt;/key-store-type&gt;</span><br><span class="line">    &lt;key-store-file&gt;keys/server.keystore&lt;/key-store-file&gt;</span><br><span class="line">    &lt;password&gt;changeit&lt;/password&gt;</span><br><span class="line">    <span class="comment"># 支持的SSL协议版本</span></span><br><span class="line">    &lt;protocol&gt;-sslv3&lt;/protocol&gt;</span><br><span class="line">    <span class="comment"># 启用客户端验证</span></span><br><span class="line">    &lt;verify-client&gt;required&lt;/verify-client&gt;</span><br><span class="line">  &lt;/jsse-ssl&gt;</span><br><span class="line">&lt;/http&gt;</span><br></pre></td></tr></table></figure></p>
<p>Tips : 证书SSL相关工具地址(<a href="https://www.myssl.cn/tools/merge-jks-cert.html" target="_blank" rel="noopener">https://www.myssl.cn/tools/merge-jks-cert.html</a>)<br><br></p>
<p><strong>Resin 3.x 版本</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1.隐藏Resin响应头中的Server头</span></span><br><span class="line"><span class="comment">#resin.conf增加&lt;server-header&gt;节点</span></span><br><span class="line">&lt;cluster id=<span class="string">"app-tier"</span>&gt;</span><br><span class="line">  &lt;!-- sets the content root <span class="keyword">for</span> the cluster, relative to server.root --&gt;</span><br><span class="line">    &lt;root-directory&gt;.&lt;/root-directory&gt;</span><br><span class="line"> &lt;server-header&gt;Foo/1.0&lt;/server-header&gt;</span><br><span class="line">&lt;server-default&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#2.Resin可以配置3种error-page：</span></span><br><span class="line"><span class="comment">#404错误也就是文件找不到错误页；Exception违例页；不能连接java引擎页</span></span><br><span class="line">&lt;web-app id=<span class="string">'/app1'</span>&gt;</span><br><span class="line"> &lt;error-page error-code=<span class="string">'404'</span> location=<span class="string">'/file_not_found.jsp'</span>/&gt;</span><br><span class="line">&lt;/web-app&gt;</span><br><span class="line"> </span><br><span class="line"><span class="comment">#Exception 违例页</span></span><br><span class="line">&lt;web-app id=<span class="string">'/foo'</span>&gt;</span><br><span class="line">  &lt;error-page exception-type=<span class="string">'java.lang.NullPointerException'</span> location=<span class="string">'/nullpointer.jsp'</span>/&gt;</span><br><span class="line">&lt;/web-app&gt;</span><br><span class="line"> </span><br><span class="line"><span class="comment">#不能连接到srun Servlet引擎错误页,该页设置和应用无关，属于服务器的设置。</span></span><br><span class="line">&lt;http-server&gt;</span><br><span class="line">　&lt;error-page exception-type=<span class="string">'connection'</span> location=<span class="string">'/missing_file.html'</span>/&gt;</span><br><span class="line">&lt;/http-server&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#3.生产环境日志设置</span></span><br><span class="line">&lt;!-- -JDK日志接口的配置. 日志信息的级别：<span class="string">'info'</span> 生产环境 <span class="string">'fine'</span> 开发环境 <span class="string">'finer'</span> 调试环境 --&gt;</span><br><span class="line">&lt;<span class="built_in">log</span> name=<span class="string">""</span> level=<span class="string">"fine"</span> path=<span class="string">"stdout:"</span> timestamp=<span class="string">"[%H:%M:%S.%s] "</span>/&gt;</span><br><span class="line">&lt;logger name=<span class="string">"com.caucho"</span> level=<span class="string">"info"</span>/&gt;</span><br><span class="line">&lt;logger name=<span class="string">"com.caucho.java"</span> level=<span class="string">"config"</span>/&gt;</span><br><span class="line">&lt;logger name=<span class="string">"com.caucho.loader"</span> level=<span class="string">"config"</span>/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#4.注释将关闭Administration application /resin-admin</span></span><br><span class="line">&lt;web-app id=<span class="string">"/resin-admin"</span> root-directory=<span class="string">"<span class="variable">$&#123;resin.home&#125;</span>/php/admin"</span>&gt;</span><br><span class="line">    &lt;character-encoding&gt;utf8&lt;/character-encoding&gt;</span><br><span class="line">    &lt;prologue&gt;</span><br><span class="line">    &lt;resin:<span class="built_in">set</span> var=<span class="string">"resin_admin_external"</span> value=<span class="string">"false"</span>/&gt;</span><br><span class="line">    &lt;resin:<span class="built_in">set</span> var=<span class="string">"resin_admin_insecure"</span> value=<span class="string">"true"</span>/&gt;</span><br><span class="line">    &lt;/prologue&gt;</span><br><span class="line">&lt;/web-app&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#5.Resin SSL 安全证书配置</span></span><br><span class="line">&lt;!--</span><br><span class="line">  - SSL port configuration:</span><br><span class="line">  -</span><br><span class="line">  - &lt;http address=<span class="string">"*"</span> port=<span class="string">"8443"</span>&gt;</span><br><span class="line">  -   &lt;openssl&gt;</span><br><span class="line">  -     &lt;certificate-file&gt;keys/gryffindor.crt&lt;/certificate-file&gt;</span><br><span class="line">  -     &lt;certificate-key-file&gt;keys/gryffindor.key&lt;/certificate-key-file&gt;</span><br><span class="line">  -     &lt;password&gt;test123&lt;/password&gt;</span><br><span class="line">  -   &lt;/openssl&gt;</span><br><span class="line">  - &lt;/http&gt;</span><br><span class="line">--&gt;</span><br><span class="line">&lt;http address=<span class="string">"*"</span> port=<span class="string">"443"</span>&gt;</span><br><span class="line">&lt;jsse-ssl&gt;</span><br><span class="line">    &lt;key-store-type&gt;jks&lt;/key-store-type&gt;</span><br><span class="line">    &lt;key-store-file&gt;keys/6391687_resin.weiyigeek.top.jks&lt;/key-store-file&gt;</span><br><span class="line">    &lt;password&gt;2DaGz&lt;/password&gt;</span><br><span class="line">&lt;/jsse-ssl&gt;</span><br><span class="line">&lt;/http&gt;</span><br></pre></td></tr></table></figure></p>
<hr>

<h2 id="0x05-Help-附录补充"><a href="#0x05-Help-附录补充" class="headerlink" title="0x05 Help | 附录补充"></a>0x05 Help | 附录补充</h2><h3 id="1-Resin-日志记录之format配置详解"><a href="#1-Resin-日志记录之format配置详解" class="headerlink" title="(1) Resin 日志记录之format配置详解"></a>(1) Resin 日志记录之format配置详解</h3><p>描述:访问日志格式变量遵循Apache的变量，且默认access.log的日志格式为<code>&quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b \&quot;%{Referer}i\&quot; \&quot;%{User-Agent}i\&quot;&quot;</code>;</p>
<p>参数解释:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">%b 	result content length</span><br><span class="line">%D 	time taken to complete the request <span class="keyword">in</span> microseconds (since 3.0.16)</span><br><span class="line">%h 	remote IP addr</span><br><span class="line">%&#123;xxx&#125;i 	request header xxx</span><br><span class="line">%&#123;xxx&#125;o 	response header xxx</span><br><span class="line">%&#123;xxx&#125;c 	cookie value xxx</span><br><span class="line">%n 	request attribute</span><br><span class="line">%r 	request URL</span><br><span class="line">%s 	status code</span><br><span class="line">%&#123;xxx&#125;t 	request date with optional time format string.</span><br><span class="line">%T 	time taken to complete the request <span class="keyword">in</span> seconds</span><br><span class="line">%u 	remote user</span><br><span class="line">%U 	request URI</span><br><span class="line">%v 	name of the virtual host serving the request</span><br></pre></td></tr></table></figure></p>
<p><br/></p>
<p><strong>时间戳格式字符串</strong>：<br>日志标记时间戳是一种格式的字符串，可含有取代有时间和日期值百分比代码。<br>参数解释：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">%a 	day of week (short)</span><br><span class="line">%A 	day of week (verbose)</span><br><span class="line">%b 	day of month (short)</span><br><span class="line">%B 	day of month (verbose)</span><br><span class="line">%c 	Java locale date</span><br><span class="line">%d 	day of month (two-digit)</span><br><span class="line">%H 	24-hour (two-digit)</span><br><span class="line">%I 	12-hour (two-digit)</span><br><span class="line">%j 	day of year (three-digit)</span><br><span class="line">%m 	month (two-digit)</span><br><span class="line">%M 	minutes</span><br><span class="line">%p 	am/pm</span><br><span class="line">%S 	seconds</span><br><span class="line">%s 	milliseconds</span><br><span class="line">%W 	week <span class="keyword">in</span> year (three-digit)</span><br><span class="line">%w 	day of week (one-digit)</span><br><span class="line">%y 	year (two-digit)</span><br><span class="line">%Y 	year (four-digit)</span><br><span class="line">%Z 	time zone (name)</span><br><span class="line">%z 	time zone (+/-0800)</span><br></pre></td></tr></table></figure></p>
<p><strong>基础实例:</strong><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resin</span> <span class="attr">xmlns</span>=<span class="string">"http://caucho.com/ns/resin"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">log-handler</span> <span class="attr">name</span>=<span class="string">''</span> <span class="attr">path</span>=<span class="string">'stderr:'</span> <span class="attr">timestamp</span>=<span class="string">"[%H:%M:%S.%s]"</span>/&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">resin</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 设置resin打循环日志，保留15天的日志 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">log</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">level</span>=<span class="string">"info"</span> <span class="attr">path</span>=<span class="string">"../log/jvm-default.log"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">timestamp</span>=<span class="string">"[%H:%M:%S.%s] &#123;%&#123;thread&#125;&#125; "</span></span></span><br><span class="line"><span class="tag">    <span class="attr">rollover-period</span>=<span class="string">"1d"</span> <span class="attr">rollover-count</span>=<span class="string">"15"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p>

        </div>
        
  <hr>
  <p> 欢迎各位志同道合的朋友一起学习交流，如文章有误请在下方留下您宝贵的经验知识，个人邮箱地址<b style="color:#ff654e"><code>【master#weiyigeek.top】</code></b>或者个人公众号<b style="color:#ff654e"><code>【WeiyiGeek】</code></b>联系我。 </p>

  <p> 更多文章来源于<b style="color:#03a9f4">【WeiyiGeek Blog - 为了能到远方，脚下的每一步都不能少】</b>, 个人首页地址( <a style="color: #03a9f4;" href="https://weiyigeek.top" target="_blank"> https://weiyigeek.top </a> )</p>

  <p>专栏书写不易，如果您觉得这个专栏还不错的，请给这篇专栏 <b style="color: red;">【点个赞、投个币、收个藏、关个注，转个发】(人间五大情)</b>，这将对我的肯定，谢谢！。</p>

  <div>
    <img src="https://www.weiyigeek.top/img/weiyigeek.jpg" class="img-responsive" alt="WeiyiGeek-banner">
  </div>

  <ul style="font-weight: bolder;">
    <li>
      <p><span style="color: #03a9f4">echo&nbsp;&nbsp;"【点个赞】，动动你那粗壮的拇指或者芊芊玉手，亲！"</span></p>
    </li>
    <li>
      <p><span style="color: #ff9201">printf("%s",&nbsp;"【投个币】，万水千山总是情，投个硬币行不行，亲！")</span></p>
    </li>
    <li>
      <p><span style="color: #02a2ff">fmt.Printf("【收个藏】，阅后即焚不吃灰，亲！")&nbsp;&nbsp;</span></p>
    </li>
    <li>
      <p><span style="color:red">console.info("【转个发】，让更多的志同道合的朋友一起学习交流，亲！")</span></p>
    </li>
    <li>
      <p><span style="color: #ff654e">System.out.println("【关个注】，后续浏览查看不迷路哟，亲！")</span></p>
    </li>
  </ul>

  <div>
    <img src="/img/wechat-search.png" class="img-responsive" alt="扫描Follow(关注)WeiyiGeek公众号"  width="380" height="170">
    <img src="/img/wechat-app.png" class="img-responsive" alt="扫描Visit(浏览)极客全栈修炼小程序"  width="385" height="170">
  </div>
  <hr>
  

  <blockquote class="post-copyright">
    <div class="content">
      
        
<span class="post-time">
    最后更新时间：<time datetime="2022-03-29T05:39:06.308Z" itemprop="dateUpdated">2022-03-29 13:39:06</time>
</span><br>


        <span>文章原始路径：<a href="https://github.com/WeiyiGeek/blog/edit/master/source/_posts/系统运维/Application/Web/WebApp/Resin/Resin应用服务器安装和使用.md" target="_blank" rel="noopener noreferrer">_posts/系统运维/Application/Web/WebApp/Resin/Resin应用服务器安装和使用.md</a></span><br>
         <span class="copy-copyright">转载注明出处，原文地址：<a href="/2019/6-28-127.html" target="_blank" rel="external">https://blog.weiyigeek.top/2019/6-28-127.html</a></span><br>本站文章内容遵循 <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a> 
    </div>
    <footer>
      <a href="https://blog.weiyigeek.top">
        <img src="/img/avatar.jpg" alt="WeiyiGeek">
        WeiyiGeek
      </a>
    </footer>
  </blockquote>


        
            <div class="page-reward">
  <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-rectangle waves-light">👍 钟意作者</a>
</div>
            
        
        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Resin%E6%9C%8D%E5%8A%A1/" rel="tag">Resin服务</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2019/6-28-127.html&title=《Resin应用服务器中间件安装和使用》 — WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2019/6-28-127.html&title=《Resin应用服务器中间件安装和使用》 — WeiyiGeek Blog&source=[TOC]" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2019/6-28-127.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Resin应用服务器中间件安装和使用》 — WeiyiGeek Blog&url=https://blog.weiyigeek.top/2019/6-28-127.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2019/6-28-127.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
          <!-- 评论组件 -->


<div id="gitalk-container"></div>
<script type="text/javascript" src="/js/plugins/gitalk.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/custom/gitalk.init.js?v=1.6.6"></script>
        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/2019/6-28-209.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Linux命令行终端优化与使用</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/2019/6-27-181.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Shell脚本之常用Linux命令使用介绍</h4>
      </a>
    </div>
  
</nav>


    
    
        <aside class="post-widget">
            <nav class="post-toc-wrap" id="post-toc">
                <strong>目录</strong>
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x00-快速入门"><span class="post-toc-number">1.</span> <span class="post-toc-text">0x00 快速入门</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x01-Resin安装"><span class="post-toc-number">2.</span> <span class="post-toc-text">0x01 Resin安装</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x02-Resin配置文件"><span class="post-toc-number">3.</span> <span class="post-toc-text">0x02 Resin配置文件</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x03-Resin应用"><span class="post-toc-number">4.</span> <span class="post-toc-text">0x03 Resin应用</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x04-Security"><span class="post-toc-number">5.</span> <span class="post-toc-text">0x04 Security</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x05-Help-附录补充"><span class="post-toc-number">6.</span> <span class="post-toc-text">0x05 Help | 附录补充</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-Resin-日志记录之format配置详解"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">(1) Resin 日志记录之format配置详解</span></a></li></ol></li></ol>
            </nav>
            <div class="toc-bar"><div>
        </aside>
    
</article>

  <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        如果此篇文章对您有帮助，还请支持一下博主哟, 谢谢各位看友♥!
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardwechat" src="/img/reward-wechat.jpg" height="228" height="228" alt="打赏二维码">
            <img id="rewardalipay" src="/img/reward-alipay.png" height="228" height="228" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <!-- <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/reward-wechat.jpg" data-alipay="/img/reward-alipay.png"> -->
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>

  
 <!-- 微信公众号关注/文章版权复制 -->

  <div id="btw-mask" style="position: fixed; top: 0px; right: 0px; bottom: 0px; left: 0px; opacity: 0.7; z-index: 999; background: rgb(0, 0, 0); display:none"></div>
<div id="btw-modal" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 360px; text-align: center; font-size: 13px; background: rgb(255, 255, 255); border-radius: 10px; z-index: 9999; font-family: PingFangSC-Regular, sans-serif;display:none">
<span id="btw-modal-close-btn" style="position: absolute; top: 5px; right: 15px; line-height: 1.8; font-size: 15px; cursor: pointer; opacity: 0.2; z-index: 9999; color: rgb(0, 0, 0); background: none; border: none; outline: none;">X</span>
<p id="btw-modal-header" style="margin-top: 40px; line-height: 1.8; font-size: 13px; ">
<b style="color:#6190e8;">你好朋友,可以关个注吗? ❤ <br> 这将是我持续更新文章的动力源泉，谢谢支持！(๑′ᴗ‵๑) </b> <br> 如不想关注请点击右上角的【X】<br>
<br>Method 1.Please visit <strong><a href="https://twitter.com/WeiyiGeek" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">【My Twitter】</a></strong>. There is an article verification code in the homepage.
<br>方式2.请访问本博主的B站<strong><a href="https://space.bilibili.com/385802642" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">【WeiyiGeek】</a></strong>首页关注UP主,<br>将自动随机获取解锁验证码。
<br>方式3.扫一扫下方二维码，关注本站<strong>官方公众号</strong><br>
回复：<strong style="color: rgb(240, 65, 52);">验证码</strong>
将获取<strong style="color: rgb(240, 65, 52);">解锁(有效期7天)</strong>本站所有技术文章哟!</p>
<img src="/img/wechat-search.png" style="width: 300px; margin-top: 10px;">
<div id="btw-modal-input-code" style="margin-top: 20px; background: rgb(255, 255, 255);">
  <input id="btw-modal-input" type="number" minlength="4" maxlength="4" placeholder="请输入验证码|Verification Code"
    style="width: 165px; height: 32px; line-height: 32px; padding: 0px 10px; margin: 0px 10px; font-size: 13px; text-rendering: auto; text-transform: none; cursor: text; outline: none; box-sizing: border-box; border: 1px solid rgb(221, 221, 221); -webkit-appearance: textfield; background-color: white; -webkit-rtl-ordering: logical;"/>
  <button id="btw-submit-btn" onclick="yzm_vertify()"
    style="padding: 0px 20px; height: 32px; font-size: 14px; outline: none; border: none; color: rgb(255, 255, 255); background: rgb(222, 104, 109); cursor: pointer;">提
    交</button> </div>
<p id="btw-footer" style="margin: 40px 0px 20px; color: rgb(153, 153, 153);">@WeiyiGeek - 为了能到远方，脚下的每一步都不能少</p>
</div>


</div>

    </main>
    <footer class="footer ">
    
    <div class="top">
        
            <p>
    <span>Links：</span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top" target="_blank">https://weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.weiyigeek.top" target="_blank">https://blog.weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top/img/wechat-search.png" target="_blank">公众账号</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://space.bilibili.com/385802642/article" target="_blank">哔哩哔哩专栏</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://github.com/weiyigeek" target="_blank">个人Github</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://gitee.com/WeiyiGeek" target="_blank">个人Gitee</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.zhihu.com/people/weiyiSec" target="_blank">个人知乎</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.cnblogs.com/WeiyiGeek" target="_blank">博客园</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://my.oschina.net/weiyigeek" target="_blank">OSCHINA</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.toutiao.com/c/user/token/MS4wLjABAAAAqcPSoMqfctaEqJpGSF775eeCjWkrop4AOyLITdMx-L78F5iXzfQcSRM5sY4dq3wR" target="_blank">今日头条</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.csdn.net/u013072756?type=lately" target="_blank">CSDN</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.jianshu.com/u/5199a1104739" target="_blank">简书</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cloud.tencent.com/developer/user/1389665/articles" target="_blank">腾讯云+云社区</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cuttlefish.baidu.com/shop/75c5dbd8d15abe23482f4d40" target="_blank">百度文库</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://author.baidu.com/home?from=blog&app_id=1726736601523415" target="_blank">IT极客知识分享</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.51cto.com/weiyigeek" target="_blank">51CTO博客</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://juejin.cn/user/122767337595934" target="_blank">掘金</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weibo.com/a/hot/7622022703618049_1.html" target="_blank">微博文章</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.xiaohongshu.com/user/profile/627c98bb000000001000e7ba" target="_blank">小红书</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://segmentfault.com/u/weiyigeek" target="_blank">Segmentfault</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.douyin.com/user/MS4wLjABAAAAMSBdMja6XLsdmzafb0RNbFeBemIOk38K1PaOClZeI1Q" target="_blank">抖音主页</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.kuaishou.com/profile/3xfbrsrhd2i69x9" target="_blank">快手主页</a>
    </span>
    
</p>

        
    </div>
    
    <div class="bottom">
      <p>
        <span>WeiyiGeek &copy; 2018 - 2022 <a href="https://weiyigeek.top" target="_blank" rel="noopener">weiyigeek.top</a> All rights reserved.唯一极客IT知识分享 版权所有 </span>
        
        <span>
          Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/weiyigeek" target="_blank">mellow</a>
        </span>
        
        <br/>访问统计
        <span><a href="/sitemap.xml" target="_blank" rel="Sitemaps-站点地图">Sitemaps</a> </span>
        <span><a href="/baidusitemap.xml" target="_blank" rel="baidusitemaps-百度站点地图">站点地图</a> </span>
        <!-- 
  -->
        <br/>ICP备案号<span><a href="https://beian.miit.gov.cn" target="_blank">渝ICP备2022003447号</a></span>
        <br/>
        <div id="cc-myssl-id">
          <a href="https://myssl.com/blog.weiyigeek.top?from=mysslid" target="_blank" rel="noopener"><img src="https://static.myssl.com/res/images/myssl-id1.png" alt="MySSL安全认证" style="max-height:50px;display:block;margin:0 auto"></a>
        </div>
      </p>
    </div>
</footer>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>


<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2019/6-28-127.html&title=《Resin应用服务器中间件安装和使用》 — WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2019/6-28-127.html&title=《Resin应用服务器中间件安装和使用》 — WeiyiGeek Blog&source=[TOC]" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2019/6-28-127.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Resin应用服务器中间件安装和使用》 — WeiyiGeek Blog&url=https://blog.weiyigeek.top/2019/6-28-127.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2019/6-28-127.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACKElEQVR42u3aQZKkMAwEQP7/afYBE7BVNkwMdvrUQdPg7INClnQc8Tov1s9vr+6/eubVW443FgYGxmcZ5+0au+f+yj2pfS8GBsY+jPzR9y/Lw3TynDxYY2BgYNzf82wIxsDAwJhnJKHzHvwnAi4GBsYHGUnovC+lRUfNsjz3ylkcAwPjg4y86v77n1/pb2BgYHyKcZZrZlt54ljvCgMDY2lGHuBmivv5gXZsPxgYGGszZkYcEth8AS66goGBsQFj7HH5RpOi/0zJDwMDY21GW8tqr481LAdbmBgYGEsz2rGJNvzlTc2xPwIDA2MfRj42MXZnniDmDdR6ggMDA+PjjMf6DI82A4pfYWBgLMqYKWwlQ6XJMbVNLouqIQYGxkKMJAlLNt2OayRJ5OC0CAYGxjaMvFiWtCHbQluRpGJgYGzAyItfY6X/vACXv/0yw8XAwFiO0b5mbDijLckdYwsDA2MDRlt0O8uVZ3HtWC0GBsYOjGRbbeCeSf7aEQ0MDIwdGGM/a1ubz4byaGYEAwNjaUZb7m9LbPlBuij/YWBgbMDIm5RjvLECXFGSw8DAWJQxUzLLE7uxIFu0VzEwMJZmzPcH51sLM2lijcHAwPgsYyzIjqVx+QG4DdkYGBg7MN6L3/WGyrEzDAwMjHaQIm985mE3CsQYGBgY0+fgvNnZkjAwMPZhJKEzetxD4fXFchsGBsYHGTOTGv8Z1SoLbXlCOdjIxMDA+B7jH1uDQc8xDCu5AAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>


    
    <!-- main-js -->
<script type="text/javascript" src="/js/jquery/2.1.0-jquery.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/ios-orientationchange-fix.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/jquery/3.5.2-jquery.fancybox.min.js?v=1.6.6"></script>
<!--  //cdn.bootcss.com/node-waves/0.7.4/waves.min.js -->
<script type="text/javascript" src="/js/node-waves/0.7.4-waves.min.js?v=1.6.6"></script> 

<script type="text/javascript" src="/js/method.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/blog.js?v=1.6.6"></script>

<!-- third-party -->
<script type="text/javascript" src="/js/plugins/local_search.js?v=1.6.6"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) { search_path = "search.xml";}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script> 

<!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> --> 



  


<script>
  var _hmt = _hmt || [];
  (function() {
    // 百度统计
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?53923c4b5560739bc0ed61e183be6acf";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>
 


<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.staticfile.org/mathjax/2.7.9/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
 
<script>
    (function() {
        var OriginTitile = document.title, titleTime;
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.title = 'WeiyiGeek Blog-关注于网络安全_物联网安全开发_网络安全运维-学习心得分享';
                clearTimeout(titleTime);
            } else {
                document.title = '(つェ⊂)咦!又好了!';
                titleTime = setTimeout(function() {
                    document.title = OriginTitile;
                },2000);
            }
        });
    })();
</script>
 
     <script type="text/javascript" src="/js/custom/copytips.js?v=1.6.6"></script> 
</body>
</html>
