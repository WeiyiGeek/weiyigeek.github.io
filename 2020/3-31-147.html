<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="content-language" content="zh-CN"/>
    <meta name="author" content="WeiyiGeek" />
    <meta name="msvalidate.01" content="5C552FB1D885E0E11D2957EC958C8018" />
    <meta name="shenma-site-verification" content="4c655e91c76be0a93c1b6954c666c9d6_1649049085"/>
    <meta name="bytedance-verification-code" content="lKs4FqwCHSJ3A/c5tT7X" />
    <meta name="sogou_site_verification" content="OC65iET6Bk" />
    
    <title>ğŸŒ ç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…·|WeiyiGeek Blog|å”¯ä¸€æå®¢Geek-ITç½‘ç»œå®‰å…¨è¿ç»´å¼€å‘æŠ€æœ¯çŸ¥è¯†åˆ†äº«-åšå®¢ç«™ç‚¹</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    
    <meta name="keywords" content="åŸºç¡€è¿ç»´ç±»">
    <meta name="Description" content="WeiyiGeek-å”¯ä¸€æå®¢åšå®¢ç«™ç‚¹,å…³æ³¨äºç½‘ç»œå®‰å…¨è¿ç»´,Webå®‰å…¨å¼€å‘,IOTç‰©è”ç½‘å®‰å…¨å¼€å‘,åº”ç”¨å¼€å‘,åˆ†äº«æŠ€æœ¯å­¦ä¹ çŸ¥è¯†ä¸å…¥å‘è§£å†³,æå‡ç½‘ç»œå®‰å…¨æŠ€æœ¯ä¸è‡ªèº«æŠ€æœ¯èƒ½åŠ›,ç«‹å¿—ç»´æŠ¤å¤§ä¼—ç½‘ç»œå®‰å…¨ä¸ºå·±ä»»,åšä¸€ä¸ªå¯¹å›½å®¶æœ‰ç”¨çš„äºº,ä¸ºå®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„ä¸­å›½æ¢¦ä¸æ‡ˆå¥‹æ–—">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/jquery/3.5.2-jquery.fancybox.min.css?v=1.6.6" />
    <link rel="stylesheet" href="/css/style.css?v=1.6.6">
    <!--  -->
     <script type="text/javascript" src="/js/custom/articlecost.js?v=1.6.6"></script> 
    <link rel="stylesheet" href="/css/third-party/gitalk.css?v=1.6.6"> 
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9134434519967436" crossorigin="anonymous"></script>    
    <script type="text/javascript">
        // Data Center
        var DC = {
          reward:	true,
          lv: JSON.parse('{"enable":false,"app_id":null,"app_key":null,"icon":true}'),
          v: JSON.parse('{"enable":false,"appid":null,"appkey":null,"notify":true,"verify":true,"placeholder":"give me some sugers plz...","avatar":"wavatar"}')
        };
    </script>
    <script type="text/javascript">window.lazyScripts=[];</script>
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="WeiyiGeek Blog" type="application/atom+xml">
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="/img/brand.jpg" class="brand-bg" alt="WeiyiGeek-backgroud">
      
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg" alt="WeiyiGeek-å¤´åƒ">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">WeiyiGeek</h5>
          <a href="mailto:master@weiyigeek.top" title="master@weiyigeek.top" class="mail">
            <span>m</span><span>a</span><span>s</span><span>t</span><span>e</span><span>r</span><span>@</span><span>w</span><span>e</span><span>i</span><span>y</span><span>i</span><span>g</span><span>e</span><span>e</span><span>k</span><span>.</span><span>t</span><span>o</span><span>p</span>
          </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://weiyigeek.top/img/wechat-search.png" target="_blank">
                  <i class="icon icon-lg icon-wechat"></i>
                </a>
              </li>
            
              <li>
                <a href="https://github.com/weiyigeek" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
              <li>
                <a href="https://t.me/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-telegram"></i>
                </a>
              </li>
            
              <li>
                <a href="https://twitter.com/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-twitter"></i>
                </a>
              </li>
            
              <li>
                <a href="https://weibo.com/615643678" target="_blank">
                  <i class="icon icon-lg icon-weibo"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                é¦–é¡µ
              </a>
            </li>
        
            <li class="">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                æ–‡ç« åˆ†ç±»
              </a>
            </li>
        
            <li class="">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                æ–‡ç« æ ‡ç­¾
              </a>
            </li>
        
            <li class="">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                æ–‡ç« å½’æ¡£
              </a>
            </li>
        
            <li class="">
              <a href="/2018/1-1-1.html"  >
                <i class="icon icon-lg icon-mortar-board"></i>
                å­¦ä¹ ä¹‹è·¯
              </a>
            </li>
        
            <li class="">
              <a href="/books"  >
                <i class="icon icon-lg icon-book"></i>
                å­¦ä¹ ä¹¦ç±
              </a>
            </li>
        
            <li class="">
              <a href="/about"  >
                <i class="icon icon-lg icon-user"></i>
                å…³äºä½œè€…
              </a>
            </li>
        
            <li class="">
              <a href="/links"  >
                <i class="icon icon-lg icon-link"></i>
                ç«™ç‚¹å¯¼èˆª
              </a>
            </li>
        
            <li class="">
              <a href="/img/share-wechat.jpg" target="_blank" >
                <i class="icon icon-lg icon-wechat"></i>
                å…¬ä¼—è´¦å·
              </a>
            </li>
        
            <li class="">
              <a href="https://space.bilibili.com/385802642" target="_blank" >
                <i class="icon icon-lg icon-youtube-play"></i>
                å“”å“©å“”å“©
              </a>
            </li>
        
            <li class="">
              <a href="https://github.com/weiyigeek" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="">
              <a href="https://twitter.com/WeiyiGeek" target="_blank" >
                <i class="icon icon-lg icon-twitter"></i>
                Twitter
              </a>
            </li>
        
            <li class="">
              <a href="https://weibo.com/615643678" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>ç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…·</span>
            
        </div>

        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        

        
            <a href="/atom.xml" class="header-icon pull-right waves-effect waves-circle waves-light">
                <i class="icon icon-lg icon-rss"></i>
            </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="/img/banner.jpg" class="header-bg" alt="æ–‡ç« å¤´éƒ¨èƒŒæ™¯">
    <div class="container fade-scale">
        <h1 class="title">ç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…·</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-03-31T11:36:30.000Z" itemprop="datePublished" class="page-time">
  2020-03-31
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Linux%E5%91%BD%E4%BB%A4/">Linuxå‘½ä»¤</a></li></ul>


            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>


<div class="container body-wrap">
  <article id="post-ç³»ç»Ÿè¿ç»´/Linux/å¸¸ç”¨å‘½ä»¤/åŸºç¡€è¿ç»´é…ç½®/ç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…·"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">ç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…·</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-03-31 19:36:30" datetime="2020-03-31T11:36:30.000Z"  itemprop="datePublished">2020-03-31</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Linux%E5%91%BD%E4%BB%A4/">Linuxå‘½ä»¤</a></li></ul>



            

            


            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <p>[TOC]</p>
<a id="more"></a>
<h4 id="0x01-å¤„ç†å™¨æ€§èƒ½æµ‹è¯•"><a href="#0x01-å¤„ç†å™¨æ€§èƒ½æµ‹è¯•" class="headerlink" title="0x01 å¤„ç†å™¨æ€§èƒ½æµ‹è¯•"></a>0x01 å¤„ç†å™¨æ€§èƒ½æµ‹è¯•</h4><h5 id="stress-å‘½ä»¤-ç³»ç»Ÿå‹åŠ›åŸºç¡€æµ‹è¯•-æ‹·æœº"><a href="#stress-å‘½ä»¤-ç³»ç»Ÿå‹åŠ›åŸºç¡€æµ‹è¯•-æ‹·æœº" class="headerlink" title="stress å‘½ä»¤ - ç³»ç»Ÿå‹åŠ›åŸºç¡€æµ‹è¯•(æ‹·æœº)"></a>stress å‘½ä»¤ - ç³»ç»Ÿå‹åŠ›åŸºç¡€æµ‹è¯•(æ‹·æœº)</h5><p>æè¿°:Stress/Stress-NGæ˜¯Linuxä¸‹ä¸¤ä¸ªå¸¸ç”¨çš„ç³»ç»Ÿçº§å‹åŠ›æµ‹è¯•å·¥å…·ï¼Œstresså‘½ä»¤ç®€å•æ˜“ç”¨stress-ngæ˜¯stressçš„å‡çº§ç‰ˆï¼Œæ”¯æŒæ•°ç™¾ä¸ªå‚æ•°å®šåˆ¶å„ç§å‹CPUã€å†…å­˜ã€IOã€ç½‘ç»œçš„å§¿åŠ¿ã€‚åœ¨ç³»ç»Ÿè¿‡è½½çš„åœºæ™¯ä¸‹ï¼Œåº”ç”¨æœåŠ¡å¯èƒ½ä¼šå‡ºç°æ„æƒ³ä¸åˆ°çš„é”™è¯¯æˆ–å¼‚å¸¸ï¼Œåœ¨æµ‹è¯•è´Ÿè½½å‡è¡¡å’Œç†”æ–­é™çº§æ—¶éå¸¸æœ‰ç”¨ã€‚<br>è¿™é‡Œåªåˆ—ä¸¾äº†å‡ ä¸ªå¸¸ç”¨çš„å‘½ä»¤ï¼Œè¯¦ç»†ä½¿ç”¨å‚è€ƒâ€stress-ng â€“helpâ€æˆ–â€man stress-ngâ€ã€‚å¦å¤–è¿™äº›<code>&quot;çƒ¤æœº&quot;å‘½ä»¤</code>æ¥æµ‹è¯•æœåŠ¡å™¨æ€§èƒ½ä¹Ÿæ˜¯ä¸é”™çš„ã€‚</p>
<p>å®‰è£…&amp;è¯­æ³•:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Install</span></span><br><span class="line">RHRL/CentOS</span><br><span class="line">yum install epel-release</span><br><span class="line">yum install stress stress-ng</span><br><span class="line"></span><br><span class="line"><span class="comment">#Debian/Ubuntu</span></span><br><span class="line">apt install stress stress-ng</span><br><span class="line"></span><br><span class="line"><span class="comment"># Syntax</span></span><br><span class="line"><span class="comment"># stress-ng åŸºæœ¬ç”¨æ³•ä¸stresså®Œå…¨å…¼å®¹ï¼Œä½†æœ‰æ›´å¤šçš„å‚æ•°å¯é€‰ï¼Œå¹¶ä¸”å¯ä»¥æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯;</span></span><br></pre></td></tr></table></figure></p>
<p>åŸºç¡€å®ä¾‹:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1.åœ¨ä¸¤ä¸ªCPUæ ¸å¿ƒä¸Šè·‘å¼€æ–¹è¿ç®—ï¼Œå¹¶ä¸”å¯åŠ¨ä¸€ä¸ªä¸æ–­åˆ†é…é‡Šæ”¾1Gå†…å­˜çš„çº¿ç¨‹ï¼Œè¿è¡Œ10ç§’ååœæ­¢</span></span><br><span class="line">stress --cpu 2 --vm 1 --vm-bytes 1G  -v --timeout 120</span><br><span class="line"></span><br><span class="line"><span class="comment">#2.å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ä¸æ–­æ‰§è¡Œsyncç³»ç»Ÿè°ƒç”¨å›å†™ç£ç›˜ç¼“å­˜ï¼Œå¹¶ä¸”å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ä¸åœåœ°å†™å…¥åˆ é™¤512MBæ•°æ®ï¼Œè¿è¡Œ10ç§’åœæ­¢</span></span><br><span class="line">stress --io 1 --hdd 1 --hdd-bytes 512M -v --timeout 10</span><br><span class="line"></span><br><span class="line"><span class="comment">#3.--sock å¯ä»¥æ¨¡æ‹Ÿå¤§é‡çš„socketè¿æ¥æ–­å¼€ä»¥åŠæ•°æ®çš„å‘é€æ¥æ”¶ç­‰ç­‰</span></span><br><span class="line">stress-ng --sock 2 -v --timeout 10 --metrics-brief</span><br><span class="line"></span><br><span class="line"><span class="comment">#4.Note: Numbers may be suffixed with s,m,h,d,y (time) or B,K,M,G (size).</span></span><br><span class="line">Example: stress --cpu 8 --io 4 --vm 2 --vm-bytes 128M --timeout 10s -v</span><br><span class="line"></span><br><span class="line">Example: stress --cpu 24 --hdd 8 --hdd-bytes 1G --io 8 --vm 4 --vm-bytes 4G --timeout 1200s -v</span><br></pre></td></tr></table></figure><br><figure class="image-box">
                <a rel=ç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…· href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200721232302.png" target="_blank" title="WeiyiGeek.stress" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200721232302.png" alt="WeiyiGeek.stress" title="" class=""></a>
                <p>WeiyiGeek.stress</p>
            </figure></p>
<hr>
<h4 id="0x02-ç£ç›˜æ€§èƒ½æµ‹è¯•"><a href="#0x02-ç£ç›˜æ€§èƒ½æµ‹è¯•" class="headerlink" title="0x02 ç£ç›˜æ€§èƒ½æµ‹è¯•"></a>0x02 ç£ç›˜æ€§èƒ½æµ‹è¯•</h4><h5 id="fio-å‘½ä»¤-ç£ç›˜åŸºå‡†IOæµ‹è¯•"><a href="#fio-å‘½ä»¤-ç£ç›˜åŸºå‡†IOæµ‹è¯•" class="headerlink" title="fio å‘½ä»¤ - ç£ç›˜åŸºå‡†IOæµ‹è¯•"></a>fio å‘½ä»¤ - ç£ç›˜åŸºå‡†IOæµ‹è¯•</h5><p>æè¿°:FIOæ˜¯æµ‹è¯•IOPSçš„éå¸¸å¥½çš„å·¥å…·(<code>å¤šçº¿ç¨‹æˆ–è¿›ç¨‹å¹¶æ‰§è¡Œ</code>)ï¼Œç”¨æ¥å¯¹ç£ç›˜è¿›è¡ŒåŸºå‡†æµ‹è¯•å’Œå‹åŠ›æµ‹è¯•ä»¥åŠç¡¬ä»¶éªŒè¯ç­‰è¿ç»´åœºæ™¯ã€‚ç£ç›˜IOæ˜¯æ£€æŸ¥ç£ç›˜æ€§èƒ½çš„é‡è¦æŒ‡æ ‡ï¼Œå¯ä»¥æŒ‰ç…§è´Ÿè½½æƒ…å†µåˆ†æˆç…§<code>é¡ºåºè¯»å†™ï¼Œéšæœºè¯»å†™</code>ä¸¤å¤§ç±»<br>ç‰¹ç‚¹: 19ç§ä¸åŒç±»å‹çš„I/Oå¼•æ“<code>syncï¼Œmmapï¼Œlibaioï¼Œposixaioï¼ŒSG v3ï¼Œspliceï¼Œnullï¼Œnetworkï¼Œsysletï¼Œguasiï¼Œsolarisaio</code>ç­‰<br>ç”¨é€”:ç¼–å†™å’Œæ¨¡æ‹Ÿçš„I/Oè´Ÿè½½åŒ¹é…çš„ä½œä¸šæ–‡ä»¶æµ‹è¯•ç£ç›˜è®¾å¤‡çš„æ€§èƒ½å’Œç½‘ç»œå­˜å‚¨çš„IOæµ‹è¯•;<br>å®˜ç½‘åœ°å€: <a href="http://freshmeat.net/projects/fio/" target="_blank" rel="noopener">http://freshmeat.net/projects/fio/</a><br>é£Ÿç”¨åœ°å€: <a href="https://github.com/axboe/fio" target="_blank" rel="noopener">https://github.com/axboe/fio</a></p>
<p><em>æ³¨æ„äº‹é¡¹</em>:<code>åƒä¸‡ä¸èƒ½åœ¨ç³»ç»Ÿæ‰€åœ¨çš„åˆ†åŒºæµ‹è¯•ç¡¬ç›˜æ€§èƒ½</code>å¦åˆ™æ‚¨å°†è·‘è·¯;</p>
<p>å¦‚ä½•å®‰è£…fio?<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install fio -y</span><br></pre></td></tr></table></figure></p>
<p><strong>Fioå‘½ä»¤å‚æ•°</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">filename=/dev/sdb1 <span class="comment">#æµ‹è¯•æ–‡ä»¶åç§°é€šå¸¸é€‰æ‹©éœ€è¦æµ‹è¯•çš„ç›˜çš„dataç›®å½•(æµ‹è¯•å¿…é¡»æŒ‡å®šåˆ‡å‹¿åœ¨ç³»ç»Ÿåˆ†åŒºåšæµ‹è¯•ä¼šç ´åç³»ç»Ÿåˆ†åŒºè€Œå¯¼è‡´ç³»ç»Ÿå´©æºƒæ— æ³•å¯åŠ¨)</span></span><br><span class="line">directory=/app/    <span class="comment">#åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªç©ºç›®å½•ï¼Œåœ¨æµ‹è¯•å‘½ä»¤ä¸­ä½¿ç”¨directoryå‚æ•°æŒ‡å®šè¯¥ç›®å½•ï¼Œè€Œä¸ä½¿ç”¨filenameå‚æ•°ã€‚</span></span><br><span class="line">direct=1         <span class="comment">#ä½¿ç”¨directIOç»•è¿‡OSè‡ªå¸¦çš„ buffer ä½¿æµ‹è¯•ç£ç›˜çš„ç»“æœæ›´çœŸå®(boolç±»å‹)ã€‚</span></span><br><span class="line">rw=<span class="built_in">read</span>          <span class="comment">#read(é¡ºåºè¯»)| randread(éšæœºè¯») | write(é¡ºåºå†™) | randwrite (éšæœºå†™) | randrw (æ··åˆéšæœºè¯»å†™æ¨¡å¼) 5ç§æ–¹å¼</span></span><br><span class="line">rwmixwrite=30    <span class="comment">#åœ¨æ··åˆè¯»å†™çš„æ¨¡å¼ä¸‹å†™å 30%</span></span><br><span class="line">rwmixread=70     <span class="comment">#åœ¨æ··åˆè¯»å†™çš„æ¨¡å¼ä¸‹å†™å 70%</span></span><br><span class="line">bs=16k           <span class="comment">#è®¾ç½®I/O blockå—æ–‡ä»¶å¤§å°ä¸º16k(é»˜è®¤4k)</span></span><br><span class="line">bsrange=512-2048 <span class="comment">#æå®šæ•°æ®å—çš„å¤§å°èŒƒå›´</span></span><br><span class="line">name=jobname     <span class="comment">#ä»»åŠ¡çš„åç§°ï¼ˆä¸”ä»»åŠ¡åç§°å¯ä»¥ç›¸åŒï¼‰</span></span><br><span class="line">numjobs=1        <span class="comment">#æ¯ä¸ªjobï¼ˆä»»åŠ¡ï¼‰å¼€1ä¸ªçº¿ç¨‹  æœ€ç»ˆçº¿ç¨‹æ•°=ä»»åŠ¡æ•°(å‡ ä¸ªname=jobx) * numjobs</span></span><br><span class="line">size=5G          <span class="comment">#æŒ‡å®šjobå¤„ç†çš„æ–‡ä»¶çš„å¤§å°åŠæ¯ä¸ªçº¿ç¨‹è¯»å†™çš„æ•°æ®é‡</span></span><br><span class="line">runtime=1000     <span class="comment">#æŒ‡å®šåœ¨å¤šå°‘ç§’ååœæ­¢è¿›ç¨‹ï¼Œæ­¤å¤„æµ‹è¯•æ—¶é—´ä¸º1000ç§’</span></span><br><span class="line">ioengine=libaio <span class="comment">#I/Oå¼•æ“é€‰æ‹©(ä¸€å…±19ç§)ï¼Œé»˜è®¤å€¼æ˜¯syncåŒæ­¥é˜»å¡I/O , libaioæ˜¯Linuxçš„æœ¬åœ°nativeå¼‚æ­¥I/Oã€‚</span></span><br><span class="line">iodepth=16      <span class="comment">#é˜Ÿåˆ—çš„æ·±åº¦,å¦‚æœioengineé‡‡ç”¨å¼‚æ­¥æ–¹å¼ï¼Œè¯¥å‚æ•°è¡¨ç¤ºä¸€æ‰¹æäº¤ä¿æŒçš„ioå•å…ƒæ•° </span></span><br><span class="line">lockmem=1g      <span class="comment">#ä½¿ç”¨1gå†…å­˜è¿›è¡Œæµ‹è¯•ã€‚</span></span><br><span class="line">nrfiles=8       <span class="comment">#æ¯ä¸ªè¿›ç¨‹ç”Ÿæˆæ–‡ä»¶çš„æ•°é‡ã€‚</span></span><br><span class="line">time_based      <span class="comment">#å¦‚æœåœ¨runtimeæŒ‡å®šçš„æ—¶é—´è¿˜æ²¡åˆ°æ—¶æ–‡ä»¶å°±è¢«è¯»å†™å®Œæˆï¼Œå°†ç»§ç»­é‡å¤çŸ¥é“runtimeæ—¶é—´ç»“æŸã€‚</span></span><br><span class="line">thread          <span class="comment">#ä½¿ç”¨pthread_createåˆ›å»ºçº¿ç¨‹ï¼Œå¦ä¸€ç§æ˜¯forkåˆ›å»ºè¿›ç¨‹ï¼Œç”±äºè¿›ç¨‹çš„å¼€é”€æ¯”çº¿ç¨‹è¦å¤§æ‰€ä»¥ä¸€èˆ¬éƒ½é‡‡ç”¨threadæµ‹è¯•ï¼›</span></span><br><span class="line">zero_buffers    <span class="comment">#ç”¨0åˆå§‹åŒ–ç³»ç»Ÿbufferã€‚</span></span><br><span class="line">group_reporting <span class="comment">#å½“åŒæ—¶æŒ‡å®šäº†numjobsäº†æ—¶ï¼Œè¾“å‡ºç»“æœæŒ‰ç»„æ˜¾ç¤º</span></span><br></pre></td></tr></table></figure></p>
<p><em>ç£ç›˜è¯»å†™å¸¸ç”¨æµ‹è¯•ç‚¹ï¼š</em></p>
<ol>
<li>Read=100% Ramdon=100% rw=randread (100%éšæœºè¯»)</li>
<li>Read=100% Sequence=100% rw=read ï¼ˆ100%é¡ºåºè¯»ï¼‰</li>
<li>Write=100% Sequence=100% rw=write ï¼ˆ100%é¡ºåºå†™ï¼‰</li>
<li>Write=100% Ramdon=100% rw=randwrite ï¼ˆ100%éšæœºå†™ï¼‰</li>
<li>Read=70% Sequence=100% rw=rw, rwmixread=70, rwmixwrite=30 ï¼ˆ70%é¡ºåºè¯»ï¼Œ30%é¡ºåºå†™ï¼‰</li>
<li>Read=70% Ramdon=100% rw=randrw, rwmixread=70, rwmixwrite=30 (70%éšæœºè¯»ï¼Œ30%éšæœºå†™)</li>
</ol>
<p><br></p>
<p>è¡¥å……è¯´æ˜:</p>
<ul>
<li>Linuxè¯»å†™çš„æ—¶å€™å†…æ ¸ç»´æŠ¤äº†ç¼“å­˜æ•°æ®å…ˆå†™åˆ°ç¼“å­˜åé¢å†åå°å†™åˆ°SSD(<code>ä¸€èˆ¬çš„raidå¡ä½•saså¡éƒ½å¸¦æœ‰ç¼“å­˜æœºåˆ¶</code>)ã€‚è¯»çš„æ—¶å€™ä¹Ÿä¼˜å…ˆè¯»ç¼“å­˜é‡Œçš„æ•°æ®(é€Ÿåº¦å¯ä»¥åŠ å¿«)ï¼Œä½†æ˜¯ä¸€æ—¦æ‰ç”µç¼“å­˜é‡Œçš„æ•°æ®å°±æ²¡äº†;<code>æ‰€ä»¥æœ‰ä¸€ç§æ¨¡å¼å«åšDirectIOè·³è¿‡ç¼“å­˜ç›´æ¥è¯»å†™SSD</code>ã€‚ </li>
<li>åœ¨å¼‚æ­¥æ¨¡å¼ä¸‹CPUä¸èƒ½ä¸€ç›´æ— é™çš„å‘å‘½ä»¤åˆ°SSD:æ¯”å¦‚SSDæ‰§è¡Œè¯»å†™å¦‚æœå‘ç”Ÿäº†å¡é¡¿ï¼Œé‚£æœ‰å¯èƒ½ç³»ç»Ÿä¼šä¸€ç›´ä¸åœçš„å‘å‘½ä»¤/å‡ åƒä¸ª/ç”šè‡³å‡ ä¸‡ä¸ªï¼Œè¿™æ ·ä¸€æ–¹é¢SSDæ‰›ä¸ä½ï¼Œå¦ä¸€æ–¹é¢è¿™ä¹ˆå¤šå‘½ä»¤ä¼šå¾ˆå å†…å­˜ï¼Œç³»ç»Ÿä¹Ÿè¦æŒ‚æ‰äº†ï¼Œæ‰€ä»¥å°±å¸¦æ¥ä¸€ä¸ªå‚æ•°å«åšé˜Ÿåˆ—æ·±åº¦ã€‚</li>
</ul>
<p>åŸºç¡€å®ä¾‹:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å®ä¾‹1.æœ¬åœ°å¼‚æ­¥I/O 4k å— ä¸ä½¿ç”¨ç³»ç»Ÿç¼“å­˜  è¯»æµ‹è¯• æµ‹è¯•æ·±åº¦16 æ—¶é—´60s</span></span><br><span class="line"><span class="variable">$fio</span> -filename=/dev/sdb/ -name=<span class="string">"BS 4KB read test"</span> -ioengine=libaio -direct=1 -thread -rw=<span class="built_in">read</span> -size=1M -numjobs=16 -bs=4k -iodepth=16 -runtime=60 -time_based -group_reporting</span><br><span class="line"></span><br><span class="line"><span class="variable">$fio</span> -directory=/app/ -name=<span class="string">"BS 4KB read test"</span> -ioengine=libaio -direct=1 -thread -rw=<span class="built_in">read</span> -size=1M -numjobs=16 -bs=4k -iodepth=16 -runtime=60 -time_based -group_reporting</span><br><span class="line"></span><br><span class="line"><span class="variable">$fio</span> --bs=4k --ioengine=libaio --iodepth=1 --direct=1 --rw=<span class="built_in">read</span> --time_based --runtime=60 --refill_buffers --norandommap --randrepeat=0 --group_reporting --name=fio-read --size=500M --filename=/dev/sdb1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹2.é…ç½®æ–‡ä»¶å½¢å¼:fio.conf</span><br><span class="line"><span class="comment">#æµ‹è¯•å‘½ä»¤</span></span><br><span class="line">fio fio.conf</span><br><span class="line">cat &gt; fio.comf &lt;&lt;END</span><br><span class="line">[global]</span><br><span class="line">ioengine=libaio</span><br><span class="line">direct=1</span><br><span class="line">thread=1</span><br><span class="line">norandommap=1</span><br><span class="line">randrepeat=0</span><br><span class="line">runtime=60</span><br><span class="line">ramp_time=6</span><br><span class="line">size=1g</span><br><span class="line">directory=/data</span><br><span class="line">[read4k-rand]</span><br><span class="line">stonewall</span><br><span class="line">group_reporting</span><br><span class="line">bs=4k</span><br><span class="line">rw=randread</span><br><span class="line">numjobs=8</span><br><span class="line">iodepth=32</span><br><span class="line">[read64k-seq]</span><br><span class="line">stonewall</span><br><span class="line">group_reporting</span><br><span class="line">bs=64k</span><br><span class="line">rw=<span class="built_in">read</span></span><br><span class="line">numjobs=4</span><br><span class="line">iodepth=8</span><br><span class="line">[write4k-rand]</span><br><span class="line">stonewall</span><br><span class="line">group_reporting</span><br><span class="line">bs=4k</span><br><span class="line">rw=randwrite</span><br><span class="line">numjobs=2</span><br><span class="line">iodepth=4</span><br><span class="line">[write64k-seq]</span><br><span class="line">stonewall</span><br><span class="line">group_reporting</span><br><span class="line">bs=64k</span><br><span class="line">rw=write</span><br><span class="line">numjobs=2</span><br><span class="line">iodepth=4</span><br><span class="line">END</span><br></pre></td></tr></table></figure></p>
<p>æµ‹è¯•ç»“æœä»¥åŠè¯´æ˜:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æµ‹è¯•2ï¼š</span></span><br><span class="line">Jobs: 16 (f=16): [R(16)][100.0%][r=9941KiB/s,w=0KiB/s][r=2485,w=0 IOPS][eta 00m:00s]</span><br><span class="line">BS 4KB <span class="built_in">read</span> <span class="built_in">test</span>: (groupid=0, <span class="built_in">jobs</span>=16): err= 0: pid=2637: Tue Apr 28 21:27:01 2020</span><br><span class="line">   <span class="comment">#è¯»IOPS          #BW=å¹³å‡IOå¸¦å®½         #runt=çº¿ç¨‹è¿è¡Œæ—¶é—´</span></span><br><span class="line">   <span class="built_in">read</span>: IOPS=2457, BW=9830KiB/s (10.1MB/s)(577MiB/60060msec)</span><br><span class="line">   <span class="comment">#slat=æäº¤å»¶è¿Ÿï¼Œæäº¤è¯¥IOè¯·æ±‚åˆ°kernelæ‰€èŠ±çš„æ—¶é—´ï¼ˆä¸åŒ…æ‹¬kernelå¤„ç†çš„æ—¶é—´ï¼‰</span></span><br><span class="line">    slat (nsec): min=1665, max=243925k, avg=5226953.48, stdev=13063402.61</span><br><span class="line">   <span class="comment">#clat=å®Œæˆå»¶è¿Ÿ, æäº¤è¯¥IOè¯·æ±‚åˆ°kernelåï¼Œå¤„ç†æ‰€èŠ±çš„æ—¶é—´</span></span><br><span class="line">    clat (usec): min=85, max=698388, avg=98913.96, stdev=63432.35</span><br><span class="line">   <span class="comment">#lat=å“åº”æ—¶é—´</span></span><br><span class="line">     lat (usec): min=88, max=698392, avg=104141.19, stdev=67428.64</span><br><span class="line">    clat percentiles (msec):</span><br><span class="line">     |  1.00th=[   41],  5.00th=[   47], 10.00th=[   50], 20.00th=[   53],</span><br><span class="line">     | 30.00th=[   56], 40.00th=[   61], 50.00th=[   77], 60.00th=[   95],</span><br><span class="line">     | 70.00th=[  114], 80.00th=[  140], 90.00th=[  182], 95.00th=[  224],</span><br><span class="line">     | 99.00th=[  326], 99.50th=[  380], 99.90th=[  489], 99.95th=[  550],</span><br><span class="line">     | 99.99th=[  625]</span><br><span class="line">   <span class="comment">#å¸¦å®½</span></span><br><span class="line">   bw (  KiB/s): min=   40, max= 1696, per=6.24%, avg=613.88, stdev=285.96, samples=1920</span><br><span class="line">   iops        : min=   10, max=  424, avg=153.45, stdev=71.50, samples=1920</span><br><span class="line">  lat (usec)   : 100=0.01%, 250=0.02%, 500=0.16%, 750=0.07%, 1000=0.04%</span><br><span class="line">  lat (msec)   : 2=0.08%, 4=0.01%, 10=0.02%, 20=0.04%, 50=12.59%</span><br><span class="line">  lat (msec)   : 100=49.84%, 250=33.90%, 500=3.12%, 750=0.09%</span><br><span class="line">  <span class="comment">#åˆ©ç”¨ç‡</span></span><br><span class="line">  cpu          : usr=0.02%, sys=0.11%, ctx=74903, majf=0, minf=285</span><br><span class="line">  <span class="comment">#ioé˜Ÿåˆ—æ·±åº¦</span></span><br><span class="line">  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=99.8%, 32=0.0%, &gt;=64=0.0%</span><br><span class="line">     <span class="comment">#å•ä¸ªIOæäº¤è¦æäº¤çš„IOæ•°</span></span><br><span class="line">     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%</span><br><span class="line">     <span class="comment">#ç±»ä¼¼äºä¸Šé¢çš„æäº¤å·ï¼Œä½†æ˜¯ç”¨äºè¡¥å…¨ã€‚</span></span><br><span class="line">     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.1%, 32=0.0%, 64=0.0%, &gt;=64=0.0%</span><br><span class="line">     <span class="comment">#å‘å‡ºçš„è¯»/å†™è¯·æ±‚çš„æ•°é‡ï¼Œ</span></span><br><span class="line">     issued rwts: total=147602,0,0,0 short=0,0,0,0 dropped=0,0,0,0</span><br><span class="line">     <span class="comment">#IOå®Œå»¶è¿Ÿçš„åˆ†å¸ƒ</span></span><br><span class="line">     latency   : target=0, window=0, percentile=100.00%, depth=16</span><br><span class="line"></span><br><span class="line">Run status group 0 (all <span class="built_in">jobs</span>):</span><br><span class="line">   READ: bw=9830KiB/s (10.1MB/s), 9830KiB/s-9830KiB/s (10.1MB/s-10.1MB/s), io=577MiB (605MB), run=60060-60060msec</span><br><span class="line"></span><br><span class="line">Disk stats (<span class="built_in">read</span>/write):</span><br><span class="line">  <span class="comment"># ios=æ‰€æœ‰groupæ€»å…±æ‰§è¡Œçš„IOæ•°.</span></span><br><span class="line">  <span class="comment"># merge=æ€»å…±å‘ç”Ÿçš„IOåˆå¹¶æ•°.</span></span><br><span class="line">  <span class="comment"># ticks=Number of ticks we kept the disk busy.</span></span><br><span class="line">  <span class="comment"># io_queue=èŠ±è´¹åœ¨é˜Ÿåˆ—ä¸Šçš„æ€»å…±æ—¶é—´.</span></span><br><span class="line">  <span class="comment"># util=ç£ç›˜åˆ©ç”¨ç‡</span></span><br><span class="line">  vda: ios=147591/7, merge=0/3, ticks=7606987/26, in_queue=7607671, util=99.88%</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#æµ‹è¯•3</span></span><br><span class="line">Starting 1 process</span><br><span class="line">Jobs: 1 (f=0): [R] [38.4% <span class="keyword">done</span>] [4031KB/0KB/0KB /s] [1007/0/0 iops] [eta 01m:38s]</span><br><span class="line">fio-read: (groupid=0, <span class="built_in">jobs</span>=1): err= 0: pid=15639: Tue Apr 28 21:45:02 2020</span><br><span class="line">  <span class="built_in">read</span> : io=195600KB, bw=3259.1KB/s, iops=814, runt= 60001msec</span><br><span class="line">    slat (usec): min=14, max=5370, avg=34.54, stdev=89.26</span><br><span class="line">    clat (usec): min=3, max=1537.2K, avg=1179.49, stdev=8932.97</span><br><span class="line">     lat (usec): min=75, max=1537.2K, avg=1216.66, stdev=8933.38</span><br><span class="line">    clat percentiles (usec):</span><br><span class="line">     |  1.00th=[  141],  5.00th=[  227], 10.00th=[  290], 20.00th=[  410],</span><br><span class="line">     | 30.00th=[  532], 40.00th=[  684], 50.00th=[  844], 60.00th=[  988],</span><br><span class="line">     | 70.00th=[ 1176], 80.00th=[ 1448], 90.00th=[ 1864], 95.00th=[ 2320],</span><br><span class="line">     | 99.00th=[ 6112], 99.50th=[13760], 99.90th=[23680], 99.95th=[31104],</span><br><span class="line">     | 99.99th=[154624]</span><br><span class="line">    bw (KB  /s): min=   19, max= 4552, per=100.00%, avg=3371.60, stdev=989.34</span><br><span class="line">    lat (usec) : 4=0.01%, 10=0.02%, 50=0.01%, 100=0.23%, 250=6.35%</span><br><span class="line">    lat (usec) : 500=20.69%, 750=16.90%, 1000=16.37%</span><br><span class="line">    lat (msec) : 2=31.73%, 4=6.07%, 10=0.86%, 20=0.59%, 50=0.15%</span><br><span class="line">    lat (msec) : 100=0.01%, 250=0.01%, 2000=0.01%</span><br><span class="line">  cpu          : usr=1.62%, sys=5.57%, ctx=49057, majf=0, minf=9</span><br><span class="line">  IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, &gt;=64=0.0%</span><br><span class="line">     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%</span><br><span class="line">     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%</span><br><span class="line">     issued    : total=r=48900/w=0/d=0, short=r=0/w=0/d=0</span><br><span class="line"></span><br><span class="line">Run status group 0 (all <span class="built_in">jobs</span>):</span><br><span class="line">   READ: io=195600KB, aggrb=3259KB/s, minb=3259KB/s, maxb=3259KB/s, mint=60001msec, maxt=60001msec</span><br><span class="line"></span><br><span class="line">Disk stats (<span class="built_in">read</span>/write):</span><br><span class="line">  sdb: ios=48651/0, merge=0/0, ticks=55536/0, in_queue=55468, util=92.82%</span><br></pre></td></tr></table></figure><br><figure class="image-box">
                <a rel=ç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…· href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200428213149.png" target="_blank" title="WeiyiGeek." data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200428213149.png" alt="WeiyiGeek." title="" class=""></a>
                <p>WeiyiGeek.</p>
            </figure></p>
<hr>
<h4 id="0x03-ç½‘ç»œæ€§èƒ½æµ‹è¯•"><a href="#0x03-ç½‘ç»œæ€§èƒ½æµ‹è¯•" class="headerlink" title="0x03 ç½‘ç»œæ€§èƒ½æµ‹è¯•"></a>0x03 ç½‘ç»œæ€§èƒ½æµ‹è¯•</h4><h5 id="iperf-å‘½ä»¤-C-Sç»“æ„ä¸‹ç½‘ç»œæ€§èƒ½æµ‹è¯•"><a href="#iperf-å‘½ä»¤-C-Sç»“æ„ä¸‹ç½‘ç»œæ€§èƒ½æµ‹è¯•" class="headerlink" title="iperf å‘½ä»¤ - C/Sç»“æ„ä¸‹ç½‘ç»œæ€§èƒ½æµ‹è¯•"></a>iperf å‘½ä»¤ - C/Sç»“æ„ä¸‹ç½‘ç»œæ€§èƒ½æµ‹è¯•</h5><p>æè¿°:Iperfæ˜¯ä¸€æ¬¾å¼ºå¤§çš„ç½‘ç»œæ€§èƒ½æµ‹è¯•å·¥å…·åŸºäºCSæ¨¡å¼ã€‚ä¸»è¦æµ‹è¯•ä¸€äº›ç½‘ç»œè®¾å¤‡å¦‚è·¯ç”±å™¨ï¼Œé˜²ç«å¢™ï¼Œäº¤æ¢æœºç­‰çš„æ€§èƒ½ã€‚</p>
<p>Iperfå…·æœ‰è·¨å¹³å°çš„ç‰¹æ€§ï¼Œå®ƒæ”¯æŒLinuxã€Windowsï¼ŒAndroidï¼ŒMacOS Xï¼ŒFreeBSDï¼ŒOpenBSDï¼ŒNetBSDï¼ŒVxworksï¼ŒSolarisç­‰ï¼›</p>
<p>Iperf3æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œä¹Ÿæ˜¯åŠŸèƒ½æœ€å¼ºå¤§çš„ä¸€ä¸ªç‰ˆæœ¬, Iperf3ä¸åŸå§‹Iperfç‰ˆæœ¬ä¸å…±äº«ä»£ç ï¼Œä¹Ÿä¸å‘åå…¼å®¹ã€‚</p>
<p>iPerfåˆ†ä¸ºiperf2å’Œiperf3ç‰ˆæœ¬ï¼Œiperf3ä¸æ”¯æŒå…¨åŒå·¥æ¨¡å¼ã€‚</p>
<p>ä¸»è¦åŠŸèƒ½:</p>
<ul>
<li>ç½‘ç»œæµ‹é€Ÿæµ‹è¯•TCPå’ŒUDPå¸¦å®½ï¼ˆbandwidthï¼‰ã€å»¶è¿ŸæŠ–åŠ¨ï¼ˆjitterï¼‰å’Œæ•°æ®åŒ…ä¸¢å¤±(lost packet rate)ã€‚</li>
<li>å¼€å‘çš„å®½å¸¦é›†ç¾¤é€šä¿¡ç³»ç»Ÿä¸­</li>
</ul>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://iperf.fr/iperf-download.php" target="_blank" rel="noopener">https://iperf.fr/iperf-download.php</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å‘½ä»¤å®‰è£…</span></span><br><span class="line">tar xvfiperf-3.0b5.tar.gz</span><br><span class="line"><span class="built_in">cd</span> iperf-3.0b5</span><br><span class="line">./configure</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"><span class="comment">#yumå®‰è£…</span></span><br><span class="line">yum install iperf</span><br></pre></td></tr></table></figure>
<p><br/></p>
<p>æœåŠ¡å™¨çš„ç‰¹å®šå‚æ•°:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">s,-server</span><br><span class="line">åœ¨æœåŠ¡å™¨æ¨¡å¼ä¸‹è¿è¡Œiperfï¼Œä¸”ä¸€æ¬¡åªå…è®¸ä¸€ä¸ªiperfè¿æ¥ã€‚</span><br><span class="line">-D,-damon</span><br><span class="line">åœ¨åå°è¿è¡ŒæœåŠ¡å™¨ä½œä¸ºå®ˆæŠ¤ç¨‹åºã€‚</span><br><span class="line">-I,-pidfileæ–‡ä»¶</span><br><span class="line">ä½¿ç”¨è¿›ç¨‹IDç¼–å†™ä¸€ä¸ªæ–‡ä»¶ï¼Œä½œä¸ºå®ˆæŠ¤è¿›ç¨‹è¿è¡Œæ—¶æœ€ä¸ºæœ‰ç”¨ï¼ˆiperf3.1ç‰ˆæœ¬æ–°åŠŸèƒ½ï¼‰</span><br><span class="line">-pï¼šåæ¥æœåŠ¡ç«¯ç›‘å¬çš„ç«¯å£</span><br></pre></td></tr></table></figure></p>
<p>å®¢æˆ·ç«¯çš„ç‰¹å®šå‚æ•°:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-c, -c  ä¸»æœºåœ°å€</span><br><span class="line">åœ¨å®¢æˆ·ç«¯æ¨¡å¼ä¸‹è¿è¡ŒIperfï¼Œè¿æ¥åˆ°åœ¨ä¸»æœºä¸Šè¿è¡Œçš„IperfæœåŠ¡å™¨</span><br><span class="line">-u ä½¿ç”¨UDPè€Œä¸æ˜¯TCPï¼Œè¯¦è§-bé€‰é¡¹</span><br><span class="line">-b, bandwidth n å°†ç›®æ ‡å¸¦å®½è®¾ç½®ä¸ºn bits/secï¼ˆUDPé»˜è®¤ä¸º1  Mbits / secï¼ŒTCPæ— é™åˆ¶ï¼‰ã€‚</span><br><span class="line">-t, -time n è®¾ç½®ä¼ è¾“çš„æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ï¼Œé»˜è®¤å‘é€10ç§’çš„æ•°æ®</span><br><span class="line">-R, ä¸Šä¼ é€Ÿåº¦æœºæ¢°èƒ½æµ‹è¯•</span><br><span class="line">-4 æŒ‡å®šipv4</span><br><span class="line">-f æ ¼å¼åŒ–å¸¦å®½æ•°è¾“å‡º</span><br><span class="line">-n æŒ‡å®šä¼ è¾“çš„å­—èŠ‚æ•°</span><br></pre></td></tr></table></figure></p>
<p>é€šç”¨å‚æ•°:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-iï¼šè®¾ç½®å¸¦å®½æŠ¥å‘Šçš„æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºç§’</span><br><span class="line">-B: ç»‘å®šC/Sçš„ipåœ°å€</span><br></pre></td></tr></table></figure></p>
<p>åŸºç¡€å®ä¾‹:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å®ä¾‹1.æœºå™¨å¸¦å®½æ£€æµ‹</span></span><br><span class="line">iperf3 -s -i 1  <span class="comment">#Server</span></span><br><span class="line">iperf3 -c 172.31.0.25 -i 1 -t 10 60 <span class="comment">#Client</span></span><br><span class="line"></span><br><span class="line">[ ID] Interval           Transfer     Bandwidth       Retr  Cwnd</span><br><span class="line">[  4]   0.00-1.00   sec   697 MBytes  5.84 Gbits/sec    0   3.01 MBytes</span><br><span class="line"></span><br><span class="line">[ ID] Interval           Transfer     Bandwidth (å¸¦å®½æ•°)      Retr</span><br><span class="line">[  4]   0.00-10.00  sec  7.07 GBytes  6.07 Gbits/sec  2006  sender</span><br><span class="line">[  4]   0.00-10.00  sec  7.07 GBytes  6.07 Gbits/sec        receiver</span><br></pre></td></tr></table></figure></p>
<figure class="image-box">
                <a rel=ç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…· href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200412133557.png" target="_blank" title="WeiyiGeek." data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200412133557.png" alt="WeiyiGeek." title="" class=""></a>
                <p>WeiyiGeek.</p>
            </figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤ºä¾‹2.æµ‹è¯•å•çº¿ç¨‹UDP</span></span><br><span class="line">iperf -s -u </span><br><span class="line">iperf -c 172.31.0.25-u -t 15 -i 1</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹3.æµ‹è¯•æµé‡ä¸º10Mbps</span></span><br><span class="line">iperf -u -c 192.168.90.234 -b 10M-i -2</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹4.Linuxè®¾å¤‡å’ŒAndroidè®¾å¤‡æµ‹è¯•UDPå¸¦å®½</span></span><br><span class="line">iperf -s -u <span class="comment">#ä»¥åœ¨æœ¬æœåŠ¡å™¨å¯ç”¨iperfï¼Œå¹¶è¿è¡Œäºudpæ¨¡å¼</span></span><br><span class="line">iperf -c server-ip -u -t 15 -i 1 <span class="comment"># åœ¨å®¢æˆ·ç«¯ï¼ˆAndroidï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹5.ä¸Šä¼ é€Ÿåº¦æµ‹è¯•</span></span><br><span class="line">iperf -c ip -p 5204 -R</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹6.ç»‘å®šæŒ‡å®šIP</span></span><br><span class="line">iperf -s -p 25001 -B 192.168.33.103 (-u)</span><br><span class="line">iperf -c -p 25001 -B 192.168.33.104 -4 -f K -n 10M -b 10M ï¼ˆ-uï¼‰</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œæ•ˆæœ:åœ¨æ­¤æ—¶é—´æ®µï¼Œç”¨æˆ·çš„ç»ˆç«¯åˆ°æœåŠ¡å™¨çš„UDPå¸¦å®½å¤§è‡´ä¸º683Kbpsï¼Œæ—¶å»¶æŠ–åŠ¨ä¸º9.730msï¼Œå·²çŸ¥çš„äº‘æœåŠ¡å™¨çš„æ€»å¸¦å®½çº¦ä¸º136KBps,å³1.06Mbpsï¼ˆå¯ä»¥å¤šæ¬¡æµ‹é‡æ±‚å¾—ç”¨æˆ·ç»ˆç«¯åˆ°æœåŠ¡å™¨çš„å®é™…å¸¦å®½ï¼‰<br><figure class="image-box">
                <a rel=ç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…· href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200412134511.png" target="_blank" title="WeiyiGeek." data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200412134511.png" alt="WeiyiGeek." title="" class=""></a>
                <p>WeiyiGeek.</p>
            </figure></p>
<p><br></p>
<h5 id="qperf-å‘½ä»¤-ç½‘ç»œè¿æ¥ä¼ è¾“æ€§èƒ½æµ‹è¯•"><a href="#qperf-å‘½ä»¤-ç½‘ç»œè¿æ¥ä¼ è¾“æ€§èƒ½æµ‹è¯•" class="headerlink" title="qperf å‘½ä»¤ - ç½‘ç»œè¿æ¥ä¼ è¾“æ€§èƒ½æµ‹è¯•"></a>qperf å‘½ä»¤ - ç½‘ç»œè¿æ¥ä¼ è¾“æ€§èƒ½æµ‹è¯•</h5><p>æè¿°:è¯¥qperfå‘½ä»¤æ˜¯æµ‹è¯•ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„å¸¦å®½å’Œå»¶æ—¶(æµ‹é‡RDMAå’ŒIPæ€§èƒ½)ï¼Œä¸ºæ­¤éœ€è¦ä¸€ä¸ªå½“ä½œæœåŠ¡ç«¯ä¸€ä¸ªå½“ä½œå®¢æˆ·ç«¯å³(C/Sæ¶æ„)ã€‚å…¶ä¸­æœåŠ¡ç«¯ç›´æ¥è¿è¡Œqperfæ— éœ€ä»»ä½•å‚æ•°ã€‚è¯¥å·¥å…·ä½¿ç”¨æœ¬èº«å’Œ<code>netperf/iperf</code>éå¸¸ç±»ä¼¼ï¼Œä½†æ˜¯é™¤äº†æ”¯æŒtcp/udp/sctpå¤–è¿˜å¯ä»¥æ”¯æŒRDMAæµ‹é‡ï¼Œä»¥åŠè¿›è¡Œå¾ªç¯éå†æµ‹è¯•ã€‚</p>
<p>å®‰è£…ä¸å¸®åŠ©:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Install</span></span><br><span class="line">yum install -y qperf</span><br><span class="line">apt install qperf</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŸºç¡€è¯­æ³•</span></span><br><span class="line">qperf SERVERNODE [OPTIONS] TESTS</span><br><span class="line">qperf --<span class="built_in">help</span> examples  <span class="comment">#Some examples of using qperf</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‚æ•°è¯´æ˜</span></span><br><span class="line">man qperf</span><br><span class="line"></span><br><span class="line"><span class="comment"># æµ‹è¯•é€‰é¡¹</span></span><br><span class="line">Miscellaneous</span><br><span class="line">    conf                    Show configuration</span><br><span class="line">    quit                    Cause the server to quit</span><br><span class="line">Socket Based</span><br><span class="line">    rds_bw                  RDS streaming one way bandwidth</span><br><span class="line">    rds_lat                 RDS one way latency</span><br><span class="line">    sctp_bw                 SCTP streaming one way bandwidth</span><br><span class="line">    sctp_lat                SCTP one way latency</span><br><span class="line">    tcp_bw                  TCP streaming one way bandwidth</span><br><span class="line">    tcp_lat                 TCP one way latency</span><br><span class="line">    udp_bw                  UDP streaming one way bandwidth</span><br><span class="line">    udp_lat                 UDP one way latency</span><br><span class="line">RDMA Send/Receive</span><br><span class="line">    rc_bi_bw                RC streaming two way bandwidth</span><br><span class="line">    rc_bw                   RC streaming one way bandwidth</span><br><span class="line">    rc_lat                  RC one way latency</span><br><span class="line">    uc_bi_bw                UC streaming two way bandwidth</span><br><span class="line">    uc_bw                   UC streaming one way bandwidth</span><br><span class="line">    uc_lat                  UC one way latency</span><br><span class="line">    ud_bi_bw                UD streaming two way bandwidth</span><br><span class="line">    ud_bw                   UD streaming one way bandwidth</span><br><span class="line">    ud_lat                  UD one way latency</span><br><span class="line">    xrc_bi_bw               XRC streaming two way bandwidth</span><br><span class="line">    xrc_bw                  XRC streaming one way bandwidth</span><br><span class="line">    xrc_lat                 XRC one way latency</span><br><span class="line">RDMA</span><br><span class="line">    rc_rdma_read_bw         RC RDMA <span class="built_in">read</span> streaming one way bandwidth</span><br><span class="line">    rc_rdma_read_lat        RC RDMA <span class="built_in">read</span> one way latency</span><br><span class="line">    rc_rdma_write_bw        RC RDMA write streaming one way bandwidth</span><br><span class="line">    rc_rdma_write_lat       RC RDMA write one way latency</span><br><span class="line">    rc_rdma_write_poll_lat  RC RDMA write one way polling latency</span><br><span class="line">    uc_rdma_write_bw        UC RDMA write streaming one way bandwidth</span><br><span class="line">    uc_rdma_write_lat       UC RDMA write one way latency</span><br><span class="line">    uc_rdma_write_poll_lat  UC RDMA write one way polling latency</span><br><span class="line">InfiniBand Atomics</span><br><span class="line">    rc_compare_swap_mr      RC compare and swap messaging rate</span><br><span class="line">    rc_fetch_add_mr         RC fetch and add messaging rate</span><br><span class="line">Verification</span><br><span class="line">    ver_rc_compare_swap     Verify RC compare and swap</span><br><span class="line">    ver_rc_fetch_add        Verify RC fetch and add</span><br></pre></td></tr></table></figure></p>
<p>åŸºç¡€è¯­æ³•:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 0.æœåŠ¡ç«¯ç›´æ¥è¿è¡Œå¦‚ä¸‹ï¼Œæ— éœ€ä»»ä½•å‚æ•°</span></span><br><span class="line">$ qperf  <span class="comment">#æ­¤æ—¶ç»ˆç«¯é˜»å¡</span></span><br><span class="line"><span class="comment"># é»˜è®¤å¼€å¯ç«¯å£å·ï¼š19765</span></span><br><span class="line"><span class="comment"># é€šè¿‡netstatæŸ¥çœ‹ï¼Œå¦‚ä¸‹:</span></span><br><span class="line">$ netstat -tunlup</span><br><span class="line"><span class="comment"># tcp 0 0 0.0.0.0:19765 0.0.0.0:* LISTEN 53755/qperf</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.å®¢æˆ·ç«¯è¿è¡ŒTCP/UDPå¸¦å®½å’Œå»¶è¿Ÿæµ‹è¯•:</span></span><br><span class="line">qperf -t 30 10.10.107.192 -v tcp_bw udp_bw tcp_lat udp_lat conf</span><br><span class="line"><span class="comment"># tcp_bw:</span></span><br><span class="line"><span class="comment">#     bw              =   672 MB/sec</span></span><br><span class="line"><span class="comment">#     msg_rate        =  10.2 K/sec</span></span><br><span class="line"><span class="comment">#     time            =    30 sec</span></span><br><span class="line"><span class="comment">#     send_cost       =  1.52 sec/GB</span></span><br><span class="line"><span class="comment">#     recv_cost       =  1.78 sec/GB</span></span><br><span class="line"><span class="comment">#     send_cpus_used  =   102 % cpus</span></span><br><span class="line"><span class="comment">#     recv_cpus_used  =   120 % cpus</span></span><br><span class="line"><span class="comment"># udp_bw:</span></span><br><span class="line"><span class="comment">#     send_bw         =   514 MB/sec</span></span><br><span class="line"><span class="comment">#     recv_bw         =  3.52 MB/sec</span></span><br><span class="line"><span class="comment">#     msg_rate        =   108 /sec</span></span><br><span class="line"><span class="comment">#     time            =    30 sec</span></span><br><span class="line"><span class="comment">#     send_cost       =  1.91 sec/GB</span></span><br><span class="line"><span class="comment">#     recv_cost       =   101 sec/GB</span></span><br><span class="line"><span class="comment">#     send_cpus_used  =    98 % cpus</span></span><br><span class="line"><span class="comment">#     recv_cpus_used  =  35.5 % cpus</span></span><br><span class="line"><span class="comment"># tcp_lat:</span></span><br><span class="line"><span class="comment">#     latency        =  95.9 us</span></span><br><span class="line"><span class="comment">#     msg_rate       =  10.4 K/sec</span></span><br><span class="line"><span class="comment">#     time           =    30 sec</span></span><br><span class="line"><span class="comment">#     loc_cpus_used  =  32.8 % cpus</span></span><br><span class="line"><span class="comment">#     rem_cpus_used  =  28.6 % cpus</span></span><br><span class="line"><span class="comment"># udp_lat:</span></span><br><span class="line"><span class="comment">#     latency        =  83.4 us</span></span><br><span class="line"><span class="comment">#     msg_rate       =    12 K/sec</span></span><br><span class="line"><span class="comment">#     time           =    30 sec</span></span><br><span class="line"><span class="comment">#     loc_cpus_used  =  29.6 % cpus</span></span><br><span class="line"><span class="comment">#     rem_cpus_used  =  28.2 % cpus</span></span><br><span class="line"><span class="comment"># conf:</span></span><br><span class="line"><span class="comment">#     loc_node   =  master-01</span></span><br><span class="line"><span class="comment">#     loc_cpu    =  2 Cores: Intel Core i3  540 @ 3.07GHz</span></span><br><span class="line"><span class="comment">#     loc_os     =  Linux 5.7.0-1.el7.elrepo.x86_64</span></span><br><span class="line"><span class="comment">#     loc_qperf  =  0.4.9</span></span><br><span class="line"><span class="comment">#     rem_node   =  master-02</span></span><br><span class="line"><span class="comment">#     rem_cpu    =  2 Cores: Intel Core i3  540 @ 3.07GHz</span></span><br><span class="line"><span class="comment">#     rem_os     =  Linux 5.7.0-1.el7.elrepo.x86_64</span></span><br><span class="line"><span class="comment">#     rem_qperf  =  0.4.9</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.å®¢æˆ·ç«¯è¿è¡Œæµ‹é‡RDMA UDçš„å»¶è¿Ÿå’Œå¸¦å®½:</span></span><br><span class="line">qperf myserver ud_lat ud_bw</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.å®¢æˆ·ç«¯è¿è¡Œæµ‹é‡RDMA UCåŒå‘å¸¦å®½:</span></span><br><span class="line">qperf myserver rc_bi_bw</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.å®¢æˆ·ç«¯è¿è¡Œè·å–æ¶ˆæ¯å¤§å°ä»1åˆ°64Kçš„TCPå»¶æ—¶èŒƒå›´</span></span><br><span class="line">qperf myserver -oo msg_size:1:64K:*2 -vu tcp_lat</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h4 id="0x04-ç½‘ç«™å‹åŠ›æµ‹è¯•"><a href="#0x04-ç½‘ç«™å‹åŠ›æµ‹è¯•" class="headerlink" title="0x04 ç½‘ç«™å‹åŠ›æµ‹è¯•"></a>0x04 ç½‘ç«™å‹åŠ›æµ‹è¯•</h4><h5 id="wrk-å‘½ä»¤-HTTP-å‹åŠ›æµ‹è¯•å·¥"><a href="#wrk-å‘½ä»¤-HTTP-å‹åŠ›æµ‹è¯•å·¥" class="headerlink" title="wrk å‘½ä»¤ - HTTP å‹åŠ›æµ‹è¯•å·¥"></a>wrk å‘½ä»¤ - HTTP å‹åŠ›æµ‹è¯•å·¥</h5><p>æè¿°:wrk æ˜¯ä¸€ä¸ªæ¯”è¾ƒå…ˆè¿›çš„ HTTP å‹åŠ›æµ‹è¯•å·¥å…·ï¼Œå½“åœ¨å•ä¸ªå¤šæ ¸ CPU ä¸Šè¿è¡Œæ—¶ï¼Œèƒ½å¤Ÿäº§ç”Ÿå¤§é‡è´Ÿè½½ã€‚å®ƒç»“åˆäº†å¤šçº¿ç¨‹è®¾è®¡å’Œå¯æ‰©å±•çš„äº‹ä»¶é€šçŸ¥ç³»ç»Ÿï¼Œä¾‹å¦‚ epoll å’Œ kqueueã€‚</p>
<p>ä¸‹è½½åœ°å€:</p>
<ul>
<li>Github: <a href="https://github.com/wg/wrk/" target="_blank" rel="noopener">https://github.com/wg/wrk/</a></li>
<li><a href="https://github.com/wg/wrk/archive/master.zip" target="_blank" rel="noopener">https://github.com/wg/wrk/archive/master.zip</a></li>
</ul>
<p>å®‰è£…&amp;è¯­æ³•:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Install</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/wg/wrk.git --depth=1 &amp;&amp; <span class="built_in">cd</span> wrk &amp;&amp; make</span><br><span class="line"></span><br><span class="line"><span class="comment"># Syntax</span></span><br><span class="line">Usage: wrk &lt;options&gt; &lt;url&gt;</span><br><span class="line">Options:</span><br><span class="line">  -c, --connections &lt;N&gt;  Connections to keep open éœ€è¦æ¨¡æ‹Ÿçš„ä¸ªå¹¶å‘è¯·æ±‚è¿æ¥æ•°é‡</span><br><span class="line">  -d, --duration    &lt;T&gt;  Duration of <span class="built_in">test</span> æµ‹è¯•çš„æµ‹è¯•æ—¶é•¿</span><br><span class="line">  -t, --threads     &lt;N&gt;  Number of threads to use å¹¶å‘çº¿ç¨‹æ•°é‡</span><br><span class="line">  -s, --script      &lt;S&gt;  Load Lua script file  æŒ‡å®š Lua è„šæœ¬çš„è·¯å¾„</span><br><span class="line">  -H, --header      &lt;H&gt;  Add header to request æŒ‡å®šè¯·æ±‚å¸¦çš„ Header å‚æ•°</span><br><span class="line">      --latency          Print latency statistics æ˜¯å¦æ‰“å°è¯·æ±‚å»¶è¿Ÿç»Ÿè®¡</span><br><span class="line">      --timeout     &lt;T&gt;  Socket/request timeout è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´</span><br><span class="line"></span><br><span class="line">Numeric arguments may include a SI unit (1k, 1M, 1G)</span><br><span class="line">Time arguments may include a time unit (2s, 2m, 2h)</span><br></pre></td></tr></table></figure></p>
<p>åŸºç¡€å®ä¾‹:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å®ä¾‹1.å…«çº¿ç¨‹400ä¸ªè¯·æ±‚æµ‹è¯•10åˆ†é’Ÿ</span></span><br><span class="line">wrk -t8 -c400 -d10m http://localhost:8080/index.html</span><br><span class="line"><span class="comment">#è¾“å‡ºç»“æœï¼š</span></span><br><span class="line">Making 10000000 requests to http://localhost:8080/index.html</span><br><span class="line">  8 threads and 400 connections</span><br><span class="line">  Thread Stats   Avg      Stdev     Max   +/- Stdev</span><br><span class="line">    Latency   439.75us  350.49us   7.60ms   92.88%</span><br><span class="line">    Req/Sec    61.13k     8.26k   72.00k    87.54%</span><br><span class="line">  10000088 requests <span class="keyword">in</span> 19.87s, 3.42GB <span class="built_in">read</span></span><br><span class="line">Requests/sec: 503396.23  <span class="comment">#QPS</span></span><br><span class="line">Transfer/sec:    176.16MB</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¤ºä¾‹2.#å®ä¾‹1.å…«çº¿ç¨‹400ä¸ªè¯·æ±‚æµ‹è¯•10åˆ†é’Ÿ</span></span><br><span class="line">wrk -t8 -c400 -H <span class="string">"accept-encoding: gzip"</span> -d1m http://localhost:8080/index.html</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h5 id="httperf-å‘½ä»¤-é«˜æ•ˆçš„-http-å‹åŠ›æµ‹è¯•å·¥å…·"><a href="#httperf-å‘½ä»¤-é«˜æ•ˆçš„-http-å‹åŠ›æµ‹è¯•å·¥å…·" class="headerlink" title="httperf å‘½ä»¤ - é«˜æ•ˆçš„ http å‹åŠ›æµ‹è¯•å·¥å…·"></a>httperf å‘½ä»¤ - é«˜æ•ˆçš„ http å‹åŠ›æµ‹è¯•å·¥å…·</h5><p>æè¿°:Httperf æ˜¯ç”±HPå¼€å‘çš„ä¸€ä¸ªè¡¡é‡WebæœåŠ¡å™¨æ€§èƒ½çš„å·¥å…·ï¼Œå®ƒæä¾›äº†ç”¨äºäº§ç”Ÿå„ç§HTTPå·¥ä½œé‡å’Œæµ‹å®šæœåŠ¡å™¨æ€§èƒ½çš„æŸ”æ€§è®¾æ–½ã€‚ä½¿ç”¨å®ƒå¯ä»¥æ¨¡æ‹Ÿå‡ºè¶…è¿‡1åƒçš„å¹¶å‘è®¿é—®ï¼Œèƒ½å……åˆ†æµ‹è¯•å‡º web server çš„æ€§èƒ½;</p>
<p>httperfçš„é‡ç‚¹ä¸æ˜¯å®ç°ä¸€ä¸ªç‰¹å®šçš„åŸºå‡†ï¼Œä½†åœ¨æä¾›ä¸€ä¸ªå¼ºå¤§çš„ï¼Œé«˜æ€§èƒ½çš„å·¥å…·ï¼Œæœ‰åˆ©äºå¾®è§‚å’Œå®è§‚å±‚é¢çš„åŸºå‡†å»ºè®¾,httperfçš„ä¸‰ä¸ªæ˜¾ç€ç‰¹å¾æ˜¯å…¶é²æ£’æ€§ï¼Œå…¶åŒ…æ‹¬ï¼Œä»¥äº§ç”Ÿå’Œç»´æŒæœåŠ¡å™¨è¿‡è½½ï¼Œä¸ºå¯¹HTTP/1.1å’ŒSSLåè®®çš„æ”¯æŒï¼Œå¹¶ä¸”å®ƒçš„å¯æ‰©å±•åˆ°æ–°å·¥ä½œè´Ÿè·å‘ç”µæœºå’Œæ€§èƒ½æµ‹é‡çš„èƒ½åŠ›ã€‚</p>
<p>å®˜ç½‘åœ°å€: <a href="https://github.com/httperf/httperf" target="_blank" rel="noopener">https://github.com/httperf/httperf</a></p>
<ul>
<li><a href="https://github.com/httperf/httperf/archive/master.zip" target="_blank" rel="noopener">https://github.com/httperf/httperf/archive/master.zip</a></li>
</ul>
<p>åº”ç”¨åœºæ™¯: </p>
<ul>
<li>1.Nginxæ€§èƒ½æµ‹è¯•</li>
</ul>
<p>å®‰è£…&amp;è¯­æ³•:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Centos å®‰è£… autoreconf</span></span><br><span class="line">$ yum -y install install autoconf automake libtool</span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/httperf/httperf.git</span><br><span class="line"><span class="comment"># æ³¨æ„ï¼šå¦‚æœä»CVSä»“åº“å‡ºå£å»ºè®¾çš„æºä»£ç ï¼Œè€Œä¸æ˜¯å®˜æ–¹çš„gzipå‹ç¼©çš„æºtaræ–‡ä»¶ï¼Œä¸‹é¢çš„å‘½ä»¤å¿…é¡»åœ¨å‰é¢çš„é‚£äº›ä¹‹å‰æ‰§è¡Œ</span></span><br><span class="line">$ autoreconf -i</span><br><span class="line">$ ./configure</span><br><span class="line">$ make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”ŸæˆäºŒè¿›åˆ¶ç¨‹åºè·¯å¾„ ./src/httperf</span></span><br><span class="line"><span class="comment"># æ‰€æœ‰å¯ç”¨é€‰é¡¹çš„åˆ—è¡¨å¯ä»¥é€šè¿‡æŒ‡å®š--helpé€‰é¡¹å¾—åˆ°ï¼ˆå…¨é€‰åç§°å¯ä»¥ï¼Œåªè¦ä»–ä»¬ä¿æŒæ˜ç¡®çš„ç¼©å†™ï¼‰</span></span><br><span class="line">httperf -h</span><br><span class="line">Usage: httperf [-hdvV] [--add-header S] [--burst-length N] [--client N/N]</span><br><span class="line">        [--close-with-reset] [--debug N] [--failure-status N]</span><br><span class="line">        [--<span class="built_in">help</span>] [--hog] [--http-version S] [--max-connections N]</span><br><span class="line">        [--max-piped-calls N] [--method S] [--no-host-hdr]</span><br><span class="line">        [--num-calls N] [--num-conns N] [--session-cookies]</span><br><span class="line">        [--period [d|u|e]T1[,T2]|[v]T1,D1[,T2,D2]...[,Tn,Dn]</span><br><span class="line">        [--<span class="built_in">print</span>-reply [header|body]] [--<span class="built_in">print</span>-request [header|body]]</span><br><span class="line">        [--rate X] [--recv-buffer N] [--retry-on-failure] [--send-buffer N]</span><br><span class="line">        [--server S|--servers file] [--server-name S] [--port N] [--uri S] [--myaddr S]</span><br><span class="line">        [--think-timeout X] [--timeout X] [--verbose] [--version]</span><br><span class="line">        [--wlog y|n,file] [--wsess N,N,X] [--wsesslog N,X,file]</span><br><span class="line">        [--wset N,X]</span><br><span class="line">        [--runtime X]</span><br><span class="line">        [--use-timer-cache]</span><br><span class="line">        [--periodic-stats]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‚æ•°è§£é‡Š:</span></span><br><span class="line">--client=I/N  <span class="comment">#æŒ‡å®šå½“å‰å®¢æˆ·ç«¯Iï¼Œæ˜¯Nä¸ªå®¢æˆ·ç«¯ä¸­çš„ç¬¬å‡ ä¸ªã€‚ç”¨äºå¤šä¸ªå®¢æˆ·ç«¯å‘è¯·æ±‚ï¼Œå¸Œæœ›ç¡®ä¿æ¯ä¸ªå®¢æˆ·ç«¯å‘çš„è¯·æ±‚ä¸æ˜¯å®Œå…¨ä¸€è‡´ã€‚ä¸€èˆ¬ä¸ç”¨æŒ‡å®š</span></span><br><span class="line">--server URL <span class="comment"># æŒ‡å®šæµ‹è¯•åœ°å€ åŸŸåæˆ–è€…IP</span></span><br><span class="line">--port ç«¯å£  <span class="comment"># æŒ‡å®šæœåŠ¡ç«¯å£</span></span><br><span class="line">--uri  è·¯å¾„  <span class="comment"># æŒ‡å®šæµ‹è¯•webç«¯çš„åœ°å€</span></span><br><span class="line">--rate é€Ÿç‡  <span class="comment"># æŒ‡å®šè¯·æ±‚é€Ÿç‡</span></span><br><span class="line">--num-conns è¿æ¥æ•°     <span class="comment"># æŒ‡å®šåˆ›å»ºçš„è¿æ¥æ•°</span></span><br><span class="line">--num-calls è°ƒç”¨æ•°     <span class="comment"># æŒ‡å®šæ¯ä¸ªè¿æ¥å‘é€å¤šå°‘è¯·æ±‚</span></span><br><span class="line">--send-buffer          <span class="comment"># æŒ‡å®šå‘é€httpè¯·æ±‚çš„æœ€å¤§bufferï¼Œé»˜è®¤ä¸º4Kï¼Œä¸€èˆ¬ä¸ç”¨æŒ‡</span></span><br><span class="line">--recv-buffer          <span class="comment"># æŒ‡å®šæ¥å—httpè¯·æ±‚çš„æœ€å¤§bufferï¼Œé»˜è®¤ä¸º16Kï¼Œä¸€èˆ¬ä¸ç”¨æŒ‡å®š</span></span><br><span class="line">--timeout    <span class="comment"># è®¾ç½®è¶…æ—¶æ—¶é—´</span></span><br></pre></td></tr></table></figure></p>
<p>åŸºç¡€è¯­æ³•:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®ä¾‹1.è°ƒç”¨çš„httperfçš„æœ€ç®€å•çš„æ–¹æ³•</span></span><br><span class="line">httperf --server blog.weiyigeek.top --port 443 <span class="comment"># é»˜è®¤è¯·æ±‚å‚æ•°å¦‚ä¸‹å³å®é™…æ‰§è¡Œå‘½ä»¤å¦‚ä¸‹</span></span><br><span class="line"><span class="comment"># å®é™…æ‰§è¡Œ: httperf --client=0/1 --server=blog.weiyigeek.top --port=443 --uri=/ --send-buffer=4096 --recv-buffer=16384 --num-conns=1 --num-calls=1</span></span><br><span class="line">Maximum connect burst length: 0</span><br><span class="line"><span class="comment"># ç»“æœæ€»ç»“ï¼šå¤šä¸ªTCPè¿æ¥æ˜¯å¦‚ä½•ç”±å®¢æˆ·ç«¯ï¼Œæœ‰å¤šå°‘è¯·æ±‚è€Œå‘é€çš„ï¼Œæœ‰å¤šå°‘æ”¶åˆ°ç­”å¤ï¼Œä»€ä¹ˆæ€»æµ‹è¯•æ—¶é—´ä¸ºå¯åŠ¨ã€‚</span></span><br><span class="line"><span class="comment">#ä¸‹é¢è¡¨æ˜1ä¸ªè¿æ¥è¢«å¯åŠ¨çš„çº¿ï¼Œè¿›è¡Œ1ä¸ªè¯·æ±‚å’Œæ”¶åˆ°1é¡µçš„ç­”å¤ã€‚å®ƒè¿˜è¡¨æ˜æ€»æµ‹è¯•æ—¶é—´ä¸º0.435ç§’ï¼Œæ„å‘³ç€å¹³å‡è¯·æ±‚é€Ÿç‡ä¸ºæ¯ç§’å‡ ä¹æ­£å¥½0.5è¯·æ±‚ã€‚</span></span><br><span class="line">Total: connections 1 requests 1 replies 1 <span class="built_in">test</span>-duration 0.435 s</span><br><span class="line"><span class="comment"># ç”¨æ¥ä¸WebæœåŠ¡å™¨é€šä¿¡çš„TCPè¿æ¥çš„ä¿¡æ¯ï¼Œè¿æ¥è¢«ä»¥æ¯ç§’2.3è¿æ¥çš„é€Ÿç‡å¯åŠ¨ï¼Œè¯¥é€Ÿåº¦å¯¹åº”äºå‘¨æœŸçš„æ¯ä¸ªè¿æ¥434.6æ¯«ç§’ã€‚</span></span><br><span class="line">Connection rate: 2.3 conn/s (434.6 ms/conn, &lt;=1 concurrent connections)</span><br><span class="line"><span class="comment"># æˆåŠŸçš„è¿æ¥å¯¿å‘½çš„ç»Ÿè®¡æ•°æ®</span></span><br><span class="line">Connection time [ms]: min 434.6 avg 434.6 max 434.6 median 434.5 stddev 0.0</span><br><span class="line"><span class="comment"># ç»Ÿè®¡æ˜¯å¹³å‡èŠ±è´¹çš„æ—¶é—´å»ºç«‹ä¸€ä¸ªTCPè¿æ¥åˆ°æœåŠ¡å™¨(æ‰€æœ‰æˆåŠŸçš„TCPè¿æ¥æœºæ„è¿›è¡Œè®¡æ•°ï¼Œå¯èƒ½å·²ç»æœ€ç»ˆæœªèƒ½ç”šè‡³è¿æ¥)</span></span><br><span class="line">Connection time [ms]: connect 217.3</span><br><span class="line"><span class="comment"># æ¯ä¸ªè¿æ¥ä¸­æ¥æ”¶åˆ°ç­”å¤çš„å¹³å‡æ•°é‡ã€‚ä¸å¸¸è§„çš„HTTP/1.0ï¼Œè¯¥å€¼è‡³å¤šä¸º1.0ï¼ˆå½“æ²¡æœ‰æ•…éšœï¼‰ï¼Œä½†éšç€ä¿æŒHTTPæˆ–HTTP / 1.1æŒä¹…è¿æ¥ï¼Œè¿™ä¸ªå€¼å¯ä»¥æ˜¯ä»»æ„é«˜çš„ï¼Œå…¶è¡¨æ˜åœ¨ç›¸åŒçš„è¿æ¥è¢«ç”¨æ¥æ¥æ”¶å¤šä¸ªå“åº”ã€‚</span></span><br><span class="line">Connection length [replies/conn]: 1.000</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯·æ±‚é€Ÿç‡ä¸ä»¥å­—èŠ‚ä¸ºå•ä½çš„HTTPè¯·æ±‚çš„å¤§å°</span></span><br><span class="line">Request rate: 2.3 req/s (434.6 ms/req)</span><br><span class="line">Request size [B]: 71.0</span><br><span class="line"><span class="comment"># ä¸ºè·å¾—æœ‰æ„ä¹‰çš„æ ‡å‡†åå·®ï¼Œå»ºè®®è¿è¡Œæ¯ä¸ªæµ‹è¯•è¶³å¤Ÿé•¿çš„æ—¶é—´ï¼Œä»¥ä¾¿è·å¾—è‡³å°‘30ä¸ªæ ·å“ï¼Œè¿™å°†å¯¹åº”äºè‡³å°‘150ç§’ï¼Œå³ä¸¤åˆ†åŠé’Ÿçš„æµ‹è¯•æŒç»­æ—¶é—´ã€‚</span></span><br><span class="line">Reply rate [replies/s]: min 0.0 avg 0.0 max 0.0 stddev 0.0 (0 samples)</span><br><span class="line"><span class="comment"># è¿‡äº†å¤šé•¿æ—¶é—´çš„æœåŠ¡å™¨å“åº”å¤šä¹…å®ƒé‡‡å–æ”¶åˆ°å›å¤ä¿¡æ¯</span></span><br><span class="line">Reply time [ms]: response 217.3 transfer 0.0</span><br><span class="line">Reply size [B]: header 161.0 content 253.0 footer 0.0 (total 414.0)</span><br><span class="line">Reply status: 1xx=0 2xx=0 3xx=0 4xx=1 5xx=0</span><br><span class="line"></span><br><span class="line">CPU time [s]: user 0.20 system 0.24 (user 45.1% system 54.9% total 100.0%)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥æ¯ç§’åƒå­—èŠ‚çš„å¹³å‡ç½‘ç»œååé‡ï¼ˆå…¶ä¸­ä¸€åƒå­—èŠ‚æ˜¯1024ä¸ªå­—èŠ‚ï¼‰å’Œä»¥æ¯ç§’å…†æ¯”ç‰¹ï¼ˆå…¶ä¸­ï¼Œaæ˜¯å…†ä½10 ^ 6ä½ï¼‰</span></span><br><span class="line">Net I/O: 1.1 KB/s (0.0*10^6 bps);</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨æµ‹è¯•æœŸé—´å‘ç”Ÿçš„é”™è¯¯çš„ç»Ÿè®¡æ•°æ®</span></span><br><span class="line">Errors: total 0 client-timo 0 socket-timo 0 connrefused 0 connreset 0</span><br><span class="line">Errors: fd-unavail 0 addrunavail 0 ftab-full 0 other 0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®ä¾‹3.è®¾ç½®è¿æ¥æ•°ä»¥åŠé€Ÿç‡</span></span><br><span class="line">$ httperf --server 10.20.172.196 --port 80 --num-conns 300 --rate 100 --timeout 5</span><br><span class="line"><span class="comment"># å®é™…æ‰§è¡Œ: httperf --timeout=5 --client=0/1--server=10.0.172.196 --port=80 --uri=/index.html --rate=100 --send-buffer=4096--recv-buffer=16384 --num-conns=300 --num-calls=5 </span></span><br><span class="line"></span><br><span class="line">Maximum connect burst length: 13</span><br><span class="line"><span class="comment">#â€¢ æœ€å¤§å¹¶å‘è¿æ¥æ•°ï¼š13</span></span><br><span class="line">Total: connections 300 requests 1475 replies 1475test-duration 6.204 s</span><br><span class="line"><span class="comment">#â€¢ ä¸€å…±300ä¸ªè¿æ¥ï¼Œ1475ä¸ªè¯·æ±‚ï¼Œåº”ç­”äº†1475ä¸ªï¼Œæµ‹è¯•è€—æ—¶ï¼š6.204ç§’</span></span><br><span class="line">Connection rate: 48.4 conn/s (20.7 ms/conn, &lt;=189concurrent connections)</span><br><span class="line"><span class="comment">#â€¢ è¿æ¥é€Ÿç‡ï¼š48.4ä¸ªæ¯ç§’ï¼ˆæ¯ä¸ªè¿æ¥è€—æ—¶20.7 ms, å°äºæŒ‡å®šçš„300ä¸ªå¹¶å‘è¿æ¥ï¼‰</span></span><br><span class="line">Connection time [ms]: min 663.4 avg 1937.6 max 3808.4median 1720.5 stddev 964.7</span><br><span class="line"><span class="comment">#â€¢ è¿æ¥æ—¶é—´ï¼ˆå¾®ç§’ï¼‰ï¼šæœ€å°663.4ï¼Œå¹³å‡1937.6ï¼Œæœ€å¤§3808.4ï¼Œä¸­ä½æ•° 1720.5ï¼Œ æ ‡å‡†åå·®964.7</span></span><br><span class="line">Connection time [ms]: connect 1098.4</span><br><span class="line"><span class="comment">#â€¢ è¿æ¥æ—¶é—´ï¼ˆå¾®ç§’ï¼‰ï¼šè¿æ¥1098.4</span></span><br><span class="line">Connection length [replies/conn]: 5.000</span><br><span class="line"><span class="comment">#â€¢ è¿æ¥é•¿åº¦ï¼ˆåº”ç­”/è¿æ¥ï¼‰ï¼š5.000</span></span><br><span class="line">Request rate: 237.7 req/s (4.2 ms/req)</span><br><span class="line"><span class="comment">#â€¢ è¯·æ±‚é€Ÿç‡ï¼š237.7(pqs)ï¼Œæ¯ä¸ªè¯·æ±‚4.2 ms</span></span><br><span class="line">Request size : 79.0</span><br><span class="line"><span class="comment">#â€¢ è¿æ¥é•¿åº¦ï¼ˆåº”ç­”/è¿æ¥ï¼‰ï¼š 79.0</span></span><br><span class="line">Reply rate [replies/s]: min 268.8 avg 268.8 max 268.8stddev 0.0 (1 samples)</span><br><span class="line"><span class="comment">#â€¢ å“åº”é€Ÿç‡ï¼ˆå“åº”ä¸ªæ•°/ç§’ï¼‰ï¼šæœ€å°268.8ï¼Œ å¹³å‡268.8ï¼Œæœ€å¤§268.8ï¼Œæ ‡å‡†åå·® 0.0ï¼ˆä¸€ä¸ªä¾‹æ ·ï¼‰</span></span><br><span class="line">Reply time [ms]: response 80.7 transfer 87.2</span><br><span class="line"><span class="comment">#â€¢ å“åº”æ—¶é—´ï¼ˆå¾®å¦™ï¼‰ï¼šå“åº”80.7ï¼Œä¼ è¾“87.2</span></span><br><span class="line">Reply size : header 283.0 content 21895.0 footer 0.0(total 22178.0)</span><br><span class="line"><span class="comment">#â€¢ åº”åŒ…é•¿åº¦ï¼ˆå­—èŠ‚ï¼‰ï¼šå“åº”å¤´283.0 å†…å®¹ï¼š21895.0 å“åº”æœ«ç«¯ -0.0ï¼ˆæ€»å…±22178.0ï¼‰</span></span><br><span class="line">Reply status: 1xx=0 2xx=1475 3xx=0 4xx=0 5xx=0</span><br><span class="line"><span class="comment">#â€¢ å“åº”åŒ…çŠ¶æ€ï¼š 2xx æœ‰1475ä¸ªï¼Œå…¶ä»–æ²¡æœ‰</span></span><br><span class="line">CPU time [s]: user 0.45 system 5.48 (user 7.3% system88.3% total 95.6%)</span><br><span class="line"><span class="comment">#â€¢ CPUæ—¶é—´ï¼ˆç§’ï¼‰: ç”¨æˆ·0.45 ç³»ç»Ÿ5.48ï¼ˆç”¨æˆ·å äº†7.3% ç³»ç»Ÿå 88.3% æ€»å…±95.6%ï¼‰</span></span><br><span class="line">Net I/O: 5167.4 KB/s (42.3*10^6 bps)</span><br><span class="line"><span class="comment">#â€¢ ç½‘ç»œI/Oï¼š5167.4 KB/s</span></span><br><span class="line">Errors: total 5 client-timo 5 socket-timo 0 connrefused 0connreset 0</span><br><span class="line"><span class="comment">#â€¢ é”™è¯¯ï¼šæ€»æ•°5 å®¢æˆ·ç«¯è¶…æ—¶5 å¥—æ¥å­—è¶…æ—¶0 è¿æ¥æ‹’ç»0 è¿æ¥é‡ç½®0</span></span><br><span class="line">Errors: fd-unavail 0 addrunavail 0 ftab-full 0 other 0</span><br><span class="line"><span class="comment">#â€¢ é”™è¯¯ï¼šfdä¸æ­£ç¡®0 åœ°å€ä¸æ­£ç¡®0 ftabå æ»¡0å…¶ä»–0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®ä¾‹4.ä»¥ä¸‹æ˜¯ gzip æ ¼å¼è®¿é—®çš„æµ‹è¯•æ•°æ®ï¼ˆå› ç¼“å­˜æ–‡ä»¶ä»¥ gzip æ ¼å¼ä¿å­˜ï¼Œæ‰€ä»¥æ€§èƒ½æ˜¯æœ€é«˜çš„ï¼‰</span></span><br><span class="line">httperf --server weiyigeek.top -num-conns 2000 --add-header <span class="string">"accept-encoding: gzip"</span></span><br><span class="line"><span class="comment">#deflate (2çº§å‹ç¼©ç‡)æ ¼å¼è®¿é—®çš„ç»Ÿè®¡æ•°æ®ï¼ˆéœ€è¦ä» gzip è§£å‹ï¼Œå†å‹ç¼©ä¸º deflate çš„æ•°æ®å¤„ç†ï¼‰</span></span><br><span class="line">httperf --server weiyigeek.top -num-conns 2000 --add-header <span class="string">"accept-encoding: deflate"</span></span><br><span class="line"><span class="comment">#normal æ–‡æœ¬æ ¼å¼è®¿é—®çš„ç»Ÿè®¡æ•°æ®</span></span><br><span class="line">httperf --server weiyigeek.top --num-conns 2000 --add-header <span class="string">"accept-encoding: normal"</span></span><br><span class="line"><span class="comment"># å®é™…è¿è¡Œ:httperf --client=0/1 -server=weiyigeek.top --port=80 --uri=/ --send-buffer=4096 --recv-buffer=16384 --add-header='accept-encoding: gzip' --num-conns=2000 --num-calls=1</span></span><br></pre></td></tr></table></figure></p>
<p>è¡¥å……è¯´æ˜:</p>
<ul>
<li>(1) è®¡ç®—å¹¶å‘å¤„ç†ç»“æœ = <code>Num-conns / Request rate</code></li>
<li>(2) è¿æ¥æ—¶é—´ä¸­ä½æ•°ï¼Œæ¯ç»„æ•°ä¸­å¦‚æœæ˜¯å¥‡æ•°åˆ™å–ä¸­é—´å€¼ï¼Œå¶æ•°åˆ™å–ä¸¤ä¸ªä¸­é—´å€¼/2</li>
</ul>
<p><br></p>
<h5 id="ab-å‘½ä»¤-Apacheçš„HTTPæœåŠ¡å™¨åŸºå‡†æµ‹è¯•å·¥å…·"><a href="#ab-å‘½ä»¤-Apacheçš„HTTPæœåŠ¡å™¨åŸºå‡†æµ‹è¯•å·¥å…·" class="headerlink" title="ab å‘½ä»¤ - Apacheçš„HTTPæœåŠ¡å™¨åŸºå‡†æµ‹è¯•å·¥å…·"></a>ab å‘½ä»¤ - Apacheçš„HTTPæœåŠ¡å™¨åŸºå‡†æµ‹è¯•å·¥å…·</h5><p>æè¿°:AB(æ˜¯apachebenchå‘½ä»¤ç¼©å†™)æ˜¯æ ‡æ†Apacheçš„è¶…æ–‡æœ¬ä¼ è¾“â€‹â€‹åè®®ï¼ˆHTTPï¼‰æœåŠ¡å™¨çš„å·¥å…·ã€‚å®ƒçš„ç›®çš„æ˜¯ç»™ä½ å¦‚ä½•ä½ å½“å‰çš„Apacheå®‰è£…æ‰§è¡Œçš„å°è±¡ã€‚è¿™å°¤å…¶æ˜¾ç¤ºäº†æ¯ç§’Apacheå®‰è£…èƒ½å¤ŸæœåŠ¡çš„å¤šå°‘ä¸ªè¯·æ±‚,å®ƒè¿˜å¯ä»¥ç”¨äºnginxã€tomcatã€IISç­‰æœåŠ¡;</p>
<p>å®˜ç½‘å¸®åŠ©æ–‡æ¡£åœ°å€:<a href="http://httpd.apache.org/docs/2.4/programs/ab.html" target="_blank" rel="noopener">http://httpd.apache.org/docs/2.4/programs/ab.html</a></p>
<p>å®‰è£…&amp;è¯­æ³•:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–¹å¼1.æºç å®‰è£…apacheåabå‘½ä»¤å­˜æ”¾åœ¨apacheå®‰è£…ç›®å½•çš„binç›®å½•ä¸‹</span></span><br><span class="line">/usr/<span class="built_in">local</span>/apache2/bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–¹å¼2.é€šè¿‡yumçš„RPMåŒ…æ–¹å¼å®‰è£…çš„abå‘½ä»¤é»˜è®¤å­˜æ”¾åœ¨/usr/binç›®å½•ä¸‹</span></span><br><span class="line"><span class="built_in">which</span> ab</span><br><span class="line">$/usr/bin/ab</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–¹å¼3.å¦‚æœä¸æƒ³å®‰è£…apacheä½†æ˜¯åˆæƒ³ä½¿ç”¨abå‘½ä»¤æƒ…å†µä¸‹</span></span><br><span class="line">yum -y install httpd-tools</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Syntax</span></span><br><span class="line">-n åœ¨æµ‹è¯•ä¼šè¯ä¸­æ‰€æ‰§è¡Œçš„è¯·æ±‚ä¸ªæ•°ã€‚é»˜è®¤æ—¶ï¼Œä»…æ‰§è¡Œä¸€ä¸ªè¯·æ±‚ã€‚</span><br><span class="line">-c ä¸€æ¬¡äº§ç”Ÿçš„è¯·æ±‚ä¸ªæ•°ã€‚é»˜è®¤æ˜¯ä¸€æ¬¡ä¸€ä¸ªã€‚</span><br><span class="line">-t æµ‹è¯•æ‰€è¿›è¡Œçš„æœ€å¤§ç§’æ•°ã€‚å…¶å†…éƒ¨éšå«å€¼æ˜¯-n 50000ï¼Œå®ƒå¯ä»¥ä½¿å¯¹æœåŠ¡å™¨çš„æµ‹è¯•é™åˆ¶åœ¨ä¸€ä¸ªå›ºå®šçš„æ€»æ—¶é—´ä»¥å†…ã€‚é»˜è®¤æ—¶ï¼Œæ²¡æœ‰æ—¶é—´é™åˆ¶ã€‚</span><br><span class="line">-p åŒ…å«äº†éœ€è¦POSTçš„æ•°æ®çš„æ–‡ä»¶ã€‚</span><br><span class="line">-P å¯¹ä¸€ä¸ªä¸­è½¬ä»£ç†æä¾›BASICè®¤è¯ä¿¡ä»»ã€‚ç”¨æˆ·åå’Œå¯†ç ç”±ä¸€ä¸ª:éš”å¼€ï¼Œå¹¶ä»¥base64ç¼–ç å½¢å¼å‘é€ã€‚æ— è®ºæœåŠ¡å™¨æ˜¯å¦éœ€è¦(å³, æ˜¯å¦å‘é€äº†401è®¤è¯éœ€æ±‚ä»£ç )ï¼Œæ­¤å­—ç¬¦ä¸²éƒ½ä¼šè¢«å‘é€ã€‚</span><br><span class="line">-T POSTæ•°æ®æ‰€ä½¿ç”¨çš„Content-typeå¤´ä¿¡æ¯ã€‚</span><br><span class="line">-v è®¾ç½®æ˜¾ç¤ºä¿¡æ¯çš„è¯¦ç»†ç¨‹åº¦-4æˆ–æ›´å¤§å€¼ä¼šæ˜¾ç¤ºå¤´ä¿¡æ¯ï¼Œ3æˆ–æ›´å¤§å€¼å¯ä»¥æ˜¾ç¤ºå“åº”ä»£ç (404,200ç­‰),2æˆ–æ›´å¤§å€¼å¯ä»¥æ˜¾ç¤ºè­¦å‘Šå’Œå…¶ä»–ä¿¡æ¯ã€‚</span><br><span class="line">-V æ˜¾ç¤ºç‰ˆæœ¬å·å¹¶é€€å‡ºã€‚</span><br><span class="line">-w ä»¥HTMLè¡¨çš„æ ¼å¼è¾“å‡ºç»“æœã€‚é»˜è®¤æ—¶ï¼Œå®ƒæ˜¯ç™½è‰²èƒŒæ™¯çš„ä¸¤åˆ—å®½åº¦çš„ä¸€å¼ è¡¨ã€‚</span><br><span class="line">-i æ‰§è¡ŒHEADè¯·æ±‚ï¼Œè€Œä¸æ˜¯GETã€‚</span><br><span class="line">-x è®¾ç½®&lt;table&gt;å±æ€§çš„å­—ç¬¦ä¸²ã€‚</span><br><span class="line">-X å¯¹è¯·æ±‚ä½¿ç”¨ä»£ç†æœåŠ¡å™¨ã€‚</span><br><span class="line">-y è®¾ç½®&lt;tr&gt;å±æ€§çš„å­—ç¬¦ä¸²ã€‚</span><br><span class="line">-z è®¾ç½®&lt;td&gt;å±æ€§çš„å­—ç¬¦ä¸²ã€‚</span><br><span class="line">-C å¯¹è¯·æ±‚é™„åŠ ä¸€ä¸ªCookie:è¡Œã€‚å…¶å…¸å‹å½¢å¼æ˜¯name=valueçš„ä¸€ä¸ªå‚æ•°å¯¹ï¼Œæ­¤å‚æ•°å¯ä»¥é‡å¤ã€‚</span><br><span class="line">-H å¯¹è¯·æ±‚é™„åŠ é¢å¤–çš„å¤´ä¿¡æ¯ã€‚æ­¤å‚æ•°çš„å…¸å‹å½¢å¼æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å¤´ä¿¡æ¯è¡Œï¼Œå…¶ä¸­åŒ…å«äº†ä»¥å†’å·åˆ†éš”çš„å­—æ®µå’Œå€¼çš„å¯¹(å¦‚,<span class="string">"Accept-Encoding:zip/zop;8bit"</span>)ã€‚</span><br><span class="line">-A å¯¹æœåŠ¡å™¨æä¾›BASICè®¤è¯ä¿¡ä»»ã€‚ç”¨æˆ·åå’Œå¯†ç ç”±ä¸€ä¸ª:éš”å¼€ï¼Œå¹¶ä»¥base64ç¼–ç å½¢å¼å‘é€ã€‚æ— è®ºæœåŠ¡å™¨æ˜¯å¦éœ€è¦(å³,æ˜¯å¦å‘é€äº†401è®¤è¯éœ€æ±‚ä»£ç )ï¼Œæ­¤å­—ç¬¦ä¸²éƒ½ä¼šè¢«å‘é€ã€‚</span><br><span class="line">-h æ˜¾ç¤ºä½¿ç”¨æ–¹æ³•ã€‚</span><br><span class="line">-d ä¸æ˜¾ç¤º<span class="string">"percentage served within XX [ms] table"</span>çš„æ¶ˆæ¯(ä¸ºä»¥å‰çš„ç‰ˆæœ¬æä¾›æ”¯æŒ)ã€‚</span><br><span class="line">-e äº§ç”Ÿä¸€ä¸ªä»¥é€—å·åˆ†éš”çš„(CSV)æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†å¤„ç†æ¯ä¸ªç›¸åº”ç™¾åˆ†æ¯”çš„è¯·æ±‚æ‰€éœ€è¦(ä»1%åˆ°100%)çš„ç›¸åº”ç™¾åˆ†æ¯”çš„(ä»¥å¾®å¦™ä¸ºå•ä½)æ—¶é—´ã€‚ç”±äºè¿™ç§æ ¼å¼å·²ç»<span class="string">"äºŒè¿›åˆ¶åŒ–"</span>ï¼Œæ‰€ä»¥æ¯”<span class="string">'gnuplot'</span>æ ¼å¼æ›´æœ‰ç”¨ã€‚</span><br><span class="line">-g æŠŠæ‰€æœ‰æµ‹è¯•ç»“æœå†™å…¥ä¸€ä¸ª<span class="string">'gnuplot'</span>æˆ–è€…TSV(ä»¥Tabåˆ†éš”çš„)æ–‡ä»¶ã€‚æ­¤æ–‡ä»¶å¯ä»¥æ–¹ä¾¿åœ°å¯¼å…¥åˆ°Gnuplot,IDL,Mathematica,Igorç”šè‡³Excelä¸­ã€‚å…¶ä¸­çš„ç¬¬ä¸€è¡Œä¸ºæ ‡é¢˜ã€‚</span><br><span class="line">-i æ‰§è¡ŒHEADè¯·æ±‚ï¼Œè€Œä¸æ˜¯GETã€‚</span><br><span class="line">-k å¯ç”¨HTTP KeepAliveåŠŸèƒ½ï¼Œå³åœ¨ä¸€ä¸ªHTTPä¼šè¯ä¸­æ‰§è¡Œå¤šä¸ªè¯·æ±‚ã€‚é»˜è®¤æ—¶ï¼Œä¸å¯ç”¨KeepAliveåŠŸèƒ½ã€‚</span><br><span class="line">-q å¦‚æœå¤„ç†çš„è¯·æ±‚æ•°å¤§äº150ï¼Œabæ¯å¤„ç†å¤§çº¦10%æˆ–è€…100ä¸ªè¯·æ±‚æ—¶ï¼Œä¼šåœ¨stderrè¾“å‡ºä¸€ä¸ªè¿›åº¦è®¡æ•°ã€‚æ­¤-qæ ‡è®°å¯ä»¥æŠ‘åˆ¶è¿™äº›ä¿¡æ¯ã€‚</span><br></pre></td></tr></table></figure></p>
<p>åŸºç¡€å®ä¾‹:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®ä¾‹1.abå‘½ä»¤å¸¸ç”¨é€‰é¡¹å‚æ•°</span></span><br><span class="line">â•­â”€root@<span class="built_in">test</span> ~</span><br><span class="line">â•°â”€<span class="variable">$ab</span> -n 1000 -c 1000 http://10.20.172.196/</span><br><span class="line">This is ApacheBench, Version 2.3 &lt;<span class="variable">$Revision</span>: 1430300 $&gt;</span><br><span class="line">Benchmarking 10.20.172.196 (be patient)</span><br><span class="line">Completed 100 requests</span><br><span class="line">....</span><br><span class="line">Completed 1000 requests</span><br><span class="line">Finished 1000 requests</span><br><span class="line"><span class="comment"># æµ‹è¯•ç›®æ ‡ç«™ç‚¹ä¿¡æ¯ #</span></span><br><span class="line"><span class="comment">#è¢«æµ‹è¯•çš„WebæœåŠ¡å™¨è½¯ä»¶åç§°</span></span><br><span class="line">Server Software:        nginx/1.15.8.1</span><br><span class="line"><span class="comment">#è¡¨ç¤ºè¯·æ±‚çš„URLä¸»æœºå</span></span><br><span class="line">Server Hostname:        10.20.172.196</span><br><span class="line"><span class="comment">#è¡¨ç¤ºè¢«æµ‹è¯•çš„WebæœåŠ¡å™¨è½¯ä»¶çš„ç›‘å¬ç«¯å£</span></span><br><span class="line">Server Port:            80</span><br><span class="line"><span class="comment">#è¡¨ç¤ºè¯·æ±‚çš„URLä¸­çš„æ ¹ç»å¯¹è·¯å¾„ï¼Œé€šè¿‡è¯¥æ–‡ä»¶çš„åç¼€å</span></span><br><span class="line">Document Path:          /</span><br><span class="line"><span class="comment">#è¡¨ç¤ºHTTPå“åº”æ•°æ®çš„æ­£æ–‡é•¿åº¦ã€‚</span></span><br><span class="line">Document Length:        649 bytes</span><br><span class="line"><span class="comment">#è¡¨ç¤ºå¹¶å‘ç”¨æˆ·æ•°ï¼Œæˆ‘ä»¬è®¾ç½®çš„å‚æ•°ä¹‹ä¸€ã€‚</span></span><br><span class="line">Concurrency Level:      1000</span><br><span class="line"><span class="comment">#è¡¨ç¤ºæ‰€æœ‰è¿™äº›è¯·æ±‚è¢«å¤„ç†å®Œæˆæ‰€èŠ±è´¹çš„æ€»æ—¶é—´ã€‚</span></span><br><span class="line">Time taken <span class="keyword">for</span> tests:   0.107 seconds</span><br><span class="line"><span class="comment">#è¡¨ç¤ºæ€»è¯·æ±‚æ•°é‡ï¼Œæˆ‘ä»¬è®¾ç½®çš„å‚æ•°ä¹‹ä¸€ã€‚</span></span><br><span class="line">Complete requests:      1000</span><br><span class="line"><span class="comment">#è¡¨ç¤ºå¤±è´¥çš„è¯·æ±‚æ•°é‡ï¼Œè¿™é‡Œçš„å¤±è´¥æ˜¯æŒ‡è¯·æ±‚åœ¨è¿æ¥æœåŠ¡å™¨ã€å‘é€æ•°æ®ç­‰ç¯èŠ‚å‘ç”Ÿå¼‚å¸¸ï¼Œä»¥åŠæ— å“åº”åè¶…æ—¶çš„æƒ…å†µ</span></span><br><span class="line">Failed requests:        0</span><br><span class="line">Write errors:           0</span><br><span class="line"><span class="comment">#è¡¨ç¤ºæ‰€æœ‰è¯·æ±‚çš„å“åº”æ•°æ®é•¿åº¦æ€»å’Œï¼ŒåŒ…æ‹¬æ¯ä¸ªHTTPå“åº”æ•°æ®çš„å¤´ä¿¡æ¯å’Œæ­£æ–‡æ•°æ®çš„é•¿åº¦</span></span><br><span class="line">Total transferred:      888000 bytes</span><br><span class="line"><span class="comment">#è¡¨ç¤ºæ‰€æœ‰è¯·æ±‚çš„å“åº”æ•°æ®ä¸­æ­£æ–‡æ•°æ®çš„æ€»å’Œ,å®é™…æ˜¯å‡å»äº†Total transferredä¸­HTTPå“åº”æ•°æ®ä¸­çš„å¤´ä¿¡æ¯çš„é•¿åº¦ã€‚</span></span><br><span class="line">HTML transferred:       649000 bytes</span><br><span class="line"><span class="comment">#[é‡ç‚¹] QPS ååç‡ =  Complete requests/Time taken for tests (è¶Šé«˜ï¼ŒæœåŠ¡å™¨æ€§èƒ½è¶Šå¥½)</span></span><br><span class="line">Requests per second:    9313.50 [<span class="comment">#/sec] (mean)</span></span><br><span class="line"><span class="comment">#[é‡ç‚¹] ç”¨æˆ·å¹³å‡è¯·æ±‚ç­‰å¾…æ—¶é—´= Time token for tests/ (Complete requests/Concurrency Level)</span></span><br><span class="line">Time per request:       107.371 [ms] (mean)</span><br><span class="line">Time per request:       0.107 [ms] (mean, across all concurrent requests)</span><br><span class="line"><span class="comment">#[é‡ç‚¹] è¡¨ç¤ºè¿™äº›è¯·æ±‚åœ¨å•ä½æ—¶é—´å†…ä»æœåŠ¡å™¨è·å–çš„æ•°æ®é•¿åº¦=Total trnasferred/Time taken for testsï¼Œè¯¥ç»Ÿè®¡å¾ˆå¥½çš„è¯´æ˜æœåŠ¡å™¨çš„å¤„ç†èƒ½åŠ›è¾¾åˆ°æé™æ—¶ï¼Œå…¶å‡ºå£å®½å¸¦çš„éœ€æ±‚é‡ã€‚</span></span><br><span class="line">Transfer rate:          8076.55 [Kbytes/sec] received</span><br><span class="line"><span class="comment"># æ¯æ¬¡è¯·æ±‚å¹³å‡è¿æ¥æ—¶é—´</span></span><br><span class="line">Connection Times (ms)</span><br><span class="line">          min  mean[+/-sd] median   max</span><br><span class="line">Connect:        0   29   8.1     29      42</span><br><span class="line">Processing:    17   36  14.3     45      51</span><br><span class="line">Waiting:        0   35  14.3     44      50</span><br><span class="line">Total:         42   65   9.0     64      87</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨äºæè¿°æ¯ä¸ªè¯·æ±‚å¤„ç†æ—¶é—´çš„åˆ†å¸ƒæƒ…å†µ</span></span><br><span class="line">Percentage of the requests served within a certain time (ms)</span><br><span class="line">  50%     64</span><br><span class="line">  66%     69</span><br><span class="line">  75%     71</span><br><span class="line">  80%     73</span><br><span class="line">  90%     78</span><br><span class="line">  95%     81</span><br><span class="line">  98%     84</span><br><span class="line">  99%     86</span><br><span class="line"> 100%     87 (longest request)</span><br></pre></td></tr></table></figure></p>
<p><strong>è¡¥å……è¯´æ˜:</strong></p>
<ul>
<li>(1) abè½¯ä»¶åœ¨è¿›è¡Œæ€§èƒ½æµ‹è¯•è¿‡ç¨‹ä¸»è¦æ€§èƒ½æŒ‡æ ‡:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1.ååç‡ï¼ˆRequests per secondï¼‰</span></span><br><span class="line">æœåŠ¡å™¨å¹¶å‘å¤„ç†èƒ½åŠ›çš„é‡åŒ–æè¿°(å•ä½æ˜¯reqs/s)ï¼ŒæŒ‡çš„æ˜¯åœ¨æŸä¸ªå¹¶å‘ç”¨æˆ·æ•°ä¸‹å•ä½æ—¶é—´å†…å¤„ç†çš„è¯·æ±‚æ•°ã€‚æŸä¸ªå¹¶å‘ç”¨æˆ·æ•°ä¸‹å•ä½æ—¶é—´å†…èƒ½å¤„ç†çš„æœ€å¤§è¯·æ±‚æ•°ï¼Œç§°ä¹‹ä¸ºæœ€å¤§ååç‡ã€‚</span><br><span class="line"></span><br><span class="line">è®°ä½ï¼šååç‡æ˜¯åŸºäºå¹¶å‘ç”¨æˆ·æ•°çš„,ä»£è¡¨äº†ä¸¤ä¸ªå«ä¹‰ï¼š</span><br><span class="line">aã€ååç‡å’Œå¹¶å‘ç”¨æˆ·æ•°ç›¸å…³</span><br><span class="line">bã€ä¸åŒçš„å¹¶å‘ç”¨æˆ·æ•°ä¸‹ï¼Œååç‡ä¸€èˆ¬æ˜¯ä¸åŒçš„</span><br><span class="line"></span><br><span class="line">è®¡ç®—å…¬å¼ï¼šæ€»è¯·æ±‚æ•°/å¤„ç†å®Œæˆè¿™äº›è¯·æ±‚æ•°æ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œå³ Request per second=Complete requests/Time taken <span class="keyword">for</span> tests</span><br><span class="line">å¿…é¡»è¦è¯´æ˜çš„æ˜¯ï¼Œè¿™ä¸ªæ•°å€¼è¡¨ç¤ºå½“å‰æœºå™¨çš„æ•´ä½“æ€§èƒ½ï¼Œå€¼è¶Šå¤§è¶Šå¥½ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">#2ã€å¹¶å‘è¿æ¥æ•°ï¼ˆThe number of concurrent connectionsï¼‰</span></span><br><span class="line">å¹¶å‘è¿æ¥æ•°æŒ‡çš„æ˜¯æŸä¸ªæ—¶åˆ»æœåŠ¡å™¨æ‰€æ¥å—çš„è¯·æ±‚æ•°ç›®ï¼Œç®€å•çš„è®²ï¼Œå°±æ˜¯ä¸€ä¸ªä¼šè¯ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">#3ã€å¹¶å‘ç”¨æˆ·æ•°ï¼ˆConcurrency Levelï¼‰</span></span><br><span class="line">è¦æ³¨æ„åŒºåˆ†è¿™ä¸ªæ¦‚å¿µå’Œå¹¶å‘è¿æ¥æ•°ä¹‹é—´çš„åŒºåˆ«ï¼Œä¸€ä¸ªç”¨æˆ·å¯èƒ½åŒæ—¶ä¼šäº§ç”Ÿå¤šä¸ªä¼šè¯ä¹Ÿå³è¿æ¥æ•°ã€‚åœ¨HTTP/1.1ä¸‹ï¼ŒIE7æ”¯æŒä¸¤ä¸ªå¹¶å‘è¿æ¥ï¼ŒIE8æ”¯æŒ6ä¸ªå¹¶å‘è¿æ¥ï¼ŒFireFox3æ”¯æŒ4ä¸ªå¹¶å‘è¿æ¥ï¼Œæ‰€ä»¥ç›¸åº”çš„ï¼Œæˆ‘ä»¬çš„å¹¶å‘ç”¨æˆ·æ•°å°±å¾—é™¤ä»¥è¿™ä¸ªåŸºæ•°ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">#4ã€ç”¨æˆ·å¹³å‡è¯·æ±‚ç­‰å¾…æ—¶é—´ï¼ˆTime per requestï¼‰</span></span><br><span class="line">è®¡ç®—å…¬å¼ï¼šå¤„ç†å®Œæˆæ‰€æœ‰è¯·æ±‚æ•°æ‰€èŠ±è´¹çš„æ—¶é—´/(æ€»è¯·æ±‚æ•°/å¹¶å‘ç”¨æˆ·æ•°)ï¼Œå³ï¼š</span><br><span class="line">Time per request = Time taken <span class="keyword">for</span> tests/(Complete requests/Concurrency Level)</span><br><span class="line"></span><br><span class="line"><span class="comment">#5ã€æœåŠ¡å™¨å¹³å‡è¯·æ±‚ç­‰å¾…æ—¶é—´ï¼ˆTime per request:across all concurrent requestsï¼‰</span></span><br><span class="line">è®¡ç®—å…¬å¼ï¼šå¤„ç†å®Œæˆæ‰€æœ‰è¯·æ±‚æ•°æ‰€èŠ±è´¹çš„æ—¶é—´/æ€»è¯·æ±‚æ•°ï¼Œå³ï¼š</span><br><span class="line">Time taken <span class="keyword">for</span>/testsComplete requests</span><br><span class="line"></span><br><span class="line">å¯ä»¥çœ‹åˆ°ï¼Œå®ƒæ˜¯ååç‡çš„å€’æ•°ã€‚</span><br><span class="line">åŒæ—¶ï¼Œå®ƒä¹Ÿç­‰äºç”¨æˆ·å¹³å‡è¯·æ±‚ç­‰å¾…æ—¶é—´/å¹¶å‘ç”¨æˆ·æ•°ï¼Œå³ Time per request/Concurrency Level</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>

        </div>
        <!-- Google å¹¿å‘Š -->
        
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-9134434519967436" data-ad-slot="7905848205"></ins>
  

        
<hr/>
<div style="text-align: center;font-weight: bold;">
  <p> æ¬¢è¿å„ä½å¿—åŒé“åˆçš„æœ‹å‹ä¸€èµ·å­¦ä¹ äº¤æµï¼Œå¦‚æ–‡ç« æœ‰è¯¯è¯·åœ¨ä¸‹æ–¹ç•™ä¸‹æ‚¨å®è´µçš„ç»éªŒçŸ¥è¯†ï¼Œä¸ªäººé‚®ç®±åœ°å€<b style="color:#ff654e"><code>ã€master#weiyigeek.topã€‘</code></b>æˆ–è€…ä¸ªäººå…¬ä¼—å·<b style="color:#ff654e"><code>ã€WeiyiGeekã€‘</code></b>è”ç³»æˆ‘ã€‚ </p>
  <p> æ›´å¤šæ–‡ç« æ¥æºäº<b style="color:#03a9f4">ã€WeiyiGeek Blog - ä¸ºäº†èƒ½åˆ°è¿œæ–¹ï¼Œè„šä¸‹çš„æ¯ä¸€æ­¥éƒ½ä¸èƒ½å°‘ã€‘</b>, ä¸ªäººé¦–é¡µåœ°å€( <a style="color: #03a9f4;" href="https://weiyigeek.top" target="_blank"> https://weiyigeek.top </a> )</p>
<!-- 

  <ul style="font-weight: bolder;">
    <li>
      <p><span style="color: #03a9f4">echo&nbsp;&nbsp;"ã€ç‚¹ä¸ªèµã€‘ï¼ŒåŠ¨åŠ¨ä½ é‚£ç²—å£®çš„æ‹‡æŒ‡æˆ–è€…èŠŠèŠŠç‰æ‰‹ï¼Œäº²ï¼"</span></p>
    </li>
    <li>
      <p><span style="color: #ff9201">printf("%s",&nbsp;"ã€æŠ•ä¸ªå¸ã€‘ï¼Œä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼ŒæŠ•ä¸ªç¡¬å¸è¡Œä¸è¡Œï¼Œäº²ï¼")</span></p>
    </li>
    <li>
      <p><span style="color: #02a2ff">fmt.Printf("ã€æ”¶ä¸ªè—ã€‘ï¼Œé˜…åå³ç„šä¸åƒç°ï¼Œäº²ï¼")&nbsp;&nbsp;</span></p>
    </li>
    <li>
      <p><span style="color:red">console.info("ã€è½¬ä¸ªå‘ã€‘ï¼Œè®©æ›´å¤šçš„å¿—åŒé“åˆçš„æœ‹å‹ä¸€èµ·å­¦ä¹ äº¤æµï¼Œäº²ï¼")</span></p>
    </li>
    <li>
      <p><span style="color: #ff654e">System.out.println("ã€å…³ä¸ªæ³¨ã€‘ï¼Œåç»­æµè§ˆæŸ¥çœ‹ä¸è¿·è·¯å“Ÿï¼Œäº²ï¼")</span></p>
    </li>
  </ul> -->
  <div>
    <img src="/img/share-wechat.jpg" class="img-responsive" alt="æ‰«æFollow(å…³æ³¨)WeiyiGeekå…¬ä¼—å·ä¸Visit(æµè§ˆ)æå®¢å…¨æ ˆä¿®ç‚¼å°ç¨‹åº" >
    <p>ä¸“æ ä¹¦å†™ä¸æ˜“ï¼Œå¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªä¸“æ è¿˜ä¸é”™çš„ï¼Œè¯·ç»™è¿™ç¯‡ä¸“æ  <b style="color: red;">ã€ç‚¹ä¸ªèµã€æŠ•ä¸ªå¸ã€æ”¶ä¸ªè—ã€å…³ä¸ªæ³¨ã€è½¬ä¸ªå‘ã€èµä¸ªåŠ©ã€‘</b>ï¼Œè¿™å°†å¯¹æˆ‘çš„è‚¯å®šï¼Œæˆ‘å°†æŒç»­æ•´ç†å‘å¸ƒæ›´å¤šä¼˜è´¨åŸåˆ›æ–‡ç« ï¼ã€‚</p>
    <img src="/img/weiyigeek.jpg" class="img-responsive" alt="WeiyiGeek-banner">
  </div>
</div>
  <hr>
  

  <blockquote class="post-copyright">
    <div class="content">
      
        
<span class="post-time">
    æœ€åæ›´æ–°æ—¶é—´ï¼š<time datetime="2022-03-29T05:39:06.307Z" itemprop="dateUpdated">2022-03-29 13:39:06</time>
</span><br>


        <span>æ–‡ç« åŸå§‹è·¯å¾„ï¼š<a href="https://github.com/WeiyiGeek/blog/edit/master/source/_posts/ç³»ç»Ÿè¿ç»´/Linux/å¸¸ç”¨å‘½ä»¤/åŸºç¡€è¿ç»´é…ç½®/ç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…·.md" target="_blank" rel="noopener noreferrer">_posts/ç³»ç»Ÿè¿ç»´/Linux/å¸¸ç”¨å‘½ä»¤/åŸºç¡€è¿ç»´é…ç½®/ç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…·.md</a></span><br>
         <span class="copy-copyright">è½¬è½½æ³¨æ˜å‡ºå¤„ï¼ŒåŸæ–‡åœ°å€ï¼š<a href="/2020/3-31-147.html" target="_blank" rel="external">https://blog.weiyigeek.top/2020/3-31-147.html</a></span><br>æœ¬ç«™æ–‡ç« å†…å®¹éµå¾ª <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">çŸ¥è¯†å…±äº« ç½²å - éå•†ä¸šæ€§ - ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…åè®®</a> 
    </div>
    <footer>
      <a href="https://blog.weiyigeek.top">
        <img src="/img/avatar.jpg" alt="WeiyiGeek">
        WeiyiGeek
      </a>
    </footer>
  </blockquote>


        
            <div class="page-reward">
  <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-rectangle waves-light">â˜•ï¸ è¯·ä½œè€…å–æ¯å’–å•¡!</a>
</div>
            
        
        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80%E8%BF%90%E7%BB%B4%E7%B1%BB/" rel="tag">åŸºç¡€è¿ç»´ç±»</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2020/3-31-147.html&title=ã€Šç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…·ã€‹ â€” WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2020/3-31-147.html&title=ã€Šç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…·ã€‹ â€” WeiyiGeek Blog&source=[TOC]" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2020/3-31-147.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€Šç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…·ã€‹ â€” WeiyiGeek Blog&url=https://blog.weiyigeek.top/2020/3-31-147.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2020/3-31-147.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
          <!-- è¯„è®ºç»„ä»¶ -->


<div id="gitalk-container"></div>
<script type="text/javascript" src="/js/plugins/gitalk.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/custom/gitalk.init.js?v=1.6.6"></script>
        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/2020/4-10-40.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">LDAPåŸºç¡€å®‰è£…ä¸ç®€å•å…¥é—¨ä½¿ç”¨.md</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/2020/3-31-146.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">æ€§èƒ½ç›‘æ§ä¸ä¼˜åŒ–å‘½ä»¤</h4>
      </a>
    </div>
  
</nav>


    
    
        <aside class="post-widget">
            <nav class="post-toc-wrap" id="post-toc">
                <strong>ç›®å½•</strong>
                <ol class="post-toc"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x01-å¤„ç†å™¨æ€§èƒ½æµ‹è¯•"><span class="post-toc-number">1.</span> <span class="post-toc-text">0x01 å¤„ç†å™¨æ€§èƒ½æµ‹è¯•</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x02-ç£ç›˜æ€§èƒ½æµ‹è¯•"><span class="post-toc-number">2.</span> <span class="post-toc-text">0x02 ç£ç›˜æ€§èƒ½æµ‹è¯•</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x03-ç½‘ç»œæ€§èƒ½æµ‹è¯•"><span class="post-toc-number">3.</span> <span class="post-toc-text">0x03 ç½‘ç»œæ€§èƒ½æµ‹è¯•</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x04-ç½‘ç«™å‹åŠ›æµ‹è¯•"><span class="post-toc-number">4.</span> <span class="post-toc-text">0x04 ç½‘ç«™å‹åŠ›æµ‹è¯•</span></a></li></ol>
            </nav>
            <div class="toc-bar"><div>
        </aside>
    


    <!-- æ”¯ä»˜å®å¾®ä¿¡æ–‡ç« èµèµ -->
    
      <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        å¦‚æœæ­¤ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œå°±è¯·ä½œè€…å–æ¯ Coffee â˜•ï¸â˜•ï¸!
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardwechat" src="/img/reward-wechat.jpg" height="250" height="250" alt="å¾®ä¿¡æ‰“èµäºŒç»´ç ">
            <img id="rewardalipay" src="/img/reward-alipay.png" height="250" height="250" alt="æ”¯ä»˜å®æ‰“èµäºŒç»´ç ">
        </div>
        
        <label class="reward-toggle">
            <!-- <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/reward-wechat.jpg" data-alipay="/img/reward-alipay.png"> -->
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">å¾®ä¿¡</span>
                <span class="reward-toggle-item alipay">æ”¯ä»˜å®</span>
            </div>
        </label>
        
    </div>
</div>

      

    <!-- å¾®ä¿¡å…¬ä¼—å·å…³æ³¨/æ–‡ç« ç‰ˆæƒå¤åˆ¶ -->
    
      <div id="btw-mask" style="position: fixed; top: 0px; right: 0px; bottom: 0px; left: 0px; opacity: 0.7; z-index: 999; background: rgb(0, 0, 0); display:none"></div>
<div id="btw-modal" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 360px; text-align: center; font-size: 13px; background: rgb(255, 255, 255); border-radius: 10px; z-index: 9999; font-family: PingFangSC-Regular, sans-serif;display:none">
<span id="btw-modal-close-btn" style="position: absolute; top: 5px; right: 15px; line-height: 1.8; font-size: 15px; cursor: pointer; opacity: 0.2; z-index: 9999; color: rgb(0, 0, 0); background: none; border: none; outline: none;">X</span>
<p id="btw-modal-header" style="margin-top: 40px; line-height: 1.8; font-size: 13px; ">
<b style="color:#6190e8;">ä½ å¥½çœ‹å‹,æ¬¢è¿å…³æ³¨åšä¸»å¾®ä¿¡å…¬ä¼—å·å“Ÿ! â¤ <br> è¿™å°†æ˜¯æˆ‘æŒç»­æ›´æ–°æ–‡ç« çš„åŠ¨åŠ›æºæ³‰ï¼Œè°¢è°¢æ”¯æŒï¼(à¹‘â€²á´—â€µà¹‘) </b> <br> å¦‚ä¸æƒ³å…³æ³¨è¯·ç‚¹å‡»å³ä¸Šè§’çš„ã€Xã€‘å³å¯å…³é—­ç»§ç»­æµè§ˆæ–‡ç« .<br>  <b style="color:red;"> æ¸©é¦¨æç¤º: æœªè§£é”çš„ç”¨æˆ·ä¸èƒ½ç²˜è´´å¤åˆ¶æ–‡ç« å†…å®¹å“Ÿ!</b> <br>
<br>Method 1.Please visit <strong><a href="https://twitter.com/WeiyiGeek" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">ã€My Twitterã€‘</a></strong>. There is an article verification code in the homepage.
<br>æ–¹å¼2.è¯·è®¿é—®æœ¬åšä¸»çš„Bç«™<strong><a href="https://space.bilibili.com/385802642" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">ã€WeiyiGeekã€‘</a></strong>é¦–é¡µå…³æ³¨UPä¸»,<br>å°†è‡ªåŠ¨éšæœºè·å–è§£é”éªŒè¯ç ã€‚
<br>æ–¹å¼3.æ‰«ä¸€æ‰«ä¸‹æ–¹äºŒç»´ç ï¼Œå…³æ³¨æœ¬ç«™<strong>å®˜æ–¹å…¬ä¼—å·</strong><br>
å›å¤ï¼š<strong style="color: rgb(240, 65, 52);">éªŒè¯ç </strong>
å°†è·å–<strong style="color: rgb(240, 65, 52);">è§£é”(æœ‰æ•ˆæœŸ7å¤©)</strong>æœ¬ç«™æ‰€æœ‰æŠ€æœ¯æ–‡ç« å“Ÿ!</p>
<img src="/img/wechat-search.png" style="width: 300px; margin-top: 10px;">
<div id="btw-modal-input-code" style="margin-top: 20px; background: rgb(255, 255, 255);">
  <input id="btw-modal-input" type="number" minlength="4" maxlength="4" placeholder="è¯·è¾“å…¥éªŒè¯ç |Verification Code"
    style="width: 165px; height: 32px; line-height: 32px; padding: 0px 10px; margin: 0px 10px; font-size: 13px; text-rendering: auto; text-transform: none; cursor: text; outline: none; box-sizing: border-box; border: 1px solid rgb(221, 221, 221); -webkit-appearance: textfield; background-color: white; -webkit-rtl-ordering: logical;"/>
  <button id="btw-submit-btn" onclick="yzm_vertify()"
    style="padding: 0px 20px; height: 32px; font-size: 14px; outline: none; border: none; color: rgb(255, 255, 255); background: rgb(222, 104, 109); cursor: pointer;">æ
    äº¤</button> </div>
<p id="btw-footer" style="margin: 40px 0px 20px; color: rgb(153, 153, 153);">@WeiyiGeek - ä¸ºäº†èƒ½åˆ°è¿œæ–¹ï¼Œè„šä¸‹çš„æ¯ä¸€æ­¥éƒ½ä¸èƒ½å°‘</p>
</div>
        
</article>
</div>

    </main>
    <footer class="footer ">
    
    <div class="top">
        
            <p>
    <span>Linksï¼š</span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top" target="_blank">https://weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.weiyigeek.top" target="_blank">https://blog.weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top/img/search-wechat.jpg" target="_blank">å…¬ä¼—è´¦å·</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://space.bilibili.com/385802642/article" target="_blank">å“”å“©å“”å“©ä¸“æ </a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://github.com/weiyigeek" target="_blank">åšä¸»Github</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://gitee.com/WeiyiGeek" target="_blank">åšä¸»Gitee</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.zhihu.com/people/weiyiSec" target="_blank">çŸ¥ä¹</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.cnblogs.com/WeiyiGeek" target="_blank">åšå®¢å›­</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://my.oschina.net/weiyigeek" target="_blank">OSCHINA</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.toutiao.com/c/user/token/MS4wLjABAAAAqcPSoMqfctaEqJpGSF775eeCjWkrop4AOyLITdMx-L78F5iXzfQcSRM5sY4dq3wR" target="_blank">ä»Šæ—¥å¤´æ¡</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.csdn.net/u013072756?type=lately" target="_blank">CSDN</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.jianshu.com/u/5199a1104739" target="_blank">ç®€ä¹¦</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cloud.tencent.com/developer/user/1389665/articles" target="_blank">è…¾è®¯äº‘ç¤¾åŒº</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cuttlefish.baidu.com/shop/75c5dbd8d15abe23482f4d40" target="_blank">ç™¾åº¦æ–‡åº“</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://author.baidu.com/home?from=blog&app_id=1726736601523415" target="_blank">ITæå®¢çŸ¥è¯†åˆ†äº«</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.51cto.com/weiyigeek" target="_blank">51CTOåšå®¢</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://juejin.cn/user/122767337595934" target="_blank">æ˜é‡‘</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weibo.com/a/hot/7622022703618049_1.html" target="_blank">å¾®åšæ–‡ç« </a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.xiaohongshu.com/user/profile/627c98bb000000001000e7ba" target="_blank">å°çº¢ä¹¦</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://segmentfault.com/u/weiyigeek" target="_blank">Segmentfault</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.modb.pro/u/506690" target="_blank">å¢¨å¤©è½®</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.douyin.com/user/MS4wLjABAAAAMSBdMja6XLsdmzafb0RNbFeBemIOk38K1PaOClZeI1Q" target="_blank">æŠ–éŸ³ä¸»é¡µ</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.kuaishou.com/profile/3xfbrsrhd2i69x9" target="_blank">å¿«æ‰‹ä¸»é¡µ</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.ixigua.com/home/3984243135350727" target="_blank">è¥¿ç“œè§†é¢‘</a>
    </span>
    
</p>

        
    </div>
    
    <div class="bottom">
      <p>
        <span>WeiyiGeek &copy; 2018 - 2022 <a href="https://weiyigeek.top" target="_blank" rel="noopener">weiyigeek.top</a> All rights reserved.å”¯ä¸€æå®¢ITçŸ¥è¯†åˆ†äº« ç‰ˆæƒæ‰€æœ‰ </span>
        
        <span>
          Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/weiyigeek" target="_blank">mellow</a>
        </span>
        
        <br/><a id="SiteRunTime"></a>
        <br/>è®¿é—®ç»Ÿè®¡
        <span><a href="/sitemap.xml" target="_blank" rel="Sitemaps-ç«™ç‚¹åœ°å›¾">Sitemaps</a> </span>
        <span><a href="/baidusitemap.xml" target="_blank" rel="baidusitemaps-ç™¾åº¦ç«™ç‚¹åœ°å›¾">ç«™ç‚¹åœ°å›¾</a> </span>
        <!-- 
  -->
        <br/>ICPå¤‡æ¡ˆå·<span><a href="https://beian.miit.gov.cn" target="_blank">æ¸ICPå¤‡2022003447å·</a></span>
        <br/>
        <div id="cc-myssl-id">
          <a href="https://myssl.com/blog.weiyigeek.top?from=mysslid" target="_blank" rel="noopener">
            <img src="https://static.myssl.com/res/images/myssl-id1.png" alt="MySSLå®‰å…¨è®¤è¯" style="max-height:50px;display:block;margin:0 auto">
          </a>
        </div>
      </p>
    </div>
</footer>



    <div class="mask" id="mask"></div>

<div id="go" class="waves-effect waves-light">
  <a href="javascript:;" id="goqrcode"> <span class="icon icon-lg icon-qrcode"></span> </a>
  <a href="javascript:;" id="gotop"> <span class="icon icon-lg icon-chevron-up"></span></a>
</div>





<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2020/3-31-147.html&title=ã€Šç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…·ã€‹ â€” WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2020/3-31-147.html&title=ã€Šç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…·ã€‹ â€” WeiyiGeek Blog&source=[TOC]" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2020/3-31-147.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€Šç³»ç»Ÿæ€§èƒ½æµ‹è¯•å·¥å…·ã€‹ â€” WeiyiGeek Blog&url=https://blog.weiyigeek.top/2020/3-31-147.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2020/3-31-147.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>æ‰«ä¸€æ‰«ï¼Œåˆ†äº«åˆ°å¾®ä¿¡</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACJUlEQVR42u3aQVLDMAwFUO5/6bCFgaZfUgIT+3nFtE7j54WwJH98xOP4MpJvjx/j1VP5Wy4YGBgYj2UcpyN/QfJUQjrfjpcrwcDA2ICR//T5C3pzJmwMDAyM6pzeJ5P3YmBgYPSWm6fB/xZwMTAwHshIkthq6W1enrslF8fAwHggI6+6//3ft/Q3MDAwHsU4iuNv+oblVWFgYCzNyANcclicJ7ST9WBgYOzJSBqTvYXmBbj8EwwMjLUZ1TJZdaF5yJ7Mx8DAWJvRcyfzew3LZgMAAwNjA0bvYsS1Tc18I6IkFgMDYyHGVeWzpBmZl+2S3y8vBQMD44GMO5LSavGuV/L79hQGBsYGjMmVi3kRrbcFozsjGBgYj2L0zpLn17+Sol7ybC8EY2Bg7MCohrmkrD9vixYWjYGBsRwjbx9WA2IexHtv/OWEi4GBsSijGnaTRZQTzqv+P2BgYCzNqF62qGLmh8uIioGBsTRjHmSryPn2RRgMDIyFGHlprFqSSwD5L7xJiTEwMDZg9JZ1PjOP8clC3xwTMTAwNmBMQmS+Hc2yfp6LY2BgLMc4iiNJcfOF5kW35tkWAwNjCcYdjcxeCO4dE8sYDAyMxzKuKpBVm6PVRsKbjcPAwNiAkQe+yXlsfiHsJRIDAwNjEBarpb28YBftBAYGxvaMPHT2Et1kOzAwMPZhVJsB53Pm4fXGchsGBsYDGZObGpPkc3KgbKbWGBgYz2N8AkGlapj9LdCtAAAAAElFTkSuQmCC" alt="å¾®ä¿¡åˆ†äº«äºŒç»´ç ">
</div>


    
    <!-- main-js -->
<script type="text/javascript" src="/js/jquery/2.1.0-jquery.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/ios-orientationchange-fix.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/jquery/3.5.2-jquery.fancybox.min.js?v=1.6.6"></script>
<!--  //cdn.bootcss.com/node-waves/0.7.4/waves.min.js -->
<script type="text/javascript" src="/js/node-waves/0.7.4-waves.min.js?v=1.6.6"></script> 

<script type="text/javascript" src="/js/method.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/blog.js?v=1.6.6"></script>

<!-- third-party -->
<script type="text/javascript" src="/js/plugins/local_search.js?v=1.6.6"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) { search_path = "search.xml";}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script> 

<script> (adsbygoogle = window.adsbygoogle || []).push({});</script>    


<!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> --> 


  


<script>
  var _hmt = _hmt || [];
  (function() {
    // ç™¾åº¦ç»Ÿè®¡
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?53923c4b5560739bc0ed61e183be6acf";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>
 


<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.staticfile.org/mathjax/2.7.9/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
 
<script>
    (function() {
        var OriginTitile = document.title, titleTime;
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.title = 'WeiyiGeek Blog-å…³æ³¨äºç½‘ç»œå®‰å…¨_ç‰©è”ç½‘å®‰å…¨å¼€å‘_ç½‘ç»œå®‰å…¨è¿ç»´-å­¦ä¹ å¿ƒå¾—åˆ†äº«';
                clearTimeout(titleTime);
            } else {
                document.title = '(ã¤ã‚§âŠ‚)å’¦!åˆå¥½äº†!';
                titleTime = setTimeout(function() {
                    document.title = OriginTitile;
                },2000);
            }
        });
    })();
</script>
 

     <script type="text/javascript" src="/js/custom/copytips.js?v=1.6.6"></script> 
<script type="text/javascript">
// ç«™ç‚¹è¿è¡Œæ—¶é—´
var BootDate = new Date("2018/01/01 00:00:00");
function ShowRunTime(id) {
  var NowDate = new Date();
  var RunDateM = parseInt(NowDate - BootDate);
  var RunDays = Math.floor(RunDateM/(24*3600*1000));
  var RunHours = Math.floor(RunDateM%(24*3600*1000)/(3600*1000));
  var RunMinutes = Math.floor(RunDateM%(24*3600*1000)%(3600*1000)/(60*1000));
  var RunSeconds = Math.round(RunDateM%(24*3600*1000)%(3600*1000)%(60*1000)/1000);
  var RunTime = RunDays + "å¤©" + RunHours + "æ—¶" + RunMinutes + "åˆ†" + RunSeconds + "ç§’";
  document.getElementById(id).innerHTML = "ç½‘ç«™å·²åœ¨é£é›¨ä¸­å‹‰å‹‰å¼ºå¼ºè¿è¡Œäº†ã€" + RunTime + "ã€‘";
}
setInterval("ShowRunTime('SiteRunTime')", 1000);
</script>
</body>
</html>