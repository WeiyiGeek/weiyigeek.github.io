<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="content-language" content="zh-CN"/>
    <meta name="author" content="WeiyiGeek" />
    <meta name="msvalidate.01" content="5C552FB1D885E0E11D2957EC958C8018" />
    <meta name="shenma-site-verification" content="4c655e91c76be0a93c1b6954c666c9d6_1649049085"/>
    <meta name="bytedance-verification-code" content="lKs4FqwCHSJ3A/c5tT7X" />
    <meta name="sogou_site_verification" content="OC65iET6Bk" />
    
    <title>🌐 Python3日志记录模块|WeiyiGeek Blog|唯一极客Geek-IT网络安全运维开发技术知识分享-博客站点</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    
    <meta name="keywords" content="Python3">
    <meta name="Description" content="WeiyiGeek-唯一极客博客站点,关注于网络安全运维,Web安全开发,IOT物联网安全开发,应用开发,分享技术学习知识与入坑解决,提升网络安全技术与自身技术能力,立志维护大众网络安全为己任,做一个对国家有用的人,为实现中华民族伟大复兴的中国梦不懈奋斗">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/jquery/3.5.2-jquery.fancybox.min.css?v=1.6.6" />
    <link rel="stylesheet" href="/css/style.css?v=1.6.6">
    <!--  -->
     <script type="text/javascript" src="/js/custom/articlecost.js?v=1.6.6"></script> 
    <link rel="stylesheet" href="/css/third-party/gitalk.css?v=1.6.6"> 
        
    <script type="text/javascript">
        // Data Center
        var DC = {
          reward:	true,
          lv: JSON.parse('{"enable":false,"app_id":null,"app_key":null,"icon":true}'),
          v: JSON.parse('{"enable":false,"appid":null,"appkey":null,"notify":true,"verify":true,"placeholder":"give me some sugers plz...","avatar":"wavatar"}')
        };
    </script>
    <script type="text/javascript">window.lazyScripts=[];</script>
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="WeiyiGeek Blog" type="application/atom+xml">
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="/img/brand.jpg" class="brand-bg" alt="WeiyiGeek-backgroud">
      
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg" alt="WeiyiGeek-头像">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">WeiyiGeek</h5>
          <a href="mailto:master@weiyigeek.top" title="master@weiyigeek.top" class="mail">
            <span>m</span><span>a</span><span>s</span><span>t</span><span>e</span><span>r</span><span>@</span><span>w</span><span>e</span><span>i</span><span>y</span><span>i</span><span>g</span><span>e</span><span>e</span><span>k</span><span>.</span><span>t</span><span>o</span><span>p</span>
          </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://weiyigeek.top/img/wechat-search.png" target="_blank">
                  <i class="icon icon-lg icon-wechat"></i>
                </a>
              </li>
            
              <li>
                <a href="https://github.com/weiyigeek" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
              <li>
                <a href="https://t.me/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-telegram"></i>
                </a>
              </li>
            
              <li>
                <a href="https://twitter.com/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-twitter"></i>
                </a>
              </li>
            
              <li>
                <a href="https://weibo.com/615643678" target="_blank">
                  <i class="icon icon-lg icon-weibo"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                首页
              </a>
            </li>
        
            <li class="">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                文章分类
              </a>
            </li>
        
            <li class="">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                文章标签
              </a>
            </li>
        
            <li class="">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                文章归档
              </a>
            </li>
        
            <li class="">
              <a href="/books"  >
                <i class="icon icon-lg icon-book"></i>
                学习书籍
              </a>
            </li>
        
            <li class="">
              <a href="/about"  >
                <i class="icon icon-lg icon-user"></i>
                关于作者
              </a>
            </li>
        
            <li class="">
              <a href="/links"  >
                <i class="icon icon-lg icon-link"></i>
                站点导航
              </a>
            </li>
        
            <li class="">
              <a href="/img/share-wechat.jpg" target="_blank" >
                <i class="icon icon-lg icon-wechat"></i>
                公众账号
              </a>
            </li>
        
            <li class="">
              <a href="https://space.bilibili.com/385802642" target="_blank" >
                <i class="icon icon-lg icon-youtube-play"></i>
                哔哩哔哩
              </a>
            </li>
        
            <li class="">
              <a href="https://github.com/weiyigeek" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="">
              <a href="https://twitter.com/WeiyiGeek" target="_blank" >
                <i class="icon icon-lg icon-twitter"></i>
                Twitter
              </a>
            </li>
        
            <li class="">
              <a href="https://weibo.com/615643678" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>Python3日志记录模块</span>
            
        </div>

        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        

        
            <a href="/atom.xml" class="header-icon pull-right waves-effect waves-circle waves-light">
                <i class="icon icon-lg icon-rss"></i>
            </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="/img/banner.jpg" class="header-bg" alt="文章头部背景">
    <div class="container fade-scale">
        <h1 class="title">Python3日志记录模块</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-03-20T13:34:30.000Z" itemprop="datePublished" class="page-time">
  2020-03-20
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Development/">Development</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Development/Programming/">Programming</a></li></ul></li></ul>


            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>


<div class="container body-wrap">
  <article id="post-编程世界/Python/模块函数/Python3日志记录模块"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">Python3日志记录模块</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-03-20 21:34:30" datetime="2020-03-20T13:34:30.000Z"  itemprop="datePublished">2020-03-20</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Development/">Development</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Development/Programming/">Programming</a></li></ul></li></ul>



            

            


            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <p>[TOC]</p>
<a id="more"></a>
<h2 id="0x00-logging-模块"><a href="#0x00-logging-模块" class="headerlink" title="0x00 logging 模块"></a>0x00 logging 模块</h2><h3 id="1-基础简述"><a href="#1-基础简述" class="headerlink" title="1.基础简述"></a>1.基础简述</h3><p>描述: Logging 库是非常常用的记录日志库，通过logging模块存储各种格式的日志，主要用于输出运行日志，可以设置输出日志的等级、日志保存路径、日志文件回滚、日志按时分秒进行切割等.</p>
<p>模块导入: <code>import logging</code><br>模块参考:  <a href="https://docs.python.org/3/library/logging.html" target="_blank" rel="noopener">https://docs.python.org/3/library/logging.html</a></p>
<p><strong>模块优点</strong></p>
<ol>
<li>你可以控制消息的级别，过滤掉那些并不重要的消息。</li>
<li>你可决定输出到什么地方，以及怎么输出。有许多的重要性别级可供选择，debug、info、warning、error 以及 critical。通过赋予 logger 或者 handler 不同的级别，你就可以只输出错误消息到特定的记录文件中，或者在调试时只记录调试信息。</li>
</ol>
<p><br></p>
<p><strong>日志级别</strong><br>描述: 以下描述了标准水平及其适用性（按严重程度的增加顺序）, 严重程度的级别依次是<code>DEBUG &lt; INFO &lt; WARNING &lt; ERROR &lt; CRITICAL</code><br>温馨提示: 当进行日志输出时，如定义了最低日志记录等级，则只会记录严重程度在其之上的日志。</p>
<p><br></p>
<p><strong>格式化日志信息</strong><br>描述: Logging 模块有一系列可以用做格式化的属性，如<code>format=&#39;%(asctime)s %(levelname)s:%(message)s&#39;</code>，如下：</p>
<table>
<thead>
<tr>
<th>Attribute name</th>
<th>Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>args</td>
<td>You shouldn’t need to format this yourself.</td>
<td>The tuple of arguments merged into msg to produce message, or a dict whose  values are used for the merge (when there is only one argument, and it  is a dictionary).</td>
</tr>
<tr>
<td>asctime</td>
<td>%(asctime)s</td>
<td>Human-readable time when the LogRecord was created. By default this is of the form  ‘2003-07-08 16:49:45,896’ (the numbers after the comma are millisecond  portion of the time).</td>
</tr>
<tr>
<td>created</td>
<td>%(created)f</td>
<td>Time when the LogRecord was created (as returned by time.time()).</td>
</tr>
<tr>
<td>exc_info</td>
<td>You shouldn’t need to format this yourself.</td>
<td>Exception tuple (à la sys.exc_info) or, if no exception has occurred, None.</td>
</tr>
<tr>
<td>filename</td>
<td>%(filename)s</td>
<td>Filename portion of pathname.</td>
</tr>
<tr>
<td>funcName</td>
<td>%(funcName)s</td>
<td>Name of function containing the logging call.</td>
</tr>
<tr>
<td>levelname</td>
<td>%(levelname)s</td>
<td>Text logging level for the message (‘DEBUG’, ‘INFO’, ‘WARNING’, ‘ERROR’, ‘CRITICAL’).</td>
</tr>
<tr>
<td>levelno</td>
<td>%(levelno)s</td>
<td>Numeric logging level for the message (DEBUG, INFO, WARNING, ERROR, CRITICAL).</td>
</tr>
<tr>
<td>lineno</td>
<td>%(lineno)d</td>
<td>Source line number where the logging call was issued (if available).</td>
</tr>
<tr>
<td>message</td>
<td>%(message)s</td>
<td>The logged message, computed as msg % args. This is set when Formatter.format() is invoked.</td>
</tr>
<tr>
<td>module</td>
<td>%(module)s</td>
<td>Module (name portion of filename).</td>
</tr>
<tr>
<td>msecs</td>
<td>%(msecs)d</td>
<td>Millisecond portion of the time when the LogRecord was created.</td>
</tr>
<tr>
<td>msg</td>
<td>You shouldn’t need to format this yourself.</td>
<td>The format string passed in the original logging call. Merged with args to  produce message, or an arbitrary object (see Using arbitrary objects as  messages).</td>
</tr>
<tr>
<td>name</td>
<td>%(name)s</td>
<td>Name of the logger used to log the call.</td>
</tr>
<tr>
<td>pathname</td>
<td>%(pathname)s</td>
<td>Full pathname of the source file where the logging call was issued (if available).</td>
</tr>
<tr>
<td>process</td>
<td>%(process)d</td>
<td>Process ID (if available).</td>
</tr>
<tr>
<td>processName</td>
<td>%(processName)s</td>
<td>Process name (if available).</td>
</tr>
<tr>
<td>relativeCreated</td>
<td>%(relativeCreated)d</td>
<td>Time in milliseconds when the LogRecord was created, relative to the time the logging module was loaded.</td>
</tr>
<tr>
<td>stack_info</td>
<td>You shouldn’t need to format this yourself.</td>
<td>Stack frame information (where available) from the bottom of the stack in the current thread, up to and including the stack frame of the logging call which resulted in the creation of this record.</td>
</tr>
<tr>
<td>thread</td>
<td>%(thread)d</td>
<td>Thread ID (if available).</td>
</tr>
<tr>
<td>threadName</td>
<td>%(threadName)s</td>
<td>Thread name (if available).</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h3 id="2-语法参数"><a href="#2-语法参数" class="headerlink" title="2.语法参数"></a>2.语法参数</h3><p>描述: logging库提供了模块化的方法和几个组件, 下列列出了模块定义的基础类和函数</p>
<ul>
<li>Loggers ：记录器公开应用程序代码直接使用的接口。</li>
<li>Handlers ：处理程序将日志记录（由记录器创建）发送到相应的目标。</li>
<li>Filters ：过滤器提供了更细粒度的工具，用于确定要输出哪些日志记录。</li>
<li>Formatters： 格式化程序指定最终输出中日志记录的布局。</li>
</ul>
<p><strong>简单示例:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1、创建一个logger</span></span><br><span class="line">logger = logging.getLogger(__name__) <span class="comment"># 创建 logger </span></span><br><span class="line">logger.setLevel(logging.DEBUG)   <span class="comment"># 写入内容的严重级别</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Handler方法有很多下面主要介绍两种：StreamHandler 和 FileHandler </span></span><br><span class="line"><span class="comment"># 2、创建一个handler，用于写入日志文件</span></span><br><span class="line">fh=logging.FileHandler(<span class="string">'test.log'</span>, encoding=<span class="string">"utf-8"</span>) <span class="comment"># 将日志写入到test.log文件 </span></span><br><span class="line">fh.setLevel(logging.DEBUG) <span class="comment"># 并且需要指定写入的内容严重级别</span></span><br><span class="line"><span class="comment"># 再创建一个handler，用于输出到控制台</span></span><br><span class="line">ch=logging.StreamHandler() <span class="comment"># 将日志写入控制台</span></span><br><span class="line">ch.setLevel(logging.DEBUG) <span class="comment"># 并且需要指定写入的内容严重级别</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3、定义handler的输出格式（formatter）</span></span><br><span class="line">formatter = logging.Formatter(<span class="string">'%(asctime)s - %(name)s - %(levelname)s - %(message)s'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4、给handler添加formatter</span></span><br><span class="line">fh.setFormatter(formatter)</span><br><span class="line">ch.setFormatter(formatter)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5、给logger添加handler</span></span><br><span class="line">logger.addHandler(fh)</span><br><span class="line">logger.addHandler(ch)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6、进行日志输出</span></span><br><span class="line">logger.info(<span class="string">"这是一条INFO级别的信息,来自 【WeiyiGeek.top】 触发。"</span>)</span><br><span class="line">logger.debug(<span class="string">'debug message'</span>)</span><br><span class="line">logger.info(<span class="string">'info message'</span>)</span><br><span class="line">logger.warning(<span class="string">'warn message'</span>)</span><br><span class="line">logger.error(<span class="string">'error message'</span>)</span><br><span class="line">logger.critical(<span class="string">'critical message'</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-box">
                <a rel=Python3日志记录模块 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2022/5/20220810091524.png" target="_blank" title="WeiyiGeek.同时输出到文件或者终端中" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2022/5/20220810091524.png" alt="WeiyiGeek.同时输出到文件或者终端中" title="" class=""></a>
                <p>WeiyiGeek.同时输出到文件或者终端中</p>
            </figure>
<p><br/></p>
<p><strong>那么为什么后续在定义Handler时又做了一次set Level操作呢？</strong></p>
<p>原因是：<strong>Logger中设置的级别决定它将传递给Handler的消息严重性。每个Handler设置的setLevel()决定了该处理程序将发送哪些消息</strong>（记住：日志中消息是分严重程度的，当确定严重级别是某个层级时，该层级以下的消息不被发送或者记录，该层级以上的消息才被发送或者记录）。</p>
<p>温馨提示: 写入文件的三种filemode，即<code>r (只读)</code>/<code>w (覆盖)</code>/<code>a (默认)</code></p>
<p>温馨提示: Logger 整个操作流（官网上down下来的）.</p>
<figure class="image-box">
                <a rel=Python3日志记录模块 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2022/5/20220810092104.png" target="_blank" title="WeiyiGeek.Logger 操作流" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2022/5/20220810092104.png" alt="WeiyiGeek.Logger 操作流" title="" class=""></a>
                <p>WeiyiGeek.Logger 操作流</p>
            </figure>
<p><br/></p>
<h3 id="3-动手实践"><a href="#3-动手实践" class="headerlink" title="3.动手实践"></a>3.动手实践</h3><h4 id="1-简单入门例子"><a href="#1-简单入门例子" class="headerlink" title="(1) 简单入门例子"></a>(1) 简单入门例子</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># 日志写入目录</span></span><br><span class="line">os.chdir(<span class="string">"/tmp/"</span>) </span><br><span class="line">logging.basicConfig(format=<span class="string">'%(asctime)s - %(name)s - %(levelname)s - %(message)ss'</span>, filename=<span class="string">'example.log'</span>, level=logging.DEBUG) </span><br><span class="line"><span class="comment"># 注意：上面level设置的是显示的最低严重级别，小于level设置的最低严重级别将不会打印出来</span></span><br><span class="line">logging.debug(<span class="string">'Debug, This message should go to the log file'</span>)</span><br><span class="line">logging.info(<span class="string">'Info, So should this'</span>)</span><br><span class="line">logging.warning(<span class="string">'Warn, And this, too'</span>)</span><br><span class="line">logging.error(<span class="string">'Error, And non-ASCII stuff, too'</span>)</span><br></pre></td></tr></table></figure>
<p><br/></p>
<h3 id="2-实践之按日志大小分割"><a href="#2-实践之按日志大小分割" class="headerlink" title="(2) 实践之按日志大小分割"></a>(2) 实践之按日志大小分割</h3><p>描述: python 提供了两个处理器，方便我们分割文件：</p>
<ul>
<li><p><code>logging.handlers.RotatingFileHandler</code> -&gt; 按照大小自动分割日志文件，一旦达到指定的大小重新生成文件</p>
</li>
<li><p><code>logging.handlers.TimedRotatingFileHandler</code> -&gt; 按照时间自动分割日志文件</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置日志的记录等级</span></span><br><span class="line">logging.basicConfig(level=logging.DEBUG)  <span class="comment"># 调试debug级</span></span><br><span class="line"><span class="comment"># 创建日志记录器，指明日志保存的路径、每个日志文件的最大大小、保存的日志文件个数上限</span></span><br><span class="line">file_log_handler = RotatingFileHandler(<span class="string">"logs/weiyigeek.top.log"</span>, maxBytes=1024 * 1024 * 100, backupCount=10, encoding=<span class="string">"utf-8"</span>)</span><br><span class="line"><span class="comment"># 创建日志记录的格式 日志等级 输入日志信息的文件名 行数 日志信息</span></span><br><span class="line">formatter = logging.Formatter(<span class="string">'%(levelname)s %(filename)s:%(lineno)d %(message)s'</span>)</span><br><span class="line"><span class="comment"># 为刚创建的日志记录器设置日志记录格式</span></span><br><span class="line">file_log_handler.setFormatter(formatter)</span><br><span class="line"><span class="comment"># 为全局的日志工具对象（flask app使用的）添加日志记录器</span></span><br><span class="line">logging.getLogger().addHandler(file_log_handler)</span><br></pre></td></tr></table></figure>
<p>执行效果：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-a----         2022/8/10     13:46             79 weiyigeek.top.log</span><br><span class="line">-a----         2022/8/10     13:45            878 weiyigeek.top.1</span><br></pre></td></tr></table></figure></p>
<p><br/></p>
<h3 id="3-实践之日志按天分割"><a href="#3-实践之日志按天分割" class="headerlink" title="(3) 实践之日志按天分割"></a>(3) 实践之日志按天分割</h3><p>描述: 本示例代码可以将日志按天切割以及分别输出到<code>_info.log</code>与<code>_error.log</code>里面。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">from</span> logging.handlers <span class="keyword">import</span> TimedRotatingFileHandler</span><br><span class="line"></span><br><span class="line">LOG_PATH = <span class="string">"log"</span></span><br><span class="line">LOG_INFO = <span class="string">'_info.log'</span></span><br><span class="line">LOG_ERROR = <span class="string">'_error.log'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">logger</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, prefix_name = <span class="string">"flask"</span>)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">not</span> os.path.exists(LOG_PATH)):</span><br><span class="line">      os.makedirs(LOG_PATH)</span><br><span class="line"></span><br><span class="line">    self.prefix = prefix_name</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建logger日志对象</span></span><br><span class="line">    self.info_logger = logging.getLogger(<span class="string">"info"</span>)</span><br><span class="line">    self.error_logger = logging.getLogger(<span class="string">"error"</span>)</span><br><span class="line">    self.stream_logger = logging.getLogger(<span class="string">"stream"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 日志的最低输出级别</span></span><br><span class="line">    self.info_logger.setLevel(logging.DEBUG)</span><br><span class="line">    self.error_logger.setLevel(logging.ERROR)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 日志格式化</span></span><br><span class="line">    self.format = logging.Formatter(<span class="string">'[%(asctime)s][%(threadName)s:%(thread)d][task_id:%(name)s][%(filename)s:%(lineno)d]'</span> <span class="string">'[%(levelname)s] : %(message)s'</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 按照时间切割文件 Handler 配置</span></span><br><span class="line">    TimeFileHandlerINFO = TimedRotatingFileHandler(<span class="string">"%s/%s%s"</span> % (LOG_PATH, prefix_name, LOG_INFO), when=<span class="string">'MIDNIGHT'</span>, encoding=<span class="string">"utf-8"</span>, backupCount=<span class="number">8760</span>, delay=<span class="literal">True</span>)</span><br><span class="line">    TimeFileHandlerINFO.suffix = <span class="string">"%Y-%m-%d.log"</span></span><br><span class="line">    TimeFileHandlerERROR = TimedRotatingFileHandler(<span class="string">"%s/%s%s"</span> % (LOG_PATH, prefix_name, LOG_ERROR), when=<span class="string">'MIDNIGHT'</span>, encoding=<span class="string">"utf-8"</span>, backupCount=<span class="number">8760</span>, delay=<span class="literal">True</span>)</span><br><span class="line">    TimeFileHandlerERROR.suffix = <span class="string">"%Y-%m-%d.log"</span></span><br><span class="line">    LoggerStream = logging.StreamHandler()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 设置日志格式化</span></span><br><span class="line">    TimeFileHandlerINFO.setFormatter(self.format)</span><br><span class="line">    TimeFileHandlerERROR.setFormatter(self.format)</span><br><span class="line">    LoggerStream.setFormatter(self.format)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 添加设置的句柄</span></span><br><span class="line">    self.info_logger.addHandler(TimeFileHandlerINFO)</span><br><span class="line">    self.info_logger.addHandler(LoggerStream)</span><br><span class="line">    self.error_logger.addHandler(TimeFileHandlerERROR)</span><br><span class="line">    self.error_logger.addHandler(LoggerStream)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">debug</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">    self.info_logger.debug(msg, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">info</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">    self.info_logger.info(msg, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">warn</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">    self.info_logger.warning(msg, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">error</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">    self.error_logger.error(msg, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">fatal</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">    self.error_logger.fatal(msg, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">critical</span><span class="params">(self, msg, *args, **kwargs)</span>:</span></span><br><span class="line">    self.error_logger.critical(msg, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">log = logger(<span class="string">"weiyigeek"</span>)</span><br><span class="line">log.debug(<span class="string">"debug-test "</span>)</span><br><span class="line">log.info(<span class="string">"info-test"</span>)</span><br><span class="line">log.warn(<span class="string">"wrning-test"</span>)</span><br><span class="line">log.error(<span class="string">"error - test"</span>)</span><br><span class="line">log.fatal(<span class="string">"fatal - test"</span>)</span><br><span class="line">log.critical(<span class="string">"critical - test"</span>)</span><br></pre></td></tr></table></figure>
<p><strong>执行结果:</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">python .\logger.py</span><br><span class="line">[2022-08-10 10:21:21,068][MainThread:22372][task_id:info][logger.py:49][DEBUG] : debug-test</span><br><span class="line">[2022-08-10 10:21:21,069][MainThread:22372][task_id:info][logger.py:52][INFO] : info-test</span><br><span class="line">[2022-08-10 10:21:21,069][MainThread:22372][task_id:info][logger.py:55][WARNING] : wrning-test</span><br><span class="line">[2022-08-10 10:21:21,070][MainThread:22372][task_id:error][logger.py:58][ERROR] : error - <span class="built_in">test</span></span><br><span class="line">[2022-08-10 10:21:21,070][MainThread:22372][task_id:error][logger.py:61][CRITICAL] : fatal - <span class="built_in">test</span></span><br><span class="line">[2022-08-10 10:21:21,070][MainThread:22372][task_id:error][logger.py:64][CRITICAL] : critical - <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成的文件</span></span><br><span class="line">/mnt/d/Study/Project/<span class="built_in">log</span>$ ls</span><br><span class="line">weiyigeek_error.log</span><br><span class="line">weiyigeek_error.log.2022-08-09.log</span><br><span class="line"></span><br><span class="line">weiyigeek_info.log</span><br><span class="line">weiyigeek_info.log.2022-08-09.log</span><br></pre></td></tr></table></figure>
<p>补充说明: 上述代码中 when是一个字符串用于描述滚动周期的基本单位，字符串的值及意义如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'S'</span>: Seconds</span><br><span class="line"><span class="string">'M'</span>: Minutes</span><br><span class="line"><span class="string">'H'</span>: Hours</span><br><span class="line"><span class="string">'D'</span>: Days</span><br><span class="line"><span class="string">'W'</span>: Week day (0=Monday)</span><br><span class="line"><span class="string">'midnight'</span>: Roll over at midnight</span><br></pre></td></tr></table></figure></p>
<p><br/></p>
<h3 id="4-补充示例"><a href="#4-补充示例" class="headerlink" title="(4) 补充示例"></a>(4) 补充示例</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">from</span> flask.logging <span class="keyword">import</span> default_handler</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> logging.handlers <span class="keyword">import</span> RotatingFileHandler</span><br><span class="line"><span class="keyword">from</span> logging <span class="keyword">import</span> StreamHandler</span><br><span class="line"></span><br><span class="line">BASE_DIR = os.path.dirname(os.path.abspath(__file__))</span><br><span class="line"></span><br><span class="line">LOG_PATH = os.path.join(BASE_DIR, <span class="string">'logs'</span>)</span><br><span class="line"></span><br><span class="line">LOG_PATH_ERROR = os.path.join(LOG_PATH, <span class="string">'error.log'</span>)</span><br><span class="line">LOG_PATH_INFO = os.path.join(LOG_PATH, <span class="string">'info.log'</span>)</span><br><span class="line">LOG_PATH_ALL = os.path.join(LOG_PATH, <span class="string">'all.log'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 日志文件最大 100MB</span></span><br><span class="line">LOG_FILE_MAX_BYTES = <span class="number">100</span> * <span class="number">1024</span> * <span class="number">1024</span></span><br><span class="line"><span class="comment"># 轮转数量是 10 个</span></span><br><span class="line">LOG_FILE_BACKUP_COUNT = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Logger</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">init_app</span><span class="params">(self, app)</span>:</span></span><br><span class="line">        <span class="comment"># 移除默认的handler</span></span><br><span class="line">        app.logger.removeHandler(default_handler)</span><br><span class="line"></span><br><span class="line">        formatter = logging.Formatter(</span><br><span class="line">            <span class="string">'%(asctime)s [%(thread)d:%(threadName)s] [%(filename)s:%(module)s:%(funcName)s] '</span></span><br><span class="line">            <span class="string">'[%(levelname)s]: %(message)s'</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 将日志输出到文件</span></span><br><span class="line">        <span class="comment"># 1 MB = 1024 * 1024 bytes</span></span><br><span class="line">        <span class="comment"># 此处设置日志文件大小为500MB，超过500MB自动开始写入新的日志文件，历史文件归档</span></span><br><span class="line">        file_handler = RotatingFileHandler(</span><br><span class="line">            filename=LOG_PATH_ALL,</span><br><span class="line">            mode=<span class="string">'a'</span>,</span><br><span class="line">            maxBytes=LOG_FILE_MAX_BYTES,</span><br><span class="line">            backupCount=LOG_FILE_BACKUP_COUNT,</span><br><span class="line">            encoding=<span class="string">'utf-8'</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        file_handler.setFormatter(formatter)</span><br><span class="line">        file_handler.setLevel(logging.INFO)</span><br><span class="line"></span><br><span class="line">        stream_handler = StreamHandler()</span><br><span class="line">        stream_handler.setFormatter(formatter)</span><br><span class="line">        stream_handler.setLevel(logging.INFO)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> logger <span class="keyword">in</span> (</span><br><span class="line">        <span class="comment"># 这里自己还可以添加更多的日志模块，具体请参阅Flask官方文档</span></span><br><span class="line">                app.logger,</span><br><span class="line">                logging.getLogger(<span class="string">'sqlalchemy'</span>),</span><br><span class="line">                logging.getLogger(<span class="string">'werkzeug'</span>)</span><br><span class="line"></span><br><span class="line">        ):</span><br><span class="line">            logger.addHandler(file_handler)</span><br><span class="line">            logger.addHandler(stream_handler)</span><br></pre></td></tr></table></figure>
<p>扩展文件中添加log模块：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># encoding: utf-8</span></span><br><span class="line"><span class="keyword">from</span> log <span class="keyword">import</span> Logger</span><br><span class="line"></span><br><span class="line">logger = Logger()</span><br></pre></td></tr></table></figure>
        </div>
        <!-- Google 广告 -->
          

        
<hr/>
<div style="text-align: center;font-weight: bold;">
  <p> 欢迎各位志同道合的朋友一起学习交流，如文章有误请在下方留下您宝贵的经验知识，个人邮箱地址<b style="color:#ff654e"><code>【master#weiyigeek.top】</code></b>或者个人公众号<b style="color:#ff654e"><code>【WeiyiGeek】</code></b>联系我。 </p>
  <p> 更多文章来源于<b style="color:#03a9f4">【WeiyiGeek Blog - 为了能到远方，脚下的每一步都不能少】</b>, 个人首页地址( <a style="color: #03a9f4;" href="https://weiyigeek.top" target="_blank"> https://weiyigeek.top </a> )</p>
<!-- 

  <ul style="font-weight: bolder;">
    <li>
      <p><span style="color: #03a9f4">echo&nbsp;&nbsp;"【点个赞】，动动你那粗壮的拇指或者芊芊玉手，亲！"</span></p>
    </li>
    <li>
      <p><span style="color: #ff9201">printf("%s",&nbsp;"【投个币】，万水千山总是情，投个硬币行不行，亲！")</span></p>
    </li>
    <li>
      <p><span style="color: #02a2ff">fmt.Printf("【收个藏】，阅后即焚不吃灰，亲！")&nbsp;&nbsp;</span></p>
    </li>
    <li>
      <p><span style="color:red">console.info("【转个发】，让更多的志同道合的朋友一起学习交流，亲！")</span></p>
    </li>
    <li>
      <p><span style="color: #ff654e">System.out.println("【关个注】，后续浏览查看不迷路哟，亲！")</span></p>
    </li>
  </ul> -->
  <div>
    <img src="/img/share-wechat.jpg" class="img-responsive" alt="扫描Follow(关注)WeiyiGeek公众号与Visit(浏览)极客全栈修炼小程序" >
    <p>专栏书写不易，如果您觉得这个专栏还不错的，请给这篇专栏 <b style="color: red;">【点个赞、投个币、收个藏、关个注、转个发、赞个助】</b>，这将对我的肯定，我将持续整理发布更多优质原创文章！。</p>
    <img src="/img/weiyigeek.jpg" class="img-responsive" alt="WeiyiGeek-banner">
  </div>
</div>
  <hr>
  

  <blockquote class="post-copyright">
    <div class="content">
      
        
<span class="post-time">
    最后更新时间：<time datetime="2022-08-10T08:15:07.254Z" itemprop="dateUpdated">2022-08-10 16:15:07</time>
</span><br>


        <span>文章原始路径：<a href="https://github.com/WeiyiGeek/blog/edit/master/source/_posts/编程世界/Python/模块函数/Python3日志记录模块.md" target="_blank" rel="noopener noreferrer">_posts/编程世界/Python/模块函数/Python3日志记录模块.md</a></span><br>
         <span class="copy-copyright">转载注明出处，原文地址：<a href="/2020/3-20-679.html" target="_blank" rel="external">https://blog.weiyigeek.top/2020/3-20-679.html</a></span><br>本站文章内容遵循 <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a> 
    </div>
    <footer>
      <a href="https://blog.weiyigeek.top">
        <img src="/img/avatar.jpg" alt="WeiyiGeek">
        WeiyiGeek
      </a>
    </footer>
  </blockquote>


        
            <div class="page-reward">
  <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-rectangle waves-light">☕️ 请作者喝杯咖啡!</a>
</div>
            
        
        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python3/" rel="tag">Python3</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2020/3-20-679.html&title=《Python3日志记录模块》 — WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2020/3-20-679.html&title=《Python3日志记录模块》 — WeiyiGeek Blog&source=[TOC]" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2020/3-20-679.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Python3日志记录模块》 — WeiyiGeek Blog&url=https://blog.weiyigeek.top/2020/3-20-679.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2020/3-20-679.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
          <!-- 评论组件 -->


<div id="gitalk-container"></div>
<script type="text/javascript" src="/js/plugins/gitalk.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/custom/gitalk.init.js?v=1.6.6"></script>
        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/2020/3-21-218.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">DELL存储SCv2000/2020基础配置与使用</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/2020/3-20-658.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Python基础学习之pip包管理器介绍与实践</h4>
      </a>
    </div>
  
</nav>


    
    
        <aside class="post-widget">
            <nav class="post-toc-wrap" id="post-toc">
                <strong>目录</strong>
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x00-logging-模块"><span class="post-toc-number">1.</span> <span class="post-toc-text">0x00 logging 模块</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-基础简述"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">1.基础简述</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-语法参数"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">2.语法参数</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-动手实践"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">3.动手实践</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-简单入门例子"><span class="post-toc-number">1.3.1.</span> <span class="post-toc-text">(1) 简单入门例子</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-实践之按日志大小分割"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">(2) 实践之按日志大小分割</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-实践之日志按天分割"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">(3) 实践之日志按天分割</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-补充示例"><span class="post-toc-number">1.6.</span> <span class="post-toc-text">(4) 补充示例</span></a></li></ol></li></ol>
            </nav>
            <div class="toc-bar"><div>
        </aside>
    


    <!-- 支付宝微信文章赞赏 -->
    
      <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        如果此篇文章对您有帮助，就请作者喝杯 Coffee ☕️☕️!
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardwechat" src="/img/reward-wechat.jpg" height="250" height="250" alt="微信打赏二维码">
            <img id="rewardalipay" src="/img/reward-alipay.png" height="250" height="250" alt="支付宝打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <!-- <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/reward-wechat.jpg" data-alipay="/img/reward-alipay.png"> -->
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>

      

    <!-- 微信公众号关注/文章版权复制 -->
    
      <div id="btw-mask" style="position: fixed; top: 0px; right: 0px; bottom: 0px; left: 0px; opacity: 0.7; z-index: 999; background: rgb(0, 0, 0); display:none"></div>
<div id="btw-modal" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 360px; text-align: center; font-size: 13px; background: rgb(255, 255, 255); border-radius: 10px; z-index: 9999; font-family: PingFangSC-Regular, sans-serif;display:none">
<span id="btw-modal-close-btn" style="position: absolute; top: 5px; right: 15px; line-height: 1.8; font-size: 15px; cursor: pointer; opacity: 0.2; z-index: 9999; color: rgb(0, 0, 0); background: none; border: none; outline: none;">X</span>
<p id="btw-modal-header" style="margin-top: 40px; line-height: 1.8; font-size: 13px; ">
<b style="color:#6190e8;">你好看友,欢迎关注博主微信公众号哟! ❤ <br> 这将是我持续更新文章的动力源泉，谢谢支持！(๑′ᴗ‵๑) </b> <br> 如不想关注请点击右上角的【X】即可关闭继续浏览文章.<br>  <b style="color:red;"> 温馨提示: 未解锁的用户不能粘贴复制文章内容哟!</b> <br>
<br>Method 1.Please visit <strong><a href="https://twitter.com/WeiyiGeek" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">【My Twitter】</a></strong>. There is an article verification code in the homepage.
<br>方式2.请访问本博主的B站<strong><a href="https://space.bilibili.com/385802642" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">【WeiyiGeek】</a></strong>首页关注UP主,<br>将自动随机获取解锁验证码。
<br>方式3.扫一扫下方二维码，关注本站<strong>官方公众号</strong><br>
回复：<strong style="color: rgb(240, 65, 52);">验证码</strong>
将获取<strong style="color: rgb(240, 65, 52);">解锁(有效期7天)</strong>本站所有技术文章哟!</p>
<img src="/img/wechat-search.png" style="width: 300px; margin-top: 10px;">
<div id="btw-modal-input-code" style="margin-top: 20px; background: rgb(255, 255, 255);">
  <input id="btw-modal-input" type="number" minlength="4" maxlength="4" placeholder="请输入验证码|Verification Code"
    style="width: 165px; height: 32px; line-height: 32px; padding: 0px 10px; margin: 0px 10px; font-size: 13px; text-rendering: auto; text-transform: none; cursor: text; outline: none; box-sizing: border-box; border: 1px solid rgb(221, 221, 221); -webkit-appearance: textfield; background-color: white; -webkit-rtl-ordering: logical;"/>
  <button id="btw-submit-btn" onclick="yzm_vertify()"
    style="padding: 0px 20px; height: 32px; font-size: 14px; outline: none; border: none; color: rgb(255, 255, 255); background: rgb(222, 104, 109); cursor: pointer;">提
    交</button> </div>
<p id="btw-footer" style="margin: 40px 0px 20px; color: rgb(153, 153, 153);">@WeiyiGeek - 为了能到远方，脚下的每一步都不能少</p>
</div>
        
</article>
</div>

    </main>
    <footer class="footer ">
    
    <div class="top">
        
            <p>
    <span>Links：</span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top" target="_blank">https://weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.weiyigeek.top" target="_blank">https://blog.weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top/img/search-wechat.jpg" target="_blank">公众账号</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://space.bilibili.com/385802642/article" target="_blank">哔哩哔哩专栏</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://github.com/weiyigeek" target="_blank">博主Github</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://gitee.com/WeiyiGeek" target="_blank">博主Gitee</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.zhihu.com/people/weiyiSec" target="_blank">知乎</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.cnblogs.com/WeiyiGeek" target="_blank">博客园</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://my.oschina.net/weiyigeek" target="_blank">OSCHINA</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.toutiao.com/c/user/token/MS4wLjABAAAAqcPSoMqfctaEqJpGSF775eeCjWkrop4AOyLITdMx-L78F5iXzfQcSRM5sY4dq3wR" target="_blank">今日头条</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.csdn.net/u013072756?type=lately" target="_blank">CSDN</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.jianshu.com/u/5199a1104739" target="_blank">简书</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cloud.tencent.com/developer/user/1389665/articles" target="_blank">腾讯云社区</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cuttlefish.baidu.com/shop/75c5dbd8d15abe23482f4d40" target="_blank">百度文库</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://author.baidu.com/home?from=blog&app_id=1726736601523415" target="_blank">IT极客知识分享</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.51cto.com/weiyigeek" target="_blank">51CTO博客</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://juejin.cn/user/122767337595934" target="_blank">掘金</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weibo.com/a/hot/7622022703618049_1.html" target="_blank">微博文章</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.xiaohongshu.com/user/profile/627c98bb000000001000e7ba" target="_blank">小红书</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://segmentfault.com/u/weiyigeek" target="_blank">Segmentfault</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.modb.pro/u/506690" target="_blank">墨天轮</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.douyin.com/user/MS4wLjABAAAAMSBdMja6XLsdmzafb0RNbFeBemIOk38K1PaOClZeI1Q" target="_blank">抖音主页</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.kuaishou.com/profile/3xfbrsrhd2i69x9" target="_blank">快手主页</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.ixigua.com/home/3984243135350727" target="_blank">西瓜视频</a>
    </span>
    
</p>

        
    </div>
    
    <div class="bottom">
      <p>
        <span>WeiyiGeek &copy; 2018 - 2022 <a href="https://weiyigeek.top" target="_blank" rel="noopener">weiyigeek.top</a> All rights reserved.唯一极客IT知识分享 版权所有 </span>
        
        <span>
          Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/weiyigeek" target="_blank">mellow</a>
        </span>
        
        <br/><a id="SiteRunTime"></a>
        <br/>访问统计
        <span><a href="/sitemap.xml" target="_blank" rel="Sitemaps-站点地图">Sitemaps</a> </span>
        <span><a href="/baidusitemap.xml" target="_blank" rel="baidusitemaps-百度站点地图">站点地图</a> </span>
        <!-- 
  -->
        <br/>ICP备案号<span><a href="https://beian.miit.gov.cn" target="_blank">渝ICP备2022003447号</a></span>
        <br/>
        <div id="cc-myssl-id">
          <a href="https://myssl.com/blog.weiyigeek.top?from=mysslid" target="_blank" rel="noopener">
            <img src="https://static.myssl.com/res/images/myssl-id1.png" alt="MySSL安全认证" style="max-height:50px;display:block;margin:0 auto">
          </a>
        </div>
      </p>
    </div>
</footer>



    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>


<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2020/3-20-679.html&title=《Python3日志记录模块》 — WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2020/3-20-679.html&title=《Python3日志记录模块》 — WeiyiGeek Blog&source=[TOC]" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2020/3-20-679.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Python3日志记录模块》 — WeiyiGeek Blog&url=https://blog.weiyigeek.top/2020/3-20-679.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2020/3-20-679.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACN0lEQVR42u3azY4CIRBFYd//pXu2MzGQc6twDHB6ZbRt+FyU9cPrha/n7Rp9Su7/fc/8OYsvGTJkbMt4ple6rdG3Rlt/f3++7nAPMmTIuIDBHz1foHZPhy1DhgwZPI3rvMPXlSFDhgyervEl5wXq1wKuDBkyNmSQIpY0xfrl7sdrcRkyZGzI4F33/3/9kfmGDBkytmI84VUbc5InPI1LhgwZZzN4gKslc2lB29mPDBkybmPUDnXxjfIGHH9HhgwZpzJ4i40fnqg1/dNhJ8pwZciQcRBjflPteMSqgSVqvcmQIeMCRqeY5Ic2+Frkhxj+b8iQIeM4RhpeeSOMJJf8+WgPMmTIOJTROZ2RjgTWBvc/35IhQ8YFDN5WS1v2nJomgijDlSFDxhGMWtLGSbUElJfEwf+ADBkytmWkDbJ0JNBptAWJowwZMi5g9FPATrNsAViGDBlHM2oRLA2RaMnSECLoCMqQIWNbRrHeLf0QvFROQ78MGTLOZtRC7XxzaXM/HQ8sKGtlyJCxIaOzQNp0S8ecwThBhgwZ1zDS1K0WWHn5Gow5ZciQcQGDbJRvN/00LY9fadSXIUPGtoy1JWu60TSsx0mhDBkyjmDUGv38Ux6Ca2lijJEhQ8a2jFUNMpLG8SFl/MPJkCHjAkb/kFbn6Ab/BxgiZciQISMMqWnATQ9YDJtuMmTIkBGWmv1ClxzIkCFDxj2MdBhAHt0Jrx9st8mQIWNDRuukRmm0QFpp6fEOGTJkHMr4AUDb2xmZd5mUAAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>


    
    <!-- main-js -->
<script type="text/javascript" src="/js/jquery/2.1.0-jquery.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/ios-orientationchange-fix.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/jquery/3.5.2-jquery.fancybox.min.js?v=1.6.6"></script>
<!--  //cdn.bootcss.com/node-waves/0.7.4/waves.min.js -->
<script type="text/javascript" src="/js/node-waves/0.7.4-waves.min.js?v=1.6.6"></script> 

<script type="text/javascript" src="/js/method.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/blog.js?v=1.6.6"></script>

<!-- third-party -->
<script type="text/javascript" src="/js/plugins/local_search.js?v=1.6.6"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) { search_path = "search.xml";}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script> 

    


<!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> --> 


  


<script>
  var _hmt = _hmt || [];
  (function() {
    // 百度统计
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?53923c4b5560739bc0ed61e183be6acf";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>
 


<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.staticfile.org/mathjax/2.7.9/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
 
<script>
    (function() {
        var OriginTitile = document.title, titleTime;
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.title = 'WeiyiGeek Blog-关注于网络安全_物联网安全开发_网络安全运维-学习心得分享';
                clearTimeout(titleTime);
            } else {
                document.title = '(つェ⊂)咦!又好了!';
                titleTime = setTimeout(function() {
                    document.title = OriginTitile;
                },2000);
            }
        });
    })();
</script>
 

     <script type="text/javascript" src="/js/custom/copytips.js?v=1.6.6"></script> 
<script type="text/javascript">
// 站点运行时间
var BootDate = new Date("2018/01/01 00:00:00");
function ShowRunTime(id) {
  var NowDate = new Date();
  var RunDateM = parseInt(NowDate - BootDate);
  var RunDays = Math.floor(RunDateM/(24*3600*1000));
  var RunHours = Math.floor(RunDateM%(24*3600*1000)/(3600*1000));
  var RunMinutes = Math.floor(RunDateM%(24*3600*1000)%(3600*1000)/(60*1000));
  var RunSeconds = Math.round(RunDateM%(24*3600*1000)%(3600*1000)%(60*1000)/1000);
  var RunTime = RunDays + "天" + RunHours + "时" + RunMinutes + "分" + RunSeconds + "秒";
  document.getElementById(id).innerHTML = "网站已在风雨中勉勉强强运行了【" + RunTime + "】";
}
setInterval("ShowRunTime('SiteRunTime')", 1000);
</script>
</body>
</html>