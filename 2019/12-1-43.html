<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="content-language" content="zh-CN"/>
    <meta name="author" content="WeiyiGeek" />
    <meta name="msvalidate.01" content="5C552FB1D885E0E11D2957EC958C8018" />
    <meta name="shenma-site-verification" content="4c655e91c76be0a93c1b6954c666c9d6_1649049085"/>
    <meta name="bytedance-verification-code" content="lKs4FqwCHSJ3A/c5tT7X" />
    <meta name="sogou_site_verification" content="OC65iET6Bk" />
    
    <title>🌐 MySQL数据库编程基础入门1|WeiyiGeek Blog|唯一极客Geek-IT网络安全运维开发技术知识分享-博客站点</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    
    <meta name="keywords" content="MySQL">
    <meta name="Description" content="WeiyiGeek-唯一极客博客站点,关注于网络安全运维,Web安全开发,IOT物联网安全开发,应用开发,分享技术学习知识与入坑解决,提升网络安全技术与自身技术能力,立志维护大众网络安全为己任,做一个对国家有用的人,为实现中华民族伟大复兴的中国梦不懈奋斗">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/jquery/3.5.2-jquery.fancybox.min.css?v=1.6.6" />
    <link rel="stylesheet" href="/css/style.css?v=1.6.6">
    <!--  -->
     <script type="text/javascript" src="/js/custom/articlecost.js?v=1.6.6"></script> 
    <link rel="stylesheet" href="/css/third-party/gitalk.css?v=1.6.6"> 
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9134434519967436" crossorigin="anonymous"></script>    
    <script type="text/javascript">
        // Data Center
        var DC = {
          reward:	true,
          lv: JSON.parse('{"enable":false,"app_id":null,"app_key":null,"icon":true}'),
          v: JSON.parse('{"enable":false,"appid":null,"appkey":null,"notify":true,"verify":true,"placeholder":"give me some sugers plz...","avatar":"wavatar"}')
        };
    </script>
    <script type="text/javascript">window.lazyScripts=[];</script>
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="WeiyiGeek Blog" type="application/atom+xml">
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="/img/brand.jpg" class="brand-bg" alt="WeiyiGeek-backgroud">
      
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg" alt="WeiyiGeek-头像">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">WeiyiGeek</h5>
          <a href="mailto:master@weiyigeek.top" title="master@weiyigeek.top" class="mail">
            <span>m</span><span>a</span><span>s</span><span>t</span><span>e</span><span>r</span><span>@</span><span>w</span><span>e</span><span>i</span><span>y</span><span>i</span><span>g</span><span>e</span><span>e</span><span>k</span><span>.</span><span>t</span><span>o</span><span>p</span>
          </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://weiyigeek.top/img/wechat-search.png" target="_blank">
                  <i class="icon icon-lg icon-wechat"></i>
                </a>
              </li>
            
              <li>
                <a href="https://github.com/weiyigeek" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
              <li>
                <a href="https://t.me/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-telegram"></i>
                </a>
              </li>
            
              <li>
                <a href="https://twitter.com/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-twitter"></i>
                </a>
              </li>
            
              <li>
                <a href="https://weibo.com/615643678" target="_blank">
                  <i class="icon icon-lg icon-weibo"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                首页
              </a>
            </li>
        
            <li class="">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                文章分类
              </a>
            </li>
        
            <li class="">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                文章标签
              </a>
            </li>
        
            <li class="">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                文章归档
              </a>
            </li>
        
            <li class="">
              <a href="/books"  >
                <i class="icon icon-lg icon-book"></i>
                学习书籍
              </a>
            </li>
        
            <li class="">
              <a href="/about"  >
                <i class="icon icon-lg icon-user"></i>
                关于作者
              </a>
            </li>
        
            <li class="">
              <a href="/links"  >
                <i class="icon icon-lg icon-link"></i>
                站点导航
              </a>
            </li>
        
            <li class="">
              <a href="/img/share-wechat.jpg" target="_blank" >
                <i class="icon icon-lg icon-wechat"></i>
                公众账号
              </a>
            </li>
        
            <li class="">
              <a href="https://space.bilibili.com/385802642" target="_blank" >
                <i class="icon icon-lg icon-youtube-play"></i>
                哔哩哔哩
              </a>
            </li>
        
            <li class="">
              <a href="https://github.com/weiyigeek" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="">
              <a href="https://twitter.com/WeiyiGeek" target="_blank" >
                <i class="icon icon-lg icon-twitter"></i>
                Twitter
              </a>
            </li>
        
            <li class="">
              <a href="https://weibo.com/615643678" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>MySQL数据库编程基础入门1</span>
            
        </div>

        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        

        
            <a href="/atom.xml" class="header-icon pull-right waves-effect waves-circle waves-light">
                <i class="icon icon-lg icon-rss"></i>
            </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="/img/banner.jpg" class="header-bg" alt="文章头部背景">
    <div class="container fade-scale">
        <h1 class="title">MySQL数据库编程基础入门1</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-12-01T13:34:33.000Z" itemprop="datePublished" class="page-time">
  2019-12-01
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Database/">Database</a></li></ul>


            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>


<div class="container body-wrap">
  <article id="post-数据存储/MySQL/MySQL数据库编程基础入门1"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">MySQL数据库编程基础入门1</h1>
        <div class="post-meta">
            <time class="post-time" title="2019-12-01 21:34:33" datetime="2019-12-01T13:34:33.000Z"  itemprop="datePublished">2019-12-01</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Database/">Database</a></li></ul>



            

            


            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <p>[TOC]</p>
<a id="more"></a>
<h4 id="0x00-快速入门"><a href="#0x00-快速入门" class="headerlink" title="0x00 快速入门"></a>0x00 快速入门</h4><p>问:什么是数据库（Database）?</p>
<ul>
<li>1.数据库就是一个文件系统，需要利用特定的命令SQL语句来进行操作;</li>
<li>2.数据库是按照数据结构来组织、存储和管理数据库的建立在计算机存储设备上的仓库（<code>数据库是数据的结构化集合</code>）;</li>
<li>3.数据库赛长期存储在PC中，有组织、可共享的数据集合，数据库中的数据指的是以一定的数据模型组织、描述和存储在一起、尽可能小的冗余度，较高的数据独立性和易扩展性的特点并可在一定的范围内为多个用户共享;</li>
<li>4.具有对象（例如数据库，表，视图，行和列）的逻辑模型提供了灵活的编程环境</li>
</ul>
<p>问:数据库功能作用?</p>
<ol>
<li>存储数据:数据仓库持久化存储;</li>
<li>访问权限:限制不同的角色访问不同的数据库以及表字段;</li>
<li>查询数据:数据查询方便、快捷;</li>
</ol>
<p><br></p>
<h5 id="1-SQL介绍"><a href="#1-SQL介绍" class="headerlink" title="(1) SQL介绍"></a>(1) SQL介绍</h5><p>描述:<code>Structured Query Language</code> 结构化查询语言（非过程性语言）:SQL是用来存取关系数据库的语言，具有查询、操纵、定义和控制关系型数据库的四方面功能;<br>为加强SQL的语言能力，各厂商增强了过程性语言的特征如Oracle的PL/SQL 过程性处理能力，SQL Server、Sybase的T-SQL;</p>
<p><br></p>
<h5 id="2-MySQL介绍"><a href="#2-MySQL介绍" class="headerlink" title="(2) MySQL介绍"></a>(2) MySQL介绍</h5><p>描述:MySQL是最流行的开源SQL数据库管理系统(<code>关系型数据库/NoSQL数据库</code>)，MySQL以联合创始人Monty Widenius的女儿My命名，现在已经被Oracle收购所以由Oracle Corporation开发，分发和支持。有免费的社区版本和收费的EnterPrise版本存在有闭源的风险，但是它的开发者又采用收购前的分支开发出它的兄弟<code>Mariadb数据库</code>两则有一定的异同，并且在CentOS6/7发型版本中默认已不再是MySQL;</p>
<p>MySQL软件提供了一个非常快速的<code>多线程,多用户、健壮的SQL</code>（结构化查询语言）数据库,MySQL服务器用于<code>任务关键型、高负载 生产系统</code>，以及嵌入到大规模部署;</p>
<ul>
<li>1.MySQL是一个数据库管理系统。</li>
<li>2.MySQL数据库是关系型的。</li>
<li>3.MySQL软件是开源的:软件使用GPL（GNU通用公共许可证）</li>
<li>4.MySQL数据库服务器非常快速，可靠，可扩展且易于使用。 </li>
<li>5.MySQL-Server在客户端/服务器或嵌入式系统中运行。</li>
<li>6.MySQL相关支持组件，比如采用PHP和JAVA通过通用数据访问对象进行对数据库进行操作;</li>
</ul>
<p>MySQL的主要功能:</p>
<ul>
<li>内部结构和可移植性<ul>
<li>1.用<code>C和C ++编写</code>适用于不同的编译器和各个系统平台;</li>
<li>2.使用具有独立模块的多层服务器设计，设计为使用内核线程完全多线程，可以轻松使用多个CPU（如果有）。</li>
<li>3.使用MyISAM索引压缩非常快的B树磁盘表（），使用非常快速的基于线程的内存分配系统。</li>
<li>4.使用优化的嵌套循环联接执行非常快速的联接，实现内存中的哈希表，用作临时表。</li>
<li>5.提供事务性和非事务性存储引擎</li>
<li>6.使用高度优化的类库来实现SQL函数，该类库应尽可能快。</li>
<li>7.提供服务器作为在客户端/服务器网络环境中使用的单独程序，以及作为可嵌入（链接）到独立应用程序中的库</li>
</ul>
</li>
<li>繁多的数据类型:<ul>
<li>1.(<code>有符号/无符号</code>)整型 / 浮点型 / 字符型 / 文本类型 / 二进制类型 / 日期时间类型和开放GIS空间类型</li>
<li>2.固定长度和可变长度的字符串类型</li>
</ul>
</li>
<li>声明和函数<ul>
<li>1.SQL的DQL中支持完全运算符计算和函数支持,如<code>WHERE id % 2 = 0;</code>.</li>
<li>2.字符类函数CONNCAT()，统计类函数COUNT()，时间类函数TIMESTAMP()，编码加密类函数md5();</li>
<li>3.支持标准的SQL语法和ODBC语法，比如:GROUP BY和 ORDER BY子句</li>
<li>4.支持左右连接，交叉连接，全连接:<code>LEFT OUTER JOIN和 支持RIGHT OUTER JOIN标准SQL</code></li>
<li>5.函数名称与表或列名称的独立性。例如，ABS是一个有效的列名。唯一的限制是对于函数调用，函数名称和其后的“ (”之间不允许有空格 </li>
</ul>
</li>
<li>安全<ul>
<li>1.连接服务器时，通过对所有密码通信进行加密来实现密码安全。连接验证非常灵活和安全，并且可以进行基于主机的验证。</li>
</ul>
</li>
<li>可扩展性和限制<ul>
<li>1.支持大型数据库:包含5000万条记录的数据库,每个有200,000个表和大约5,000,000,000行,MySQL对数据库的数量本身赛没有限制，但是基础文件系统可能对目录数量有所限制。</li>
<li>2.每个表最多支持64个索引，每个索引可以包含1到16列或部分列。InnoDB表的最大索引宽度为767字节或3072字节</li>
</ul>
</li>
<li>连接协议<ul>
<li>客户端可以使用多种协议连接到MySQL Server,<code>使用TCP / IP套接字进行连接,在Windows系统上使用命名管道进行连接, Windows服务器还支持共享内存连接, Unix系统上客户端可以使用Unix域套接字文件进行连接</code></li>
<li>MySQL客户端程序可以用多种语言编写:<code>C，C ++，Eiffel，Java，Perl，PHP，Python，Ruby和Tcl的API</code></li>
<li>Connector / ODBC（MyODBC）接口为使用ODBC（开放数据库连接）连接的客户端程序提供MySQL支持</li>
<li>Connector / J 接口为使用JDBC连接的Java客户端程序提供MySQL支持</li>
<li>Connector / NET 使开发人员可以轻松创建需要与MySQL安全，高性能数据连接的.NET应用程序。它实现了必需的ADO.NET接口，并集成到ADO.NET感知工具中。</li>
</ul>
</li>
<li>本土化定位<ul>
<li>1.支持不同的字符集可以在编译时和运行时指定它们，可以设置多种语言项客户端提供错误信息;</li>
<li>2.排序和比较是根据默认字符集和排序规则完成的。</li>
<li>3.可以指定时区以及服务器时区的动态修改。</li>
</ul>
</li>
<li>客户端和工具<ul>
<li>1.命令行:  mysqldump | mysqladmin</li>
<li>2.图形化程序: MySQL Workbench</li>
<li>3.检查优化以及表修复: mysqlcheck</li>
<li>4.MyISAM引擎操作工具 myisamchk</li>
</ul>
</li>
</ul>
<p><br></p>
<p>常见的关系化数据库:</p>
<ul>
<li>商业化数据库<ul>
<li>Oracle : <a href="http://www.oracle.com/index.html" target="_blank" rel="noopener">http://www.oracle.com/index.html</a></li>
<li>微软的SQLServer: <a href="http://www.microsoft.com/SQL/default.mspx" target="_blank" rel="noopener">http://www.microsoft.com/SQL/default.mspx</a></li>
<li>IBM 的DB2 : <a href="http://www-306.ibm.com/software/data/db2/9/download.html" target="_blank" rel="noopener">http://www-306.ibm.com/software/data/db2/9/download.html</a></li>
<li>Sybase : <a href="http://www.sybase.com/" target="_blank" rel="noopener">http://www.sybase.com/</a></li>
</ul>
</li>
<li>开源的数据库<ul>
<li>MySQL:<a href="http://www.mysql.com/" target="_blank" rel="noopener">http://www.mysql.com/</a></li>
<li>SQLite:<a href="http://www.sqlite.org/" target="_blank" rel="noopener">http://www.sqlite.org/</a></li>
<li>HSQLDB 纯Java小型数据库:<a href="http://www.hsqldb.org/" target="_blank" rel="noopener">http://www.hsqldb.org/</a></li>
<li>PostgreSQL:<a href="http://www.postgresql.org/" target="_blank" rel="noopener">http://www.postgresql.org/</a></li>
</ul>
</li>
</ul>
<p><br></p>
<p>问:什么是关系型数据库?<br>答:主要是用来描述实体entity与实体之间的关系，比如学生和班级；我们常用E-R关系图来进行数据库表字段设计,E-R()关系图是一个DBA必须需要了解并且掌握的:</p>
<p>问:什么是E-R图?<br>答:E-R图也称实体-联系图(Entity Relationship Diagram)，提供了表示实体类型、属性和联系的方法，用来描述现实世界的概念模型。</p>
<ul>
<li>实体(Entity):方框</li>
<li>属性(Property):椭圆</li>
<li>关系(Relation):菱型</li>
</ul>
<figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200115221136.png" target="_blank" title="WeiyiGeek." data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200115221136.png" alt="WeiyiGeek." title="" class=""></a>
                <p>WeiyiGeek.</p>
            </figure>
<p>问:什么是非关系型数据库(NoSQL)?<br>答:它是一个Key:Value类型的数据库;</p>
<p><br></p>
<h5 id="3-版本特性"><a href="#3-版本特性" class="headerlink" title="(3) 版本特性"></a>(3) 版本特性</h5><p>MySQL发行版本：</p>
<ul>
<li>MySQL Community Server: 社区Community版本免费遵循GPL协议</li>
<li>MySQL Enterprise Server: 企业版本商业用途;</li>
</ul>
<p>MySQL Community 版本：</p>
<ul>
<li>5.7.x 系列 (当前版本 5.7.28)</li>
<li>8.0.x 系列 (当前版本 8.0.20)</li>
</ul>
<p><em>问:MySQL 5.7.x 与 8.0.x 版本有什么区别?</em></p>
<ul>
<li>1.速度:MySQL 8.0 的速度要比 MySQL 5.7 快 2 倍 (光这一个理由即可)</li>
<li>2.性能:读/写工作负载、IO 密集型工作负载、以及高竞争（”hot spot”热点竞争问题）工作负载</li>
<li>3.NoSQL:MySQL 从 5.7 版本开始提供 NoSQL 存储功能,但是8.0系列版本得到了更大的改进该项功能消除了对独立的 NoSQL 文档数据库的需求，而 MySQL 文档存储也为 schema-less 模式的 JSON 文档提供了多文档事务支持和完整的 ACID 合规性。</li>
<li>4.窗口函数(Window Functions):8.0版本新增概念，它可以用来实现若干新的查询方式；它与 SUM()、COUNT() 这种集合函数类似，但它不会将多行查询结果合并为一行，而是将结果放回多行当中，即窗口函数不需要 GROUP BY。</li>
<li>5.隐藏索引:8.0支持索引可以被“隐藏”和“显示”，当对索引进行隐藏时，它不会被查询优化器所使用，<code>可以使用这个特性用于性能调试</code>；<ul>
<li>例如:我们先隐藏一个索引，然后观察其对数据库的影响。如果数据库性能有所下降，说明这个索引是有用的，然后将其“恢复显示”即可；如果数据库性能看不出变化，说明这个索引是多余的可以考虑删掉。</li>
</ul>
</li>
<li>6.降序索引:为索引提供按降序方式进行排序的支持，在这种索引中的值也会按降序的方式进行排序;</li>
<li>7.UTF-8 编码:从 MySQL 8 开始，使用 utf8mb4 作为 MySQL 的默认字符集。</li>
<li>8.JSON:MySQL 8 大幅改进了对 JSON 的支持，添加了基于路径查询参数从 JSON 字段中抽取数据的 <code>JSON_EXTRACT()</code> 函数，以及用于将数据分别组合到 JSON 数组和对象中的<code>JSON_ARRAYAGG() 和 JSON_OBJECTAGG()</code>聚合函数(重点关注) 。</li>
<li>9.可靠性:InnoDB 现在支持表 DDL 的原子性(InnoDB 表上的 DDL 也可以实现事务完整性了)，要么失败回滚要么成功提交，不至于出现 DDL 时部分成功的问题，此外还支持 crash-safe 特性，元数据存储在单个事务数据字典中(重点关注)。</li>
<li>10.安全性:对 OpenSSL 的改进、新的默认身份验证、SQL角色、密码强度、授权。</li>
<li>11.高可用性(High Availability):InnoDB 集群为您的数据库提供集成的原生 HA 解决方案。</li>
<li>12.通用表表达式(Common Table Expressions CTE):在复杂的查询中使用嵌入式表时，使用 CTE 使得查询语句更清晰。</li>
<li>13.MySQL 8.0不支持通过在 数据目录下手动创建目录（例如，使用mkdir）来创建数据库目录 。</li>
</ul>
<p><strong>参考资料:</strong></p>
<ul>
<li>MySQL 8.0 Reference Manual:<a href="https://dev.mysql.com/doc/refman/8.0/en/" target="_blank" rel="noopener">https://dev.mysql.com/doc/refman/8.0/en/</a></li>
<li>详细更新说明：<a href="https://dev.mysql.com/doc/relnotes/mysql/8.0/en/news-8-0-11.html" target="_blank" rel="noopener">https://dev.mysql.com/doc/relnotes/mysql/8.0/en/news-8-0-11.html</a></li>
<li>官方发布说明：<a href="https://blogs.oracle.com/mysql/announcing-general-availability-of-mysql-80" target="_blank" rel="noopener">https://blogs.oracle.com/mysql/announcing-general-availability-of-mysql-80</a></li>
<li>MySQL 8 正式版的新增功能：<a href="https://mysqlserverteam.com/whats-new-in-mysql-8-0-generally-available/" target="_blank" rel="noopener">https://mysqlserverteam.com/whats-new-in-mysql-8-0-generally-available/</a></li>
</ul>
<hr>

<h4 id="0x01-数据库架构"><a href="#0x01-数据库架构" class="headerlink" title="0x01 数据库架构"></a>0x01 数据库架构</h4><p>描述:了解了MySQL数据库架构有助于我们深入学习MySQL,以及后期的性能调优;</p>
<p>MySQL的逻辑架构主要分为三个层次:</p>
<ul>
<li>服务层:为客户端请求做连接处理，授权认证，安全等;</li>
<li>核心层:查询解析，分析，优化，缓存，所有内建函数，存储过程，触发器，视图;</li>
<li>存储引擎层:存储和提取数据以及事务处理;</li>
</ul>
<figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200205181801.png" target="_blank" title="WeiyiGeek.逻辑架构" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200205181801.png" alt="WeiyiGeek.逻辑架构" title="" class=""></a>
                <p>WeiyiGeek.逻辑架构</p>
            </figure>
<p><br></p>
<p><strong>名词解释:</strong></p>
<ul>
<li>客户端:MySQL客户端并不是单单只指界面或者命令行的MySQL数据库连接软件,它是一种复合概念包含了<code>不同的编程语言编写的后端查询存储应用程序以及所调用的API接口</code>; <ul>
<li>比如:MySQL-Client命令行,Native 数据库连接软件,以及PHP的PDO扩展和JAVA的JDBC数据库连接驱动等;</li>
</ul>
</li>
</ul>
<p><br></p>
<p><strong>1.服务层</strong><br>描述:MySQL数据库是一个<code>单进程多线程</code>的应用程序;<br><figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200205182804.png" target="_blank" title="WeiyiGeek.服务层" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200205182804.png" alt="WeiyiGeek.服务层" title="" class=""></a>
                <p>WeiyiGeek.服务层</p>
            </figure></p>
<p><br></p>
<p><strong>2.核心层</strong><br>描述:主要针对于SQL语句进行解析优化,并且查看是否存在缓存记录以提高快速数据查询的效率;</p>
<figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200205183502.png" target="_blank" title="WeiyiGeek.核心层" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200205183502.png" alt="WeiyiGeek.核心层" title="" class=""></a>
                <p>WeiyiGeek.核心层</p>
            </figure>
<p><br></p>
<p><strong>3.存储引擎层</strong><br>描述:有了改层不同的存储引擎,可以根据多个应用场景进行选择不同的存储引擎,他们之间的算法以及IO执行效率都是不同需要根据场景选择。并且他们完美支持WINDOWS/LINUX的文件系统，后面再学习优化的时候重点了解；<br><figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200205183923.png" target="_blank" title="WeiyiGeek.存储引擎层" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200205183923.png" alt="WeiyiGeek.存储引擎层" title="" class=""></a>
                <p>WeiyiGeek.存储引擎层</p>
            </figure></p>
<p><br></p>
<figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200205184805.png" target="_blank" title="WeiyiGeek.MySQL架构总图" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200205184805.png" alt="WeiyiGeek.MySQL架构总图" title="" class=""></a>
                <p>WeiyiGeek.MySQL架构总图</p>
            </figure>
<hr>

<h4 id="0x02-库设计标准和原理"><a href="#0x02-库设计标准和原理" class="headerlink" title="0x02 库设计标准和原理"></a>0x02 库设计标准和原理</h4><p>描述:MySQL数据库服务器、数据库和表的关系:</p>
<ul>
<li>所谓安装数据库服务器，只是在机器上装了一个数据库管理程序，这个管理程序可以管理多个数据库，一般开发人员会针对每一个应用创建一个数据库。</li>
<li>为保存应用中实体的数据，一般会在数据库创建多个表，以保存程序中实体的数据。</li>
<li>数据在数据库中的存储方式:表的一行称之为一条记录;<figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200115171226.png" target="_blank" title="WeiyiGeek.DB数据库和表的关系" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200115171226.png" alt="WeiyiGeek.DB数据库和表的关系" title="" class=""></a>
                <p>WeiyiGeek.DB数据库和表的关系</p>
            </figure>
</li>
</ul>
<p><br></p>
<p><strong>（1）MySQL数据库设计标准(重要):</strong></p>
<ul>
<li>1.数据库：采用小写为首加_下划线连接，例如<code>database_project</code>;</li>
<li>2.数据表：采用小写为首加_下划线连接，例如<code>table_project</code>;</li>
<li>3.数据列：驼峰式命名法第一个单词小写，后面首字母大写，例如<code>displayName</code>;</li>
<li>4.主键(Primary Key):每一个表都应设立主键(快速定位，保证唯一性),主键字段Values一般用整数或短字符串</li>
<li>5.索引(Index):为了能加快某列查询的速度就需要将某列字段添加索引，例如<code>为了加快按日期查询的速度，可以建立生日的索引</code>;</li>
<li>6.连接(JOIN):连接不同表的字段内外连接，左右连接，全连接，交叉链接;</li>
<li>7.外键(FOREIGN KEY):作为一种约束条件用于维护数据的完整性（不让用户乱删、错改）。</li>
</ul>
<p><br></p>
<p><strong>（2）数据库默认库介绍</strong><br>描述:我们通过<code>show databases</code>命令可以看见数据库默认的库，下面我们介绍一下这些库的具体应用;<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MySQL [(none)]&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">7 rows in <span class="keyword">set</span> (<span class="number">0.16</span> sec)</span><br></pre></td></tr></table></figure></p>
<ul>
<li>1.<code>information_schema库</code>: 简称数据字典表示数据的数据里面保存了mysql服务器所有数据库的信息比如数据库的名、数据库的表、访问权限、数据库表的数据类型，数据库索引的信息，其中表是以视图表进行构建的;</li>
<li>2.<code>mysql库</code>: MySQL的核心数据库(<em>类似于sql server中的master表</em>)是数据库用户表、授权表、以及相关库配置表,例如时区ZONE等;</li>
<li>3.<code>performance_schema库</code>: 主要用于收集数据库服务器性能参数，可用于监控服务器在一个较低级别的运行过程中的资源消耗、资源等待等情况;</li>
<li>4.<code>sys库</code>: 库中所有的数据源来自performance_schema。目标是把performance_schema的把复杂度降低，让DBA能更好的阅读这个库里的内容,让DBA更快的了解DB的运行情况</li>
</ul>
<p><br></p>
<p><strong>（3）数据库中表</strong><br>什么是表?<br>答:正如库是存放表的容器，表是存放数据的一种容器。表有row和col组成；在数据库中我们定义列的属性，随着数据一条条的增加，行业不断的增加。所以说<code>列是结构而行是信息</code>;</p>
<p>为什么是表？<br>答:表是关系型数据库的重要基础。数据越大存储管理越麻烦，非常容易导致数据出现问题;</p>
<ul>
<li>不完整</li>
<li>不准确</li>
<li>太多冗余</li>
</ul>
<p>因此关系型数据库中通过表与表之间的关系解决此问题,在表的设计上满足三范式，一共分为6种范式但是往往只是使用前三范式;</p>
<ul>
<li><p>1.第一范式:数据库表中的字段都是单一的属性的不可以再分，这个属性有基本类型构造，对于数据的属性能分就分分到不能再分未至，即一个列就是一个原子;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#比如下面案例前者是不满足第一范式，后者是满足的</span></span><br><span class="line"><span class="comment">#序号 地址</span></span><br><span class="line">1 北京市海淀区南大街</span><br><span class="line"></span><br><span class="line"><span class="comment">#编号 城市 曲线 街道</span></span><br><span class="line">1 北京市 海淀区 南大街</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.第二范式:满足第一范式的基础上，数据库表中不存在非关键字段对任意一候选关键字段的部分函数依赖(部分函数依赖只存在组合关键字中某些字段决定非关键字的情况)，不能存在组合关键字；</p>
<ul>
<li>简单的说需要满足各管各的别相互影响，别把所有的东西都放在一个表里;</li>
<li>比如下面的例子我们可以将下列数据存放为三个表<code>学生表、课程表、成绩表</code>等;</li>
</ul>
</li>
</ul>
<figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200210173650.png" target="_blank" title="WeiyiGeek.第二范式" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200210173650.png" alt="WeiyiGeek.第二范式" title="" class=""></a>
                <p>WeiyiGeek.第二范式</p>
            </figure>
<ul>
<li>3.第三范式:在第二范式的基础上，数据表中如果不存在非关键字段对任意候选关键字段的传递函数依赖则符合第三范式，决定某个字段值必须是主键。<ul>
<li>所谓的传递函数依赖，指的是如果存在A -&gt; B -&gt; C的决定关系，则C传递函数依赖于A，也就是说表中的字段和主键直接对应不同依靠的其他的中间字段;</li>
<li>比如下面的列子中我们可以将以下数据存放为<code>学生表、学院表</code>，其中学院存在于两个表之中;</li>
</ul>
</li>
</ul>
<figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200210173927.png" target="_blank" title="WeiyiGeek.第三范式" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200210173927.png" alt="WeiyiGeek.第三范式" title="" class=""></a>
                <p>WeiyiGeek.第三范式</p>
            </figure>
<p><br></p>
<p><em>简单的说建表原则:</em><br>1) 一对多建表原则</p>
<ul>
<li>比如:分类和商品</li>
<li>原则:在商品表中添加一个外键指向分类表中ID主键;</li>
</ul>
<figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200213200107.png" target="_blank" title="WeiyiGeek." data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200213200107.png" alt="WeiyiGeek." title="" class=""></a>
                <p>WeiyiGeek.</p>
            </figure>
<p>2) 多对多建表原则</p>
<ul>
<li>比如:老师和学生，学生和课程</li>
<li>原则:多建一张中间表，将多对多的关系拆成一对多的关键，并且中间表一般至少有两个外键分别指向来源表;</li>
</ul>
<figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200213200122.png" target="_blank" title="WeiyiGeek." data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200213200122.png" alt="WeiyiGeek." title="" class=""></a>
                <p>WeiyiGeek.</p>
            </figure>
<p>(3) 一对一建表原则</p>
<ul>
<li>比如:公民和身份证,班级和班长</li>
<li>原则:两表行一一对应,可以采用内连接方式直接连接或者采用唯一约束UNIQUE和FOREIGN进行表的绑定主键;</li>
<li>实际用途：可以进行拆表操作，将个人常用信息和不常用信息进行拆分，减少表结构的臃肿;</li>
</ul>
<figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200213200137.png" target="_blank" title="WeiyiGeek." data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200213200137.png" alt="WeiyiGeek." title="" class=""></a>
                <p>WeiyiGeek.</p>
            </figure>
<p><br></p>
<p><strong>（4）表索引Index</strong><br>什么是索引?<br>答:Index索引是帮助MySQL高效获取<code>数据的数据结构</code>。索引在存储引擎中实现，每种存储引擎的索引都不一定完全相同，每种存储引擎也不一定支撑所有的索引类型;</p>
<p>默认数据库查询数据是全表扫描在数据量小的情况下查询效率可以忽略不计，但是对于数据量大的表查询的效率便会大大降低;<br>在创建表的同时创建索引，当对数据库查询的数据建立索引时候采用各类算法以提高查询效率，常规的算法是<code>二叉树算法优化查询</code>,简单的说类似「索引就像书的目录， 通过书的目录就准确的定位到了书籍具体的内容]，只不过这里把引入到数据的物理地址=值;</p>
<p><br></p>
<p><em>索引原理</em><br>1.采用数据结构「平衡树」(非二叉)，也就是b tree或者b+ tree，重要的事情说三遍：“平衡树，平衡树，平衡树”，主流的RDBMS都是把平衡树当做数据表默认的索引数据结构的，有的数据库也使用哈希桶作用索引的数据结构。<br>2.我们平时建表的时候都会为表加上主键， 在某些关系数据库中， 如果建表时不指定主键，数据库会拒绝建表的语句执行。 事实上， 一个加了主键的表，并不能被称之为「表」。一个没加主键的表，它的数据无序的放置在磁盘存储器上，一行一行的排列的很整齐， 跟我认知中的「表」很接近。如果给表上了主键，那么表在磁盘上的存储结构就由整齐排列的结构转变成了树状结构，也就是上面说的「平衡树」结构，换句话说，就是整个表就变成了一个索引。没错， 再说一遍， 整个表变成了一个索引，也就是所谓的「聚集索引」。 这就是为什么一个表只能有一个主键， 一个表只能有一个「聚集索引」，因为主键的作用就是把「表」的数据格式转换成「索引（平衡树）」的格式放置。</p>
<figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200215122543.png" target="_blank" title="WeiyiGeek.平衡树" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200215122543.png" alt="WeiyiGeek.平衡树" title="" class=""></a>
                <p>WeiyiGeek.平衡树</p>
            </figure>
<p>3.其中树的所有结点（底部除外）的数据都是由主键字段中的数据构成，也就是通常我们指定主键的id字段。最下面部分是真正表中的数据。 假如我们执行一个SQL语句：<code>select * from table where id &gt; 89</code>;<br><figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200210202645.png" target="_blank" title="WeiyiGeek.表索引" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200210202645.png" alt="WeiyiGeek.表索引" title="" class=""></a>
                <p>WeiyiGeek.表索引</p>
            </figure></p>
<p>4.假如一张表有一亿条数据 ，需要查找其中某一条数据，按照常规逻辑， 一条一条的去匹配的话， 最坏的情况下需要匹配一亿次才能得到结果，<code>用大O标记法就是O(n)最坏时间复杂度</code>，这是无法接受的，而且这一亿条数据显然不能一次性读入内存供程序使用， 因此这一亿次匹配在不经缓存优化的情况下就是一亿次IO开销,得出结果时候会非常的长;如果把这张表转换成平衡树结构（一棵非常茂盛和节点非常多的树），假设这棵树有10层，那么只需要10次IO开销就能查找到所需要的数据， <code>速度以指数级别提升，用大O标记法就是O(log n)</code>，n是记录总树，底数是树的分叉数，结果就是树的层次数。换言之，查找次数是以树的分叉数为底，记录总数的对数，用公式来表示就是<br><figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200215123238.png" target="_blank" title="WeiyiGeek.Log对数计算查询次数" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200215123238.png" alt="WeiyiGeek.Log对数计算查询次数" title="" class=""></a>
                <p>WeiyiGeek.Log对数计算查询次数</p>
            </figure><br>用程序来表示就是Math.Log(100000000,10)(<code>log以a为底b的对数=n,那么a的n次方=b</code>)，100000000是记录数，10是树的分叉数（真实环境下分叉数远不止10）， 结果就是查找次数，这里的结果从亿降到了个位数。<code>因此利用索引会使数据库查询有惊人的性能提升</code>。</p>
<p>5.非聚集索引是我们平时经常提起和使用的常规索引,非聚集索引和聚集索引一样， 同样是采用平衡树作为索引的数据结构。<br>索引树结构中各节点的值来自于表中的索引字段， 假如给user表的name字段加上索引 ， 那么索引就是由name字段中的值构成，在数据改变时DBMS需要一直维护索引结构的正确性。如果给表中多个字段加上索引 ， <code>那么就会出现多个独立的索引结构，每个索引（非聚集索引）互相之间不存在关联</code>。每次给字段建一个新索引， 字段中的数据就会被复制一份出来， 用于生成索引。 因此给表添加索引，会增加表的体积， 占用磁盘存储空间。<br><figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200215123430.png" target="_blank" title="WeiyiGeek.非聚集索引" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200215123430.png" alt="WeiyiGeek.非聚集索引" title="" class=""></a>
                <p>WeiyiGeek.非聚集索引</p>
            </figure></p>
<p>6.非聚集索引和聚集索引的区别在于， 通过聚集索引可以查到需要查找的数据， 而通过非聚集索引可以查到记录对应的主键值 ， 再使用主键的值通过聚集索引查找到需要的数据,不管以任何方式查询表， 最终都会利用主键通过聚集索引来定位到数据， 聚集索引（主键）是通往真实数据所在的唯一路径。<br><figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200215123659.png" target="_blank" title="WeiyiGeek.非聚集索引和聚集索引的区别" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200215123659.png" alt="WeiyiGeek.非聚集索引和聚集索引的区别" title="" class=""></a>
                <p>WeiyiGeek.非聚集索引和聚集索引的区别</p>
            </figure></p>
<p>7.覆盖索引是一种例外可以不使用聚集索引就能查询出所需要的数据，也就是平时所说的<code>复合索引或者多字段索引查询</code>。 文章上面的内容已经指出当为字段建立索引以后， 字段中的内容会被同步到索引之中，如果为一个索引指定两个字段，那么这个两个字段的内容都会被同步至索引之中。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- SQL语句建立索引</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">index</span> index_birthday <span class="keyword">on</span> user_info(birthday);</span><br><span class="line"><span class="comment">-- 查询生日在1991年11月1日出生用户的用户名</span></span><br><span class="line"><span class="keyword">select</span> user_name <span class="keyword">from</span> user_info <span class="keyword">where</span> birthday = <span class="string">'1991-11-1'</span></span><br></pre></td></tr></table></figure></p>
<p>SQL语句的执行过程如下:</p>
<ul>
<li>首先，通过非聚集索引index_birthday查找birthday等于1991-11-1的所有记录的主键ID值</li>
<li>然后，通过得到的主键ID值执行聚集索引查找，找到主键ID值对就的真实数据（数据行）存储的位置</li>
<li>最后， 从得到的真实数据中取得user_name字段的值返回，也就是取得最终的结果我们把birthday字段上的索引改成双字段的覆盖索引(联合|组合索引):<code>create index index_birthday_and_user_name on user_info(birthday, user_name);</code></li>
</ul>
<p>通过非聚集索引index_birthday_and_user_name查找birthday等于1991-11-1的叶节点的内容，然而， 叶节点中除了有user_name表主键ID的值以外， user_name字段的值也在里面， 因此不需要通过主键ID值的查找数据行的真实所在， 直接取得叶节点中user_name的值返回即可。 通过这种覆盖索引直接查找的方式，可以省略不使用覆盖索引查找的后面两个步骤，大大的提高了查询性能，<br><figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200215124259.png" target="_blank" title="WeiyiGeek.覆盖索引(联合索引)" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200215124259.png" alt="WeiyiGeek.覆盖索引(联合索引)" title="" class=""></a>
                <p>WeiyiGeek.覆盖索引(联合索引)</p>
            </figure></p>
<p><br></p>
<p>索引的分类:</p>
<ul>
<li>1.普通索引:是MySQL的基本索引类型</li>
<li>2.唯一索引:唯一索引对应列的值必须唯一但允许空值；<ul>
<li>2.1 唯一组合索引则列值组合必须是唯一的;</li>
<li>2.2 主键索引是一种特殊的唯一索引它不允许空值;</li>
</ul>
</li>
<li>3.单列索引:指只包含一个列的索引，一个表中可以有多个单列索引;</li>
<li>4.组合索引:指表中的多个字段组合建立索引（遵循做前缀集合），8.X 版本组合索引字段随机适配使用都会走索引;</li>
<li>5.全文索引:FULLTEXT类型索引，可以在CHAR/VARCHAR或者TEXT类型的列上创建，注意仅MYISAM支持;</li>
<li>6.空间索引:对空间数据类型的字段建立索引;</li>
</ul>
<p><br/></p>
<p>依据那些类别进行索引设置原则:</p>
<ul>
<li>1.索引并非越多越好，需要根据实际的应用来设置</li>
<li>2.数据量不多不需要建立索引</li>
<li>3.列中的值变化不多也不需要建立索引</li>
<li>4.经常排序和分组的数据列要建立索引</li>
<li>5.唯一性约束对应使用唯一性索引</li>
</ul>
<p>基础示例:<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 普通索引</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t1 (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    <span class="keyword">INDEX</span> name_in (<span class="keyword">name</span>) <span class="comment">-- 可以设置索引别名值也可以不设置</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 唯一索引</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t2 (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    <span class="keyword">UNIQUE</span> <span class="keyword">INDEX</span> id_ind (<span class="keyword">id</span>) <span class="comment">-- 可以设置索引别名值也可以不设置</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 单列索引</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t3 (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    <span class="keyword">INDEX</span> name_ind (<span class="keyword">name</span>(<span class="number">10</span>)) <span class="comment">-- 可以设置索引别名值也可以不设置</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 组合索引</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t4 (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    age <span class="built_in">INT</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="keyword">INDEX</span> multi_ind (<span class="keyword">id</span>,<span class="keyword">name</span>,age) <span class="comment">-- 只有在查询中id + name 或者 id  + age 或者 id + name + age 才会走索引查询，在8.x是不存在这样的问题，下面演示;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 全文索引</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t4 (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    age <span class="built_in">INT</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    info <span class="built_in">TEXT</span>,</span><br><span class="line">    FULLTEXT <span class="keyword">INDEX</span> (info) <span class="comment">-- 只有在文本类型字符串下使用;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 显示创建数据表的定义</span></span><br><span class="line">MySQL [dd]&gt; show create table t2\G;</span><br></pre></td></tr></table></figure><br><br></p>
<p><strong>索引测试</strong><br>描述:在插入一百万数据后进行数据性能测试;</p>
<ul>
<li>1.分别在有索引和没有索引的情况下执行查询;</li>
<li>2.分别在有索引和没有索引的情况下新增导入数据;</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#测试表1</span></span><br><span class="line">CREATE TABLE indexDemo (</span><br><span class="line">  id int,</span><br><span class="line">  num int,</span><br><span class="line">  pass VARCHAR(50)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">#Linux</span></span><br><span class="line"><span class="keyword">for</span>((i = 1; i &lt;= 100; i++))</span><br><span class="line"><span class="keyword">do</span> </span><br><span class="line">  `mysql -h127.0.0.1 -P9001 -uroot -ppassword<span class="_">-e</span> <span class="string">"INSERT INTO Demo.indexDemo VALUES (<span class="variable">$i</span>,floor(<span class="variable">$i</span>+rand()*<span class="variable">$i</span>),md5(<span class="variable">$i</span>));"</span>`;</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Windows</span></span><br><span class="line"><span class="keyword">for</span> /l %%i <span class="keyword">in</span> (1 1 10000000) <span class="keyword">do</span> mysql -h127.0.0.1 -P9001 -uroot -ppassword<span class="_">-e</span> <span class="string">"INSERT INTO Demo.indexDemo VALUES (%%i,floor(%%i+rand()*%%i),md5(%%i));"</span></span><br></pre></td></tr></table></figure>
<p>验证1:有无索引对查询的影响<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- (1) 利用无索引的ID进行查询</span></span><br><span class="line">MySQL [Demo]&gt; SELECT * FROM indexDemo WHERE id &gt; 500 AND id &lt; 520;</span><br><span class="line">19 rows in <span class="keyword">set</span> (<span class="number">0.08</span> sec);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 有索引表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> indexDemo1 (</span><br><span class="line">  <span class="keyword">id</span> <span class="built_in">int</span>,</span><br><span class="line">  <span class="keyword">num</span> <span class="built_in">int</span>,</span><br><span class="line">  pass <span class="built_in">VARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">  <span class="keyword">index</span> id_ind (<span class="keyword">id</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- (2)对于没有索引表进行导入 (0.10 sec)</span></span><br><span class="line">MySQL [Demo]&gt; CREATE TABLE indexDemo2 like indexDemo;</span><br><span class="line">Query OK, 0 rows affected (0.11 sec)</span><br><span class="line">MySQL [Demo]&gt; INSERT INTO indexDemo2 SELECT * FROM indexDemo;</span><br><span class="line">Query OK, 1657 rows affected (0.10 sec)</span><br><span class="line">Records: 1657  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- (3)对于添加了索引表进行导入 (0.11 sec)</span></span><br><span class="line">MySQL [Demo]&gt; INSERT INTO indexDemo1 SELECT * FROM indexDemo;</span><br><span class="line">Query OK, 1657 rows affected (0.11 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- (4) 利用有索引的ID进行查询 0.06 sec</span></span><br><span class="line">MySQL [Demo]&gt; EXPLAIN SELECT * FROM indexDemo1 WHERE id &gt; 1500 AND id &lt; 1520\G;</span><br><span class="line">           id: 1</span><br><span class="line">  select_type: SIMPLE</span><br><span class="line">        table: indexDemo1</span><br><span class="line">   partitions: NULL</span><br><span class="line">         type: range</span><br><span class="line">possible_keys: id_ind</span><br><span class="line">          key: id_ind</span><br><span class="line">      key_len: 5</span><br><span class="line">          ref: NULL</span><br><span class="line">         rows: 19</span><br><span class="line">     filtered: 100.00</span><br><span class="line">        Extra: Using index condition</span><br><span class="line">1 row in <span class="keyword">set</span>, <span class="number">1</span> <span class="keyword">warning</span> (<span class="number">0.06</span> sec)</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><em>注意事项:</em></p>
<ul>
<li>1.在MySQL 5.7 版本下创建组合索引，只有在使用最左侧字段索引值加其他字段则走索引，否则不走索引比如下图所示，但是在MySQL 8.0不存在该情况;<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">MySQL [dd]&gt; INSERT INTO t4 VALUES</span><br><span class="line">    -&gt; (1,'aaa',10),</span><br><span class="line">    -&gt; (2,'bbb',13),</span><br><span class="line">    -&gt; (3,'ccc',18),</span><br><span class="line">    -&gt; (4,'ddd',24),</span><br><span class="line">    -&gt; (5,'eee',80);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查看查询是否走索引(后面优化常常用到)</span></span><br><span class="line">MySQL [dd]&gt; explain SELECT name,age FROM t4 WHERE id &gt; 3 AND age &lt; 80\G;</span><br><span class="line"><span class="comment">-- id: 1</span></span><br><span class="line"><span class="comment">-- select_type: SIMPLE</span></span><br><span class="line"><span class="comment">-- table: t4</span></span><br><span class="line"><span class="comment">-- partitions: NULL</span></span><br><span class="line"><span class="comment">-- type: range</span></span><br><span class="line"><span class="comment">-- possible_keys: PRIMARY,multi_ind -- 关键点</span></span><br><span class="line"><span class="comment">-- key: multi_ind</span></span><br><span class="line"><span class="comment">-- key_len: 4</span></span><br><span class="line"><span class="comment">-- ref: NULL</span></span><br><span class="line"><span class="comment">-- rows: 2</span></span><br><span class="line"><span class="comment">-- filtered: 33.33 -- 关键点</span></span><br><span class="line"><span class="comment">-- Extra: Using where; Using index -- 关键点</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 不加id为查询条件的时候就可以看见异同由于此处是在MySQL8.x版本执行所以只是没有走主键但是任然走的是索引； </span></span><br><span class="line">MySQL [dd]&gt; explain SELECT name,age FROM t4 WHERE age &lt; 80\G;</span><br><span class="line"><span class="comment">-- id: 1</span></span><br><span class="line"><span class="comment">-- select_type: SIMPLE</span></span><br><span class="line"><span class="comment">-- table: t4</span></span><br><span class="line"><span class="comment">-- partitions: NULL</span></span><br><span class="line"><span class="comment">-- type: index</span></span><br><span class="line"><span class="comment">-- possible_keys: multi_ind</span></span><br><span class="line"><span class="comment">-- key: multi_ind</span></span><br><span class="line"><span class="comment">-- key_len: 1031</span></span><br><span class="line"><span class="comment">-- ref: NULL</span></span><br><span class="line"><span class="comment">-- rows: 5</span></span><br><span class="line"><span class="comment">-- filtered: 33.33</span></span><br><span class="line"><span class="comment">-- Extra: Using where; Using index</span></span><br><span class="line"><span class="comment">-- 1 row in set, 1 warning (0.11 sec)</span></span><br></pre></td></tr></table></figure>
<figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200210221514.png" target="_blank" title="WeiyiGeek.5.7.28组合索引的影响" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200210221514.png" alt="WeiyiGeek.5.7.28组合索引的影响" title="" class=""></a>
                <p>WeiyiGeek.5.7.28组合索引的影响</p>
            </figure></li>
<li>2.<code>RESET QUERY CACHE</code> 刷新查询缓存命令在5.7及以前的版本存在MySQL 8.x 被丢弃，以防止测试数据不准确;</li>
<li>3.对于没有添加索引的表导入数据相比较于有索引的表要快一点，但是在MySQL 8.X 版本其差别不是怎么明显;</li>
</ul>
<p><br></p>
<p><strong>总结:</strong></p>
<ul>
<li>1.在关系型数据库中突出强调的就是利用数据之间的关系设计表，用表作为数据的容器;</li>
<li>2.表的设计要综合考虑很多因素，参考三范式进行合理规划;</li>
<li>3.索引的本质是一种数据结构，牢记索引的设计原则，<code>FULLTEXT索引仅仅能在MYISAM上使用</code>，数据量巨大的表要慎重操作索引(多选择需要查询的列),索引的管理可以使用多种不同的方法。</li>
</ul>
<hr>

<h4 id="0x03-库管理工具"><a href="#0x03-库管理工具" class="headerlink" title="0x03 库管理工具"></a>0x03 库管理工具</h4><p><strong>1.phpMyAdmin</strong><br>安装环境：CentOS Linux release 7.6.1810 (Core) / httpd / php<br>官网：<a href="https://www.phpmyadmin.net/" target="_blank" rel="noopener">https://www.phpmyadmin.net/</a></p>
<p><em>流程步骤</em>：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#php版本</span></span><br><span class="line">php -v</span><br><span class="line"><span class="comment"># PHP 7.3.6 (cli) (built: May 28 2019 09:32:59) ( NTS )</span></span><br><span class="line"><span class="comment"># Copyright (c) 1997-2018 The PHP Group</span></span><br><span class="line"><span class="comment"># Zend Engine v3.3.6, Copyright (c) 1998-2018 Zend Technologies</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#我也安装php73的httpd解析php模块</span></span><br><span class="line">$ ll /etc/httpd/modules/</span><br><span class="line">总用量 6940</span><br><span class="line">-rwxr-xr-x. 1 root root 4588224 10月 31 2018 libphp7.so</span><br><span class="line"></span><br><span class="line"><span class="comment">#下载phpmyadmin并解压到/var/html/www/中</span></span><br><span class="line">wget https://files.phpmyadmin.net/phpMyAdmin/4.8.5/phpMyAdmin-4.8.5-all-languages.zip</span><br><span class="line">unzip /opt/phpMyAdmin-4.8.5-all-languages.zip -d /var/www/html/</span><br><span class="line">mv phpMyAdmin-4.8.5-all-languages/ phpMyAdmin/</span><br><span class="line"></span><br><span class="line"><span class="comment">#调整防火墙</span></span><br><span class="line">[root@amoabe html]<span class="comment"># firewall-cmd --add-port=80/tcp --permanent</span></span><br><span class="line">success</span><br><span class="line">[root@amoabe html]<span class="comment"># firewall-cmd --reload</span></span><br><span class="line">success</span><br><span class="line"></span><br><span class="line"><span class="comment">#修改配置使其可以连接到其他的机器上：</span></span><br><span class="line">vim /var/www/html/phpMyAdmin/libraries/config.default.php</span><br><span class="line"><span class="variable">$cfg</span>[<span class="string">'AllowArbitraryServer'</span>] = <span class="literal">true</span>; <span class="comment">#修改为true</span></span><br></pre></td></tr></table></figure></p>
<p>查看phpmyadmin后台：<br><figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190602114848.png" target="_blank" title="WeiyiGeek.phpmyadmin" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190602114848.png" alt="WeiyiGeek.phpmyadmin" title="" class=""></a>
                <p>WeiyiGeek.phpmyadmin</p>
            </figure></p>
<p>登录成功后：<br><figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190602141154.png" target="_blank" title="WeiyiGeek.phpmyadmin后台" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190602141154.png" alt="WeiyiGeek.phpmyadmin后台" title="" class=""></a>
                <p>WeiyiGeek.phpmyadmin后台</p>
            </figure></p>
<p><br></p>
<p><strong>入坑解决</strong><br><em>问题1：phpMyAdmin - 错误缺少 mysqli 扩展</em><br><figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190602113547.png" target="_blank" title="WeiyiGeek.错误" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2019/20190602113547.png" alt="WeiyiGeek.错误" title="" class=""></a>
                <p>WeiyiGeek.错误</p>
            </figure><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">原因：由于phpmyadmin需要用到mysqli扩展,而默认php7.3未安装</span><br><span class="line">解决方法：yum --enablerepo=remi-php73 install -y php php-mysqli</span><br></pre></td></tr></table></figure></p>
<p><em>问题2：phpMyAdmin配置文件现在需要一个短语密码的解决方法;</em><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#在phpMyAdmin目录中找到“config.inc.php”，然后用编辑器打开 config.inc.php （如果没有，那就找到另一个文件“config.sample.inc.php”，重命名为“config.inc.php”）搜索下面一行代码：</span></span><br><span class="line">phpMyAdmin/config.sample.inc.php</span><br><span class="line">phpMyAdmin/libraries/config.default.php</span><br><span class="line"><span class="variable">$cfg</span>[<span class="string">'blowfish_secret'</span>] = <span class="string">'12312321312312312@thisisasecret@2019'</span>;</span><br></pre></td></tr></table></figure></p>
<p><em>问题3:变量 $cfg[‘TempDir’] （./tmp/）无法访问， phpMyAdmin无法缓存模板文件，所以会运行缓慢。</em><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@amoabe phpMyAdmin]<span class="comment"># mkdir tmp</span></span><br><span class="line">[root@amoabe phpMyAdmin]<span class="comment"># chmod 777 tmp</span></span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>2.Adminer</strong><br>描述:Adminer（原phpMinAdmin）是用PHP编写的一个功能完备的数据库管理工具,它由一个单一的文件准备部署到目标服务器。<br>Adminer可用于 <code>MySQL, MariaDB, PostgreSQL, SQLite, MS SQL, Oracle, Firebird, SimpleDB, Elasticsearch and MongoDB</code>.</p>
<p>官网地址:<a href="https://www.adminer.org/en/" target="_blank" rel="noopener">https://www.adminer.org/en/</a><br>Adminer主题文件:<a href="https://raw.githubusercontent.com/vrana/adminer/master/designs/flat/adminer.css" target="_blank" rel="noopener">https://raw.githubusercontent.com/vrana/adminer/master/designs/flat/adminer.css</a></p>
<p>Adminer特点：</p>
<ul>
<li>1.安全</li>
<li>2.用户体验</li>
<li>3.性能</li>
<li>4.功能设置</li>
<li>5.大小</li>
</ul>
<p>Admier功能：</p>
<ul>
<li>基础SQL语句数据库增删改查,在表中列出搜索、聚合、排序和限制结果的数据</li>
<li>列出表的字段、索引、外键和触发器</li>
<li>添加和删除表和列</li>
<li>更改表的名称、引擎、排序规则、auto_increment和注释</li>
<li>更改列的名称、类型、排序规则、注释和默认值</li>
<li>创建，修改，删除和搜索索引包括全文 、外键、视图、存储过程和函数、触发器；</li>
<li>支持通过文件传输的所有数据类型，SQL语句执行导出表结构，数据，视图，例程，数据库到SQL或CSV；</li>
<li>管理事件和表分区(MySQL 5.1)</li>
</ul>
<figure class="image-box">
                <a rel=MySQL数据库编程基础入门1 href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200106094556.png" target="_blank" title="WeiyiGeek.demo" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200106094556.png" alt="WeiyiGeek.demo" title="" class=""></a>
                <p>WeiyiGeek.demo</p>
            </figure>
<p>Adminer安装：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#方式1:采用XMAPP集成环境进行安装然后将其拖入webRoot中</span></span><br><span class="line"><span class="comment">#方式2:采用Docker容器运行它</span></span><br><span class="line">docker pull adminer <span class="comment">#默认lastest版本及最新版本</span></span><br><span class="line">docker run --restart=always -P 80:8080 adminer</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>3.SQLyou</strong><br>描述:无代理和经济有效的MySQL客户端用于管理(SQLyog)和监视性能的工具(SQLDiagnostic Managerfor MySQL (formerly Monyog))<br>官网地址:<a href="https://www.webyog.com/" target="_blank" rel="noopener">https://www.webyog.com/</a><br>下载地址:<a href="https://static.webyog.com/downloads/SQLyog-13.1.5-0.x64Trial.exe" target="_blank" rel="noopener">https://static.webyog.com/downloads/SQLyog-13.1.5-0.x64Trial.exe</a></p>
<hr>

<h4 id="0x04-数据类型"><a href="#0x04-数据类型" class="headerlink" title="0x04 数据类型"></a>0x04 数据类型</h4><p>描述:什么是数据类型?为什么要出现数据类型?<br>答:定义数据类型的本质是在定义列，因为不同的数据类型可以存储并且高效处理各类数据，并且进行数据处理的方式算法也是有所不同的;</p>
<p>数据分类的意义：</p>
<ul>
<li>分配合适得存储空间,不同的数据类型其存储空间是不一致的;</li>
<li>采用不同的操作方法,不同的数据类型其数据操作处理是不一致的;</li>
<li>对应不同的需求,不同的应用对于数据类型的需求是不一致的;</li>
</ul>
<p>MySQL数据类型大致分为以下几类:</p>
<ul>
<li>整型:<code>TINYINT、SMALLINT、MEDIUMINT、INT、BIGINT</code></li>
<li>浮点型:<code>FLOAT、DOUBLE、DECIMAL(M,D)</code></li>
<li>布尔型:<code>BOOL、BOOLEAN</code></li>
<li>文本型:<code>CHAR(M)、VARCHAR(M),TINYTEXT,MEDIUMTEXT,TEXT,LONGTEXT</code></li>
<li>二进制型:<code>TINYBLOB、MEDIUMBLOB、BLOB、LONGBLOB</code></li>
<li>日期时间型:<code>YEAR、TIME、DATE、DATETIME、TIMESTAMP</code></li>
<li>枚举类型:<code>SET、ENUM</code></li>
</ul>
<p><br></p>
<p><strong>整型</strong><br>MySQL中提供多种对于数值的数据类型,不同的数据类型取值范围是不同的，其取值范围越大需要的空间也就越多(注意有无符号数据取值范围);<br>类型如下:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看帮助 help decimal</span></span><br><span class="line">TINYINT   微小     1B  0-255     -128~127      年龄(age)</span><br><span class="line">SMALLINT  小       2B  0-65535   -32768~32767  技能(skills),员工(id)</span><br><span class="line">MEDIUMINT 中等大小 3B  0-2^24-1  -2^23~2^23-1  行数多(rownum)建议自增长</span><br><span class="line">INT       普通大小 4B  0-2^32-1  -2^31~2^31-1  金钱(money)</span><br><span class="line">BIGINT    大       8B  0-2^64-1  -2^63~2^63-1  人口(Population)</span><br><span class="line"></span><br><span class="line"><span class="comment">#定义关键字</span></span><br><span class="line">UNSIGNED:有符号的数据类型</span><br><span class="line">ZEROFILL:长度不够填充置0</span><br></pre></td></tr></table></figure></p>
<p>基础示例:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 整型无符号与有符号定义</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tinyintsigned(</span><br><span class="line">  col1 <span class="built_in">TINYINT</span>   <span class="comment">-- 默认是有符号</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tinyintUnsigned(</span><br><span class="line">  col1 <span class="built_in">TINYINT</span> <span class="keyword">UNSIGNED</span>  <span class="comment">-- 定义无符号</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 设置显示位数一般没有作用,只有在设置填充时候</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> intbit(</span><br><span class="line">  col1 <span class="built_in">INT</span>(<span class="number">3</span>) ZEROFILL <span class="comment">-- 长度不够则填充0</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> intbit <span class="keyword">VALUES</span> (<span class="number">123</span>),(<span class="number">12</span>),(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> intbit;</span><br><span class="line"><span class="comment">-- 执行结果：</span></span><br><span class="line"><span class="comment">-- col1</span></span><br><span class="line"><span class="comment">-- 123</span></span><br><span class="line"><span class="comment">-- 012</span></span><br><span class="line"><span class="comment">-- 001</span></span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>浮点型</strong><br>描述:主要为了存储带小数的类型,常常用浮点数和定点数类型用来存储带小数,并且使用(M,D)定点数方式设定M精度和D标度(小数位数);</p>
<p>类型如下:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FLOAT  单精度  4B</span><br><span class="line">DOUBLE 双精度  8B</span><br><span class="line">DECIMAL 定点数  M&gt;D(M+2),M&lt;D(D+2) 其默认值(10,0) [UNSIGNED|ZEROFILL]</span><br></pre></td></tr></table></figure></p>
<p>基础示例:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 浮点数的案例</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> floatDemo(</span><br><span class="line">    col1 <span class="built_in">FLOAT</span>(<span class="number">3</span>,<span class="number">2</span>) <span class="comment">-- 定点数方式</span></span><br><span class="line">); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> floatDemo <span class="keyword">VALUES</span> (<span class="number">3.3</span>),(<span class="number">3.33</span>),(<span class="number">3.333</span>),(<span class="number">3.335</span>);</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> floatDemo;</span><br><span class="line"><span class="comment">-- 执行效果:</span></span><br><span class="line"><span class="comment">-- col1</span></span><br><span class="line"><span class="comment">-- 3.30 位数不够采用0补齐</span></span><br><span class="line"><span class="comment">-- 3.33 </span></span><br><span class="line"><span class="comment">-- 3.33 超出了精度范围，只留下两位小数</span></span><br><span class="line"><span class="comment">-- 3.34 四舍五入第三位小数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 注意事项:插入数值小数点前的数值长度大于精度长度而还需要满足小数点后面的两位则会查询出错超出定义的范围;</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> floatDemo <span class="keyword">VALUES</span> (<span class="number">33.33</span>)</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> floatDemo <span class="keyword">VALUES</span> (<span class="number">33.3</span>)</span><br><span class="line">查询出错 (<span class="number">1264</span>): <span class="keyword">Out</span> <span class="keyword">of</span> <span class="keyword">range</span> <span class="keyword">value</span> <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">'col1'</span> <span class="keyword">at</span> <span class="keyword">row</span> <span class="number">1</span> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 定点数案例</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> decimalDemo(</span><br><span class="line">  col1 <span class="built_in">DECIMAL</span>(<span class="number">5</span>,<span class="number">3</span>) ZEROFILL<span class="comment">-- 表示 2位整数，3位小数</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> decimalDemo <span class="keyword">VALUES</span> (<span class="number">79.55</span>),(<span class="number">79.555</span>),(<span class="number">70.554</span>),(<span class="number">79.5556</span>);</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> decimalDemo;</span><br><span class="line"><span class="comment">-- 执行结果：col1</span></span><br><span class="line"><span class="comment">-- 79.550</span></span><br><span class="line"><span class="comment">-- 79.555</span></span><br><span class="line"><span class="comment">-- 70.554</span></span><br><span class="line"><span class="comment">-- 79.556  也是四舍五入</span></span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>文本类型</strong><br>描述:字符串类型是一个统称它可以包含多种不同的数据类型,分为<code>文本字符串类型</code>和<code>二进制字符串类型</code>,它不仅可以存储字符串还可以存储其他的数据类型;<br>基础类型:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CHAR(M)     定长字符串   0~255B    1&lt;= M &lt;= 255</span><br><span class="line">VARCHAR(M)  变长字符串   0~65535B  L+1B L &lt;= M </span><br><span class="line"></span><br><span class="line"><span class="comment">#TEXT类型及其子类型用于存储比较长的非二进制字符串,例如文章或者评论可将TEXT当做VARCHAR加长增强版;</span></span><br><span class="line">TINYTEXT   0~255B 短文本字符串           &lt; 2^8</span><br><span class="line">TEXT       0-65535B 长文本数据           &lt; 2^16</span><br><span class="line">MEDIUMTEXT 0-16777215B 中等长度文本数据  &lt; 2^24</span><br><span class="line">LONGTEXT   0~4294967295B 极大文本数据    &lt; 2^32</span><br></pre></td></tr></table></figure></p>
<p>基础示例:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- CAHR 与 VARCHAR 类型异同</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> chardemo (</span><br><span class="line">    col1 <span class="built_in">CHAR</span>(<span class="number">4</span>),  <span class="comment">-- 非常注意定义存储长度</span></span><br><span class="line">    col2 <span class="built_in">VARCHAR</span>(<span class="number">4</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> chardemo <span class="keyword">VALUES</span> (<span class="string">'ab  '</span>,<span class="string">'ab  '</span>),(<span class="string">'abc'</span>,<span class="string">'abc'</span>),(<span class="string">'abcd'</span>,<span class="string">'abcd'</span>);;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">concat</span>(col1,<span class="string">'!'</span>),<span class="keyword">concat</span>(col2,<span class="string">'!'</span>) <span class="keyword">FROM</span> chardemo;</span><br><span class="line"><span class="comment">-- 执行结果:</span></span><br><span class="line"><span class="comment">-- concat(col1,'!')	concat(col2,'!')</span></span><br><span class="line"><span class="comment">-- ab!	ab  !   前者char后者varchar</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> col1,<span class="keyword">length</span>(col1),col2,<span class="keyword">length</span>(col2) <span class="keyword">FROM</span> chardemo;</span><br><span class="line"><span class="comment">-- 不同类型存入长度结果</span></span><br><span class="line"><span class="comment">-- col1	length(col1)	col2	length(col2)</span></span><br><span class="line"><span class="comment">-- ab	2	ab  	4    区别之处在于补空格占位前者不算，而后者是存入了空格</span></span><br><span class="line"><span class="comment">-- abc	3	abc	3</span></span><br><span class="line"><span class="comment">-- abcd	4	abcd	4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- TEXT类型与其子类型案例演示</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> textdemo(</span><br><span class="line">    col1 <span class="built_in">TEXT</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> textdemo <span class="keyword">VALUES</span> (<span class="string">'abc'</span>),(<span class="string">'ABC'</span>);</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> textdemo <span class="keyword">WHERE</span> col1 <span class="keyword">like</span> <span class="string">'ab'</span>; <span class="comment">-- 关键点:模糊查询 MySQL 8.0 Text文本类型是区分大小写的;</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> textdemo <span class="keyword">WHERE</span> col1 <span class="keyword">like</span> <span class="string">'%'</span>; <span class="comment">-- 关键点:模糊查询;</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> textdemo <span class="keyword">WHERE</span> col1 <span class="keyword">like</span> <span class="string">'a%'</span></span><br><span class="line"><span class="comment">-- 执行结果 col1</span></span><br><span class="line"><span class="comment">-- abc</span></span><br></pre></td></tr></table></figure></p>
<p>注意事项:</p>
<ul>
<li>1.字符串可以区分或者不区分大小写(TEXT类型-MySQL 5.7以下)的串比较匹配查询,并且支持进行模式匹配查询。</li>
<li>2.CHAR类型需要补空格占位,而VARCHAR则是不需要的存入是什么样的显示就是什么样的;</li>
<li>3.在插入数据不满足设定的值长度示进行截断,但是需要依赖<code>sql_mode变量参数</code>的值为空就可不报错插入否则不满足则执行严格的模式;<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> <span class="keyword">variables</span> <span class="keyword">like</span> <span class="string">'sql_mode'</span>;</span><br><span class="line"><span class="keyword">SET</span> sql_mode=<span class="string">''</span>;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> chardemo <span class="keyword">VALUES</span> (<span class="string">'ABCDEFG'</span>，<span class="string">'ABCDEFG'</span>); <span class="comment">-- 修改sql_mode后可以根据值设置进行截断插入</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> chardemo;</span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">warnings</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 执行结果：</span></span><br><span class="line"><span class="comment">-- Variable_name	Value</span></span><br><span class="line"><span class="comment">-- sql_mode	ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION</span></span><br><span class="line"><span class="comment">-- col1	col2</span></span><br><span class="line"><span class="comment">-- ABCD	ABCD</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p><strong>二进制类型</strong><br>描述:二进制类型及其子类型是用于存储二进制数据的类型(no character set)以bytes为单位存储和比较，是文本类型的另外一种存储类型，可以存储声音/图像以及视频的数据;</p>
<p>基础类型:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">TINYBLOB     0~255B 不超过255个字符的二进制字符串    &lt; 2^8</span><br><span class="line">BLOB         0~65535  二进制形式的长文本数据        &lt; 2^16</span><br><span class="line">MEDIUMBLOB   0-16777215B 二进制形式中等长文本数据  &lt; 2^24</span><br><span class="line">BIGBLOB      0-4294967295B 二进制形式极大文本数据  &lt; 2^32</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>日期时间类型</strong><br>描述:提供多种用于存储日期和时间的类型，根据需求在开发时候进行选择并且注意格式;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">YEAR(M) YY|YYYY(M代表2|4)  1B  1901~2155(4位)/1970~2069(2位) MySQL5.X</span><br><span class="line">TIME    HH:MM:SS           3B  -838:59:59~838:59:59</span><br><span class="line">DATE    YYYY:MM:DD         3B  1000-01-01 ~ 9999-12-31</span><br><span class="line">DATETIME  年月日时分秒     8B  1000-01-01 00:00:00 ~ 9999-12-31 23:59:59         <span class="comment">#实际开发中不建议使用此种类型</span></span><br><span class="line">TIMESTAMP  年月日时分秒     4B  1970-01-01 00:00:00 UTC ~ 2038-01-19 03:14:07 UTC <span class="comment">#会受到系统时区影响</span></span><br></pre></td></tr></table></figure></p>
<p>基础示例:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 特殊类型插入值演示</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> yeardemo(</span><br><span class="line">    col1 <span class="keyword">YEAR</span>(<span class="number">4</span>),</span><br><span class="line">    col2 <span class="keyword">YEAR</span> <span class="comment">-- MySQL 8.0 没有YEAR(2),默认同上</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> yeardemo <span class="keyword">VALUE</span> (<span class="number">2020</span>,<span class="number">20</span>),(<span class="number">0</span>,<span class="number">0</span>),(<span class="string">'0'</span>,<span class="string">'0'</span>); <span class="comment">-- 注意此处的‘’</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> yeardemo;</span><br><span class="line"><span class="comment">-- 执行结果:</span></span><br><span class="line"><span class="comment">-- col1	col2</span></span><br><span class="line"><span class="comment">-- 2020	2020</span></span><br><span class="line"><span class="comment">-- 0000	0000</span></span><br><span class="line"><span class="comment">-- 2000	2000  关键点</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- TIME类型演示</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> timedemo(</span><br><span class="line">    col1 <span class="built_in">TIME</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> timedemo <span class="keyword">VALUES</span> (<span class="string">'10:59:59'</span>),(<span class="number">1122</span>),(<span class="string">'1122'</span>),(<span class="string">'2 10:10'</span>),(<span class="string">'2 10'</span>),(<span class="string">'10'</span>); <span class="comment">-- 注意单引号和不加单引号的区别</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> timedemo;</span><br><span class="line"><span class="comment">-- 执行结果：</span></span><br><span class="line"><span class="comment">-- col1</span></span><br><span class="line"><span class="comment">-- 10:59:59</span></span><br><span class="line"><span class="comment">-- 00:11:22</span></span><br><span class="line"><span class="comment">-- 00:11:22</span></span><br><span class="line"><span class="comment">-- 58:10:00   表示两天+10小时零10分钟，最右边的数字开头是从小时开始计算</span></span><br><span class="line"><span class="comment">-- 58:00:00</span></span><br><span class="line"><span class="comment">-- 00:00:10  不加:符号时候默认右侧是秒</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入值不能转换成为时间时候会报错(不正确的时间值)</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> timedemo <span class="keyword">VALUES</span> (<span class="number">6565</span>);</span><br><span class="line">查询出错 (1292): Incorrect time value: '6565' for column 'col1' at row 4 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- DATE类型演示</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> datedemo(</span><br><span class="line">  col1 <span class="built_in">DATE</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> datedemo <span class="keyword">VALUES</span> (<span class="string">'2020-2-2'</span>),(<span class="string">'20-02-02'</span>),(<span class="string">'20-2-2'</span>); <span class="comment">-- 注意引号</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> datedemo; <span class="comment">-- 执行结果: col1 都是 2020-02-02</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- DATETIME 类型演示:在实际开发中不建议使用此种类型由于其每次插入都多占2子节相对比与date 、 TIME 类型</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> datetimedemo(</span><br><span class="line">    col1 DATETIME</span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> datetimedemo <span class="keyword">VALUES</span> (<span class="string">'2020-02-2'</span>),(<span class="string">'20-2-2 10:00:59'</span>),(<span class="string">'10$10$10 23:59:59'</span>); <span class="comment">-- 注意此处可以不采用-作为日期分割符号</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> datetimedemo;</span><br><span class="line"><span class="comment">-- 执行结果col1:</span></span><br><span class="line"><span class="comment">-- 2020-02-02 00:00:00</span></span><br><span class="line"><span class="comment">-- 2020-02-02 10:00:59</span></span><br><span class="line"><span class="comment">-- 2010-10-10 23:59:59</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- TIMESTMP 类型演示:该值受到系统时区的影响</span></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">variables</span> <span class="keyword">like</span> <span class="string">'time_zone'</span></span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">time_zone</span>=<span class="string">'+8:00'</span> <span class="comment">-- 设置当前时区加8小时</span></span><br><span class="line"><span class="comment">-- Variable_name	Value</span></span><br><span class="line"><span class="comment">-- time_zone	SYSTEM</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> timestampdemo(</span><br><span class="line">    col1 <span class="built_in">TIMESTAMP</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> timestampdemo <span class="keyword">VALUES</span> (<span class="keyword">NOW</span>());</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> timestampdemo;</span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">time_zone</span>=<span class="string">'+8:00'</span>;  <span class="comment">-- 会将时间+8小时</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> timestampdemo;</span><br><span class="line"><span class="comment">-- 执行结果:</span></span><br><span class="line"><span class="comment">-- col1 2020-02-02 06:44:04</span></span><br><span class="line"><span class="comment">-- col1 2020-02-02 14:44:04 直接在源数据上+8小时</span></span><br></pre></td></tr></table></figure></p>
<p>注意事项:</p>
<ul>
<li>在年份中使用’’单引号的时候,会将其中数值当做年份的最右侧的值，比如’0’默认值为2000年,MySQL默认匹配更多的值;</li>
<li>由于MySQL支持不严格的语句匹配的特性所以输入日期类型值是非常灵活的;</li>
<li>在实际开发中建议使用DATE+TIME或者TIMESTAMP代替DATETIME类型;</li>
</ul>
<p><br></p>
<p><strong>枚举类型</strong><br>描述:其本质是文本字符串类型的一种延伸类型；</p>
<ul>
<li>1.<code>ENUM类型:</code>存储的数据好比是单项选择题，其存储的值为表创建定义的枚举中的值选取一个,输入其他值则会报错;</li>
<li>2.<code>SET类型:</code>存储的数据好比是多项选择题，其存储的值也必须是表创建定义的一系列的值，但是不同于ENUM类型的是它可以存入单个或者多个定义的枚举值;</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ENUM 枚举类型 1~2B 存储需求1 or 2 bytes</span><br><span class="line">SET 设置类型  1~8B 存储需求取决于集合成员数量;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>实际案例:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1.ENUM类型</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> enumDemo(</span><br><span class="line">  sex ENUM(<span class="string">'F'</span>,<span class="string">'M'</span>,<span class="string">'UN'</span>) <span class="comment">-- 插入的值只能是其中之一</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 2.SET类型</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> setDemo(</span><br><span class="line">  kemu <span class="keyword">SET</span>(<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>) <span class="comment">-- 可以插入单个或者多个枚举值;</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> setDemo <span class="keyword">VALUES</span> (<span class="string">'a'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> setDemo <span class="keyword">VALUES</span> (<span class="string">'a,b'</span>); <span class="comment">-- 关键点不是需要包含在一起</span></span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h4 id="0x05-类型选择"><a href="#0x05-类型选择" class="headerlink" title="0x05 类型选择"></a>0x05 类型选择</h4><p><strong>(1) 字符串类型的选择</strong></p>
<ul>
<li>1.不同的数据引擎选择倾向不同;<ul>
<li>MYISAM:读多写少的场景 char性能 &gt; varchar性能;</li>
<li>InnoDB:两种性能差不大varchar更节省空间;</li>
<li>MEMORY:内存IO效率高但是费用贵，一般也选择varchar类型</li>
</ul>
</li>
<li>2.不同的用途选择倾向不同;<ul>
<li>CHAR存放经常变更的短字符串,VARCHAR则恰恰相反但是会产生<code>数据空洞</code>,如果是在磁盘上存在这样的问题则会导致磁盘碎片增多磁盘IO效率变低;</li>
</ul>
</li>
</ul>
<p><br></p>
<p><strong>(2) 浮点数类型的选择</strong></p>
<ul>
<li>1.精度要求不同选择也不同;</li>
<li>2.相比较而言定点数的计算代价要昂贵很多，使用最多是在科学计算和金钱汇率相关的应用中;</li>
</ul>
<p><br></p>
<p><strong>(3) 大数据类型的选择</strong></p>
<ul>
<li>1.能不用尽量不用TEXT与BLOB有很多替代选择,如果文件确实很大一般采用静态化为文本文件,<code>数据库只记录其路径读取时候采用系统API读取即可效率会更改</code>;</li>
<li>2.如果存在经常的删除和更新，建议定期使用<code>optimize table</code>命令进行数据库层面的碎片整理;</li>
</ul>
<p><br></p>
<p><strong>(4) 日期类型的选择</strong></p>
<ul>
<li>1.建议选择DATE和TIME来替代DATETIME数据类型;</li>
<li>2.也可以采用TIMESTAMP类型来替代DATETIME类型但是需要注意各个机器的时区问题;</li>
</ul>
<p><strong>总结</strong></p>
<ul>
<li>1.定义数据类型就是定义列，数据类型决定了数据的特性;</li>
<li>2.数据类型主要分为字符串类型，整数类型，浮点数、定点数类型、日期类型、二进制类型以及枚举类型;</li>
<li>3.根据需求以及空间占用和性能等多个方面来考虑;</li>
<li>4.数据类型在不同的存储引擎上表现和处理的方式都是不同的;</li>
</ul>
<hr>


<h4 id="0x06-事务处理"><a href="#0x06-事务处理" class="headerlink" title="0x06 事务处理"></a>0x06 事务处理</h4><p>描述:什么是事务?<br>事务是由一组SQL语句组成的逻辑处理单元,我们常常进行简读为ACID;</p>
<ul>
<li>原子性(Atommicity):事务是一个原子操作单元,对其数据的修改要么全部执行要么全都不执行;</li>
<li>一致性(Consistent):在事务开始和结束时,数据修改都必须保持一致状态;</li>
<li>隔离性(Isolation):数据库系统提供一定的隔离机制,保证事务处理在不受外部并发操作时候影响它是独立执行的,意味着事务处理的过程中的中间状态对外部是不可见反之亦然;</li>
<li>持久性(Durable):事务完成之后对于数据的修改是永久性，即使出现系统故障;</li>
</ul>
<p><em>事务处理例子:</em> 假如A/B用户汇款事件,A汇款1000给B用户在数据库中对应了两条UPDATE语句一个-1000另外一个则加1000,需要将这两个操作属于一个事务;否则会出现A账号钱被扣了,然后B用户并未收到1000,这可能是由于网络环境和物理环境共同作用的结果;</p>
<p>事物操作使用InnoDB数据引擎的表支持事物操作，默认情况下MySQL开启了自动提交;</p>
<ul>
<li>BEGIN:开启事务</li>
<li>ROLLBACK:回滚事务</li>
<li>COMMIT:提交一个事务<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看自动提交功能是否开启</span></span><br><span class="line">MySQL [Demo]&gt; SHOW variables LIKE <span class="string">'%commit'</span>;</span><br><span class="line">+--------------------------------+-------+</span><br><span class="line">| Variable_name                  | Value |</span><br><span class="line">+--------------------------------+-------+</span><br><span class="line">| autocommit                     | ON    |</span><br><span class="line">| innodb_flush_log_at_trx_commit | 1     |</span><br><span class="line">+--------------------------------+-------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.07 sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#关闭自动提交功能 ：0 或者 off;</span></span><br><span class="line">MySQL [Demo]&gt; SET autocommit=0;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>基础示例:<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 事务提交</span></span><br><span class="line">MySQL [Demo]&gt; begin; -- 打开一个事务</span><br><span class="line">MySQL [Demo]&gt; INSERT INTO user_log VALUE (NULL,'admin',now(),sha('123456'));</span><br><span class="line">MySQL [Demo]&gt; SELECT * FROM user_log</span><br><span class="line"><span class="comment">--  5 | admin     | 2020-02-10 12:06:47 | 7c4a8d09ca3762af61e59520943dc26494f8941</span></span><br><span class="line">MySQL [Demo]&gt; INSERT INTO user_log VALUE (NULL,'weiyigeek',now(),sha('123456'));</span><br><span class="line">MySQL [Demo]&gt; COMMIT;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 事务提交回滚-- 事务提交</span></span><br><span class="line">MySQL [Demo]&gt; begin;</span><br><span class="line">MySQL [Demo]&gt; INSERT INTO user_log VALUE (NULL,'admin',now(),sha('123456'));</span><br><span class="line">MySQL [Demo]&gt; ROLLBACK; --回滚操作:将插入的数据进行取消;</span><br><span class="line">MySQL [Demo]&gt; COMMIT;</span><br></pre></td></tr></table></figure></p>
<p>注意事项:</p>
<ul>
<li>1.在进行大数据量导入或者有很多的单行导入的时候，需要将自动提交关闭以提高效率性能;</li>
</ul>

        </div>
        <!-- Google 广告 -->
        
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-9134434519967436" data-ad-slot="7905848205"></ins>
  

        
<hr/>
<div style="text-align: center;font-weight: bold;">
  <p> 欢迎各位志同道合的朋友一起学习交流，如文章有误请在下方留下您宝贵的经验知识，个人邮箱地址<b style="color:#ff654e"><code>【master#weiyigeek.top】</code></b>或者个人公众号<b style="color:#ff654e"><code>【WeiyiGeek】</code></b>联系我。 </p>
  <p> 更多文章来源于<b style="color:#03a9f4">【WeiyiGeek Blog - 为了能到远方，脚下的每一步都不能少】</b>, 个人首页地址( <a style="color: #03a9f4;" href="https://weiyigeek.top" target="_blank"> https://weiyigeek.top </a> )</p>
<!-- 

  <ul style="font-weight: bolder;">
    <li>
      <p><span style="color: #03a9f4">echo&nbsp;&nbsp;"【点个赞】，动动你那粗壮的拇指或者芊芊玉手，亲！"</span></p>
    </li>
    <li>
      <p><span style="color: #ff9201">printf("%s",&nbsp;"【投个币】，万水千山总是情，投个硬币行不行，亲！")</span></p>
    </li>
    <li>
      <p><span style="color: #02a2ff">fmt.Printf("【收个藏】，阅后即焚不吃灰，亲！")&nbsp;&nbsp;</span></p>
    </li>
    <li>
      <p><span style="color:red">console.info("【转个发】，让更多的志同道合的朋友一起学习交流，亲！")</span></p>
    </li>
    <li>
      <p><span style="color: #ff654e">System.out.println("【关个注】，后续浏览查看不迷路哟，亲！")</span></p>
    </li>
  </ul> -->
  <div>
    <img src="/img/share-wechat.jpg" class="img-responsive" alt="扫描Follow(关注)WeiyiGeek公众号与Visit(浏览)极客全栈修炼小程序" >
    <p>专栏书写不易，如果您觉得这个专栏还不错的，请给这篇专栏 <b style="color: red;">【点个赞、投个币、收个藏、关个注、转个发、赞个助】</b>，这将对我的肯定，我将持续整理发布更多优质原创文章！。</p>
    <img src="/img/weiyigeek.jpg" class="img-responsive" alt="WeiyiGeek-banner">
  </div>
</div>
  <hr>
  

  <blockquote class="post-copyright">
    <div class="content">
      
        
<span class="post-time">
    最后更新时间：<time datetime="2022-03-29T05:39:06.312Z" itemprop="dateUpdated">2022-03-29 13:39:06</time>
</span><br>


        <span>文章原始路径：<a href="https://github.com/WeiyiGeek/blog/edit/master/source/_posts/数据存储/MySQL/MySQL数据库编程基础入门1.md" target="_blank" rel="noopener noreferrer">_posts/数据存储/MySQL/MySQL数据库编程基础入门1.md</a></span><br>
         <span class="copy-copyright">转载注明出处，原文地址：<a href="/2019/12-1-43.html" target="_blank" rel="external">https://blog.weiyigeek.top/2019/12-1-43.html</a></span><br>本站文章内容遵循 <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a> 
    </div>
    <footer>
      <a href="https://blog.weiyigeek.top">
        <img src="/img/avatar.jpg" alt="WeiyiGeek">
        WeiyiGeek
      </a>
    </footer>
  </blockquote>


        
            <div class="page-reward">
  <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-rectangle waves-light">☕️ 请作者喝杯咖啡!</a>
</div>
            
        
        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2019/12-1-43.html&title=《MySQL数据库编程基础入门1》 — WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2019/12-1-43.html&title=《MySQL数据库编程基础入门1》 — WeiyiGeek Blog&source=[TOC]" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2019/12-1-43.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《MySQL数据库编程基础入门1》 — WeiyiGeek Blog&url=https://blog.weiyigeek.top/2019/12-1-43.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2019/12-1-43.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
          <!-- 评论组件 -->


<div id="gitalk-container"></div>
<script type="text/javascript" src="/js/plugins/gitalk.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/custom/gitalk.init.js?v=1.6.6"></script>
        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/2019/12-1-42.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">MsSQL编程入门-待补充</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/2019/11-30-356.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">BootStrap插件组件使用总结</h4>
      </a>
    </div>
  
</nav>


    
    
        <aside class="post-widget">
            <nav class="post-toc-wrap" id="post-toc">
                <strong>目录</strong>
                <ol class="post-toc"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x00-快速入门"><span class="post-toc-number">1.</span> <span class="post-toc-text">0x00 快速入门</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x01-数据库架构"><span class="post-toc-number">2.</span> <span class="post-toc-text">0x01 数据库架构</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x02-库设计标准和原理"><span class="post-toc-number">3.</span> <span class="post-toc-text">0x02 库设计标准和原理</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x03-库管理工具"><span class="post-toc-number">4.</span> <span class="post-toc-text">0x03 库管理工具</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x04-数据类型"><span class="post-toc-number">5.</span> <span class="post-toc-text">0x04 数据类型</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x05-类型选择"><span class="post-toc-number">6.</span> <span class="post-toc-text">0x05 类型选择</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x06-事务处理"><span class="post-toc-number">7.</span> <span class="post-toc-text">0x06 事务处理</span></a></li></ol>
            </nav>
            <div class="toc-bar"><div>
        </aside>
    


    <!-- 支付宝微信文章赞赏 -->
    
      <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        如果此篇文章对您有帮助，就请作者喝杯 Coffee ☕️☕️!
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardwechat" src="/img/reward-wechat.jpg" height="250" height="250" alt="微信打赏二维码">
            <img id="rewardalipay" src="/img/reward-alipay.png" height="250" height="250" alt="支付宝打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <!-- <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/reward-wechat.jpg" data-alipay="/img/reward-alipay.png"> -->
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>

      

    <!-- 微信公众号关注/文章版权复制 -->
    
      <div id="btw-mask" style="position: fixed; top: 0px; right: 0px; bottom: 0px; left: 0px; opacity: 0.7; z-index: 999; background: rgb(0, 0, 0); display:none"></div>
<div id="btw-modal" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 360px; text-align: center; font-size: 13px; background: rgb(255, 255, 255); border-radius: 10px; z-index: 9999; font-family: PingFangSC-Regular, sans-serif;display:none">
<span id="btw-modal-close-btn" style="position: absolute; top: 5px; right: 15px; line-height: 1.8; font-size: 15px; cursor: pointer; opacity: 0.2; z-index: 9999; color: rgb(0, 0, 0); background: none; border: none; outline: none;">X</span>
<p id="btw-modal-header" style="margin-top: 40px; line-height: 1.8; font-size: 13px; ">
<b style="color:#6190e8;">你好朋友,可以关个注吗? ❤ <br> 这将是我持续更新文章的动力源泉，谢谢支持！(๑′ᴗ‵๑) </b> <br> 如不想关注请点击右上角的【X】<br>
<br>Method 1.Please visit <strong><a href="https://twitter.com/WeiyiGeek" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">【My Twitter】</a></strong>. There is an article verification code in the homepage.
<br>方式2.请访问本博主的B站<strong><a href="https://space.bilibili.com/385802642" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">【WeiyiGeek】</a></strong>首页关注UP主,<br>将自动随机获取解锁验证码。
<br>方式3.扫一扫下方二维码，关注本站<strong>官方公众号</strong><br>
回复：<strong style="color: rgb(240, 65, 52);">验证码</strong>
将获取<strong style="color: rgb(240, 65, 52);">解锁(有效期7天)</strong>本站所有技术文章哟!</p>
<img src="/img/wechat-search.png" style="width: 300px; margin-top: 10px;">
<div id="btw-modal-input-code" style="margin-top: 20px; background: rgb(255, 255, 255);">
  <input id="btw-modal-input" type="number" minlength="4" maxlength="4" placeholder="请输入验证码|Verification Code"
    style="width: 165px; height: 32px; line-height: 32px; padding: 0px 10px; margin: 0px 10px; font-size: 13px; text-rendering: auto; text-transform: none; cursor: text; outline: none; box-sizing: border-box; border: 1px solid rgb(221, 221, 221); -webkit-appearance: textfield; background-color: white; -webkit-rtl-ordering: logical;"/>
  <button id="btw-submit-btn" onclick="yzm_vertify()"
    style="padding: 0px 20px; height: 32px; font-size: 14px; outline: none; border: none; color: rgb(255, 255, 255); background: rgb(222, 104, 109); cursor: pointer;">提
    交</button> </div>
<p id="btw-footer" style="margin: 40px 0px 20px; color: rgb(153, 153, 153);">@WeiyiGeek - 为了能到远方，脚下的每一步都不能少</p>
</div>
        
</article>
</div>

    </main>
    <footer class="footer ">
    
    <div class="top">
        
            <p>
    <span>Links：</span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top" target="_blank">https://weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.weiyigeek.top" target="_blank">https://blog.weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top/img/search-wechat.jpg" target="_blank">公众账号</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://space.bilibili.com/385802642/article" target="_blank">哔哩哔哩专栏</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://github.com/weiyigeek" target="_blank">博主Github</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://gitee.com/WeiyiGeek" target="_blank">博主Gitee</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.zhihu.com/people/weiyiSec" target="_blank">知乎</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.cnblogs.com/WeiyiGeek" target="_blank">博客园</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://my.oschina.net/weiyigeek" target="_blank">OSCHINA</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.toutiao.com/c/user/token/MS4wLjABAAAAqcPSoMqfctaEqJpGSF775eeCjWkrop4AOyLITdMx-L78F5iXzfQcSRM5sY4dq3wR" target="_blank">今日头条</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.csdn.net/u013072756?type=lately" target="_blank">CSDN</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.jianshu.com/u/5199a1104739" target="_blank">简书</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cloud.tencent.com/developer/user/1389665/articles" target="_blank">腾讯云社区</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cuttlefish.baidu.com/shop/75c5dbd8d15abe23482f4d40" target="_blank">百度文库</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://author.baidu.com/home?from=blog&app_id=1726736601523415" target="_blank">IT极客知识分享</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.51cto.com/weiyigeek" target="_blank">51CTO博客</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://juejin.cn/user/122767337595934" target="_blank">掘金</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weibo.com/a/hot/7622022703618049_1.html" target="_blank">微博文章</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.xiaohongshu.com/user/profile/627c98bb000000001000e7ba" target="_blank">小红书</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://segmentfault.com/u/weiyigeek" target="_blank">Segmentfault</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.modb.pro/u/506690" target="_blank">墨天轮</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.douyin.com/user/MS4wLjABAAAAMSBdMja6XLsdmzafb0RNbFeBemIOk38K1PaOClZeI1Q" target="_blank">抖音主页</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.kuaishou.com/profile/3xfbrsrhd2i69x9" target="_blank">快手主页</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.ixigua.com/home/3984243135350727" target="_blank">西瓜视频</a>
    </span>
    
</p>

        
    </div>
    
    <div class="bottom">
      <p>
        <span>WeiyiGeek &copy; 2018 - 2022 <a href="https://weiyigeek.top" target="_blank" rel="noopener">weiyigeek.top</a> All rights reserved.唯一极客IT知识分享 版权所有 </span>
        
        <span>
          Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/weiyigeek" target="_blank">mellow</a>
        </span>
        
        <br/>访问统计
        <span><a href="/sitemap.xml" target="_blank" rel="Sitemaps-站点地图">Sitemaps</a> </span>
        <span><a href="/baidusitemap.xml" target="_blank" rel="baidusitemaps-百度站点地图">站点地图</a> </span>
        <!-- 
  -->
        <br/>ICP备案号<span><a href="https://beian.miit.gov.cn" target="_blank">渝ICP备2022003447号</a></span>
        <br/>
        <div id="cc-myssl-id">
          <a href="https://myssl.com/blog.weiyigeek.top?from=mysslid" target="_blank" rel="noopener"><img src="https://static.myssl.com/res/images/myssl-id1.png" alt="MySSL安全认证" style="max-height:50px;display:block;margin:0 auto"></a>
        </div>
      </p>
    </div>
</footer>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>


<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2019/12-1-43.html&title=《MySQL数据库编程基础入门1》 — WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2019/12-1-43.html&title=《MySQL数据库编程基础入门1》 — WeiyiGeek Blog&source=[TOC]" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2019/12-1-43.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《MySQL数据库编程基础入门1》 — WeiyiGeek Blog&url=https://blog.weiyigeek.top/2019/12-1-43.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2019/12-1-43.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACG0lEQVR42u3aS3KDQAwFQN//0s4BYlNP0sQVi2aVIgzQLGR95vGIj+ebI//v9ZXv1h4+MDAwvpaR3O73ra8feU19d32VjYGBcTdG9danrkzOXL8bBgYGxiQg9hJBDAwMjAljHi6rqzAwMDCqRWy1lRY9/vO1OAYGxhcy8q775//+k/kGBgbGVzEmpeap4nZeDGNgYOxmnBph5uGymt4VEk0MDIzVjOsFedhNGv3VjRrJR8HAwNjNyAPZdSv/1KggD/ovMlwMDIyljLy5Vh0Y5GuTsUHhdwMDA2MpI0/peoXofCARPREDA+MGjDw29zZVVNPE8ifDwMBYyqhu/8rPJCXovAH3YhKLgYGxjpG3vaobLKrDhmqJGwVfDAyMRYxq+ZqXuNXRwiglxcDAWM3IH9ZL+KqfpjyqxMDAWM3Im2X5wDIvPqvnMTAwMCZtskmMr24jw8DAuCcjufTUCCFHFraAYGBgrGbk7f68rV8N2cmdm71DDAyMRYxk8WRgkL/W6H0wMDBuwOgVt8nGi8n5QsGMgYGxmjFpxs3L0V5Zi4GBcR/Gs3hUB43VANocUWBgYKxm9IJmrzGXpKF5468X+jEwML6X0Quyydaxahk8SkMxMDBuwJi0t3LS/BcgmsFiYGBgxOG1V9BWU0YMDAyM6sCyN1TolbsYGBh3Y/SK2Ml4YD5IONZuw8DA+PeMs72sPLE71bDDwMBYzfgBlFw84mT49ckAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>


    
    <!-- main-js -->
<script type="text/javascript" src="/js/jquery/2.1.0-jquery.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/ios-orientationchange-fix.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/jquery/3.5.2-jquery.fancybox.min.js?v=1.6.6"></script>
<!--  //cdn.bootcss.com/node-waves/0.7.4/waves.min.js -->
<script type="text/javascript" src="/js/node-waves/0.7.4-waves.min.js?v=1.6.6"></script> 

<script type="text/javascript" src="/js/method.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/blog.js?v=1.6.6"></script>

<!-- third-party -->
<script type="text/javascript" src="/js/plugins/local_search.js?v=1.6.6"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) { search_path = "search.xml";}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script> 

<script> (adsbygoogle = window.adsbygoogle || []).push({});</script>    


<!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> --> 


  


<script>
  var _hmt = _hmt || [];
  (function() {
    // 百度统计
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?53923c4b5560739bc0ed61e183be6acf";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>
 


<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.staticfile.org/mathjax/2.7.9/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
 
<script>
    (function() {
        var OriginTitile = document.title, titleTime;
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.title = 'WeiyiGeek Blog-关注于网络安全_物联网安全开发_网络安全运维-学习心得分享';
                clearTimeout(titleTime);
            } else {
                document.title = '(つェ⊂)咦!又好了!';
                titleTime = setTimeout(function() {
                    document.title = OriginTitile;
                },2000);
            }
        });
    })();
</script>
 

     <script type="text/javascript" src="/js/custom/copytips.js?v=1.6.6"></script> 
</body>
</html>