<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="content-language" content="zh-CN"/>
    <meta name="author" content="WeiyiGeek" />
    <meta name="msvalidate.01" content="5C552FB1D885E0E11D2957EC958C8018" />
    <meta name="shenma-site-verification" content="4c655e91c76be0a93c1b6954c666c9d6_1649049085"/>
    <meta name="bytedance-verification-code" content="lKs4FqwCHSJ3A/c5tT7X" />
    <meta name="sogou_site_verification" content="OC65iET6Bk" />
    
    <title>ğŸŒ ç³»ç»Ÿæ“ä½œå®¡è®¡æŸ¥çœ‹|WeiyiGeek Blog|å”¯ä¸€æå®¢Geek-ITç½‘ç»œå®‰å…¨è¿ç»´å¼€å‘æŠ€æœ¯çŸ¥è¯†åˆ†äº«-åšå®¢ç«™ç‚¹</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    
    <meta name="keywords" content="ç³»ç»Ÿæ“ä½œå®¡è®¡å‘½ä»¤">
    <meta name="Description" content="WeiyiGeek-å”¯ä¸€æå®¢åšå®¢ç«™ç‚¹,å…³æ³¨äºç½‘ç»œå®‰å…¨è¿ç»´,Webå®‰å…¨å¼€å‘,IOTç‰©è”ç½‘å®‰å…¨å¼€å‘,åº”ç”¨å¼€å‘,åˆ†äº«æŠ€æœ¯å­¦ä¹ çŸ¥è¯†ä¸å…¥å‘è§£å†³,æå‡ç½‘ç»œå®‰å…¨æŠ€æœ¯ä¸è‡ªèº«æŠ€æœ¯èƒ½åŠ›,ç«‹å¿—ç»´æŠ¤å¤§ä¼—ç½‘ç»œå®‰å…¨ä¸ºå·±ä»»,åšä¸€ä¸ªå¯¹å›½å®¶æœ‰ç”¨çš„äºº,ä¸ºå®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„ä¸­å›½æ¢¦ä¸æ‡ˆå¥‹æ–—">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/jquery/3.5.2-jquery.fancybox.min.css?v=1.6.6" />
    <link rel="stylesheet" href="/css/style.css?v=1.6.6">
    <!--  -->
     <script type="text/javascript" src="/js/custom/articlecost.js?v=1.6.6"></script> 
    <link rel="stylesheet" href="/css/third-party/gitalk.css?v=1.6.6"> 
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9134434519967436" crossorigin="anonymous"></script>    
    <script type="text/javascript">
        // Data Center
        var DC = {
          reward:	true,
          lv: JSON.parse('{"enable":false,"app_id":null,"app_key":null,"icon":true}'),
          v: JSON.parse('{"enable":false,"appid":null,"appkey":null,"notify":true,"verify":true,"placeholder":"give me some sugers plz...","avatar":"wavatar"}')
        };
    </script>
    <script type="text/javascript">window.lazyScripts=[];</script>
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="WeiyiGeek Blog" type="application/atom+xml">
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="/img/brand.jpg" class="brand-bg" alt="WeiyiGeek-backgroud">
      
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg" alt="WeiyiGeek-å¤´åƒ">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">WeiyiGeek</h5>
          <a href="mailto:master@weiyigeek.top" title="master@weiyigeek.top" class="mail">
            <span>m</span><span>a</span><span>s</span><span>t</span><span>e</span><span>r</span><span>@</span><span>w</span><span>e</span><span>i</span><span>y</span><span>i</span><span>g</span><span>e</span><span>e</span><span>k</span><span>.</span><span>t</span><span>o</span><span>p</span>
          </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://weiyigeek.top/img/wechat-search.png" target="_blank">
                  <i class="icon icon-lg icon-wechat"></i>
                </a>
              </li>
            
              <li>
                <a href="https://github.com/weiyigeek" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
              <li>
                <a href="https://t.me/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-telegram"></i>
                </a>
              </li>
            
              <li>
                <a href="https://twitter.com/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-twitter"></i>
                </a>
              </li>
            
              <li>
                <a href="https://weibo.com/615643678" target="_blank">
                  <i class="icon icon-lg icon-weibo"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                é¦–é¡µ
              </a>
            </li>
        
            <li class="">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                æ–‡ç« åˆ†ç±»
              </a>
            </li>
        
            <li class="">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                æ–‡ç« æ ‡ç­¾
              </a>
            </li>
        
            <li class="">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                æ–‡ç« å½’æ¡£
              </a>
            </li>
        
            <li class="">
              <a href="/2018/1-1-1.html"  >
                <i class="icon icon-lg icon-mortar-board"></i>
                å­¦ä¹ ä¹‹è·¯
              </a>
            </li>
        
            <li class="">
              <a href="/books"  >
                <i class="icon icon-lg icon-book"></i>
                å­¦ä¹ ä¹¦ç±
              </a>
            </li>
        
            <li class="">
              <a href="/about"  >
                <i class="icon icon-lg icon-user"></i>
                å…³äºä½œè€…
              </a>
            </li>
        
            <li class="">
              <a href="/links"  >
                <i class="icon icon-lg icon-link"></i>
                ç«™ç‚¹å¯¼èˆª
              </a>
            </li>
        
            <li class="">
              <a href="/img/share-wechat.jpg" target="_blank" >
                <i class="icon icon-lg icon-wechat"></i>
                å…¬ä¼—è´¦å·
              </a>
            </li>
        
            <li class="">
              <a href="https://space.bilibili.com/385802642" target="_blank" >
                <i class="icon icon-lg icon-youtube-play"></i>
                å“”å“©å“”å“©
              </a>
            </li>
        
            <li class="">
              <a href="https://github.com/weiyigeek" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="">
              <a href="https://twitter.com/WeiyiGeek" target="_blank" >
                <i class="icon icon-lg icon-twitter"></i>
                Twitter
              </a>
            </li>
        
            <li class="">
              <a href="https://weibo.com/615643678" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>ç³»ç»Ÿæ“ä½œå®¡è®¡æŸ¥çœ‹</span>
            
        </div>

        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        

        
            <a href="/atom.xml" class="header-icon pull-right waves-effect waves-circle waves-light">
                <i class="icon icon-lg icon-rss"></i>
            </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="/img/banner.jpg" class="header-bg" alt="æ–‡ç« å¤´éƒ¨èƒŒæ™¯">
    <div class="container fade-scale">
        <h1 class="title">ç³»ç»Ÿæ“ä½œå®¡è®¡æŸ¥çœ‹</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-06-06T11:35:30.000Z" itemprop="datePublished" class="page-time">
  2019-06-06
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Linux%E5%91%BD%E4%BB%A4/">Linuxå‘½ä»¤</a></li></ul>


            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>


<div class="container body-wrap">
  <article id="post-ç³»ç»Ÿè¿ç»´/Linux/å¸¸ç”¨å‘½ä»¤/ç³»ç»Ÿç®¡ç†ç±»å‘½ä»¤/ç³»ç»Ÿæ“ä½œå®¡è®¡æŸ¥çœ‹"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">ç³»ç»Ÿæ“ä½œå®¡è®¡æŸ¥çœ‹</h1>
        <div class="post-meta">
            <time class="post-time" title="2019-06-06 19:35:30" datetime="2019-06-06T11:35:30.000Z"  itemprop="datePublished">2019-06-06</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Linux%E5%91%BD%E4%BB%A4/">Linuxå‘½ä»¤</a></li></ul>



            

            


            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <p>[TOC]</p>
<a id="more"></a>
<h2 id="0x01-auditd-å‘½ä»¤-Linuxå®¡è®¡å®ˆæŠ¤è¿›ç¨‹"><a href="#0x01-auditd-å‘½ä»¤-Linuxå®¡è®¡å®ˆæŠ¤è¿›ç¨‹" class="headerlink" title="0x01 auditd å‘½ä»¤ - Linuxå®¡è®¡å®ˆæŠ¤è¿›ç¨‹"></a>0x01 auditd å‘½ä»¤ - Linuxå®¡è®¡å®ˆæŠ¤è¿›ç¨‹</h2><p>æè¿°: auditdæ˜¯Linuxå®¡è®¡ç³»ç»Ÿçš„ç”¨æˆ·ç©ºé—´ç»„ä»¶, è¯¥å®ˆæŠ¤è¿›ç¨‹å®ƒè´Ÿè´£å°†å®¡è®¡è®°å½•å†™å…¥ç£ç›˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ausearch æˆ– aureport å®ç”¨ç¨‹åºæŸ¥çœ‹æ—¥å¿—ã€‚<br>ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ auditctl å®ç”¨ç¨‹åºé…ç½®å®¡è®¡ç³»ç»Ÿæˆ–åŠ è½½è§„åˆ™ï¼Œåœ¨ auditd å¯åŠ¨æœŸé—´å®¡è®¡è§„åˆ™ <code>/etc/audit/audit.rules</code>ï¼Œç”± auditctl è¯»å–å¹¶åŠ è½½åˆ°å†…æ ¸ä¸­æˆ–è€…è¿˜æœ‰ä¸€ä¸ª augenrules ç¨‹åºï¼Œå®ƒè¯»å–ä½äº /etc/audit/rules.d/ ä¸­çš„è§„åˆ™å¹¶å°†å®ƒä»¬ç¼–è¯‘æˆä¸€ä¸ª audit.rules æ–‡ä»¶ã€‚</p>
<p>åœ¨Redhatä¸CentOSå·²ç»é¢„å®‰è£…äº†auditdå®¡è®¡è¿›ç¨‹ï¼Œè€ŒUbuntuéœ€è¦æ‰‹åŠ¨å®‰è£…auditdå®¡è®¡è¿›ç¨‹: <code>sudo apt install auditd</code></p>
<p>Ubuntu ç³»ç»Ÿä¸­ auditd å®¡è®¡å®ˆæŠ¤è¿›ç¨‹è‡ªå®šä¹‰çš„é…ç½®é€‰é¡¹ä½äº<code>/etc/audit/auditd.conf</code>æ–‡ä»¶ä¸­, å…¶å®ƒé…ç½®æ–‡ä»¶è¯´æ˜å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/etc/audit/auditd.conf - å®¡æ ¸å®ˆæŠ¤ç¨‹åºçš„é…ç½®æ–‡ä»¶</span><br><span class="line">/etc/audit/audit.rules - è¦åœ¨å¯åŠ¨æ—¶åŠ è½½çš„å®¡æ ¸è§„åˆ™</span><br><span class="line">/etc/audit/rules.d/ - åŒ…å«è¦é€šè¿‡augenrulesç¼–è¯‘æˆä¸€ä¸ªæ–‡ä»¶çš„å•ç‹¬è§„åˆ™é›†çš„ç›®å½•ã€‚</span><br><span class="line">/lib/systemd/system/auditd.service - systemd å…³äº auditd.service è¿›ç¨‹ã€‚</span><br></pre></td></tr></table></figure></p>
<p>å¸®åŠ©æ–‡æ¡£: <a href="https://github.com/linux-audit/audit-documentation" target="_blank" rel="noopener">https://github.com/linux-audit/audit-documentation</a></p>
<p><br/></p>
<p><strong>è¯­æ³•å‚æ•°</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯­æ³•</span></span><br><span class="line">auditd [-f] [-l] [-n] [-s <span class="built_in">disable</span>|<span class="built_in">enable</span>|nochange] [-c &lt;config_dir&gt;]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‚æ•°</span></span><br><span class="line">-f å°†å®¡æ ¸å®ˆæŠ¤è¿›ç¨‹ç•™åœ¨å‰å°è¿›è¡Œè°ƒè¯•ã€‚æ¶ˆæ¯ä¹Ÿä¼šè½¬åˆ°stderrï¼Œè€Œä¸æ˜¯å®¡è®¡æ—¥å¿—æ–‡ä»¶ä¸­ã€‚</span><br><span class="line">-l å…è®¸å®¡æ ¸å®ˆæŠ¤è¿›ç¨‹è·Ÿè¸ªé…ç½®æ–‡ä»¶çš„ç¬¦å·é“¾æ¥ã€‚</span><br><span class="line">-n è¿è¡Œinittabæˆ–systemdå¾ˆæœ‰ç”¨(no fork)ã€‚</span><br><span class="line">-s=ENABLE_STATE æŒ‡å®šä½•æ—¶å¯åŠ¨auditdæ˜¯å¦åº”æ›´æ”¹å†…æ ¸å¯ç”¨æ ‡å¿—çš„å½“å‰å€¼</span><br><span class="line">-c  æŒ‡å®šå®ˆæŠ¤è¿›ç¨‹é…ç½®ç›®å½• (default: /etc/audit/)</span><br><span class="line"></span><br><span class="line">SIGNALS ä¿¡å·: SIGHUPã€SIGTERMã€SIGUSR1ã€SIGUSR2</span><br></pre></td></tr></table></figure></p>
<p><br/></p>
<h3 id="1-auditctl-å‘½ä»¤-å¸®åŠ©æ§åˆ¶å†…æ ¸å®¡è®¡ç³»ç»Ÿçš„å®ç”¨ç¨‹åº"><a href="#1-auditctl-å‘½ä»¤-å¸®åŠ©æ§åˆ¶å†…æ ¸å®¡è®¡ç³»ç»Ÿçš„å®ç”¨ç¨‹åº" class="headerlink" title="1.auditctl å‘½ä»¤ - å¸®åŠ©æ§åˆ¶å†…æ ¸å®¡è®¡ç³»ç»Ÿçš„å®ç”¨ç¨‹åº"></a>1.auditctl å‘½ä»¤ - å¸®åŠ©æ§åˆ¶å†…æ ¸å®¡è®¡ç³»ç»Ÿçš„å®ç”¨ç¨‹åº</h3><p>æè¿°: auditctlç¨‹åºç”¨äºé…ç½®ä¸å®¡æ ¸ç›¸å…³çš„å†…æ ¸é€‰é¡¹ï¼ŒæŸ¥çœ‹é…ç½®çŠ¶æ€å’Œæ·»åŠ ã€åˆ é™¤ä»»æ„å®¡æ ¸è§„åˆ™ã€‚(&gt;= 2.6å†…æ ¸ )</p>
<p><strong>è¯­æ³•å‚æ•°</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è§„åˆ™é€‰é¡¹ï¼šRULE OPTIONS</span></span><br><span class="line">-a [list,action|action,list] : ä½¿ç”¨æ“ä½œå°†è§„åˆ™é™„åŠ åˆ°åˆ—è¡¨æœ«å°¾,å¤šä¸ªåˆ—è¡¨ä»¥é€—å·è¿›è¡Œåˆ†å‰²ã€‚</span><br><span class="line">  <span class="comment">#  ä»¥ä¸‹æè¿°äº†è§„åˆ™çš„æœ‰æ•ˆåˆ—è¡¨ï¼š</span></span><br><span class="line">  task <span class="comment"># Add a rule to the per task list. This rule list is used only at the time a task is created -- when fork() or clone() are called by  the parent task. When using this list, you should only use fields that are known at task creation time, such as the uid, gid, etc.</span></span><br><span class="line">  <span class="built_in">exit</span> <span class="comment"># Add a rule to the syscall exit list. This list is used upon exit from a system call to determine if an audit event should be  creâ€ ated.</span></span><br><span class="line">  user <span class="comment"># Add  a rule to the user message filter list. This list is used by the kernel to filter event originating in user space before reâ€ laying them to the audit daemon. It should be noted that the only fields that are valid  are:  uid,  auid,  gid,  pid,  subj_user, subj_role,  subj_type,  subj_sen, subj_clr, and msgtype. All other fields will be treated as non-matching. It should be understood that any event originating from user space from a process that has CAP_AUDIT_WRITE will be recorded into  the  audit  trail.  This  means  that  the  most likely use for this filter is with rules that have an action of never since nothing has to be done to allow events to be recorded.</span></span><br><span class="line"></span><br><span class="line">  exclude <span class="comment"># Add a rule to the event type exclusion filter list. This list is used to filter events that you do not want tosee.  For  example, if  you  do not want to see any avc messages, you would using this list to record that. Events can be excluded by process ID, user ID, group ID, login user ID, message type or subject context.  The action is ignored and uses its default of "never".</span></span><br><span class="line">  filesystem <span class="comment"># Add a rule that will be applied to a whole filesystem. The filesystem must be identified with a fstype field. Normally this filter is used to exclude any events for a whole filesystem such as tracefs or debugfs.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># ä»¥ä¸‹æè¿°äº†è§„åˆ™çš„æœ‰æ•ˆæ“ä½œï¼š</span></span><br><span class="line">  never  <span class="comment"># ä¸ä¼šç”Ÿæˆå®¡è®¡è®°å½•,è¿™å¯ç”¨äºæŠ‘åˆ¶äº‹ä»¶ç”Ÿæˆã€‚é€šå¸¸æ‚¨å¸Œæœ›åœ¨åˆ—è¡¨é¡¶éƒ¨è€Œä¸æ˜¯åº•éƒ¨è¿›è¡ŒæŠ‘åˆ¶,è¿™æ˜¯å› ä¸ºäº‹ä»¶åœ¨ç¬¬ä¸€ä¸ªåŒ¹é…è§„åˆ™ä¸Šè§¦å‘</span></span><br><span class="line">  always <span class="comment"># åˆ†é…ä¸€ä¸ªå®¡è®¡ä¸Šä¸‹æ–‡ï¼Œæ€»æ˜¯åœ¨ç³»ç»Ÿè°ƒç”¨è¿›å…¥æ—¶å¡«å†™å®ƒï¼Œæ€»æ˜¯åœ¨ç³»ç»Ÿè°ƒç”¨é€€å‡ºæ—¶å†™å‡ºä¸€æ¡è®°å½•ã€‚</span></span><br><span class="line">-A list,action : ç”¨actionå‘å¼€å§‹åˆ—è¡¨æ·»åŠ è§„åˆ™ã€‚</span><br><span class="line">-b backlog : å¦‚æœæ‰€æœ‰çš„ç¼“å†²åŒºéƒ½æ»¡äº†, å†…æ ¸å°±ä¼šå‚ç…§å¤±è´¥æ ‡å¿—è¿›è¡Œæ“ä½œã€‚</span><br><span class="line">-d list,action : ä½¿ç”¨æ“ä½œä»åˆ—è¡¨ä¸­åˆ é™¤è§„åˆ™ï¼Œåªæœ‰å½“è§„åˆ™ä¸syscallåç§°å’Œæ¯ä¸ªå­—æ®µåå’Œå€¼å®Œå…¨åŒ¹é…æ—¶ï¼Œæ‰ä¼šåˆ é™¤è¯¥è§„åˆ™ã€‚</span><br><span class="line">-D ï¼šåˆ é™¤æ‰€æœ‰è§„åˆ™å’Œæ‰‹è¡¨ï¼Œè¿™ä¹Ÿå¯ä»¥é‡‡ç”¨ä¸€ä¸ªå…³é”®é€‰é¡¹(-k)ã€‚</span><br><span class="line">-e [0..2] : è®¾ç½®å¯ç”¨æ ‡å¿—, 0 ä¸´æ—¶ç¦ç”¨å®¡è®¡, ä¸º 1 ä½œä¸ºå‚æ•°ä¼ é€’, ä¸º 2 ä»»ä½•è¯•å›¾åœ¨æ­¤æ¨¡å¼ä¸‹æ›´æ”¹é…ç½®çš„å°è¯•éƒ½å°†è¢«å®¡è®¡å¹¶æ‹’ç»ã€‚</span><br><span class="line">-F [n=v | n!=v | n&lt;v | n&gt;v | n&lt;=v | n&gt;=v | n&amp;v | n&amp;=v] : æ„å»ºè§„åˆ™å­—æ®µï¼šåç§°ã€æ“ä½œã€å€¼,ä»¥-F å¼€å¤´åœ¨å•ä¸ªå‘½ä»¤è¡Œä¸Šæœ€å¤šå¯ä»¥ä¼ é€’ 64 ä¸ªå­—æ®µã€‚ </span><br><span class="line">-f [0..2] : è®¾ç½®å¤±è´¥æ ‡å¿—0=silent(),1=printk,2=panic(å®‰å…¨ç¯å¢ƒæ¨è)ã€‚è¯¥é€‰é¡¹å…è®¸ç¡®å®šå¸Œæœ›å†…æ ¸å¦‚ä½•å¤„ç†å…³é”®é”™è¯¯ã€‚</span><br><span class="line">-i ï¼šä»æ–‡ä»¶ä¸­è¯»å–è§„åˆ™æ—¶å¿½ç•¥é”™è¯¯ã€‚</span><br><span class="line">-l ï¼šæ¯è¡Œåˆ—å‡ºæ‰€æœ‰è§„åˆ™1ï¼Œè¿™ä¹Ÿå¯ä»¥é‡‡ç”¨ä¸€ä¸ªå…³é”®é€‰é¡¹(-k)ã€‚</span><br><span class="line">-k key : åœ¨å®¡è®¡è§„åˆ™ä¸Šè®¾ç½®è¿‡æ»¤é”®, ç­›é€‰é”®æ˜¯ä¸€ä¸ªé•¿åº¦ä¸è¶…è¿‡31å­—èŠ‚çš„ä»»æ„æ–‡æœ¬å­—ç¬¦ä¸², å®ƒå¯ä»¥å”¯ä¸€åœ°æ ‡è¯†è§„åˆ™äº§ç”Ÿçš„å®¡è®¡è®°å½•ã€‚</span><br><span class="line">-m text : å‘å®¡è®¡ç³»ç»Ÿå‘é€ç”¨æˆ·ç©ºé—´æ¶ˆæ¯, åªèƒ½ç”±rootç”¨æˆ·å®Œæˆã€‚</span><br><span class="line">-P : æŒ‡å®šè§¦å‘å®¡è®¡çš„æ–‡ä»¶/ç›®å½•çš„è®¿é—®æƒé™ã€‚(rwxa: `r è¯»å–æƒé™ï¼Œw å†™å…¥æƒé™ï¼Œx æ‰§è¡Œæƒé™ï¼Œa å±æ€§`)</span><br><span class="line">-q mount-point,subtree : å¦‚æœæœ‰ä¸€ä¸ªç°æœ‰çš„ç›®å½•ç›‘è§†å¹¶ç»‘å®šæˆ–ç§»åŠ¨åœ¨ç›‘è§†å­æ ‘ä¸­æŒ‚è½½å¦ä¸€ä¸ªå­æ ‘ï¼Œ åˆ™éœ€è¦å‘Šè¯‰å†…æ ¸ä½¿è¢«æŒ‚è½½çš„å­æ ‘ç­‰åŒäºè¢«ç›‘è§†çš„ç›®å½•ã€‚</span><br><span class="line">-r rate : åœ¨messages/secä¸­è®¾ç½®é™åˆ¶(0=none)ã€‚</span><br><span class="line">-R file : ä»æ–‡ä»¶ä¸­è¯»å–è§„åˆ™ã€‚è§„åˆ™å¿…é¡»æ˜¯æ¯è¡Œ1ï¼Œå¹¶ä¸”æŒ‰ç…§æ‰§è¡Œçš„é¡ºåº, å»ºè®®è¯¥è§„åˆ™æ–‡ä»¶å¿…é¡»ç”±æ ¹ç”¨æˆ·æ‹¥æœ‰ã€‚</span><br><span class="line">-S [Syscall name or number|all] : ä½¿ç”¨ä»»ä½•ç³»ç»Ÿè°ƒç”¨åç§°æˆ–å·ç ,ä¹Ÿå¯ä»¥ä½¿ç”¨â€œå…¨éƒ¨â€ä¸€è¯,å¦‚æœç»™å®šçš„ç³»ç»Ÿè°ƒç”¨æ˜¯ç”±ç¨‹åºè¿›è¡Œçš„åˆ™å¼€å§‹å®¡è®¡.</span><br><span class="line">-t : åœ¨æŒ‚è½½å‘½ä»¤åä¿®æ•´å­æ ‘ã€‚</span><br><span class="line">-w path : åœ¨è·¯å¾„ä¸­æ’å…¥æ–‡ä»¶ç³»ç»Ÿå¯¹è±¡çš„ç›‘è§†ï¼Œæ³¨æ„ä¸æ”¯æŒç›®å½•åŠå…¶é€šé…ç¬¦ä¹Ÿä¸æ”¯æŒï¼Œä¼šäº§ç”Ÿè­¦å‘Šã€‚ </span><br><span class="line">-W path : ç§»é™¤è·¯å¾„å¤„æ–‡ä»¶ç³»ç»Ÿå¯¹è±¡çš„ç›‘è§†ã€‚       </span><br><span class="line"></span><br><span class="line"><span class="comment"># EXIT STATUS</span></span><br><span class="line">0    <span class="keyword">if</span> OK,</span><br><span class="line">1    <span class="keyword">if</span> nothing found, or argument errors or minor file acces/<span class="built_in">read</span> errors,</span><br><span class="line">10   invalid checkpoint data found <span class="keyword">in</span> checkpoint file,</span><br><span class="line">11   checkpoint processing error</span><br><span class="line">12   checkpoint event not found <span class="keyword">in</span> matching <span class="built_in">log</span> file</span><br></pre></td></tr></table></figure></p>
<p><br/></p>
<p><strong>ä½¿ç”¨æ¡ˆä¾‹:</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 0.æŸ¥çœ‹auditè¿è¡ŒçŠ¶æ€</span></span><br><span class="line">auditctl -s </span><br><span class="line">  <span class="comment"># enabled 1   # è¡¨ç¤ºå¯ç”¨</span></span><br><span class="line">  <span class="comment"># failure 1</span></span><br><span class="line">  <span class="comment"># pid 3272123</span></span><br><span class="line">  <span class="comment"># rate_limit 0</span></span><br><span class="line">  <span class="comment"># backlog_limit 8192</span></span><br><span class="line">  <span class="comment"># lost 96243</span></span><br><span class="line">  <span class="comment"># backlog 0</span></span><br><span class="line">  <span class="comment"># backlog_wait_time 0</span></span><br><span class="line">  <span class="comment"># loginuid_immutable 0 unlocked</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç°æœ‰å®¡è®¡è§„åˆ™</span></span><br><span class="line">auditctl -l</span><br><span class="line">  <span class="comment"># -a always,exit -S all -F pid=1005</span></span><br><span class="line">  <span class="comment"># -a always,exit -S all</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.è¦æŸ¥çœ‹ç‰¹å®šç¨‹åºè¿›è¡Œçš„æ‰€æœ‰ç³»ç»Ÿè°ƒç”¨ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</span></span><br><span class="line">auditctl -a always,<span class="built_in">exit</span> -S all -F pid=1005</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.è¦æŸ¥çœ‹ç‰¹å®šç”¨æˆ·æ‰“å¼€çš„æ–‡ä»¶ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</span></span><br><span class="line">auditctl -a always,<span class="built_in">exit</span> -S openat -F auid=510</span><br><span class="line">auditctl -a always,<span class="built_in">exit</span> -S openat -F success=0  <span class="comment"># è¦æŸ¥çœ‹æœªæˆåŠŸçš„openatå‘¼å«</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.æ–‡ä»¶è®¿é—®å®¡è®¡æ–¹æ³•ï¼Œå®¡è®¡æ–‡ä»¶çš„æ›´æ”¹ï¼ˆæœ‰ä¸¤ç§è¡¨è¾¾æ–¹å¼ï¼‰ï¼š</span></span><br><span class="line">auditctl -w /etc/passwd -p rwxa <span class="comment"># å¦‚å®¡è®¡ç”¨äºä¿å­˜ç³»ç»Ÿç”¨æˆ·åå¯†ç çš„passwdæ–‡ä»¶ã€‚</span></span><br><span class="line">auditctl -w /etc/shadow -p wa</span><br><span class="line">auditctl -a always,<span class="built_in">exit</span> -F path=/etc/shadow -F perm=wa</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.è¦é€’å½’åœ°æŸ¥çœ‹ç›®å½•ä¸­çš„æ›´æ”¹ï¼ˆæœ‰ä¸¤ç§è¡¨è¾¾æ–¹å¼ï¼‰ï¼š</span></span><br><span class="line">auditctl -w /etc/ -p wa</span><br><span class="line">auditctl -a always,<span class="built_in">exit</span> -F dir=/etc/ -F perm=wa</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.è¦æŸ¥çœ‹ç®¡ç†å‘˜æ˜¯å¦æ­£åœ¨è®¿é—®å…¶ä»–ç”¨æˆ·çš„æ–‡ä»¶ï¼š</span></span><br><span class="line">auditctl -a always,<span class="built_in">exit</span> -F dir=/home/ -F uid=0 -C auid!=obj_uid</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6.æ­¤å¤–ï¼Œåœ¨å¯è¡Œçš„æƒ…å†µä¸‹å°è¯•ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿå®¡è®¡ä¼šæé«˜æ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³æ•è·æ‰€æœ‰ä¸Šè¿°å¤±è´¥çš„æ‰“å¼€å’Œæˆªæ–­ï¼Œä½†åªå…³å¿ƒ/etcä¸­çš„æ–‡ä»¶ï¼Œè€Œä¸å…³å¿ƒ/usræˆ–/sbinï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ä»¥ä¸‹è§„åˆ™ï¼š</span></span><br><span class="line">auditctl -a always,<span class="built_in">exit</span> -S openat -S truncate -F dir=/etc -F success=0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 7.åˆ é™¤æŒ‡å®šè§„åˆ™å’Œå…¨éƒ¨è§„åˆ™</span></span><br><span class="line">auditctl -d always,<span class="built_in">exit</span> -S all -F pid=1005</span><br><span class="line">auditctl -D</span><br><span class="line"></span><br><span class="line"><span class="comment"># 8.æ·»åŠ æŒ‡å®šè§„åˆ™åˆ°æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶ï¼ˆæ³¨æ„ : éœ€è¦é‡å¯auditdç”Ÿæ•ˆï¼‰</span></span><br><span class="line">$ touch /etc/audit/rules.d/docker-audit.rules</span><br><span class="line">$ cat &gt; /etc/audit/rules.d/docker-audit.rules &lt;&lt;<span class="string">'EOF'</span></span><br><span class="line">-w /usr/bin/docker -k docker</span><br><span class="line">-w /usr/lib/systemd/system/docker.service -k docker </span><br><span class="line">-w /usr/lib/systemd/system/docker.socket -k docker</span><br><span class="line">-w /usr/bin/docker-containerd -k docker</span><br><span class="line">-w /usr/bin/docker-runc -k docker</span><br><span class="line">-w /etc/docker -k docker</span><br><span class="line">-w /etc/docker/daemon.json -k docker</span><br><span class="line">EOF</span><br><span class="line">systemctl restart auditd</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h3 id="2-ausearch-å‘½ä»¤-å®¡è®¡äº‹ä»¶æŸ¥çœ‹å·¥å…·"><a href="#2-ausearch-å‘½ä»¤-å®¡è®¡äº‹ä»¶æŸ¥çœ‹å·¥å…·" class="headerlink" title="2.ausearch å‘½ä»¤ - å®¡è®¡äº‹ä»¶æŸ¥çœ‹å·¥å…·"></a>2.ausearch å‘½ä»¤ - å®¡è®¡äº‹ä»¶æŸ¥çœ‹å·¥å…·</h3><p>æè¿°: ä½¿ç”¨ ausearch å·¥å…·å¯ä»¥æ ¹æ®ä¸åŒçš„æœç´¢æ¡ä»¶æŸ¥è¯¢å®¡è®¡å®ˆæŠ¤è¿›ç¨‹çš„äº‹ä»¶æ—¥å¿—, å…¶è¿˜å¯ä»¥ä»stdinè·å–è¾“å…¥ï¼Œåªè¦è¾“å…¥æ˜¯åŸå§‹æ—¥å¿—æ•°æ®ï¼Œæ³¨æ„å¿…é¡»ä»¥rootç”¨æˆ·èº«ä»½æ‰§è¡Œausearchå‘½ä»¤ã€‚è¯¥å®ç”¨ç¨‹åºå°†æ˜¾ç¤ºæ‰€æœ‰ç»„æˆä¸€ä¸ªäº‹ä»¶çš„è®°å½•ã€‚è¿™å¯èƒ½æ„å‘³ç€ï¼Œå³ä½¿æ‚¨æœç´¢ç‰¹å®šç±»å‹çš„è®°å½•ï¼Œæ‰€äº§ç”Ÿçš„äº‹ä»¶ä¹Ÿå¯èƒ½åŒ…å«SYSCALLè®°å½•ã€‚</p>
<p><strong>è¯­æ³•å‚æ•°:</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯­æ³•:</span></span><br><span class="line">ausearch [options]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‚æ•°:</span></span><br><span class="line">-a, --event audit-event-id : æ ¹æ®ç»™å®šçš„äº‹ä»¶IDæœç´¢äº‹ä»¶, æ¶ˆæ¯æ€»æ˜¯ä»¥`msg=audit(1116360555.39:2401771)`å¼€å¤´ã€‚</span><br><span class="line">-c, --comm comm-name : æ ¹æ®ç»™å®šçš„ comm-name æœç´¢äº‹ä»¶, comm åæ˜¯ä»»åŠ¡ç»“æ„ä¸­å¯æ‰§è¡Œæ–‡ä»¶çš„åç§°ã€‚</span><br><span class="line">-e, --<span class="built_in">exit</span> <span class="built_in">exit</span>-code-or-errno : åŸºäºç»™å®šçš„ç³»ç»Ÿè°ƒç”¨é€€å‡ºç æˆ–errnoæœç´¢äº‹ä»¶ã€‚</span><br><span class="line">-f : è®¾å®šéœ€è¦è°ƒå‡ºæ–‡ä»¶çš„å®¡è®¡å†…å®¹ã€‚</span><br><span class="line"></span><br><span class="line">-ua, --uid-all all-user-id : æœç´¢å…·æœ‰ä¸ç»™å®šuser ID,åŒ¹é…çš„user ID, æœ‰æ•ˆuser ID,æˆ–ç™»å½•user ID, (auid)çš„äº‹ä»¶ã€‚</span><br><span class="line">-ga, --gid-all all-group-id ï¼šæœç´¢å…·æœ‰æœ‰æ•ˆgroup ID æˆ– group ID ä¸ç»™å®šgroup IDåŒ¹é…çš„äº‹ä»¶ã€‚</span><br><span class="line">-ue, --uid-effective effective-user-id : æœç´¢å…·æœ‰ç»™å®šæœ‰æ•ˆuser IDçš„äº‹ä»¶ã€‚</span><br><span class="line">-ge, --gid-effective effective-group-id : æœç´¢å…·æœ‰ç»™å®šæœ‰æ•ˆgroup ID æˆ– group Nameçš„äº‹ä»¶</span><br><span class="line">-ui, --uid user-id : æœç´¢å…·æœ‰ç»™å®šuser IDçš„äº‹ä»¶ã€‚</span><br><span class="line">-gi, --gid group-id : æœç´¢å…·æœ‰ç»™å®šæœ‰æ•ˆgroup ID æˆ–group Nameçš„äº‹ä»¶ã€‚</span><br><span class="line">-ul, --loginuid login-id : æœç´¢å…·æœ‰ç»™å®šç™»å½•user IDçš„äº‹ä»¶ã€‚</span><br><span class="line"></span><br><span class="line">-hn, --host host-name : æœç´¢å…·æœ‰ç»™å®šä¸»æœºåçš„äº‹ä»¶, å¯ä»¥æ˜¯ä¸»æœºåã€å®Œå…¨é™å®šåŸŸåæˆ–æ•°å­—ç½‘ç»œåœ°å€ã€‚</span><br><span class="line">-i, --interpret : å°†æ•°å­—å®ä½“è§£é‡Šä¸ºæ–‡æœ¬, ä¾‹å¦‚ï¼Œuidè¢«è½¬æ¢ä¸ºå¸æˆ·åã€‚</span><br><span class="line">-<span class="keyword">if</span>, --input file-name : ä½¿ç”¨ç»™å®šçš„æ–‡ä»¶è€Œä¸æ˜¯æ—¥å¿—ã€‚</span><br><span class="line">--input-logs : ä½¿ç”¨auditd.confä¸­çš„æ—¥å¿—æ–‡ä»¶ä½ç½®ä½œä¸ºæœç´¢è¾“å…¥ã€‚</span><br><span class="line">--just-one : åœ¨å‘å‡ºç¬¦åˆæœç´¢æ¡ä»¶çš„ç¬¬ä¸€ä¸ªäº‹ä»¶ååœæ­¢ã€‚</span><br><span class="line">-k, --key key-string : åŸºäºç»™å®šçš„keyå­—ç¬¦ä¸²æœç´¢äº‹ä»¶ã€‚</span><br><span class="line">-l, --line-buffered : åˆ·æ–°æ¯ä¸€è¡Œçš„è¾“å‡º,å½“stdoutè¿æ¥åˆ°ç®¡é“ä¸”é»˜è®¤çš„å—ç¼“å†²ç­–ç•¥ä¸å¯å–æ—¶æœ€æœ‰ç”¨ã€‚</span><br><span class="line">-m, --message message-type | comma-sep-message-type-list : æœç´¢ä¸ç»™å®šæ¶ˆæ¯ç±»å‹åŒ¹é…çš„äº‹ä»¶, ä»¥é€—å·åˆ†éš”çš„æ¶ˆæ¯ç±»å‹åˆ—è¡¨ã€‚</span><br><span class="line">-n, --node node-name : æœç´¢æºè‡ªèŠ‚ç‚¹åç§°å­—ç¬¦ä¸²çš„äº‹ä»¶ã€‚</span><br><span class="line">-o, --object SE-Linux-context-string : æœç´¢å¸¦æœ‰ä¸å­—ç¬¦ä¸²åŒ¹é…çš„`tcontext (object)`çš„äº‹ä»¶ã€‚</span><br><span class="line">-p, --pid process-id : æœç´¢ä¸ç»™å®šè¿›ç¨‹IDåŒ¹é…çš„äº‹ä»¶ã€‚</span><br><span class="line">-pp, --ppid parent-process-id : æœç´¢ä¸ç»™å®šçˆ¶è¿›ç¨‹IDåŒ¹é…çš„äº‹ä»¶ã€‚</span><br><span class="line">-r, --raw : è¾“å‡ºå®Œå…¨æ²¡æœ‰æ ¼å¼åŒ–,è¿™å¯¹äºæå–ä»ç„¶å¯ä»¥ç”±å®¡è®¡å·¥å…·è§£é‡Šçš„è®°å½•éå¸¸æœ‰ç”¨ã€‚</span><br><span class="line">-sc, --syscall syscall-name-or-value : æœç´¢ä¸ç»™å®šç³»ç»Ÿè°ƒç”¨åŒ¹é…çš„äº‹ä»¶ã€‚</span><br><span class="line">-se, --context SE-Linux-context-string : æœç´¢scontext/subjectæˆ–tcontext/objectåŒ¹é…å­—ç¬¦ä¸²çš„äº‹ä»¶ã€‚</span><br><span class="line">--session Login-Session-ID : æœç´¢ä¸ç»™å®šçš„ç™»å½•ä¼šè¯IDåŒ¹é…çš„äº‹ä»¶ã€‚</span><br><span class="line">-su, --subject SE-Linux-context-string : æœç´¢äº‹ä»¶ä¸scontext(subject)åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚</span><br><span class="line">-sv, --success success-value : æœç´¢ä¸ç»™å®šsuccesså€¼åŒ¹é…çš„äº‹ä»¶, å€¼å¯ä»¥ä¸º yes å’Œ no.</span><br><span class="line">-te, --end [end-date] [end-time] : æœç´¢æ—¶é—´æˆ³ç­‰äºæˆ–å…ˆäºç»™å®šç»“æŸæ—¶é—´çš„äº‹ä»¶ã€‚</span><br><span class="line">-ts, --start [start-date] [start-time] : æœç´¢æ—¶é—´æˆ³ç­‰äºæˆ–è¶…è¿‡ç»™å®šç»“æŸæ—¶é—´çš„äº‹ä»¶ã€‚</span><br><span class="line">-tm, --terminal terminal : 	æœç´¢ä¸ç»™å®šçš„ç»ˆç«¯å€¼åŒ¹é…çš„äº‹ä»¶ã€‚ä¸€äº›å®ˆæŠ¤è¿›ç¨‹(å¦‚cronå’Œatd)å¯¹ç»ˆç«¯ä½¿ç”¨å®ˆæŠ¤è¿›ç¨‹åç§°ã€‚</span><br><span class="line">-w, --word : åŸºäºå­—ç¬¦ä¸²çš„åŒ¹é…å¿…é¡»åŒ¹é…æ•´ä¸ªå•è¯, è¿™ç±»åŒ¹é…åŒ…æ‹¬æ–‡ä»¶åã€ä¸»æœºåã€ç»ˆç«¯å’ŒSE Linuxä¸Šä¸‹æ–‡ã€‚</span><br><span class="line">-x, --executable executable : æœç´¢ä¸ç»™å®šå¯æ‰§è¡Œåç§°åŒ¹é…çš„äº‹ä»¶ã€‚</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>ç¤ºä¾‹è¯´æ˜:</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.æœç´¢idä¸º0çš„å®¡è®¡æ“ä½œè®°å½•</span></span><br><span class="line">ausearch -ui 0</span><br><span class="line">  <span class="comment"># time-&gt;Fri Mar  4 16:01:26 2022</span></span><br><span class="line">  <span class="comment"># type=PROCTITLE msg=audit(1646380886.973:2764027): proctitle="/usr/libexec/fwupd/fwupd"</span></span><br><span class="line">  <span class="comment"># type=SYSCALL msg=audit(1646380886.973:2764027): arch=c000003e syscall=7 success=yes exit=0 a0=563114845000 a1=2 a2=f9c a3=563114850a28 items=0 ppid=1 pid=3303582 auid=4294967295 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=4294967295 comm="gmain" exe="/usr/libexec/fwupd/fwupd" key=(null)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.ç»ˆç«¯tty1æœç´¢å®¡è®¡è®°å½•</span></span><br><span class="line">ausearch -tm tty1</span><br><span class="line">ausearch -tm pts/0</span><br><span class="line">  <span class="comment"># time-&gt;Fri Mar  4 16:02:25 2022</span></span><br><span class="line">  <span class="comment"># type=USER_LOGIN msg=audit(1646380945.722:2821996): pid=3303764 uid=0 auid=1000 ses=4390 msg='op=login id=1000 exe="/usr/sbin/sshd" hostname=10.20.172.103 addr=10.20.172.103 terminal=/dev/pts/0 res=success'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.æŸ¥è¯¢æ›´æ”¹æˆ–è®¿é—® /etc/passwdæ–‡ä»¶çš„å®¡è®¡å†…å®¹</span></span><br><span class="line">$ sudo ausearch -f /etc/passwd</span><br><span class="line"><span class="comment"># å®¡è®¡æ—¶é—´</span></span><br><span class="line">time-&gt;Fri Mar  4 14:34:23 2022</span><br><span class="line"><span class="built_in">type</span>=PROCTITLE msg=audit(1646375663.900:2559277): proctitle=<span class="string">"-bash"</span></span><br><span class="line"><span class="comment"># name å®¡è®¡å¯¹è±¡</span></span><br><span class="line"><span class="built_in">type</span>=PATH msg=audit(1646375663.900:2559277): item=0 name=<span class="string">"/etc/passwd"</span> inode=4198577 dev=fd:00 mode=0100755 ouid=0 ogid=0 rdev=00:00 nametype=NORMAL cap_fp=0 cap_fi=0 cap_fe=0 cap_fver=0 cap_frootid=0</span><br><span class="line"><span class="comment"># cwd å½“å‰è·¯å¾„</span></span><br><span class="line"><span class="built_in">type</span>=CWD msg=audit(1646375663.900:2559277): cwd=<span class="string">"/home/weiyigeek"</span></span><br><span class="line"><span class="comment"># syscall ç›¸å…³çš„ç³»ç»Ÿè°ƒç”¨, auid å®¡è®¡ç”¨æˆ·ID, uid å’Œ gid è®¿é—®æ–‡ä»¶çš„ç”¨æˆ·IDå’Œç”¨æˆ·ç»„ID,comm ç”¨æˆ·è®¿é—®æ–‡ä»¶çš„å‘½ä»¤, exe ä¸Šé¢å‘½ä»¤çš„å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ã€‚</span></span><br><span class="line"><span class="built_in">type</span>=SYSCALL msg=audit(1646375663.900:2559277): arch=c000003e syscall=257 success=yes <span class="built_in">exit</span>=3 a0=ffffff9c a1=7f8df0a56189 a2=80000 a3=0 items=1 ppid=3302926 pid=3303167 auid=1000 uid=1000 gid=1000 euid=0 suid=0 fsuid=0 egid=1000 sgid=1000 fsgid=1000 tty=pts0 ses=4373 comm=<span class="string">"sudo"</span> exe=<span class="string">"/usr/bin/sudo"</span> key=(null)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.æœç´¢æŸ¥çœ‹æŒ‡å®šKeyçš„å®¡è®¡ä¿¡æ¯</span></span><br><span class="line">ausearch -k docker</span><br></pre></td></tr></table></figure></p>
<p><br/></p>
<h3 id="3-aureport-å‘½ä»¤-æŸ¥çœ‹å’Œç”Ÿæˆå®¡è®¡æŠ¥å‘Šçš„å·¥å…·"><a href="#3-aureport-å‘½ä»¤-æŸ¥çœ‹å’Œç”Ÿæˆå®¡è®¡æŠ¥å‘Šçš„å·¥å…·" class="headerlink" title="3.aureport å‘½ä»¤ - æŸ¥çœ‹å’Œç”Ÿæˆå®¡è®¡æŠ¥å‘Šçš„å·¥å…·"></a>3.aureport å‘½ä»¤ - æŸ¥çœ‹å’Œç”Ÿæˆå®¡è®¡æŠ¥å‘Šçš„å·¥å…·</h3><p>æè¿°: ä½¿ç”¨ aureport å‘½ä»¤å¯ä»¥ç”Ÿæˆå®¡è®¡ä¿¡æ¯çš„æŠ¥è¡¨ï¼Œå¿…é¡»ä»¥rootç”¨æˆ·æ‰§è¡Œã€‚å¦‚æœæ‰§è¡Œaureportå‘½ä»¤æ—¶æ²¡æœ‰ä½¿ç”¨ä»»ä½•é€‰é¡¹ï¼Œé‚£ä¹ˆä¼šæ˜¾ç¤ºæ±‡æ€»æŠ¥è¡¨ã€‚</p>
<p><strong>ä½¿ç”¨æ¡ˆä¾‹:</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.æ˜¾ç¤ºæ—¥å¿—æ—¶é—´çš„èŒƒå›´æŠ¥è¡¨</span></span><br><span class="line">$ aureport -t</span><br><span class="line">  <span class="comment"># Log Time Range Report</span></span><br><span class="line">  <span class="comment"># =====================</span></span><br><span class="line">  <span class="comment"># /var/log/audit/audit.log.4: 03/04/2022 16:01:29.385 - 03/04/2022 16:01:37.617</span></span><br><span class="line">  <span class="comment"># /var/log/audit/audit.log.3: 03/04/2022 16:01:37.657 - 03/04/2022 16:02:02.449</span></span><br><span class="line">  <span class="comment"># /var/log/audit/audit.log.2: 03/04/2022 16:02:10.517 - 03/04/2022 16:02:16.574</span></span><br><span class="line">  <span class="comment"># /var/log/audit/audit.log.1: 03/04/2022 16:02:14.974 - 03/04/2022 16:01:32.497</span></span><br><span class="line">  <span class="comment"># /var/log/audit/audit.log: 03/04/2022 16:02:24.058 - 03/04/2022 16:45:01.729</span></span><br><span class="line">  <span class="comment"># root@master-201:~# more /var/log/audit/audit.log.1</span></span><br></pre></td></tr></table></figure></p>
<p><br/></p>
<h3 id="4-auditspd-å‘½ä»¤-è½¬å‘äº‹ä»¶é€šçŸ¥ç»™å…¶ä»–åº”ç”¨ç¨‹åºï¼Œè€Œä¸æ˜¯å†™å…¥åˆ°å®¡è®¡æ—¥å¿—æ–‡ä»¶ä¸­"><a href="#4-auditspd-å‘½ä»¤-è½¬å‘äº‹ä»¶é€šçŸ¥ç»™å…¶ä»–åº”ç”¨ç¨‹åºï¼Œè€Œä¸æ˜¯å†™å…¥åˆ°å®¡è®¡æ—¥å¿—æ–‡ä»¶ä¸­" class="headerlink" title="4.auditspd å‘½ä»¤ - è½¬å‘äº‹ä»¶é€šçŸ¥ç»™å…¶ä»–åº”ç”¨ç¨‹åºï¼Œè€Œä¸æ˜¯å†™å…¥åˆ°å®¡è®¡æ—¥å¿—æ–‡ä»¶ä¸­"></a>4.auditspd å‘½ä»¤ - è½¬å‘äº‹ä»¶é€šçŸ¥ç»™å…¶ä»–åº”ç”¨ç¨‹åºï¼Œè€Œä¸æ˜¯å†™å…¥åˆ°å®¡è®¡æ—¥å¿—æ–‡ä»¶ä¸­</h3><p><br/></p>
<h3 id="5-autrace-å‘½ä»¤-ä¸€ä¸ªç”¨äºè·Ÿè¸ªè¿›ç¨‹çš„å‘½ä»¤"><a href="#5-autrace-å‘½ä»¤-ä¸€ä¸ªç”¨äºè·Ÿè¸ªè¿›ç¨‹çš„å‘½ä»¤" class="headerlink" title="5.autrace å‘½ä»¤ - ä¸€ä¸ªç”¨äºè·Ÿè¸ªè¿›ç¨‹çš„å‘½ä»¤"></a>5.autrace å‘½ä»¤ - ä¸€ä¸ªç”¨äºè·Ÿè¸ªè¿›ç¨‹çš„å‘½ä»¤</h3>
        </div>
        <!-- Google å¹¿å‘Š -->
        
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-9134434519967436" data-ad-slot="7905848205"></ins>
  

        
<hr/>
<div style="text-align: center;font-weight: bold;">
  <p> æ¬¢è¿å„ä½å¿—åŒé“åˆçš„æœ‹å‹ä¸€èµ·å­¦ä¹ äº¤æµï¼Œå¦‚æ–‡ç« æœ‰è¯¯è¯·åœ¨ä¸‹æ–¹ç•™ä¸‹æ‚¨å®è´µçš„ç»éªŒçŸ¥è¯†ï¼Œä¸ªäººé‚®ç®±åœ°å€<b style="color:#ff654e"><code>ã€master#weiyigeek.topã€‘</code></b>æˆ–è€…ä¸ªäººå…¬ä¼—å·<b style="color:#ff654e"><code>ã€WeiyiGeekã€‘</code></b>è”ç³»æˆ‘ã€‚ </p>
  <p> æ›´å¤šæ–‡ç« æ¥æºäº<b style="color:#03a9f4">ã€WeiyiGeek Blog - ä¸ºäº†èƒ½åˆ°è¿œæ–¹ï¼Œè„šä¸‹çš„æ¯ä¸€æ­¥éƒ½ä¸èƒ½å°‘ã€‘</b>, ä¸ªäººé¦–é¡µåœ°å€( <a style="color: #03a9f4;" href="https://weiyigeek.top" target="_blank"> https://weiyigeek.top </a> )</p>
<!-- 

  <ul style="font-weight: bolder;">
    <li>
      <p><span style="color: #03a9f4">echo&nbsp;&nbsp;"ã€ç‚¹ä¸ªèµã€‘ï¼ŒåŠ¨åŠ¨ä½ é‚£ç²—å£®çš„æ‹‡æŒ‡æˆ–è€…èŠŠèŠŠç‰æ‰‹ï¼Œäº²ï¼"</span></p>
    </li>
    <li>
      <p><span style="color: #ff9201">printf("%s",&nbsp;"ã€æŠ•ä¸ªå¸ã€‘ï¼Œä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼ŒæŠ•ä¸ªç¡¬å¸è¡Œä¸è¡Œï¼Œäº²ï¼")</span></p>
    </li>
    <li>
      <p><span style="color: #02a2ff">fmt.Printf("ã€æ”¶ä¸ªè—ã€‘ï¼Œé˜…åå³ç„šä¸åƒç°ï¼Œäº²ï¼")&nbsp;&nbsp;</span></p>
    </li>
    <li>
      <p><span style="color:red">console.info("ã€è½¬ä¸ªå‘ã€‘ï¼Œè®©æ›´å¤šçš„å¿—åŒé“åˆçš„æœ‹å‹ä¸€èµ·å­¦ä¹ äº¤æµï¼Œäº²ï¼")</span></p>
    </li>
    <li>
      <p><span style="color: #ff654e">System.out.println("ã€å…³ä¸ªæ³¨ã€‘ï¼Œåç»­æµè§ˆæŸ¥çœ‹ä¸è¿·è·¯å“Ÿï¼Œäº²ï¼")</span></p>
    </li>
  </ul> -->
  <div>
    <img src="/img/share-wechat.jpg" class="img-responsive" alt="æ‰«æFollow(å…³æ³¨)WeiyiGeekå…¬ä¼—å·ä¸Visit(æµè§ˆ)æå®¢å…¨æ ˆä¿®ç‚¼å°ç¨‹åº" >
    <p>ä¸“æ ä¹¦å†™ä¸æ˜“ï¼Œå¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªä¸“æ è¿˜ä¸é”™çš„ï¼Œè¯·ç»™è¿™ç¯‡ä¸“æ  <b style="color: red;">ã€ç‚¹ä¸ªèµã€æŠ•ä¸ªå¸ã€æ”¶ä¸ªè—ã€å…³ä¸ªæ³¨ã€è½¬ä¸ªå‘ã€èµä¸ªåŠ©ã€‘</b>ï¼Œè¿™å°†å¯¹æˆ‘çš„è‚¯å®šï¼Œæˆ‘å°†æŒç»­æ•´ç†å‘å¸ƒæ›´å¤šä¼˜è´¨åŸåˆ›æ–‡ç« ï¼ã€‚</p>
    <img src="/img/weiyigeek.jpg" class="img-responsive" alt="WeiyiGeek-banner">
  </div>
</div>
  <hr>
  

  <blockquote class="post-copyright">
    <div class="content">
      
        
<span class="post-time">
    æœ€åæ›´æ–°æ—¶é—´ï¼š<time datetime="2022-03-11T02:57:24.519Z" itemprop="dateUpdated">2022-03-11 10:57:24</time>
</span><br>


        <span>æ–‡ç« åŸå§‹è·¯å¾„ï¼š<a href="https://github.com/WeiyiGeek/blog/edit/master/source/_posts/ç³»ç»Ÿè¿ç»´/Linux/å¸¸ç”¨å‘½ä»¤/ç³»ç»Ÿç®¡ç†ç±»å‘½ä»¤/ç³»ç»Ÿæ“ä½œå®¡è®¡æŸ¥çœ‹.md" target="_blank" rel="noopener noreferrer">_posts/ç³»ç»Ÿè¿ç»´/Linux/å¸¸ç”¨å‘½ä»¤/ç³»ç»Ÿç®¡ç†ç±»å‘½ä»¤/ç³»ç»Ÿæ“ä½œå®¡è®¡æŸ¥çœ‹.md</a></span><br>
         <span class="copy-copyright">è½¬è½½æ³¨æ˜å‡ºå¤„ï¼ŒåŸæ–‡åœ°å€ï¼š<a href="/2019/6-6-586.html" target="_blank" rel="external">https://blog.weiyigeek.top/2019/6-6-586.html</a></span><br>æœ¬ç«™æ–‡ç« å†…å®¹éµå¾ª <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">çŸ¥è¯†å…±äº« ç½²å - éå•†ä¸šæ€§ - ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…åè®®</a> 
    </div>
    <footer>
      <a href="https://blog.weiyigeek.top">
        <img src="/img/avatar.jpg" alt="WeiyiGeek">
        WeiyiGeek
      </a>
    </footer>
  </blockquote>


        
            <div class="page-reward">
  <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-rectangle waves-light">â˜•ï¸ è¯·ä½œè€…å–æ¯å’–å•¡!</a>
</div>
            
        
        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C%E5%AE%A1%E8%AE%A1%E5%91%BD%E4%BB%A4/" rel="tag">ç³»ç»Ÿæ“ä½œå®¡è®¡å‘½ä»¤</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2019/6-6-586.html&title=ã€Šç³»ç»Ÿæ“ä½œå®¡è®¡æŸ¥çœ‹ã€‹ â€” WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2019/6-6-586.html&title=ã€Šç³»ç»Ÿæ“ä½œå®¡è®¡æŸ¥çœ‹ã€‹ â€” WeiyiGeek Blog&source=[TOC]" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2019/6-6-586.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€Šç³»ç»Ÿæ“ä½œå®¡è®¡æŸ¥çœ‹ã€‹ â€” WeiyiGeek Blog&url=https://blog.weiyigeek.top/2019/6-6-586.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2019/6-6-586.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
          <!-- è¯„è®ºç»„ä»¶ -->


<div id="gitalk-container"></div>
<script type="text/javascript" src="/js/plugins/gitalk.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/custom/gitalk.init.js?v=1.6.6"></script>
        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/2019/6-6-164.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">ç¨‹åºè®¡åˆ’ä»»åŠ¡ç®¡ç†</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/2019/6-6-165.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">ç³»ç»Ÿå„ç±»æ—¥å¿—æŸ¥çœ‹</h4>
      </a>
    </div>
  
</nav>


    
    
        <aside class="post-widget">
            <nav class="post-toc-wrap" id="post-toc">
                <strong>ç›®å½•</strong>
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x01-auditd-å‘½ä»¤-Linuxå®¡è®¡å®ˆæŠ¤è¿›ç¨‹"><span class="post-toc-number">1.</span> <span class="post-toc-text">0x01 auditd å‘½ä»¤ - Linuxå®¡è®¡å®ˆæŠ¤è¿›ç¨‹</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-auditctl-å‘½ä»¤-å¸®åŠ©æ§åˆ¶å†…æ ¸å®¡è®¡ç³»ç»Ÿçš„å®ç”¨ç¨‹åº"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">1.auditctl å‘½ä»¤ - å¸®åŠ©æ§åˆ¶å†…æ ¸å®¡è®¡ç³»ç»Ÿçš„å®ç”¨ç¨‹åº</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-ausearch-å‘½ä»¤-å®¡è®¡äº‹ä»¶æŸ¥çœ‹å·¥å…·"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">2.ausearch å‘½ä»¤ - å®¡è®¡äº‹ä»¶æŸ¥çœ‹å·¥å…·</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-aureport-å‘½ä»¤-æŸ¥çœ‹å’Œç”Ÿæˆå®¡è®¡æŠ¥å‘Šçš„å·¥å…·"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">3.aureport å‘½ä»¤ - æŸ¥çœ‹å’Œç”Ÿæˆå®¡è®¡æŠ¥å‘Šçš„å·¥å…·</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-auditspd-å‘½ä»¤-è½¬å‘äº‹ä»¶é€šçŸ¥ç»™å…¶ä»–åº”ç”¨ç¨‹åºï¼Œè€Œä¸æ˜¯å†™å…¥åˆ°å®¡è®¡æ—¥å¿—æ–‡ä»¶ä¸­"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">4.auditspd å‘½ä»¤ - è½¬å‘äº‹ä»¶é€šçŸ¥ç»™å…¶ä»–åº”ç”¨ç¨‹åºï¼Œè€Œä¸æ˜¯å†™å…¥åˆ°å®¡è®¡æ—¥å¿—æ–‡ä»¶ä¸­</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-autrace-å‘½ä»¤-ä¸€ä¸ªç”¨äºè·Ÿè¸ªè¿›ç¨‹çš„å‘½ä»¤"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">5.autrace å‘½ä»¤ - ä¸€ä¸ªç”¨äºè·Ÿè¸ªè¿›ç¨‹çš„å‘½ä»¤</span></a></li></ol></li></ol>
            </nav>
            <div class="toc-bar"><div>
        </aside>
    


    <!-- æ”¯ä»˜å®å¾®ä¿¡æ–‡ç« èµèµ -->
    
      <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        å¦‚æœæ­¤ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œå°±è¯·ä½œè€…å–æ¯ Coffee â˜•ï¸â˜•ï¸!
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardwechat" src="/img/reward-wechat.jpg" height="250" height="250" alt="å¾®ä¿¡æ‰“èµäºŒç»´ç ">
            <img id="rewardalipay" src="/img/reward-alipay.png" height="250" height="250" alt="æ”¯ä»˜å®æ‰“èµäºŒç»´ç ">
        </div>
        
        <label class="reward-toggle">
            <!-- <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/reward-wechat.jpg" data-alipay="/img/reward-alipay.png"> -->
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">å¾®ä¿¡</span>
                <span class="reward-toggle-item alipay">æ”¯ä»˜å®</span>
            </div>
        </label>
        
    </div>
</div>

      

    <!-- å¾®ä¿¡å…¬ä¼—å·å…³æ³¨/æ–‡ç« ç‰ˆæƒå¤åˆ¶ -->
    
      <div id="btw-mask" style="position: fixed; top: 0px; right: 0px; bottom: 0px; left: 0px; opacity: 0.7; z-index: 999; background: rgb(0, 0, 0); display:none"></div>
<div id="btw-modal" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 360px; text-align: center; font-size: 13px; background: rgb(255, 255, 255); border-radius: 10px; z-index: 9999; font-family: PingFangSC-Regular, sans-serif;display:none">
<span id="btw-modal-close-btn" style="position: absolute; top: 5px; right: 15px; line-height: 1.8; font-size: 15px; cursor: pointer; opacity: 0.2; z-index: 9999; color: rgb(0, 0, 0); background: none; border: none; outline: none;">X</span>
<p id="btw-modal-header" style="margin-top: 40px; line-height: 1.8; font-size: 13px; ">
<b style="color:#6190e8;">ä½ å¥½çœ‹å‹,æ¬¢è¿å…³æ³¨åšä¸»å¾®ä¿¡å…¬ä¼—å·å“Ÿ! â¤ <br> è¿™å°†æ˜¯æˆ‘æŒç»­æ›´æ–°æ–‡ç« çš„åŠ¨åŠ›æºæ³‰ï¼Œè°¢è°¢æ”¯æŒï¼(à¹‘â€²á´—â€µà¹‘) </b> <br> å¦‚ä¸æƒ³å…³æ³¨è¯·ç‚¹å‡»å³ä¸Šè§’çš„ã€Xã€‘å³å¯å…³é—­ç»§ç»­æµè§ˆæ–‡ç« .<br>  <b style="color:red;"> æ¸©é¦¨æç¤º: æœªè§£é”çš„ç”¨æˆ·ä¸èƒ½ç²˜è´´å¤åˆ¶æ–‡ç« å†…å®¹å“Ÿ!</b> <br>
<br>Method 1.Please visit <strong><a href="https://twitter.com/WeiyiGeek" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">ã€My Twitterã€‘</a></strong>. There is an article verification code in the homepage.
<br>æ–¹å¼2.è¯·è®¿é—®æœ¬åšä¸»çš„Bç«™<strong><a href="https://space.bilibili.com/385802642" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">ã€WeiyiGeekã€‘</a></strong>é¦–é¡µå…³æ³¨UPä¸»,<br>å°†è‡ªåŠ¨éšæœºè·å–è§£é”éªŒè¯ç ã€‚
<br>æ–¹å¼3.æ‰«ä¸€æ‰«ä¸‹æ–¹äºŒç»´ç ï¼Œå…³æ³¨æœ¬ç«™<strong>å®˜æ–¹å…¬ä¼—å·</strong><br>
å›å¤ï¼š<strong style="color: rgb(240, 65, 52);">éªŒè¯ç </strong>
å°†è·å–<strong style="color: rgb(240, 65, 52);">è§£é”(æœ‰æ•ˆæœŸ7å¤©)</strong>æœ¬ç«™æ‰€æœ‰æŠ€æœ¯æ–‡ç« å“Ÿ!</p>
<img src="/img/wechat-search.png" style="width: 300px; margin-top: 10px;">
<div id="btw-modal-input-code" style="margin-top: 20px; background: rgb(255, 255, 255);">
  <input id="btw-modal-input" type="number" minlength="4" maxlength="4" placeholder="è¯·è¾“å…¥éªŒè¯ç |Verification Code"
    style="width: 165px; height: 32px; line-height: 32px; padding: 0px 10px; margin: 0px 10px; font-size: 13px; text-rendering: auto; text-transform: none; cursor: text; outline: none; box-sizing: border-box; border: 1px solid rgb(221, 221, 221); -webkit-appearance: textfield; background-color: white; -webkit-rtl-ordering: logical;"/>
  <button id="btw-submit-btn" onclick="yzm_vertify()"
    style="padding: 0px 20px; height: 32px; font-size: 14px; outline: none; border: none; color: rgb(255, 255, 255); background: rgb(222, 104, 109); cursor: pointer;">æ
    äº¤</button> </div>
<p id="btw-footer" style="margin: 40px 0px 20px; color: rgb(153, 153, 153);">@WeiyiGeek - ä¸ºäº†èƒ½åˆ°è¿œæ–¹ï¼Œè„šä¸‹çš„æ¯ä¸€æ­¥éƒ½ä¸èƒ½å°‘</p>
</div>
        
</article>
</div>

    </main>
    <footer class="footer ">
    
    <div class="top">
        
            <p>
    <span>Linksï¼š</span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top" target="_blank">https://weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.weiyigeek.top" target="_blank">https://blog.weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top/img/search-wechat.jpg" target="_blank">å…¬ä¼—è´¦å·</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://space.bilibili.com/385802642/article" target="_blank">å“”å“©å“”å“©ä¸“æ </a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://github.com/weiyigeek" target="_blank">åšä¸»Github</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://gitee.com/WeiyiGeek" target="_blank">åšä¸»Gitee</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.zhihu.com/people/weiyiSec" target="_blank">çŸ¥ä¹</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.cnblogs.com/WeiyiGeek" target="_blank">åšå®¢å›­</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://my.oschina.net/weiyigeek" target="_blank">OSCHINA</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.toutiao.com/c/user/token/MS4wLjABAAAAqcPSoMqfctaEqJpGSF775eeCjWkrop4AOyLITdMx-L78F5iXzfQcSRM5sY4dq3wR" target="_blank">ä»Šæ—¥å¤´æ¡</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.csdn.net/u013072756?type=lately" target="_blank">CSDN</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.jianshu.com/u/5199a1104739" target="_blank">ç®€ä¹¦</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cloud.tencent.com/developer/user/1389665/articles" target="_blank">è…¾è®¯äº‘ç¤¾åŒº</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cuttlefish.baidu.com/shop/75c5dbd8d15abe23482f4d40" target="_blank">ç™¾åº¦æ–‡åº“</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://author.baidu.com/home?from=blog&app_id=1726736601523415" target="_blank">ITæå®¢çŸ¥è¯†åˆ†äº«</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.51cto.com/weiyigeek" target="_blank">51CTOåšå®¢</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://juejin.cn/user/122767337595934" target="_blank">æ˜é‡‘</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weibo.com/a/hot/7622022703618049_1.html" target="_blank">å¾®åšæ–‡ç« </a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.xiaohongshu.com/user/profile/627c98bb000000001000e7ba" target="_blank">å°çº¢ä¹¦</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://segmentfault.com/u/weiyigeek" target="_blank">Segmentfault</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.modb.pro/u/506690" target="_blank">å¢¨å¤©è½®</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.douyin.com/user/MS4wLjABAAAAMSBdMja6XLsdmzafb0RNbFeBemIOk38K1PaOClZeI1Q" target="_blank">æŠ–éŸ³ä¸»é¡µ</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.kuaishou.com/profile/3xfbrsrhd2i69x9" target="_blank">å¿«æ‰‹ä¸»é¡µ</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.ixigua.com/home/3984243135350727" target="_blank">è¥¿ç“œè§†é¢‘</a>
    </span>
    
</p>

        
    </div>
    
    <div class="bottom">
      <p>
        <span>WeiyiGeek &copy; 2018 - 2022 <a href="https://weiyigeek.top" target="_blank" rel="noopener">weiyigeek.top</a> All rights reserved.å”¯ä¸€æå®¢ITçŸ¥è¯†åˆ†äº« ç‰ˆæƒæ‰€æœ‰ </span>
        
        <span>
          Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/weiyigeek" target="_blank">mellow</a>
        </span>
        
        <br/><a id="SiteRunTime"></a>
        <br/>è®¿é—®ç»Ÿè®¡
        <span><a href="/sitemap.xml" target="_blank" rel="Sitemaps-ç«™ç‚¹åœ°å›¾">Sitemaps</a> </span>
        <span><a href="/baidusitemap.xml" target="_blank" rel="baidusitemaps-ç™¾åº¦ç«™ç‚¹åœ°å›¾">ç«™ç‚¹åœ°å›¾</a> </span>
        <!-- 
  -->
        <br/>ICPå¤‡æ¡ˆå·<span><a href="https://beian.miit.gov.cn" target="_blank">æ¸ICPå¤‡2022003447å·</a></span>
        <br/>
        <div id="cc-myssl-id">
          <a href="https://myssl.com/blog.weiyigeek.top?from=mysslid" target="_blank" rel="noopener">
            <img src="https://static.myssl.com/res/images/myssl-id1.png" alt="MySSLå®‰å…¨è®¤è¯" style="max-height:50px;display:block;margin:0 auto">
          </a>
        </div>
      </p>
    </div>
</footer>



    <div class="mask" id="mask"></div>

<div id="go" class="waves-effect waves-light">
  <a href="javascript:;" id="goqrcode"> <span class="icon icon-lg icon-qrcode"></span> </a>
  <a href="javascript:;" id="gotop"> <span class="icon icon-lg icon-chevron-up"></span></a>
</div>





<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2019/6-6-586.html&title=ã€Šç³»ç»Ÿæ“ä½œå®¡è®¡æŸ¥çœ‹ã€‹ â€” WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2019/6-6-586.html&title=ã€Šç³»ç»Ÿæ“ä½œå®¡è®¡æŸ¥çœ‹ã€‹ â€” WeiyiGeek Blog&source=[TOC]" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2019/6-6-586.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€Šç³»ç»Ÿæ“ä½œå®¡è®¡æŸ¥çœ‹ã€‹ â€” WeiyiGeek Blog&url=https://blog.weiyigeek.top/2019/6-6-586.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2019/6-6-586.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>æ‰«ä¸€æ‰«ï¼Œåˆ†äº«åˆ°å¾®ä¿¡</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACMElEQVR42u3aQY7CMAwF0Ln/pTvSbJmU77gg1X1ZISghj4Vlx/75idfxt1bvv67Vt16fyT+9YGFgYNyWcZyu/jOvpBVv9fp8ZwwMjOcwzoPs+aHPd6vCzsHL9zEwMDCCEJmTOsklBgYGRp6u5YfLq86vBlwMDIwbMvZK0DzU5oH447U4BgbGDRnVxsA3X3+wv4GBgXETxlFceUqX/GK1rF2eCgMDYzRj71hJk+Bzsb+Q4WJgYIxgJMVhP8nLBzKSP/efs2FgYIxmVC/68/qxEO+32gbLsIuBgTGOcVkB2Wg9Jk2IqHzFwMB4AKNaiFavzPaSv0IRi4GBMZRxVfK3F47zZ6IMFwMDYzSjX4LmI2Wd0Yo3O2NgYAxlXDVC0Uk08xGN6LoNAwNjHCMPrNXErtMYuCBYY2BgjGNUy8XqaEV/t6SdgIGB8RzG3vhFH3ZBaoiBgfFIRqcQ7Qxn7DVEMTAwnsPYC7vV8jVpMyS7FTJcDAyMEYwkLcuTv3zka6+IXV63YWBgjGPkQxJ7aWKneVD4CzAwMB7GSDbtJ4idXutyZgQDA2MoI/+4Oi6293zSHsDAwHga4yiu/gBZNQ2NQjMGBsZoRr762+X3fxe0MzEwMMYxkiCbh+N+OzM5w7K/gYGBMZqx11ysXs9Vm5SF0I+BgYERJHb96/7qxRwGBgZGnpZVxzL2GG8uATEwMB7AyIvYvCjdu4bbK3ExMDBmM/qNgaRJsPfD+R+KgYExlPELjVzWLKaZ0SoAAAAASUVORK5CYII=" alt="å¾®ä¿¡åˆ†äº«äºŒç»´ç ">
</div>


    
    <!-- main-js -->
<script type="text/javascript" src="/js/jquery/2.1.0-jquery.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/ios-orientationchange-fix.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/jquery/3.5.2-jquery.fancybox.min.js?v=1.6.6"></script>
<!--  //cdn.bootcss.com/node-waves/0.7.4/waves.min.js -->
<script type="text/javascript" src="/js/node-waves/0.7.4-waves.min.js?v=1.6.6"></script> 

<script type="text/javascript" src="/js/method.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/blog.js?v=1.6.6"></script>

<!-- third-party -->
<script type="text/javascript" src="/js/plugins/local_search.js?v=1.6.6"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) { search_path = "search.xml";}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script> 

<script> (adsbygoogle = window.adsbygoogle || []).push({});</script>    


<!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> --> 


  


<script>
  var _hmt = _hmt || [];
  (function() {
    // ç™¾åº¦ç»Ÿè®¡
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?53923c4b5560739bc0ed61e183be6acf";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>
 


<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.staticfile.org/mathjax/2.7.9/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
 
<script>
    (function() {
        var OriginTitile = document.title, titleTime;
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.title = 'WeiyiGeek Blog-å…³æ³¨äºç½‘ç»œå®‰å…¨_ç‰©è”ç½‘å®‰å…¨å¼€å‘_ç½‘ç»œå®‰å…¨è¿ç»´-å­¦ä¹ å¿ƒå¾—åˆ†äº«';
                clearTimeout(titleTime);
            } else {
                document.title = '(ã¤ã‚§âŠ‚)å’¦!åˆå¥½äº†!';
                titleTime = setTimeout(function() {
                    document.title = OriginTitile;
                },2000);
            }
        });
    })();
</script>
 

     <script type="text/javascript" src="/js/custom/copytips.js?v=1.6.6"></script> 
<script type="text/javascript">
// ç«™ç‚¹è¿è¡Œæ—¶é—´
var BootDate = new Date("2018/01/01 00:00:00");
function ShowRunTime(id) {
  var NowDate = new Date();
  var RunDateM = parseInt(NowDate - BootDate);
  var RunDays = Math.floor(RunDateM/(24*3600*1000));
  var RunHours = Math.floor(RunDateM%(24*3600*1000)/(3600*1000));
  var RunMinutes = Math.floor(RunDateM%(24*3600*1000)%(3600*1000)/(60*1000));
  var RunSeconds = Math.round(RunDateM%(24*3600*1000)%(3600*1000)%(60*1000)/1000);
  var RunTime = RunDays + "å¤©" + RunHours + "æ—¶" + RunMinutes + "åˆ†" + RunSeconds + "ç§’";
  document.getElementById(id).innerHTML = "ç½‘ç«™å·²åœ¨é£é›¨ä¸­å‹‰å‹‰å¼ºå¼ºè¿è¡Œäº†ã€" + RunTime + "ã€‘";
}
setInterval("ShowRunTime('SiteRunTime')", 1000);
</script>
</body>
</html>