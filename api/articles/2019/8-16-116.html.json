{"title":"Jeecms入门安装与二次开发","slug":"系统运维/Application/Web/CMS/Jeecms入门安装与二次开发","date":"2019-08-16T05:36:30.000Z","updated":"2023-01-31T02:29:10.469Z","url":"2019/8-16-116.html","path":"api/articles/2019/8-16-116.html.json","covers":["https://img.weiyigeek.top/2019/1/20190817164135.png","https://img.weiyigeek.top/2019/1/20190817164837.png","https://img.weiyigeek.top/2019/1/20190817164945.png","https://img.weiyigeek.top/2019/1/20190817165111.png"],"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h4 id=\"0x00-快速入门\"><a href=\"#0x00-快速入门\" class=\"headerlink\" title=\"0x00 快速入门\"></a>0x00 快速入门</h4><p>参考资料<br><a href=\"https://www.cnblogs.com/Jeely/p/11224267.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/Jeely/p/11224267.html</a><br><a href=\"https://blog.csdn.net/wah1870714/article/details/86519590\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/wah1870714/article/details/86519590</a></p>\n<h4 id=\"0x01-搭建安装环境\"><a href=\"#0x01-搭建安装环境\" class=\"headerlink\" title=\"0x01 搭建安装环境\"></a>0x01 搭建安装环境</h4><p>JEECMSV9环境安装与搭建:</p>\n<ul>\n<li>系统环境：CentOS-7</li>\n<li>应用环境: JDK8 / Tomcat9 / Mysql5.7<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ls /app/ (注意在这个目录)</span><br><span class=\"line\">CentOS-7-x86_64-Minimal-1810.iso</span><br><span class=\"line\">apache-tomcat-9.0.22.tar.gz  </span><br><span class=\"line\">jdk-8u211-linux-x64.tar.gz  </span><br><span class=\"line\">mysql-5.7.27-linux-glibc2.12-x86_64.tar.gz</span><br><span class=\"line\">jeecmsv9.3-ROOT.zip</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><br></p>\n<p>1.基础环境搭建(不论安装数据库的主机还是应用主机都要操作):<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"comment\">#基础设置</span></span><br><span class=\"line\">sed -i <span class=\"string\">'#'</span> /etc/ssh/sshd_config</span><br><span class=\"line\">sed -i <span class=\"string\">'/ONBOOT/s/on/yes'</span> /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class=\"line\">systemctl restart network sshd</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#关闭Seliunx</span></span><br><span class=\"line\">sed -i <span class=\"string\">'/SELINUX/s/enforcing/disabled/'</span> /etc/sysconfig/selinux  </span><br><span class=\"line\">setenforce 0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#卸载自动mariadb数据库</span></span><br><span class=\"line\">oldmysql=$(rpm -qa | grep <span class=\"string\">\"mariadb\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">if</span> [ $? -eq 0 ];<span class=\"keyword\">then</span></span><br><span class=\"line\">  rpm -e --nodeps <span class=\"variable\">$oldmysql</span> &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">\"RPM 卸载成功\"</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#更新系统以及内核与采用阿里云的yum源</span></span><br><span class=\"line\">curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class=\"line\">curl -o /etc/yum.repos.d/CentOS-epel.repo http://mirrors.aliyun.com/repo/epel-7.repo</span><br><span class=\"line\">yum clean all &amp;&amp; yum makecache</span><br><span class=\"line\">yum update -y &amp;&amp; yum upgrade -y &amp;&amp;  yum -y install epel*</span><br><span class=\"line\">yum install -y nano vim net-tools tree wget dos2unix unzip gcc gcc-c++ openssl-devel bzip2-devel</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#防火墙设置</span></span><br><span class=\"line\">firewall-cmd --zone=public --add-port=3306/tcp --permanent</span><br><span class=\"line\">firewall-cmd --zone=public --add-port=8080/tcp --permanent</span><br><span class=\"line\">firewall-cmd --reload</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#设置完成后重启系统</span></span><br><span class=\"line\">reboot</span><br></pre></td></tr></table></figure><br><br></p>\n<p>2.网站Tomcat服务主机操作:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#建立应用目录</span></span><br><span class=\"line\">mkdir -vp /app/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#解压JDK与Tomcat</span></span><br><span class=\"line\">tar -zxf jdk-8u211-linux-x64.tar.gz -C /usr/<span class=\"built_in\">local</span>/</span><br><span class=\"line\">tar -zxf apache-tomcat-9.0.22.tar.gz -C /app/</span><br><span class=\"line\">mv apache-tomcat-9.0.22/ tomcat-9.0.22/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#WEB用户建立</span></span><br><span class=\"line\">groupadd -g 501 tomcat</span><br><span class=\"line\">useradd -r -g tomcat -s /sbin/nologin tomcat</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#环境设置 - 实际中业务上线总站库要分离</span></span><br><span class=\"line\">cat &gt;/etc/profile&lt;&lt;END</span><br><span class=\"line\"><span class=\"built_in\">export</span> JAVA_HOME=/usr/<span class=\"built_in\">local</span>/jdk1.8.0_211</span><br><span class=\"line\"><span class=\"built_in\">export</span> JRE_HOME=/usr/<span class=\"built_in\">local</span>/jdk1.8.0_211/jre</span><br><span class=\"line\"><span class=\"built_in\">export</span> TOMCAT_HOME=/app/tomcat-9.0.22</span><br><span class=\"line\"><span class=\"built_in\">export</span> CATALINA_HOME=/app/tomcat-9.0.22</span><br><span class=\"line\"><span class=\"built_in\">export</span> MYSQL_HOME=/usr/<span class=\"built_in\">local</span>/mysql-5.7.27</span><br><span class=\"line\"><span class=\"built_in\">export</span> CLASSPATH=.:\\<span class=\"variable\">$JAVA_HOME</span>/lib/dt.jar:\\<span class=\"variable\">$JAVA_HOME</span>/lib/tools.jar:\\<span class=\"variable\">$CATALINA_HOME</span>/lib/servlet-api.jar</span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=\\<span class=\"variable\">$PATH</span>:\\<span class=\"variable\">$JAVA_HOME</span>/bin:\\<span class=\"variable\">$TOMCAT_HOME</span>/bin:\\<span class=\"variable\">$MYSQL_HOME</span>/bin</span><br><span class=\"line\">END</span><br><span class=\"line\"><span class=\"built_in\">source</span> /etc/profile</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#权限和所属组改变</span></span><br><span class=\"line\">chown -R root:tomcat /usr/<span class=\"built_in\">local</span>/jdk1.8.0_211</span><br><span class=\"line\">chown -R tomcat:tomcat /app/tomcat-9.0.22</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<p>3.数据库主机操作:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#建立数据库应用数据存放目录</span></span><br><span class=\"line\">mkdir -vp /app/mysql5.7/&#123;data,<span class=\"built_in\">log</span>,temp&#125; /var/lib/mysql</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#MYSQL用户建立</span></span><br><span class=\"line\">groupadd -g 500 mysql</span><br><span class=\"line\">useradd -r -g mysql -s /sbin/nologin mysql</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#数据库解压</span></span><br><span class=\"line\">tar -zxf mysql-5.7.27-linux-glibc2.12-x86_64.tar.gz -C /usr/<span class=\"built_in\">local</span></span><br><span class=\"line\">mv /usr/<span class=\"built_in\">local</span>/mysql-5.7.27-linux-glibc2.12-x86_64 /usr/<span class=\"built_in\">local</span>/mysql-5.7.27</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#数据库配置/etc/my.cnf</span></span><br><span class=\"line\">cat &gt;/etc/my.cnf&lt;&lt;END</span><br><span class=\"line\"><span class=\"comment\">#编辑 /etc/my.cnf</span></span><br><span class=\"line\">[mysql] </span><br><span class=\"line\"><span class=\"comment\"># 设置mysql客户端默认字符集 </span></span><br><span class=\"line\">default-character-set=utf8  </span><br><span class=\"line\">socket=/var/lib/mysql/mysql.sock </span><br><span class=\"line\"></span><br><span class=\"line\">[mysqld] </span><br><span class=\"line\"><span class=\"comment\">#skip-name-resolve </span></span><br><span class=\"line\">user=mysql <span class=\"comment\">#先设置以root用户运行,运行后再更改为mysql注意各个目录文件夹所属用户</span></span><br><span class=\"line\"><span class=\"comment\">#设置3306端口 </span></span><br><span class=\"line\">port = 3306  </span><br><span class=\"line\"><span class=\"comment\">#socket与上面一致</span></span><br><span class=\"line\">socket=/var/lib/mysql/mysql.sock </span><br><span class=\"line\"><span class=\"comment\"># 设置mysql的安装目录 </span></span><br><span class=\"line\">basedir=/usr/<span class=\"built_in\">local</span>/mysql-5.7.27</span><br><span class=\"line\"><span class=\"comment\"># 设置mysql数据库的数据的存放目录 </span></span><br><span class=\"line\">datadir=/app/mysql5.7/data </span><br><span class=\"line\">pid-file=/app/mysql5.7/data/mysql.pid</span><br><span class=\"line\"><span class=\"comment\">#skip-grant-tables #此项是为了装好后免登陆修改密码使用  （修改后注释即可）</span></span><br><span class=\"line\"><span class=\"comment\">#错误信息</span></span><br><span class=\"line\"><span class=\"built_in\">log</span>-error=/app/mysql5.7/<span class=\"built_in\">log</span>/mysql-err.log </span><br><span class=\"line\"><span class=\"comment\"># 服务端使用的字符集默认为8比特编码的latin1字符集 </span></span><br><span class=\"line\">character-set-server=utf8 </span><br><span class=\"line\"><span class=\"comment\"># 创建新表时将使用的默认存储引擎 </span></span><br><span class=\"line\">default-storage-engine=INNODB </span><br><span class=\"line\"><span class=\"comment\">#lower_case_table_name=1 </span></span><br><span class=\"line\">max_allowed_packet=16M</span><br><span class=\"line\"><span class=\"comment\">#解决问题time不能为0000-00-00</span></span><br><span class=\"line\">sql-mode=ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION</span><br><span class=\"line\">END</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#文件夹目录权限设置</span></span><br><span class=\"line\">chown -R mysql:mysql /usr/<span class=\"built_in\">local</span>/mysql-5.7.27 /app/mysql5.7 /var/lib/mysql </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#初始化数据库（生成数据）</span></span><br><span class=\"line\">/usr/<span class=\"built_in\">local</span>/mysql-5.7.27/bin/mysqld --defaults-file=/etc/my.cnf --initialize --user=mysql</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#配置启动参数与启动数据库</span></span><br><span class=\"line\">cp /usr/<span class=\"built_in\">local</span>/mysql-5.7.27/support-files/mysql.server /etc/init.d/mysqld</span><br><span class=\"line\"><span class=\"comment\">#修改/etc/init.d/mysqld中的（实际路径）</span></span><br><span class=\"line\"><span class=\"variable\">$vim</span> /etc/init.d/mysqld</span><br><span class=\"line\"><span class=\"comment\"># If you change base dir, you must also change datadir. These may get</span></span><br><span class=\"line\"><span class=\"comment\"># overwritten by settings in the MySQL configuration files.</span></span><br><span class=\"line\">basedir=/usr/<span class=\"built_in\">local</span>/mysql-5.7.27</span><br><span class=\"line\">datadir=/app/mysql5.7/data</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#设置mysql客户端的路径，否则必须加载绝对路径才能执行</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=<span class=\"variable\">$PATH</span>:/usr/<span class=\"built_in\">local</span>/mysql-5.7.27/bin</span><br><span class=\"line\"></span><br><span class=\"line\">/etc/init.d/mysqld start  <span class=\"comment\">#启动mysql</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#获取登录密码</span></span><br><span class=\"line\">egrep -o <span class=\"string\">'root@localhost: (\\S)*'</span> /app/mysql5.7/<span class=\"built_in\">log</span>/mysql-err.log | cut -d <span class=\"string\">\" \"</span> -f2</span><br><span class=\"line\"><span class=\"comment\"># j2&lt;#v&amp;QkwRgu</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#登录更改root密码并设置低权限mysql用户</span></span><br><span class=\"line\">mysql -u root -p <span class=\"comment\">#输入上面的密码</span></span><br><span class=\"line\">mysql&gt; <span class=\"built_in\">set</span> password = password(<span class=\"string\">'System123@'</span>);</span><br><span class=\"line\">mysql&gt; use mysql</span><br><span class=\"line\">mysql&gt; update user <span class=\"built_in\">set</span> host = <span class=\"string\">'%'</span> <span class=\"built_in\">where</span> user = <span class=\"string\">'root'</span>;  <span class=\"comment\">#使其被任何主机连接（不安全</span></span><br><span class=\"line\"><span class=\"comment\"># mysql&gt; update user set authentication_string = '' where user = 'root';  #清空root的密码 在skip0granbt-tables处使用</span></span><br><span class=\"line\">mysql&gt; CREATE USER <span class=\"string\">'web'</span>@<span class=\"string\">'%'</span> IDENTIFIED BY <span class=\"string\">'weiyigeek'</span>;</span><br><span class=\"line\">mysql&gt; GRANT ALL ON *.* TO <span class=\"string\">'web'</span>@<span class=\"string\">'%'</span>;</span><br><span class=\"line\">mysql&gt; flush privileges;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#重启数据库尝试连接</span></span><br><span class=\"line\">/etc/init.d/mysqld start</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<p>4.Jeecmsv9系统安装包部署(不懂java采用这种方式)<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#解压安装包到tomca中Webapps中的ROOT中</span></span><br><span class=\"line\">unzip  /app/jeecmsv9.3-ROOT.zip</span><br><span class=\"line\">rm -rf /app/tomcat-9.0.22/webapps/ROOT/</span><br><span class=\"line\">cp -r /app/ROOT /app/tomcat-9.0.22/webapps/ROOT/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#为了可以正常安装还需要修改/app/tomcat-9.0.22/conf/web.xml 和  webapps/ROOT/WEB-INF/web.xml</span></span><br><span class=\"line\"><span class=\"comment\">#在web.xml加一个标签：在&lt;/web-app&gt;前即可</span></span><br><span class=\"line\">&lt;absolute-ordering /&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#权限修改</span></span><br><span class=\"line\">chown -R tomcat:tomcat /app/tomcat-9.0.22</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#启动tomcat和停止tomcat</span></span><br><span class=\"line\">/app/tomcat-9.0.22/bin/version.sh</span><br><span class=\"line\"><span class=\"comment\"># Using CATALINA_BASE:   /app/tomcat-9.0.22</span></span><br><span class=\"line\"><span class=\"comment\"># Using CATALINA_HOME:   /app/tomcat-9.0.22</span></span><br><span class=\"line\"><span class=\"comment\"># Using CATALINA_TMPDIR: /app/tomcat-9.0.22/temp</span></span><br><span class=\"line\"><span class=\"comment\"># Using JRE_HOME:        /usr/local/jdk1.8.0_211/jre</span></span><br><span class=\"line\"><span class=\"comment\"># Using CLASSPATH:       /app/tomcat-9.0.22/bin/bootstrap.jar:/app/tomcat-9.0.22/bin/tomcat-juli.jar</span></span><br><span class=\"line\"><span class=\"comment\"># Server version: Apache Tomcat/9.0.22</span></span><br><span class=\"line\"><span class=\"comment\"># Server built:   Jul 4 2019 14:20:06 UTC</span></span><br><span class=\"line\"><span class=\"comment\"># Server number:  9.0.22.0</span></span><br><span class=\"line\"><span class=\"comment\"># OS Name:        Linux</span></span><br><span class=\"line\"><span class=\"comment\"># OS Version:     3.10.0-957.27.2.el7.x86_64</span></span><br><span class=\"line\"><span class=\"comment\"># Architecture:   amd64</span></span><br><span class=\"line\"><span class=\"comment\"># JVM Version:    1.8.0_211-b12</span></span><br><span class=\"line\"><span class=\"comment\"># JVM Vendor:     Oracle Corporation</span></span><br><span class=\"line\"></span><br><span class=\"line\">/app/tomcat-9.0.22/bin/catalina.sh start|stop</span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/1/20190817164135.png\" alt=\"WeiyiGeek.web修改\" title=\"\" class=\"\">\n                <p>WeiyiGeek.web修改</p>\n            </figure></p>\n<p><br><br>5.启动后安装导入数据库表进行相应的配置,访问 <code>http://192.168.17.128:8080/</code>会出现如果您第一次安装，请直接点击JEECMS安装。</p>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/1/20190817164837.png\" alt=\"WeiyiGeek.\" title=\"\" class=\"\">\n                <p>WeiyiGeek.</p>\n            </figure>\n<p>填入我们建立的mysql数据库用户和账号密码</p>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/1/20190817164945.png\" alt=\"WeiyiGeek.\" title=\"\" class=\"\">\n                <p>WeiyiGeek.</p>\n            </figure>\n<p>最终会显示安装完成,需要重启tomcat即可：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&#x2F;app&#x2F;tomcat-9.0.22&#x2F;bin&#x2F;catalina.sh stop</span><br><span class=\"line\">&#x2F;app&#x2F;tomcat-9.0.22&#x2F;bin&#x2F;catalina.sh start</span><br></pre></td></tr></table></figure></p>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/1/20190817165111.png\" alt=\"WeiyiGeek.安装成功\" title=\"\" class=\"\">\n                <p>WeiyiGeek.安装成功</p>\n            </figure>\n<p><br></p>\n<ol start=\"5\">\n<li>测试是否安装成功<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">访问首页：</span><br><span class=\"line\">http:&#x2F;&#x2F;10.10.107.245:8080&#x2F;</span><br><span class=\"line\"></span><br><span class=\"line\">访问后台:</span><br><span class=\"line\">http:&#x2F;&#x2F;10.10.107.245:8080&#x2F;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p><br></p>\n<h5 id=\"VueJeecms管理后台安装\"><a href=\"#VueJeecms管理后台安装\" class=\"headerlink\" title=\"VueJeecms管理后台安装\"></a>VueJeecms管理后台安装</h5><p>依赖与Node.js环境所以需要安装该环境:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://nodejs.org/dist/v10.16.3/node-v10.16.3.tar.gz</span><br><span class=\"line\">tar -zxf node-v10.16.3.tar.gz</span><br><span class=\"line\"><span class=\"built_in\">cd</span> node-v10.16.3;</span><br><span class=\"line\">./configure --prefix=/usr/<span class=\"built_in\">local</span>/nodejs  <span class=\"comment\">#注意后面这个参数</span></span><br><span class=\"line\">make &amp;&amp; make install</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#验证安装</span></span><br><span class=\"line\">node -v</span><br><span class=\"line\">npm -v</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#设置模块镜像源安装cnpm官网https://npmmirror.com/ </span></span><br><span class=\"line\">npm install -g cnpm --registry=https://registry.npmmirror.com</span><br><span class=\"line\">cnpm -v <span class=\"comment\">#验证安装</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#然后再项目工程之中构建Vue</span></span><br><span class=\"line\"><span class=\"string\">\"/mnt/c/Users/WeiyiGeek/Downloads/jeecmsv9-adminVue\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># install dependencies</span></span><br><span class=\"line\">npm install</span><br><span class=\"line\"><span class=\"comment\"># serve with hot reload at localhost:8080</span></span><br><span class=\"line\">npm run dev</span><br><span class=\"line\"><span class=\"comment\"># build for production with minification</span></span><br><span class=\"line\">npm run build</span><br><span class=\"line\"><span class=\"comment\"># build for production and view the bundle analyzer report</span></span><br><span class=\"line\">npm run build --report</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#启动项目</span></span><br><span class=\"line\">&gt; cmsv9-cli</span><br></pre></td></tr></table></figure></p>\n<hr>\n\n<h4 id=\"0x02-Jeecms-基本配置\"><a href=\"#0x02-Jeecms-基本配置\" class=\"headerlink\" title=\"0x02 Jeecms 基本配置\"></a>0x02 Jeecms 基本配置</h4><p>Jeecms模板路径: /WEB-INF/t/cms/www<br>Jeecms资源路径: /r/cms/www<br>爬虫采集: 运营 -&gt; 采集 (爬取)</p>\n<p><strong>1) JeeCms防火墙配置:</strong><br>配置文件:/app/tomcat-9.0.22/webapps/ROOT/WEB-INF/config/firewall.properties<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall.domain=</span><br><span class=\"line\">firewall.hour=9,10,11,12,13,14,15,16,17,18,19,20</span><br><span class=\"line\">firewall.ips=</span><br><span class=\"line\">firewall.password=password</span><br><span class=\"line\">firewall.open=<span class=\"literal\">true</span></span><br><span class=\"line\">firewall.week=1,2,3,4,5,6,7</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"0x0n-入坑记\"><a href=\"#0x0n-入坑记\" class=\"headerlink\" title=\"0x0n 入坑记\"></a>0x0n 入坑记</h4><p><em>问题1:首页无法打开显示服务请求发生了错误！</em><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">产生原因:</span><br><span class=\"line\">由于设置了站点设置中静态页目录 (使用根目录导致)</span><br><span class=\"line\"></span><br><span class=\"line\">解决办法：</span><br><span class=\"line\">设置首页模板为下面这里默认模板路径: /default/index/index.html</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<p><em>问题2:</em></p>\n<p>系统后台登录输入密码错误3次后会要求输入验证码</p>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"AppOperation","path":"api/categories/AppOperation.json"}],"tags":[{"name":"Jeecms","path":"api/tags/Jeecms.json"}]}