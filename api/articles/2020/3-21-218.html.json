{"title":"DELL存储SCv2000/2020基础配置与使用","slug":"系统运维/Server/DELL/DELL存储SCv2000基础配置与使用","date":"2020-03-21T11:35:30.000Z","updated":"2022-03-29T05:39:06.305Z","url":"2020/3-21-218.html","path":"api/articles/2020/3-21-218.html.json","covers":["https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200907101813.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200906125136.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200906125324.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200906130554.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200906130017.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200910205320.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200910174636.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200912124550.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200910212820.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200907104321.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200912131350.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200912131239.png","http://img.mp.itc.cn/upload/20160830/fd5ae2b90d894c43acfa80cabfc44956_th.png","http://img.mp.itc.cn/upload/20160830/24fde72826dc4730be87072a78433018_th.jpeg","http://img.mp.itc.cn/upload/20160830/dc4bf303d9bc45cb9534e53aa004dacc_th.jpeg","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200907101249.png","https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/2/20210105102325.png"],"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h4 id=\"0x00-前言简述\"><a href=\"#0x00-前言简述\" class=\"headerlink\" title=\"0x00 前言简述\"></a>0x00 前言简述</h4><p>描述: 最近业务需要需要将原本装有VMware vSphere的机器直接安装Ubuntu 20.04 TLS,并通过SAS线缆从DELL Storage SCv 2020链接我们的UBUNTU 物理主机上进行SCSI磁盘的挂载共享使用，以下是一些简单的说明;</p>\n<p>TIPS: DELL Storage SCV2000 / SCv 2020 使用Fibre Channal 或者 iSCSI 存储系统时候建议通过<code>FC SAN 网络</code>进行数据传输,此处我们还是以我们现存的硬件设备进行连接通过SAS线缆链接到服务器上的HBA卡(主机总线适配器)中;</p>\n<ul>\n<li>戴尔SCv2000是一款容易上手的入门级存储系统，其向导式图形界面、智能、自动化、简捷操作和可靠性保障都给我们留下了不错的印象，它是Compellent家族血统的智能存储。</li>\n</ul>\n<p><br/></p>\n<p><strong>技术规格:</strong></p>\n<ul>\n<li><p>1.SAS 硬盘驱动器:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SCv2000：最多 12 个 3.5 英寸 SAS 热插拔硬盘驱动器 (6.0 Gbps) 水平安装</span><br><span class=\"line\">SCv2020：最多 24 个 2.5 英寸 SAS 热插拔硬盘驱动器 (6.0 Gbps) 垂直安装</span><br></pre></td></tr></table></figure>\n<figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200907101813.png\" alt=\"WeiyiGeek.\" title=\"\" class=\"\">\n                <p>WeiyiGeek.</p>\n            </figure>\n</li>\n<li><p>2.存储控制器: 最多两个具有以下 I/O 选项的热插拔存储控制器</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">• 两个 16 Gbps Fibre Channel 端口</span><br><span class=\"line\">• 四个 8 Gbps Fibre Channel 端口</span><br><span class=\"line\">• 两个 10 Gbps iSCSI 端口</span><br><span class=\"line\">• 四个 1 Gbps iSCSI 端口</span><br><span class=\"line\">• 四个 12 Gbps SAS 端口</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>3.存储连接配置:Storage Center 在一个冗余路径 SAS 链中支持多达 168 个驱动器</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">• SCv2000 支持最多 13 个 SC100 扩展柜或 6 个 SC120 扩展柜</span><br><span class=\"line\">• SCv2020 支持最多 12 个 SC100 扩展柜或 6 个 SC120 扩展柜</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>4.独立磁盘冗余阵列 (RAID): 两个热插拔存储控制器,管理 RAID 管理使用 Dell Storage Client 2015 R1;</p>\n</li>\n<li><p>5.背面板端口连接器（每个存储控制器）: Fibre Channel、iSCSI 或SAS 连接器 连接至 Fiber Channel 光纤、iSCSI 网络或直接连接至<code>具有 SAS HBA 的服务器</code>;</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 以太网连接器 </span></span><br><span class=\"line\">* MGMT：10 Mbps、100 Mbps 或 1 Gbps 嵌入式以太网端口，用于 StorageCenter 管理</span><br><span class=\"line\">* REPL：10 Mbps、100 Mbps 或 1 Gbps 嵌入式 iSCSI 端口，用于复制到另一个Storage Center</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># SAS 连接器 </span></span><br><span class=\"line\">6 Gbps SAS 连接器，用于 SAS 端口冗余和附加扩展柜</span><br><span class=\"line\">注: SAS 连接器符合 SFF-8086/SFF-8088 标准</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># USB 连接器 </span></span><br><span class=\"line\">一个 USB 3.0 连接器，用于 Storage Center 更新</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 串行连接器</span></span><br><span class=\"line\">工程师使用</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>6.LED 指示灯</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 前面板 </span></span><br><span class=\"line\">• 一个双色 LED 指示灯，用于显示系统状态。</span><br><span class=\"line\">• 一个单色 LED 指示灯，用于显示电源状态。</span><br><span class=\"line\">• 两个数字式七段显示屏，用于显示存储系统 ID 号</span><br><span class=\"line\">• 带单色 LED 指示灯的 ID 按钮，用于显示启动和按下状态</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 硬盘驱动器托架 </span></span><br><span class=\"line\">• 一个单色活动 LED</span><br><span class=\"line\">• 每个驱动器具有一个单色 LED 状态指示灯</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 存储控制器 </span></span><br><span class=\"line\">• 每个以太网端口有两个单色 LED，用于表示活动和链路速度(`左链右活`)</span><br><span class=\"line\">• 每个 SAS 连接器有四个双色 LED，用于表示端口活动和状态</span><br><span class=\"line\">• 一个表示状态的单色 LED</span><br><span class=\"line\">• 一个表示故障的单色 LED</span><br><span class=\"line\">• 一个用于标识的单色 LED</span><br><span class=\"line\">• 八个用于诊断的单色 LED</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 电源设备/散热风扇 </span></span><br><span class=\"line\">四个 LED 状态指示灯，用于表示电源设备状态、交流故障状态、直流故障状态和风扇故障状态</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>7.可用的硬盘驱动器功率（每个插槽）：支持的硬盘驱动器的功耗（连续）</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">+5 V 时最多为 1.2 A</span><br><span class=\"line\">+12 V 时最多为 0.5 A</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>8.交流电源设备（每个电源设备）</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">功率 580 W（最大功率：584 W）</span><br><span class=\"line\">电压 100–240 VAC (7.6–3.0 A)</span><br><span class=\"line\">散热量 SCv2000：在 230 VAC 时为 65 W，在 115 VAC 时为 99 W</span><br><span class=\"line\">SCv2020：在 230 VAC 时为 65 W，在 115 VAC 时为 99 W</span><br><span class=\"line\">最大涌入电流 在典型的线路环境下和整个系统环境工作范围内，每个电源设备在 40 毫秒或更</span><br><span class=\"line\">短时间内的涌入电流可达 45 A</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h4 id=\"0x01-现场实施\"><a href=\"#0x01-现场实施\" class=\"headerlink\" title=\"0x01 现场实施\"></a>0x01 现场实施</h4><h5 id=\"设备上架\"><a href=\"#设备上架\" class=\"headerlink\" title=\"设备上架\"></a>设备上架</h5><p><strong>前端布线:</strong><br>是指连接存储系统与主机服务器,可通过<code>Fibre Channael / iSCSI 或者 SAS 接口</code>进行连接, 而存储系统可连接到Switch或者主机服务器(<code>需要HBA支持</code>)具体如何使用取决于前端端口类型;</p>\n<ul>\n<li>1.使用<code>Fibre Channael</code>前端端口连接一台或者多台<code>FC交换机</code>然后再则连接至一台或多台主机服务器;</li>\n<li>2.使用<code>iSCSI</code>前端端口的存储系统连接至一台或多台以<code>太网交换机</code>，以太网交换机则连接至一台或多台主机服务器。</li>\n<li>3.使用<code>SAS</code>前端接口的存储系统直接连接至一台或多台主机服务器。<br>注意：每个存储控制器上的MGMT端口连接到管理端口以太网,此时这样可以管理网络和配置Storage Center;</li>\n</ul>\n<p><strong>主机布线: 顶左底右</strong></p>\n<ul>\n<li><p>1.SAN 连接的主机服务器布线(<code>Fibre Channel 或 iSCSI 前端端口</code>)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.将每台主机服务器连接至交换机。</span><br><span class=\"line\">2. 将容错域 1 连接至交换机 1。(正好交叉)</span><br><span class=\"line\">  a. 将电缆从存储控制器 1：端口 1 连接至交换机 1。</span><br><span class=\"line\">  b. 将电缆从存储控制器 2：端口 1 连接至交换机 1。</span><br><span class=\"line\">  c. （仅四端口 I/O 卡）将电缆从存储控制器 1：端口 3 连接至交换机 1。</span><br><span class=\"line\">  d. （仅四端口 I/O 卡）将电缆从存储控制器 2：端口 3 连接至交换机 1。</span><br><span class=\"line\">3. 将容错域 2 连接至交换机 2。</span><br><span class=\"line\">  a. 将电缆从存储控制器 1：端口 2 连接至交换机 2。</span><br><span class=\"line\">  b. 将电缆从存储控制器 2：端口 2 连接至交换机 2。</span><br><span class=\"line\">  c. （仅四端口 I/O 卡）将电缆从 存储控制器 1：端口 4 连接至交换机 2。</span><br><span class=\"line\">  d. （仅四端口 I/O 卡）将电缆从 存储控制器 2：端口 4 连接至交换机 2。</span><br></pre></td></tr></table></figure>\n<figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200906125136.png\" alt=\"WeiyiGeek.SAN 连接\" title=\"\" class=\"\">\n                <p>WeiyiGeek.SAN 连接</p>\n            </figure>\n</li>\n<li><p>2.SAS 直连主机服务器布线(<code>SAS</code>)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. 将容错域 1 连接至主机服务器 1。</span><br><span class=\"line\">  a. 将 SAS 电缆从存储控制器 1：端口 1 连接至服务器 1。</span><br><span class=\"line\">  b. 将 SAS 电缆从存储控制器 2：端口 1 连接至服务器 1。</span><br><span class=\"line\">2. 将容错域 2 连接至主机服务器 2。</span><br><span class=\"line\">  a. 将 SAS 电缆从存储控制器 1：端口 2 连接至服务器 2。</span><br><span class=\"line\">  b. 将 SAS 电缆从存储控制器 2：端口 2 连接至服务器 2。</span><br><span class=\"line\">3. 将容错域 3 连接至主机服务器 3。</span><br><span class=\"line\">  a. 将 SAS 电缆从存储控制器 1：端口 3 连接至服务器 3。</span><br><span class=\"line\">  b. 将 SAS 电缆从存储控制器 2：端口 3 连接至服务器 3。</span><br><span class=\"line\">4. 将容错域 4 连接至主机服务器 4。</span><br><span class=\"line\">  a. 将 SAS 电缆从存储控制器 1：端口 4 连接至服务器 4。</span><br><span class=\"line\">  b. 将 SAS 电缆从存储控制器 2：端口 4 连接至服务器 4。</span><br></pre></td></tr></table></figure>\n<figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200906125324.png\" alt=\"WeiyiGeek.SAS 连接\" title=\"\" class=\"\">\n                <p>WeiyiGeek.SAS 连接</p>\n            </figure>\n</li>\n</ul>\n<p>注意事项: 顶部的存储控制器为存储控制器 1(<code>前端端口从左至右编号</code>)。底部的存储控制器为存储控制器(<code>2.前端端口从右至左编号</code>)即顶左底右。</p>\n<p><strong>扩展布线:</strong><br>描述:SCv2000/SCv2020 存储系统支持多个 SC100/SC120 扩展柜。使用 SAS 电缆将 SC100/SC120 扩展柜连接至 SCv2000/SCv2020 存储系统。<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">顶: A --&gt;  A / B --&gt; A</span><br><span class=\"line\">底: A --&gt;  A / B --&gt; A</span><br><span class=\"line\">顶: B --&gt; 底: B Last</span><br><span class=\"line\">底: B --&gt; 顶: B Last</span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200906130554.png\" alt=\"WeiyiGeek.扩展柜\" title=\"\" class=\"\">\n                <p>WeiyiGeek.扩展柜</p>\n            </figure></p>\n<p><strong>管理布线:</strong><br>描述:每个存储控制器的以太网管理 (MGMT) 接口必须连接至管理网络,注:<code>顶部的存储控制器为存储控制器 1，底部的存储控制器为存储控制器 2</code>。<br><figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200906130017.png\" alt=\"WeiyiGeek.\" title=\"\" class=\"\">\n                <p>WeiyiGeek.</p>\n            </figure></p>\n<h5 id=\"电源选择\"><a href=\"#电源选择\" class=\"headerlink\" title=\"电源选择\"></a>电源选择</h5><p>选择相应的<code>不间断电源设备 (UPS)</code>和<code>备用电源设备 (SBS) 组件</code>，确保仅将洁净电力提供给 Storage Center，且系统在电涌和断电时受到保护,不同级别的可用 <code>UPS/SBS 保护</code>如下：<br>• 在线式 UPS<br>• 线路交互式 SBS<br>• 离线式 SBS</p>\n<p>注意:这些 UPS/SBS 类型中的每一种在加载至完全输出容量时，通常都提供 5-15 分钟的备用电池时间。通过超额 UPS/SBS 的额<br>定值也许可延长备用时间。</p>\n<h5 id=\"开启存储\"><a href=\"#开启存储\" class=\"headerlink\" title=\"开启存储\"></a>开启存储</h5><p>描述: 在机架中布置存储系统的所有组件并进行布线后，开启 Storage Center, 同时按住两个电源开关（置为O），开启存储系统<br>注: 在开启主机服务器之前，请确保存储系统前面的状态指示灯显示蓝色。</p>\n<hr>\n<h4 id=\"0x02-安装和使用-Dell-Storage-Client\"><a href=\"#0x02-安装和使用-Dell-Storage-Client\" class=\"headerlink\" title=\"0x02 安装和使用 Dell Storage Client\"></a>0x02 安装和使用 Dell Storage Client</h4><p>描述:Dell Storage Client 配置、管理和监测 SCv2000/SCv2020 存储系统。<br>官网下载地址: <a href=\"https://www.dell.com/support/home/zh-cn/product-support/product/storage-sc2000/drivers\" target=\"_blank\" rel=\"noopener\">https://www.dell.com/support/home/zh-cn/product-support/product/storage-sc2000/drivers</a><br>当前版本: 2019 R1.20<br><br/></p>\n<h5 id=\"DELL-Storage-Manager-简介\"><a href=\"#DELL-Storage-Manager-简介\" class=\"headerlink\" title=\"DELL Storage Manager 简介\"></a>DELL Storage Manager 简介</h5><p>描述: Storage Manager 可用于通过集中式管理控制台监控、管理和<code>分析 Storage Center SAN</code>、FluidFS 群集和Fluid Cache 群集。<br>其</p>\n<p>包含以下组件:</p>\n<ul>\n<li>1) 主要 Storage Manager Data Collector</li>\n<li>2) Dell Storage Manager 客户端</li>\n<li>3) Dell Storage Manager Web UI</li>\n<li>4) 远程 Storage Manager Data Collector</li>\n<li>5) Storage Manager Server Agent</li>\n</ul>\n<p>注释:Storage Manager 使用的默认端口使用网络连接相互通信并与其他网络资源通信。<br>下表列出了<code>Storage Manager Data Collector</code>、<code>Dell Storage Manager 客户端</code> 和 <code>Storage Manager Server Agent</code> 使用的默认网络端口。<br> <strong>|入站|</strong><br>|端口|协议|名称|用途|<br>|:—:|:—:|:—:|:—:|<br>|514| UDP |系统日志 |接收从 Storage Center SAN 转发的日志|<br>|3033| TCP |Web 服务器端口| 接收来自所有客户端的通信,来自 FluidFS 群集的警报,来自 Fluid Cache 群集的警报|<br>|7342 | TCP | 传统客户端侦听器端口 | 与远程 Data Collector 通信 |<br>|5988 | TCP | HTTP 上的 SMI-S | 接收未加密的 SMI-S 通信 |<br>|5989 | TCP | HTTPS 上的 SMI-S | 接收加密的 SMI-S 通信 |</p>\n<p><strong>|出站|</strong><br>|端口|协议|名称|用途|<br>|:—: |:—:|:—:|:—:|<br>|25 |TCP |SMTP | 发送电子邮件通知|<br>|443 |TCP| SSL | 与受管 Storage Center SAN 通信使用 Dell SupportAssist 发送诊断数据|<br>|514 |UDP |系统日志 | 将 Storage Center 日志转发给系统日志服务器|<br>|1199| TCP |SIMS RMI | 与受管 PS 系列组通信|<br>|1433 |TCP |Microsoft SQLServer |连接到外部 Microsoft SQL Server 数据库|<br>|3033 |TCP |SSL | 与受管 Storage Center SAN 通信|<br>|3306 |TCP |MySQL | 连接到外部 MySQL 数据库|<br>|6774 |TCP |Fluid Cache | 与 Fluid Cache 服务器通信|<br>|8080 |TCP |VMware SDK | 与 VMware 服务器通信|<br>|27355 |TCP |Server Agent 套接字侦听端口| Storage Manager Server Agent 通信|<br>|35451 |TCP |FluidFS |与受管的 FluidFS 群集通信|<br>|44421 |TCP |FluidFS 诊断| 检索来自受管的 FluidFS 群集的诊断|</p>\n<p><br/></p>\n<h5 id=\"DELL-Storage-Client-安装\"><a href=\"#DELL-Storage-Client-安装\" class=\"headerlink\" title=\"DELL Storage Client 安装\"></a>DELL Storage Client 安装</h5><p>1.下载并安装载 <code>Dell Enterprise Manager</code> 软件(<code>Enterprise Manager Client</code>)需注意安装软件服务器必须在同一子网下;<br>2.双击 <code>Enterprise Manager Client</code> 快捷键以启动软件随即出现 <code>Dell Storage Client</code> 欢迎屏幕。<br>3.根据需要选择如下:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- 初始化：查找和配置未初始化的 SCv2000 系列 Storage Center;</span><br><span class=\"line\">- 管理: 击登录到 Storage Center 或 Data Collector 链接连接至已初始化的 SCv2000/SCv2020 存储系统;</span><br><span class=\"line\">- 优化: 设置此主机以访问 Storage Center 链接: 要设置主机服务器以访问 Storage Center 并配置执行 IO 的最佳做法;</span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200910205320.png\" alt=\"WeiyiGeek.2016-R2-Client\" title=\"\" class=\"\">\n                <p>WeiyiGeek.2016-R2-Client</p>\n            </figure></p>\n<ul>\n<li><p>4.登陆后可查看摘要选项卡(存储了磁盘以及各个硬件设备的健康状态)</p>\n<figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200910174636.png\" alt=\"WeiyiGeek.登录后的界面\" title=\"\" class=\"\">\n                <p>WeiyiGeek.登录后的界面</p>\n            </figure>\n</li>\n<li><p>5.创建卷时SCv 20000支持的几大系统差异，切换到存储卷右键点击卷-&gt;创建卷-&gt;卷标识设置-&gt;卷容量设置-&gt;选择映射服务器（如果没有则需要创建服务器）-&gt; 设置名称以及操作系统;</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Novell SUSE Linux </span></span><br><span class=\"line\">- 11</span><br><span class=\"line\">- 12</span><br><span class=\"line\"><span class=\"comment\"># Other (FC-SAN)使用</span></span><br><span class=\"line\">- Other Multipath</span><br><span class=\"line\">- Other Singlepath</span><br><span class=\"line\"><span class=\"comment\"># Red hat Liunx</span></span><br><span class=\"line\">- 5.x</span><br><span class=\"line\">- 6.x</span><br><span class=\"line\">- 7.x</span><br><span class=\"line\"><span class=\"comment\"># Vmware</span></span><br><span class=\"line\">- ESXI 5.X 6.0</span><br><span class=\"line\"><span class=\"comment\"># Windows</span></span><br><span class=\"line\">- 2008 Hype-V/MPIO</span><br><span class=\"line\">- 2012 Hype-V/MPIO</span><br><span class=\"line\"><span class=\"comment\"># XenServer</span></span><br><span class=\"line\">- 6.x MPIO</span><br><span class=\"line\">- 7.x MPIO</span><br></pre></td></tr></table></figure>\n<figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200912124550.png\" alt=\"WeiyiGeek.卷创建与映射\" title=\"\" class=\"\">\n                <p>WeiyiGeek.卷创建与映射</p>\n            </figure>\n</li>\n</ul>\n<p><br/></p>\n<h5 id=\"DELL-Storage卷创建与映射\"><a href=\"#DELL-Storage卷创建与映射\" class=\"headerlink\" title=\"DELL Storage卷创建与映射\"></a>DELL Storage卷创建与映射</h5><p>描述:登陆后切换到存储选项卡之中进行卷与主机的创建并绑定;<br>资源分配规划:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># App 分配 1.2T </span></span><br><span class=\"line\"><span class=\"comment\"># Log 分配 1T</span></span><br><span class=\"line\"><span class=\"comment\"># 分别映射给216、217、218三台主机</span></span><br></pre></td></tr></table></figure><br>操作流程:<br>Step 1. 为了方便管理创建卷文件夹、以及创建对应的卷Application、Log分配1T等;<br>Step 2. 根据使用场景创建主机、并将创建的Lun 卷映射给该主机;<br><figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200910212820.png\" alt=\"WeiyiGeek.主机\" title=\"\" class=\"\">\n                <p>WeiyiGeek.主机</p>\n            </figure><br>Step 3. 主机在不重启的情况下刷新scsi驱动加载分配的卷导致本地服务器中;<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 0.首先确定操作系统有木有识别到HBA卡的驱动</span></span><br><span class=\"line\"><span class=\"variable\">$lspci</span> | grep <span class=\"string\">\"SAS\"</span></span><br><span class=\"line\"><span class=\"comment\"># 01:00.0 RAID bus controller: Broadcom / LSI MegaRAID SAS-3 3108 [Invader] (rev 02)</span></span><br><span class=\"line\"><span class=\"comment\"># 04:00.0 Serial Attached SCSI controller: Broadcom / LSI SAS3008 PCI-Express Fusion-MPT SAS-3 (rev 02)</span></span><br><span class=\"line\"><span class=\"variable\">$modprobe</span> -c |grep mpt3sas</span><br><span class=\"line\"><span class=\"comment\"># alias mpt2sas mpt3sas</span></span><br><span class=\"line\"><span class=\"comment\"># alias pci:v00001000d00000064sv*sd*bc*sc*i* mpt3sas</span></span><br><span class=\"line\"><span class=\"comment\"># .......</span></span><br><span class=\"line\"><span class=\"comment\"># alias pci:v00001000d000002B1sv*sd*bc*sc*i* mpt3sas</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 1.执行scsi主机扫描添加Lun卷存储到本地(扫描所有)</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> /sys/class/scsi_host/*; <span class=\"keyword\">do</span> <span class=\"built_in\">echo</span> <span class=\"string\">\"- - -\"</span> &gt; <span class=\"variable\">$i</span>/scan; <span class=\"keyword\">done</span></span><br><span class=\"line\"><span class=\"comment\"># 或者找到总线编号，然后再根据得到的编号进行扫描SCSI总线;</span></span><br><span class=\"line\"><span class=\"variable\">$grep</span> mpt /sys/class/scsi_host/host?/proc_name</span><br><span class=\"line\">/sys/class/scsi_host/host1/proc_name:mpt3sas</span><br><span class=\"line\"><span class=\"variable\">$echo</span>  <span class=\"string\">\"- - -\"</span> &gt; /sys/class/scsi_host/host1/scan  <span class=\"comment\"># 扫描单个</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 2.或者扫描查看系统中所有的SCSI目标设备</span></span><br><span class=\"line\"><span class=\"variable\">$sudo</span> rescan-scsi-bus.sh</span><br><span class=\"line\">Scanning SCSI subsystem <span class=\"keyword\">for</span> new devices</span><br><span class=\"line\">Scanning host 0 <span class=\"keyword\">for</span>  SCSI target IDs  0 1 2 3 4 5 6 7, all LUNs</span><br><span class=\"line\"> Scanning <span class=\"keyword\">for</span> device 0 2 0 0 ...   <span class=\"comment\"># 此处是系统自带的RAID卡</span></span><br><span class=\"line\">OLD: Host: scsi0 Channel: 02 Id: 00 Lun: 00</span><br><span class=\"line\">      Vendor: DELL     Model: PERC H730 Mini   Rev: 4.27</span><br><span class=\"line\">      Type:   Direct-Access                    ANSI SCSI revision: 05</span><br><span class=\"line\">Scanning host 1 <span class=\"keyword\">for</span>  SCSI target IDs  0 1 2 3 4 5 6 7, all LUNs</span><br><span class=\"line\"> Scanning <span class=\"keyword\">for</span> device 1 0 1 1 ...    <span class=\"comment\"># 此处是存储中创建的的两个Lun组，而Lun组便于识别存储分配的卷;</span></span><br><span class=\"line\">OLD: Host: scsi1 Channel: 00 Id: 01 Lun: 01</span><br><span class=\"line\">      Vendor: COMPELNT Model: Compellent Vol   Rev: 0701</span><br><span class=\"line\">      Type:   Direct-Access                    ANSI SCSI revision: 05</span><br><span class=\"line\"> Scanning <span class=\"keyword\">for</span> device 1 0 1 2 ...   <span class=\"comment\"># 关键点 添加删除scsi设备都需要此码</span></span><br><span class=\"line\">OLD: Host: scsi1 Channel: 00 Id: 01 Lun: 02</span><br><span class=\"line\">      Vendor: COMPELNT Model: Compellent Vol   Rev: 0701</span><br><span class=\"line\">      Type:   Direct-Access                    ANSI SCSI revision: 05</span><br><span class=\"line\"> Scanning <span class=\"keyword\">for</span> device 1 0 2 1 ...</span><br><span class=\"line\">OLD: Host: scsi1 Channel: 00 Id: 02 Lun: 01</span><br><span class=\"line\">      Vendor: COMPELNT Model: Compellent Vol   Rev: 0701</span><br><span class=\"line\">      Type:   Direct-Access                    ANSI SCSI revision: 05</span><br><span class=\"line\"> Scanning <span class=\"keyword\">for</span> device 1 0 2 2 ...</span><br><span class=\"line\">OLD: Host: scsi1 Channel: 00 Id: 02 Lun: 02</span><br><span class=\"line\">      Vendor: COMPELNT Model: Compellent Vol   Rev: 0701</span><br><span class=\"line\">      Type:   Direct-Access                    ANSI SCSI revision: 05</span><br><span class=\"line\">Scanning host 2 <span class=\"keyword\">for</span>  SCSI target IDs  0 1 2 3 4 5 6 7, all LUNs</span><br><span class=\"line\">Scanning host 3 <span class=\"keyword\">for</span>  SCSI target IDs  0 1 2 3 4 5 6 7, all LUNs</span><br><span class=\"line\">Scanning host 4 <span class=\"keyword\">for</span>  SCSI target IDs  0 1 2 3 4 5 6 7, all LUNs</span><br><span class=\"line\">Scanning host 5 <span class=\"keyword\">for</span>  SCSI target IDs  0 1 2 3 4 5 6 7, all LUNs</span><br><span class=\"line\">Scanning host 6 <span class=\"keyword\">for</span>  SCSI target IDs  0 1 2 3 4 5 6 7, all LUNs</span><br><span class=\"line\">Scanning host 7 <span class=\"keyword\">for</span>  SCSI target IDs  0 1 2 3 4 5 6 7, all LUNs</span><br><span class=\"line\">Scanning host 8 <span class=\"keyword\">for</span>  SCSI target IDs  0 1 2 3 4 5 6 7, all LUNs</span><br><span class=\"line\">Scanning host 9 <span class=\"keyword\">for</span>  SCSI target IDs  0 1 2 3 4 5 6 7, all LUNs</span><br><span class=\"line\">Scanning host 10 <span class=\"keyword\">for</span>  SCSI target IDs  0 1 2 3 4 5 6 7, all LUNs</span><br><span class=\"line\">Scanning host 11 <span class=\"keyword\">for</span>  SCSI target IDs  0 1 2 3 4 5 6 7, all LUNs</span><br><span class=\"line\"> Scanning <span class=\"keyword\">for</span> device 11 0 0 0 ...</span><br><span class=\"line\">OLD: Host: scsi11 Channel: 00 Id: 00 Lun: 00</span><br><span class=\"line\">      Vendor: PLDS     Model: DVD+-RW DU-8A5LH Rev: 6D51</span><br><span class=\"line\">      Type:   CD-ROM                           ANSI SCSI revision: 05</span><br><span class=\"line\">.0 new or changed device(s) found.</span><br><span class=\"line\">0 remapped or resized device(s) found.</span><br><span class=\"line\">0 device(s) removed.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看主机SAS接口</span></span><br><span class=\"line\">weiyigeek@ubuntu:~$ ls -l /sys/class/sas_host/</span><br><span class=\"line\">lrwxrwxrwx 1 root root 0 Sep  4 18:03 host1 -&gt; ../../devices/pci0000:00/0000:00:02.0/0000:04:00.0/host5/sas_host/host5</span><br><span class=\"line\">weiyigeek@ubuntu:~$ ls -l /sys/class/sas_host/host1/</span><br><span class=\"line\">device/    power/     subsystem/ uevent </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 3.查看添加的Lun卷</span></span><br><span class=\"line\">sudo fdisk -l | grep <span class=\"string\">\"/dev\"</span></span><br><span class=\"line\">Disk /dev/sdd: 1.2 TiB, 1319413953024 bytes, 2576980377 sectors</span><br><span class=\"line\">Disk /dev/sde: 1 TiB, 1099511627776 bytes, 2147483648 sectors</span><br><span class=\"line\">Disk /dev/mapper/k8sapp: 1.2 TiB, 1319413953024 bytes, 2576980377 sectors</span><br><span class=\"line\">Disk /dev/mapper/k8slog: 1 TiB, 1099511627776 bytes, 2147483648 sectors</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 4.获取scsi磁盘的WWID以及编辑多路径配置设置多路径别名</span></span><br><span class=\"line\"><span class=\"variable\">$cat</span> /etc/multipath/wwids</span><br><span class=\"line\">/36000d3100366e6000000000000000021/</span><br><span class=\"line\">/36000d3100366e6000000000000000020/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable\">$cat</span> /etc/multipath.conf</span><br><span class=\"line\">blacklist &#123;</span><br><span class=\"line\">  devnode <span class=\"string\">\"^sda\"</span></span><br><span class=\"line\">  devnode <span class=\"string\">\"^hd[a-z]\"</span></span><br><span class=\"line\">  devnode <span class=\"string\">\"^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*\"</span></span><br><span class=\"line\">  devnode <span class=\"string\">\"^dcssblk[0-9]*\"</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">defaults &#123;</span><br><span class=\"line\">  user_friendly_names yes</span><br><span class=\"line\">  path_grouping_policy multibus</span><br><span class=\"line\">  failback immediate</span><br><span class=\"line\">  no_path_retry fail</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">multipaths &#123;</span><br><span class=\"line\">  multipath &#123;</span><br><span class=\"line\">    wwid  <span class=\"string\">\"36000d3100366e6000000000000000021\"</span></span><br><span class=\"line\">    <span class=\"built_in\">alias</span> k8sapp</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  multipath &#123;</span><br><span class=\"line\">    wwid <span class=\"string\">\"36000d3100366e6000000000000000020\"</span></span><br><span class=\"line\">    <span class=\"built_in\">alias</span> k8slog</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 5.初始化多路径的存储设备</span></span><br><span class=\"line\">systemctl <span class=\"built_in\">enable</span> multipathd</span><br><span class=\"line\">service multipathd restart <span class=\"comment\"># 启动服务</span></span><br><span class=\"line\">modprobe dm-multipath      <span class=\"comment\"># 系统加载DM模块</span></span><br><span class=\"line\">modprobe dm-round-robin</span><br><span class=\"line\">multipath -F               <span class=\"comment\"># 格式化</span></span><br><span class=\"line\">multipath -v2              <span class=\"comment\"># 创建别名</span></span><br><span class=\"line\"><span class=\"comment\"># create: k8sapp (36000d3100366e6000000000000000021) undef COMPELNT,Compellent Vol</span></span><br><span class=\"line\"><span class=\"comment\"># size=1.2T features='1 queue_if_no_path' hwhandler='1 alua' wp=undef</span></span><br><span class=\"line\"><span class=\"comment\"># `-+- policy='service-time 0' prio=25 status=undef</span></span><br><span class=\"line\"><span class=\"comment\">#   |- 5:0:0:1 sdb 8:16 undef ready running</span></span><br><span class=\"line\"><span class=\"comment\">#   `- 5:0:1:1 sdd 8:48 undef ready running</span></span><br><span class=\"line\"><span class=\"comment\"># create: k8slog (36000d3100366e6000000000000000020) undef COMPELNT,Compellent Vol</span></span><br><span class=\"line\"><span class=\"comment\"># size=1.0T features='1 queue_if_no_path' hwhandler='1 alua' wp=undef</span></span><br><span class=\"line\"><span class=\"comment\"># `-+- policy='service-time 0' prio=25 status=undef</span></span><br><span class=\"line\"><span class=\"comment\">#   |- 5:0:0:2 sdc 8:32 undef ready running</span></span><br><span class=\"line\"><span class=\"comment\">#   `- 5:0:1:2 sde 8:64 undef ready running</span></span><br><span class=\"line\">multipath -ll  <span class=\"comment\"># 格式化路径，检测路径，合并路径</span></span><br><span class=\"line\"><span class=\"comment\"># k8slog (36000d3100366e6000000000000000020) dm-1 COMPELNT,Compellent Vol</span></span><br><span class=\"line\"><span class=\"comment\"># size=1.0T features='1 queue_if_no_path' hwhandler='1 alua' wp=rw</span></span><br><span class=\"line\"><span class=\"comment\"># `-+- policy='service-time 0' prio=25 status=active</span></span><br><span class=\"line\"><span class=\"comment\">#   |- 5:0:0:2 sdc 8:32 failed ready running</span></span><br><span class=\"line\"><span class=\"comment\">#   `- 5:0:1:2 sde 8:64 active ready running</span></span><br><span class=\"line\"><span class=\"comment\"># k8sapp (36000d3100366e6000000000000000021) dm-0 COMPELNT,Compellent Vol</span></span><br><span class=\"line\"><span class=\"comment\"># size=1.2T features='1 queue_if_no_path' hwhandler='1 alua' wp=rw</span></span><br><span class=\"line\"><span class=\"comment\"># `-+- policy='service-time 0' prio=25 status=active</span></span><br><span class=\"line\"><span class=\"comment\">#   |- 5:0:0:1 sdb 8:16 failed ready running</span></span><br><span class=\"line\"><span class=\"comment\">#   `- 5:0:1:1 sdd 8:48 active ready running</span></span><br><span class=\"line\">multipath -r  <span class=\"comment\"># 修改multipath.conf配置文件之后重新加载</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 6.格式化分区(数据统统没得)并进行挂载磁盘</span></span><br><span class=\"line\"><span class=\"variable\">$mkfs</span>.xfs /dev/mapper/k8sapp</span><br><span class=\"line\"><span class=\"comment\"># meta-data=/dev/mapper/k8sapp     isize=512    agcount=32, agsize=10066432 blks</span></span><br><span class=\"line\"><span class=\"comment\">#          =                       sectsz=4096  attr=2, projid32bit=1</span></span><br><span class=\"line\"><span class=\"comment\">#          =                       crc=1        finobt=1, sparse=1, rmapbt=0</span></span><br><span class=\"line\"><span class=\"comment\">#          =                       reflink=1</span></span><br><span class=\"line\"><span class=\"comment\"># data     =                       bsize=4096   blocks=322122547, imaxpct=5</span></span><br><span class=\"line\"><span class=\"comment\">#          =                       sunit=512    swidth=512 blks</span></span><br><span class=\"line\"><span class=\"comment\"># naming   =version 2              bsize=4096   ascii-ci=0, ftype=1</span></span><br><span class=\"line\"><span class=\"comment\"># log      =internal log           bsize=4096   blocks=157286, version=2</span></span><br><span class=\"line\"><span class=\"comment\">#          =                       sectsz=4096  sunit=1 blks, lazy-count=1</span></span><br><span class=\"line\"><span class=\"comment\"># realtime =none                   extsz=4096   blocks=0, rtextents=0</span></span><br><span class=\"line\">mkfs.xfs /dev/mapper/k8slog</span><br><span class=\"line\"><span class=\"comment\"># meta-data=/dev/mapper/k8slog     isize=512    agcount=32, agsize=8388608 blks</span></span><br><span class=\"line\"><span class=\"comment\">#          =                       sectsz=4096  attr=2, projid32bit=1</span></span><br><span class=\"line\"><span class=\"comment\">#          =                       crc=1        finobt=1, sparse=1, rmapbt=0</span></span><br><span class=\"line\"><span class=\"comment\">#          =                       reflink=1</span></span><br><span class=\"line\"><span class=\"comment\"># data     =                       bsize=4096   blocks=268435456, imaxpct=5</span></span><br><span class=\"line\"><span class=\"comment\">#          =                       sunit=512    swidth=512 blks</span></span><br><span class=\"line\"><span class=\"comment\"># naming   =version 2              bsize=4096   ascii-ci=0, ftype=1</span></span><br><span class=\"line\"><span class=\"comment\"># log      =internal log           bsize=4096   blocks=131072, version=2</span></span><br><span class=\"line\"><span class=\"comment\">#          =                       sectsz=4096  sunit=1 blks, lazy-count=1</span></span><br><span class=\"line\"><span class=\"comment\"># realtime =none                   extsz=4096   blocks=0, rtextents=0</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 7.创建挂载目录</span></span><br><span class=\"line\">mkdir -p /mnt/nfs/&#123;k8sapp,k8slog&#125;</span><br><span class=\"line\"><span class=\"comment\"># 建议根据uuid进行挂载</span></span><br><span class=\"line\">ls -alh /dev/disk/by-uuid/</span><br><span class=\"line\"><span class=\"comment\"># k8slog (36000d3100366e6000000000000000020) dm-1</span></span><br><span class=\"line\">lrwxrwxrwx 1 root root  10 Sep 10 14:59 9d3738eb-335e-4f2e-9a6b-80d0d2c35419 -&gt; ../../dm-1</span><br><span class=\"line\"><span class=\"comment\"># k8sapp (36000d3100366e6000000000000000021) dm-0 </span></span><br><span class=\"line\">lrwxrwxrwx 1 root root  10 Sep 10 14:59 adaeed81-e7a6-4692-9166-37cc64db234c -&gt; ../../dm-0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 修改/etc/fstab 文件增加如下:</span></span><br><span class=\"line\"><span class=\"comment\"># k8sapp      </span></span><br><span class=\"line\">/dev/disk/by-uuid/adaeed81-e7a6-4692-9166-37cc64db234c /mnt/nfs/k8sapp xfs defaults 0 0</span><br><span class=\"line\"><span class=\"comment\"># k8slog</span></span><br><span class=\"line\">/dev/disk/by-uuid/9d3738eb-335e-4f2e-9a6b-80d0d2c35419 /mnt/nfs/k8slog xfs defaults 0 0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 重新挂载/etc/fstab中配置定义的所有设备到指定目录</span></span><br><span class=\"line\">mount -a</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 8.查看系统中的挂载</span></span><br><span class=\"line\"><span class=\"variable\">$df</span> -h</span><br><span class=\"line\">Filesystem          Size  Used Avail Use% Mounted on</span><br><span class=\"line\">udev                 32G     0   32G   0% /dev</span><br><span class=\"line\">tmpfs               6.3G  2.5M  6.3G   1% /run</span><br><span class=\"line\">/dev/sda2           500G   15G  486G   3% /</span><br><span class=\"line\">tmpfs                32G     0   32G   0% /dev/shm</span><br><span class=\"line\">tmpfs               5.0M     0  5.0M   0% /run/lock</span><br><span class=\"line\">tmpfs                32G     0   32G   0% /sys/fs/cgroup</span><br><span class=\"line\">/dev/loop0           56M   56M     0 100% /snap/core18/1885</span><br><span class=\"line\">/dev/loop2           30M   30M     0 100% /snap/snapd/8542</span><br><span class=\"line\">/dev/loop1           72M   72M     0 100% /snap/lxd/16099</span><br><span class=\"line\">/dev/loop3           71M   71M     0 100% /snap/lxd/16922</span><br><span class=\"line\">/dev/loop5           30M   30M     0 100% /snap/snapd/8790</span><br><span class=\"line\">/dev/sda3           4.0G  257M  3.8G   7% /boot</span><br><span class=\"line\">/dev/loop4           55M   55M     0 100% /snap/core18/1880</span><br><span class=\"line\">/dev/sda5           600G  4.3G  596G   1% /home</span><br><span class=\"line\">tmpfs               6.3G     0  6.3G   0% /run/user/1000</span><br><span class=\"line\">/dev/mapper/k8sapp  1.2T  8.6G  1.2T   1% /mnt/nfs/k8sapp</span><br><span class=\"line\">/dev/mapper/k8slog  1.0T  7.2G 1017G   1% /mnt/nfs/k8slog</span><br><span class=\"line\">root@weiyigeek-ubuntu:~<span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 9.物理卸载已挂载的scsi设备利用 rescan-scsi-bus.sh 所得设备值</span></span><br><span class=\"line\">Scanning <span class=\"keyword\">for</span> device 1 0 1 2</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"scsi add-single-device  1 0 1 2\"</span> &gt; /proc/scsi/scsi</span><br></pre></td></tr></table></figure></p>\n<p><br/></p>\n<p><strong>注意事项:</strong></p>\n<ul>\n<li>(0) 该存储默认是采用精简模式(即使用多就占用多少空间)</li>\n<li>(1) 从本地服务器创建主机的先决条件<figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200907104321.png\" alt=\"WeiyiGeek.\" title=\"\" class=\"\">\n                <p>WeiyiGeek.</p>\n            </figure></li>\n<li>(2) 使用多路径进行聚会链路磁盘挂载scsi磁盘时候需要查看系统中是否安装多路径软件，一般的在<code>CentOS7/Redhat/Ubuntu 20.04</code> 默认自带,如果没有请按照以下流程安装;<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Redhat / CentOS (安装与开机自启)</span></span><br><span class=\"line\">yum install device-mapper-multipath</span><br><span class=\"line\">systemctl <span class=\"built_in\">enable</span> multipathd</span><br><span class=\"line\"><span class=\"comment\">#chkconfig --level 2345 multipathd on  # Deprecated(新版本启用)</span></span><br><span class=\"line\">systemctl start multipathd || service multipathd start</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Ubuntu 20.04</span></span><br><span class=\"line\">apt install multipath-tools</span><br><span class=\"line\">systemctl <span class=\"built_in\">enable</span> multipathd &amp;&amp; systemctl start multipathd</span><br><span class=\"line\">systemctl status multipathd</span><br><span class=\"line\"><span class=\"comment\"># ● multipathd.service - Device-Mapper Multipath Device Controller</span></span><br><span class=\"line\"><span class=\"comment\">#      Loaded: loaded (/lib/systemd/system/multipathd.service; enabled; vendor preset: enabled)</span></span><br><span class=\"line\"><span class=\"comment\">#      Active: active (running) since Fri 2020-09-11 08:40:22 UTC; 1 day 4h ago</span></span><br><span class=\"line\"><span class=\"comment\"># TriggeredBy: ● multipathd.socket</span></span><br><span class=\"line\"><span class=\"comment\">#     Process: 761 ExecStartPre=/sbin/modprobe -a scsi_dh_alua scsi_dh_emc scsi_dh_rdac dm-multipath (code=exited, status=0/SU&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h4 id=\"0x03-补充说明\"><a href=\"#0x03-补充说明\" class=\"headerlink\" title=\"0x03 补充说明\"></a>0x03 补充说明</h4><h5 id=\"1-RAID分层快照\"><a href=\"#1-RAID分层快照\" class=\"headerlink\" title=\"1.RAID分层快照\"></a>1.RAID分层快照</h5><p>注：Replay即戴尔SC系列的快照功能默认的Replay快照配置文件是“Daily”（每天一次）。<br>“服务器 - 操作系统”一项可以选择默认的主机连接路径优化策略，初始设置“Other Singlepath”应该是兼容性最好也最保守的。<br>RAID分层的目的:节约容量而不牺牲性能.</p>\n<p>熟悉企业存储的朋友应该都知道，<code>RAID 5/6由于写惩罚较大因而随机写性能偏低</code>；RAID 10性能均衡但空间浪费率较多。一般存储产品只能在二者之间取舍，无法两全齐美，而戴尔SC的RAID分层则比较好地解决了这个问题。</p>\n<ul>\n<li>针对Windows文件系统和微软应用程序，戴尔SC系列的Replay Manager是通过调用<code>VSS（卷影副本）</code>来实现一致性快照的。</li>\n<li>针对VMware的版本以及专为Oracle设计的APM（应用保护管理器），可以有效实现对虚拟机、数据库的快照保护。</li>\n</ul>\n<p>我们在测试中创建了一个1024GB的卷，采用的存储配置文件为“Balanced”跨RAID级别分层,SCv2000底层空间完全虚拟化打散为2MB页面（数据块）;</p>\n<figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200912131350.png\" alt=\"WeiyiGeek.Balanced\" title=\"\" class=\"\">\n                <p>WeiyiGeek.Balanced</p>\n            </figure>\n<p>根据这个统计信息，我们写入的大约68MB数据在RAID 10-DM分层占用了3倍的物理磁盘空间，RAID开销为66.6%。正如上一篇中提到过的——“由于这台机器是5块2TB硬盘，高性能分层没有用传统的单镜像盘RAID 10，而是双重镜像的RAID 10-DM（相当于3副本），就是为了避免Rebuild时间窗口内双盘故障的风险”。</p>\n<hr>\n<p>我们手动创建一个Replay快照，这是触发Data Progression RAID分层的前提,在“创建Replay”的对话框中，可以选择快照过期时间、描述，以及是否立即“从Replay创建卷”——也就是利用快照时间点数据状态生成一个依赖指针的“虚拟”卷;</p>\n<figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200912131239.png\" alt=\"WeiyiGeek.Replay快照\" title=\"\" class=\"\">\n                <p>WeiyiGeek.Replay快照</p>\n            </figure>\n<p>在跨RAID级别分层中的数据一旦被快照冻结，就意味着“需要重新平衡”。这里面遵循的一个重要原则，就是目标RAID级别—— RAID 6的读性能不比RAID 10（DM）差，却能够显著节约容量。而这种分层的前提机制，是 一直将数据写入到高性能分层，无论写入新的逻辑数据块还是覆盖已有数据的块都以RAID 10（DM）形式存放，所以写性能也不会因此而受到影响。</p>\n<p>戴尔SCv2000将驱动器划分成2MB条带，并以此为单位创建RAID。除了SC9000、8000和SC4020等中高端型号支持在 不同驱动器（多种SSD、HDD）之间的自动分层之外，Data Progression于相同性能驱动器的层级内部，还可以做 不同RAID级别之间的转换。这也是Compellent家族存储的一个重要特色。</p>\n<figure class=\"image-box\">\n                <img src=\"http://img.mp.itc.cn/upload/20160830/fd5ae2b90d894c43acfa80cabfc44956_th.png\" alt=\"WAIBU\" title=\"\" class=\"\">\n                <p>WAIBU</p>\n            </figure>\n<p>经过重新平衡之后，我们看到原有的“活动空间”已经都转换为RAID 6-10（8+2）级别，同时RAID开销下降为20%。这里还给出了“总磁盘空间”相对RAID 10 DM节省了11.62GB。</p>\n<figure class=\"image-box\">\n                <img src=\"http://img.mp.itc.cn/upload/20160830/24fde72826dc4730be87072a78433018_th.jpeg\" alt=\"WAIBU\" title=\"\" class=\"\">\n                <p>WAIBU</p>\n            </figure>\n<p>创建Replay之后，如果向卷内继续写入数据，无论到新的数据块还是覆盖原有块的内容，都会以RAID 10 DM级别存放（如下图）。RAID 6中的快照数据将保持不变，直至生成新的Replay，并到达下一次Data Progression数据迁移周期。<br><figure class=\"image-box\">\n                <img src=\"http://img.mp.itc.cn/upload/20160830/dc4bf303d9bc45cb9534e53aa004dacc_th.jpeg\" alt=\"WAIBU\" title=\"\" class=\"\">\n                <p>WAIBU</p>\n            </figure></p>\n<p><strong>结语</strong><br>RAID分层和Replay快照是戴尔 SCv2000比较有特色的两大功能，在入门级SAN阵列的价位上，并不是所有产品都具备这些智能特性。而更重要的是，用好这些功能并不难，它们可以帮助用户有效降低TCO并发挥更大的价值，重新定义存储的经济性。</p>\n<hr>\n<h4 id=\"0x04-入坑与出坑\"><a href=\"#0x04-入坑与出坑\" class=\"headerlink\" title=\"0x04 入坑与出坑\"></a>0x04 入坑与出坑</h4><h5 id=\"1-存储驱动器异常指示灯\"><a href=\"#1-存储驱动器异常指示灯\" class=\"headerlink\" title=\"1.存储驱动器异常指示灯\"></a>1.存储驱动器异常指示灯</h5><p>描述:Dell Enterprise 硬盘驱动器 (HDD) 和 Enterprise 固态驱动器 (eSSD) 是可以安装在 SCv2000/SCv2020 存储系统中的唯一驱动器(<code>左亮绿右灭是正常</code>)。<br><figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/1/20200907101249.png\" alt=\"WeiyiGeek.\" title=\"\" class=\"\">\n                <p>WeiyiGeek.</p>\n            </figure></p>\n<p><br></p>\n<h5 id=\"2-集群共享卷Lun组块存储并不支持网络文件系统同步共享\"><a href=\"#2-集群共享卷Lun组块存储并不支持网络文件系统同步共享\" class=\"headerlink\" title=\"2.集群共享卷Lun组块存储并不支持网络文件系统同步共享\"></a>2.集群共享卷Lun组块存储并不支持网络文件系统同步共享</h5><p>描述: 由于FC/SAS接口连接的主机映射到系统中都将变成块设备而并非是文件系统，在Dell Storage SCv2000中创建的是块设备存储，在加入服务器集群中可以映射同一块存储, 虽然可以同时读但是却不能同时写，如果同时写则会<code>导致磁盘的逻辑结果被破坏，从而不能正常使用</code>;<br>问题原因: <code>由于SAN提供的共享磁盘是块存储不是文件系统</code>，这将会产生一个问题即磁盘空间分配不一致；假若一个共享磁盘挂载到多个节点上时，文件系统会加载FAT到每一个节点内存中，当其中一个节点开始在此文件系统进行写操作时候，此节点上的文件系统将会查询FAT和可用block，然后分配使用并进行修改但是不会修改其它节点上的FAT; 所以此时<code>如果其它节点也尝试写文件时候，将会分配与之前相关的block供起使用，因为它并不知道此Block已被另外一个节点占用了</code>;</p>\n<p><br></p>\n<h5 id=\"3-SC2000存储管理密码忘记重置\"><a href=\"#3-SC2000存储管理密码忘记重置\" class=\"headerlink\" title=\"3.SC2000存储管理密码忘记重置\"></a>3.SC2000存储管理密码忘记重置</h5><p>操作步骤:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.创建文本文件 unlock &lt;usernam&gt;  比如：unlock Admin</span><br><span class=\"line\">2.保存文件，文件名为unlock.phy 如附件</span><br><span class=\"line\">3.把这个文件拷贝到U盘（注意格式是`msdos/fat32`）</span><br><span class=\"line\">4.将U盘插入到SC2000存储面板的控制器</span><br><span class=\"line\">4.插入圆形串口到lead controller 之上 (DELL 是一个圆形像手机耳机插口的一条线，另外一端是9针串口线)</span><br><span class=\"line\">5.采用圆形串口终端(`波特率 115200 / 流控制为 none / 停止位 1 / 数据位 8 / 奇偶位 none`)然后用U盘上的特殊账户(`登录Admin 密码mmm`)</span><br><span class=\"line\">6.解锁并重置password为默认的密码：mmm</span><br><span class=\"line\">  &gt; mc user user show</span><br><span class=\"line\">  &gt; shellaccess developer</span><br><span class=\"line\">  &gt; mc user user passrst 1</span><br><span class=\"line\">7.此时登陆EM软件重置密码然后添加一个管理员用户即可;</span><br><span class=\"line\">8.退出终端并移除U盘</span><br></pre></td></tr></table></figure></p>\n<figure class=\"image-box\">\n                <img src=\"https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2020/2/20210105102325.png\" alt=\"WeiyiGeek.串口终端\" title=\"\" class=\"\">\n                <p>WeiyiGeek.串口终端</p>\n            </figure>\n<p><strong>命令执行效果:</strong><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sn222950&gt; mc user user  show</span><br><span class=\"line\">sn222950&gt;  [222950] MCUser:MCUser 01/04/2021 09:01:34 PM</span><br><span class=\"line\">Inde     UserLogin            UserRealName       UserLa  UserPrivileges  OperSta tus   Notes              IsDirUser           DirectoryID   I   sLDAP   AuthFa AccountLo ExpDays       PWExpirationWarningTxt</span><br><span class=\"line\">   1 Admin              Compellent Admin User    zh_CN  (5) Admin        (1) Up             Default Compellent User        (0) False        (0) False      0 (1) True         0</span><br><span class=\"line\">Walk: Display 1 of 1</span><br><span class=\"line\"></span><br><span class=\"line\">sn222950&gt; shellaccess developer</span><br><span class=\"line\">WARNING Certain Shell Commands are now run at the risk of the user</span><br><span class=\"line\"></span><br><span class=\"line\">sn222950&gt; mc user user passrst 1</span><br></pre></td></tr></table></figure></p>\n<p><strong>注意事项:</strong></p>\n<ul>\n<li>1.这个操作是要连着串口线到leader的控制器上的，串口线连上去，插上U盘</li>\n<li>2.`串口连上在超级终端界面用这个账户登录（Admin，mmm），不要退出，不要拔u盘，然后再用EM软件去登录（Admin，mmm）进行重置密码；</li>\n<li>3.如果不清楚那个是leader控制器，2个控制器都`试一下</li>\n<li>4.需要用兼容性好些的U盘，有的U盘可能不识别，系统识别到U盘时串口有提示</li>\n</ul>\n<hr>\n<h4 id=\"参考来源\"><a href=\"#参考来源\" class=\"headerlink\" title=\"参考来源\"></a>参考来源</h4><ul>\n<li><a href=\"https://www.sohu.com/a/112712790_464024\" target=\"_blank\" rel=\"noopener\">https://www.sohu.com/a/112712790_464024</a></li>\n<li><a href=\"https://www.cnblogs.com/pipci/p/12775171.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/pipci/p/12775171.html</a></li>\n<li><a href=\"https://www.cnblogs.com/pipci/p/11431226.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/pipci/p/11431226.html</a></li>\n</ul>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"Storage","path":"api/categories/Storage.json"}],"tags":[{"name":"DellStorage","path":"api/tags/DellStorage.json"}]}