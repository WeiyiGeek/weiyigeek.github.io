{"title":"虚拟化安全研究","slug":"虚拟云容/虚拟化/VirtualSec/虚拟化安全研究","date":"2019-05-22T06:36:30.000Z","updated":"2020-10-10T02:37:51.347Z","url":"2019/5-22-484.html","path":"api/articles/2019/5-22-484.html.json","covers":null,"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<p>了解设备模拟器器的工作原理：<br>用户空间：Send<br>内核空间：Syscall / tcp_<em> / ip_</em> / dev_<em> / e1000_</em><br>设备模拟器：Network devices / Hub / slirp<br>基础设备：网络设备-&gt;内核(Kernel)-&gt;App</p>\n<p>半自动化deHypervisor fuzz 框架<br>虚拟机逃逸工具<br>Hypervisor 脆弱性防御系统;</p>\n<p>虚拟化安全基本信息：<br>可测试的软件或模块,qemu/vmware系列产品<br>发展方法:测试VMware workstation 产品,Hyper-V产品;</p>\n<p>Fuzz系统工作流程：<br>1.搭建网络和硬件环境,启动server,client,monitor<br>2.client加载系统hook模式,获取所在的机器的设备模拟器<br>3.Client向server申请设备测试数据,server发送数据<br>4.Client获取测试数据,并加载启动测试;<br>5.Monitor 持续监控Hypervisor运行情况并记录日志：<br>6.Client阶段性测试完毕,通知server<br>7.server从client和monitor获取日志并存储<br>8.Server启动日志分析模块判断是否发生异常;<br>9.分析异常并优化fuzz系统</p>\n<p>monitor模块功能系统细节：<br>虚拟机管理：Snapshot / Reboot / 虚拟机设备编辑</p>\n<p>虚拟机执行流程动态调试</p>\n<ul>\n<li>开始时进入调试模式</li>\n<li>载入调试插件</li>\n</ul>\n<p>虚拟化系统运行日志：</p>\n<ul>\n<li>用户空间层进程日志;</li>\n<li>内核空间层日志;</li>\n</ul>\n<p>e1000 模拟器：<br>初始化 ： 端口分配,地址映射/设备状态设置,资源分配;<br>数据传输：写TDT寄存器;处理模拟符号表;3种类型描述:context data legacy;数据处理;状态复原 等待下一次连接;<br>处理细节：环形内存;TSO技术;</p>\n<p>pcnet模拟器：<br>写IO端口-&gt; Control and Status 写寄存器 -&gt; [接收 / 发送] -&gt; 虚拟网卡接口 </p>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"Virtualization","path":"api/categories/Virtualization.json"}],"tags":[{"name":"Virtual","path":"api/tags/Virtual.json"}]}