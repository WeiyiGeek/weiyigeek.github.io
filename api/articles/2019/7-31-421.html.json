{"title":"SSH服务之OpenSSH利用与分析","slug":"网安大类/Vulnerable/服务端口/22-OpenSSH","date":"2019-07-31T05:34:30.000Z","updated":"2021-03-23T09:11:41.395Z","url":"2019/7-31-421.html","path":"api/articles/2019/7-31-421.html.json","covers":null,"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h4 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h4><p>暂无</p>\n<h4 id=\"OpenSSH远程代码执行\"><a href=\"#OpenSSH远程代码执行\" class=\"headerlink\" title=\"OpenSSH远程代码执行\"></a>OpenSSH远程代码执行</h4><p>漏洞编号: CVE-2016-10009<br>漏洞等级: 中危<br>漏洞影响: OpenSSH 7.3及以下版本</p>\n<p>漏洞描述:<br>漏洞出现ssh-agent中这个进程默认不启动、只在多主机间免密码登录时才会用到。<br>sshd 服务器可以利用转发的 agent-socket 文件欺骗本机的 ssh-agent 在受信任的白名单路径以外加载一个恶意 PKCS#11 模块任意执行代码。换句话说是恶意服务器在客户端的机器上远程执行代码。<br>这个漏洞的利用条件是比较严苛的要求攻击者控制转发agent-socket而且需要有主机文件系统写权限。所以官方把该漏洞等级评为中危。基于OpenSSH庞大的用户量，可能有少部分主机会受此影响。</p>\n<ul>\n<li>一个无比鸡肋的漏洞攻击者需要有两个机器的用户权限，达到的效果是黑了其中装有ssh-agent的机器的一个用户</li>\n</ul>\n<p>漏洞修复:</p>\n<ul>\n<li>实际上仅允许加载受信任白名单的模块，即可解决问题。OpenSSH官方已于12月19日发布7.4版本的OpenSSH，修复了包括CVE-2016-10009在内的多个漏洞</li>\n</ul>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"漏洞分析","path":"api/categories/漏洞分析.json"},{"name":"服务安全","path":"api/categories/服务安全.json"}],"tags":[{"name":"OpenSSH","path":"api/tags/OpenSSH.json"}]}