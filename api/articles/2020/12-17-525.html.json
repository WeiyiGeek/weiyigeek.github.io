{"title":"各类数据库连接字符串格式","slug":"数据存储/各类数据库连接字符串格式","date":"2020-12-17T11:14:30.000Z","updated":"2021-01-18T04:58:52.286Z","url":"2020/12-17-525.html","path":"api/articles/2020/12-17-525.html.json","covers":null,"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h2 id=\"0x00-数据库连接字符串\"><a href=\"#0x00-数据库连接字符串\" class=\"headerlink\" title=\"0x00 数据库连接字符串\"></a>0x00 数据库连接字符串</h2><h3 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h3><p>1、本地数据库连接<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;connectionStrings&gt;</span><br><span class=\"line\">    &lt;add name=<span class=\"string\">\"ConnectionString\"</span> connectionString=<span class=\"string\">\"Server=localhost;Option=16834;Database=dbName\"</span> providerName=<span class=\"string\">\"MySql.Data.MySqlClient\"</span>/&gt;</span><br><span class=\"line\">&lt;/connectionStrings&gt;</span><br></pre></td></tr></table></figure></p>\n<p>2、远程数据连接<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Server=127.0.0.1;Option=131072;Stmt=;Database=dbName; User=root;Password=root;</span><br></pre></td></tr></table></figure></p>\n<p>3、特殊的TCP/IP端口连接<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Server&#x3D;127.0.0.1;Port&#x3D;3306;Option&#x3D;131072;Stmt&#x3D;;Database&#x3D;dbName; User&#x3D;root;Password&#x3D;root;</span><br></pre></td></tr></table></figure></p>\n<p>4、标准连接<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">User ID=root;Password=root;Host=localhost;Port=3306;Database=dbName; Direct=<span class=\"literal\">true</span>;Protocol=TCP;Compress=<span class=\"literal\">false</span>;Pooling=<span class=\"literal\">true</span>;Min Pool Size=0;Max Pool Size=100;Connection Lifetime=;</span><br></pre></td></tr></table></figure><br>说明：此Driver的默认端口是3306。如果没有在连接字符串中特别指出就是连接Mysql的3306端口。</p>\n<p>5、JDBC连接<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">URL:jdbc:mysql://localhost:3306/<span class=\"built_in\">test</span>? user=root&amp;password=&amp;useUnicode=<span class=\"literal\">true</span>&amp;characterEncoding=gbk</span><br><span class=\"line\">DRIVERNAME:<span class=\"string\">\"com.mysql.jdbc.Driver\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">url---- jdbc:mysql://127.0.0.1:3306/mysql</span><br><span class=\"line\">driver--org.gjt.mm.mysql.Driver</span><br><span class=\"line\"></span><br><span class=\"line\">or</span><br><span class=\"line\"></span><br><span class=\"line\">driver=com.mysql.jdbc.Driver</span><br><span class=\"line\">url=jdbc:mysql://127.0.0.1:3306/DBName?user=root&amp;password=1</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">参数名称 \t参数说明 \t缺省值 \t最低版本要求</span><br><span class=\"line\">user \t数据库用户名（用于连接数据库） \t  \t所有版本</span><br><span class=\"line\">password \t用户密码（用于连接数据库） \t  \t所有版本</span><br><span class=\"line\">useUnicode \t是否使用Unicode字符集，如果参数characterEncoding设置为gb2312或gbk，本参数值必须设置为<span class=\"literal\">true</span> \t<span class=\"literal\">false</span> \t1.1g</span><br><span class=\"line\">characterEncoding \t当useUnicode设置为<span class=\"literal\">true</span>时，指定字符编码。比如可设置为gb2312或gbk \t<span class=\"literal\">false</span> \t1.1g</span><br><span class=\"line\">autoReconnect \t当数据库连接异常中断时，是否自动重新连接？ \t<span class=\"literal\">false</span> \t1.1</span><br><span class=\"line\">autoReconnectForPools \t是否使用针对数据库连接池的重连策略 \t<span class=\"literal\">false</span> \t3.1.3</span><br><span class=\"line\">failOverReadOnly \t自动重连成功后，连接是否设置为只读？ \t<span class=\"literal\">true</span> \t3.0.12</span><br><span class=\"line\">maxReconnects \tautoReconnect设置为<span class=\"literal\">true</span>时，重试连接的次数 \t3 \t1.1</span><br><span class=\"line\">initialTimeout \tautoReconnect设置为<span class=\"literal\">true</span>时，两次重连之间的时间间隔，单位：秒 \t2 \t1.1</span><br><span class=\"line\">connectTimeout \t和数据库服务器建立socket连接时的超时，单位：毫秒。 0表示永不超时，适用于JDK 1.4及更高版本 \t0 \t3.0.1</span><br><span class=\"line\">socketTimeout \tsocket操作（读写）超时，单位：毫秒。 0表示永不超时 \t0 \t3.0.1</span><br></pre></td></tr></table></figure>\n<h3 id=\"SQL-Server\"><a href=\"#SQL-Server\" class=\"headerlink\" title=\"SQL Server\"></a>SQL Server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sqlserver默认端口号为：1433</span><br><span class=\"line\">URL:<span class=\"string\">\"jdbc:microsoft:sqlserver://localhost:1433;DatabaseName=dbname\"</span></span><br><span class=\"line\">DRIVERNAME:<span class=\"string\">\"com.microsoft.jdbc.sqlserver.SQLServerDriver\"</span>;</span><br></pre></td></tr></table></figure>\n<p>SQLServer 连接示例:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">URL----\tjdbc:microsoft:sqlserver://localhost:1433;databasename=pubs</span><br><span class=\"line\">driver--com.microsoft.jdbc.sqlserver.SQLServerDriver</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"Oracle\"><a href=\"#Oracle\" class=\"headerlink\" title=\"Oracle\"></a>Oracle</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">oracle    默认端口号为：1521</span><br><span class=\"line\">URL:&quot;jdbc:oracle:thin:@localhost:1521:orcl &quot;;</span><br><span class=\"line\">DRIVERNAME:&quot;oracle.jdbc.driver.OracleDriver&quot;;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">URL----oracle:oci8:@newer</span><br><span class=\"line\">URL----jdbc:oracle:thin:@10.0.0.200:1521:newer  (jdbc:oracle:thin:@[ip]:[port]:[sid])</span><br><span class=\"line\">driver--oracle.jdbc.driver.OracleDriver</span><br></pre></td></tr></table></figure>\n<h3 id=\"ODBC\"><a href=\"#ODBC\" class=\"headerlink\" title=\"ODBC\"></a>ODBC</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">URL----<span class=\"string\">\"jdbc:odbc:Mydatabase\"</span>,<span class=\"string\">\"sa\"</span>, <span class=\"string\">\"\"</span></span><br><span class=\"line\">driver--sun.jdbc.odbc.JdbcOdbcDriver</span><br></pre></td></tr></table></figure>\n<h3 id=\"DB2\"><a href=\"#DB2\" class=\"headerlink\" title=\"DB2\"></a>DB2</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">url-----jdbc:db2://localhost:5000/sample</span><br><span class=\"line\">driver--com.ibm.db2.jdbc.app.DB2Driver</span><br></pre></td></tr></table></figure>\n<h3 id=\"jtds包\"><a href=\"#jtds包\" class=\"headerlink\" title=\"jtds包\"></a>jtds包</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Driver---net.sourceforge.jtds.jdbc.Driver</span><br><span class=\"line\">URL------jdbc:jtds:&lt;server_type&gt;:&#x2F;&#x2F;&lt;server&gt;[:&lt;port&gt;][&#x2F;&lt;database&gt;][;&lt;property&gt;&#x3D;&lt;value&gt;[;...]]</span><br></pre></td></tr></table></figure>\n<p>URL例如：jdbc:jtds:sqlserver://localhost:1433;DatabaseName=CHDB<br>或者：   jdbc:jtds:sqlserver://localhost:1433/CHDB;user=sa;password=sa</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># －－－－－－－－－－－－－－－－－－－－－－－－－－－－</span></span><br><span class=\"line\">Connection con;</span><br><span class=\"line\">Statement stmt;</span><br><span class=\"line\">ResultSet rs;</span><br><span class=\"line\"></span><br><span class=\"line\">Class.forName(<span class=\"string\">\"net.sourceforge.jtds.jdbc.Driver\"</span>);</span><br><span class=\"line\">DriverManager.registerDriver(newnet.sourceforge.jtds.jdbc.Driver());</span><br><span class=\"line\">String dbUrl=<span class=\"string\">\"jdbc:jtds:sqlserver://localhost:1433/j2eeone;user=sa;password=caicaibao\"</span>;</span><br><span class=\"line\">//String dbUser=<span class=\"string\">\"j2ee\"</span>;</span><br><span class=\"line\">//String dbPwd=<span class=\"string\">\"j2ee\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">con=java.sql.DriverManager.getConnection(dbUrl);</span><br><span class=\"line\"></span><br><span class=\"line\">stmt=con.createStatement();</span><br><span class=\"line\">rs=stmt.executeQuery(<span class=\"string\">\"SELECTid,name,title,priceFROMbooks\"</span>);</span><br></pre></td></tr></table></figure>","comments":true,"excerpt":"[TOC]","categories":[{"name":"数据库","path":"api/categories/数据库.json"}],"tags":[{"name":"Database","path":"api/tags/Database.json"}]}