{"title":"虚拟云容/云容器/Containerd/5","slug":"虚拟云容/云容器/Containerd/5","date":"2023-02-01T09:39:33.607Z","updated":"2023-02-01T09:39:33.607Z","url":"2023/2-1-index.html","path":"api/articles/2023/2-1-index.html.json","covers":null,"content":"<p>前面利用 serviceaccount 与 imagePullSecrets 相绑定，此处为了验证镜像拉取 Secret 已经被添加到 Pod 规约, 现在在当前命名空间中创建使用默认服务账号的新 Pod 时，新 Pod 会自动设置其<code>.spec.imagePullSecrets</code>字段：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kubectl run nginx --image=nginx --restart=Never</span><br><span class=\"line\">kubectl get pod nginx -o=jsonpath=<span class=\"string\">'&#123;.spec.imagePullSecrets[0].name&#125;&#123;\"\\n\"&#125;'</span></span><br></pre></td></tr></table></figure></p>\n","comments":true,"excerpt":null,"categories":[],"tags":[]}