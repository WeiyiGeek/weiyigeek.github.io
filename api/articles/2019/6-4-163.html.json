{"title":"系统硬件信息查看命令一览表","slug":"系统运维/Linux/常用命令/系统硬件资源类命令/系统硬件信息查看命令一览表","date":"2019-06-04T13:35:30.000Z","updated":"2020-10-10T02:37:45.238Z","url":"2019/6-4-163.html","path":"api/articles/2019/6-4-163.html.json","covers":null,"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h4 id=\"0x00-前言简述\"><a href=\"#0x00-前言简述\" class=\"headerlink\" title=\"0x00 前言简述\"></a>0x00 前言简述</h4><p>描述: 本章主要针对于Linux操作系统中利用以下命令对各个硬件资源信息查看与管理;</p>\n<p>主要设备&amp;对应文件:</p>\n<ul>\n<li>1.CPU: /proc/cpuinfo</li>\n<li>2.Memery: /proc/meminfo</li>\n<li>3.Net: /proc/net</li>\n</ul>\n<hr>\n<h4 id=\"0x01-proc-工具-Linux-内存文件系统\"><a href=\"#0x01-proc-工具-Linux-内存文件系统\" class=\"headerlink\" title=\"0x01 proc 工具 - Linux 内存文件系统\"></a>0x01 proc 工具 - Linux 内存文件系统</h4><h5 id=\"1-CPU\"><a href=\"#1-CPU\" class=\"headerlink\" title=\"1.CPU\"></a>1.CPU</h5><p>/proc/cpuinfo 文件信息:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">processor       : 0  <span class=\"comment\">#核数</span></span><br><span class=\"line\">vendor_id       : GenuineIntel <span class=\"comment\">#供应商</span></span><br><span class=\"line\">cpu family      : 6  <span class=\"comment\">#CPU代数</span></span><br><span class=\"line\">model           : 60</span><br><span class=\"line\">model name      : Intel(R) Xeon(R) CPU E3-1271 v3 @ 3.60GHz</span><br><span class=\"line\">stepping        : 3</span><br><span class=\"line\">microcode       : 0x1c</span><br><span class=\"line\">cpu MHz         : 3591.683</span><br><span class=\"line\">cache size      : 8192 KB</span><br><span class=\"line\">physical id     : 0  <span class=\"comment\">#查看 CPU 个数</span></span><br><span class=\"line\">siblings        : 1  <span class=\"comment\">#逻辑核数</span></span><br><span class=\"line\">core id         : 0  </span><br><span class=\"line\">cpu cores       : 1  <span class=\"comment\">#物理核数 </span></span><br><span class=\"line\">apicid          : 0</span><br><span class=\"line\">initial apicid  : 0</span><br><span class=\"line\">fpu             : yes</span><br><span class=\"line\">fpu_exception   : yes</span><br><span class=\"line\">cpuid level     : 13</span><br><span class=\"line\">wp              : yes</span><br><span class=\"line\">flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts mmx fxsr sse sse2 ss syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts nopl xtopology tsc_reliable nonstop_tsc aperfmperf eagerfpu pni pclmulqdq ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm epb fsgsbase tsc_adjust bmi1 avx2 smep bmi2 invpcid xsaveopt dtherm ida arat pln pts</span><br><span class=\"line\">bogomips        : 7183.36</span><br><span class=\"line\">clflush size    : 64</span><br><span class=\"line\">cache_alignment : 64</span><br><span class=\"line\">address sizes   : 42 bits physical, 48 bits virtual</span><br><span class=\"line\">power management:</span><br></pre></td></tr></table></figure></p>\n<hr>\n<h5 id=\"2-Memery\"><a href=\"#2-Memery\" class=\"headerlink\" title=\"2.Memery\"></a>2.Memery</h5><p>/proc/meminfo 文件内容:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MemTotal:        3879924 kB</span><br><span class=\"line\">MemFree:         2085680 kB</span><br><span class=\"line\">MemAvailable:    3015780 kB</span><br><span class=\"line\">Buffers:            2092 kB <span class=\"comment\">#表示块设备(block device)所占用的缓存页</span></span><br><span class=\"line\"><span class=\"comment\">#包括：直接读写块设备、以及文件系统元数据(metadata)比如SuperBlock所使用的缓存页；</span></span><br><span class=\"line\">Cached:           929988 kB <span class=\"comment\">#表示普通文件数据所占用的缓存页</span></span><br><span class=\"line\">SwapCached:            0 kB</span><br><span class=\"line\">Active:           902460 kB</span><br><span class=\"line\">Inactive:         413056 kB</span><br><span class=\"line\">Active(anon):     418064 kB</span><br><span class=\"line\">Inactive(anon):    40408 kB</span><br><span class=\"line\">Active(file):     484396 kB</span><br><span class=\"line\">Inactive(file):   372648 kB</span><br><span class=\"line\">Unevictable:           0 kB</span><br><span class=\"line\">Mlocked:               0 kB</span><br><span class=\"line\">SwapTotal:             0 kB</span><br><span class=\"line\">SwapFree:              0 kB</span><br><span class=\"line\">Dirty:                 4 kB</span><br><span class=\"line\">Writeback:             0 kB</span><br><span class=\"line\">AnonPages:        383472 kB</span><br><span class=\"line\">Mapped:            36184 kB</span><br><span class=\"line\">Shmem:             75036 kB</span><br><span class=\"line\">Slab:             387804 kB</span><br><span class=\"line\">SReclaimable:     362280 kB</span><br><span class=\"line\">SUnreclaim:        25524 kB</span><br><span class=\"line\">KernelStack:        2480 kB</span><br><span class=\"line\">PageTables:        19176 kB</span><br><span class=\"line\">NFS_Unstable:          0 kB</span><br><span class=\"line\">Bounce:                0 kB</span><br><span class=\"line\">WritebackTmp:          0 kB</span><br><span class=\"line\">CommitLimit:     1939960 kB</span><br><span class=\"line\">Committed_AS:     936900 kB</span><br><span class=\"line\">VmallocTotal:   34359738367 kB</span><br><span class=\"line\">VmallocUsed:       13896 kB</span><br><span class=\"line\">VmallocChunk:   34359720444 kB</span><br><span class=\"line\">HardwareCorrupted:     0 kB</span><br><span class=\"line\">AnonHugePages:    243712 kB</span><br><span class=\"line\">CmaTotal:              0 kB</span><br><span class=\"line\">CmaFree:               0 kB</span><br><span class=\"line\">HugePages_Total:       0</span><br><span class=\"line\">HugePages_Free:        0</span><br><span class=\"line\">HugePages_Rsvd:        0</span><br><span class=\"line\">HugePages_Surp:        0</span><br><span class=\"line\">Hugepagesize:       2048 kB</span><br><span class=\"line\">DirectMap4k:       96112 kB</span><br><span class=\"line\">DirectMap2M:     4098048 kB</span><br><span class=\"line\">DirectMap1G:     2097152 kB</span><br></pre></td></tr></table></figure></p>\n<hr>\n<h5 id=\"3-Net\"><a href=\"#3-Net\" class=\"headerlink\" title=\"3.Net\"></a>3.Net</h5><p>/proc/net 目录信息:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">anycast6</span><br><span class=\"line\">arp</span><br><span class=\"line\">connector</span><br><span class=\"line\">dev</span><br><span class=\"line\">dev_mcast</span><br><span class=\"line\">dev_snmp6 <span class=\"comment\"># 文件夹</span></span><br><span class=\"line\">fib_trie</span><br><span class=\"line\">fib_triestat</span><br><span class=\"line\">icmp</span><br><span class=\"line\">if_inet6</span><br><span class=\"line\">igmp</span><br><span class=\"line\">igmp6</span><br><span class=\"line\">ip6_flowlabel</span><br><span class=\"line\">ip6_mr_cache</span><br><span class=\"line\">ip6_mr_vif</span><br><span class=\"line\">ip_mr_cache</span><br><span class=\"line\">ip_mr_vif</span><br><span class=\"line\">ip_tables_matches</span><br><span class=\"line\">ip_tables_names</span><br><span class=\"line\">ip_tables_targets</span><br><span class=\"line\">ipv6_route</span><br><span class=\"line\">mcfilter</span><br><span class=\"line\">mcfilter6</span><br><span class=\"line\">netfilter <span class=\"comment\"># 文件夹</span></span><br><span class=\"line\">netlink</span><br><span class=\"line\">netstat</span><br><span class=\"line\">packet</span><br><span class=\"line\">protocols</span><br><span class=\"line\">psched</span><br><span class=\"line\">ptype</span><br><span class=\"line\">raw</span><br><span class=\"line\">raw6</span><br><span class=\"line\">route</span><br><span class=\"line\">rt6_stats</span><br><span class=\"line\">rt_acct</span><br><span class=\"line\">rt_cache</span><br><span class=\"line\">snmp</span><br><span class=\"line\">snmp6</span><br><span class=\"line\">sockstat</span><br><span class=\"line\">sockstat6</span><br><span class=\"line\">softnet_stat</span><br><span class=\"line\"><span class=\"built_in\">stat</span>   <span class=\"comment\">#文件夹</span></span><br><span class=\"line\">tcp</span><br><span class=\"line\">tcp6</span><br><span class=\"line\">udp</span><br><span class=\"line\">udp6</span><br><span class=\"line\">udplite</span><br><span class=\"line\">udplite6</span><br><span class=\"line\">unix</span><br><span class=\"line\">wireless</span><br><span class=\"line\">xfrm_stat</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<h6 id=\"arp-相关-显示查看系统-arp-缓存的映射表\"><a href=\"#arp-相关-显示查看系统-arp-缓存的映射表\" class=\"headerlink\" title=\"arp 相关 - 显示查看系统 arp 缓存的映射表\"></a>arp 相关 - 显示查看系统 arp 缓存的映射表</h6><p>/proc/net/arp 文件内容:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$cat</span> /proc/net/arp</span><br><span class=\"line\">IP address       HW <span class=\"built_in\">type</span>     Flags       HW address            Mask     Device</span><br><span class=\"line\">172.31.0.18      0x1         0x2         fa:16:3e:21:ca:aa     *        eth0</span><br><span class=\"line\">172.31.0.10      0x1         0x2         fa:16:3e:d3:ff:69     *        eth0</span><br><span class=\"line\">172.31.0.5       0x1         0x2         fa:16:3e:f5:58:98     *        eth0</span><br><span class=\"line\">172.31.0.3       0x1         0x2         fa:16:3e:df:28:28     *        eth0</span><br><span class=\"line\">172.31.0.1       0x1         0x2         fa:16:3e:04:62:da     *        eth0</span><br><span class=\"line\">172.31.0.6       0x1         0x2         fa:16:3e:d5:1f:24     *        eth0</span><br><span class=\"line\">172.31.0.4       0x1         0x2         fa:16:3e:d8:48:ca     *        eth0</span><br><span class=\"line\">172.31.0.2       0x1         0x2         fa:16:3e:ff:d7:b4     *        eth0</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<h6 id=\"route-相关-出系统的路由表信息\"><a href=\"#route-相关-出系统的路由表信息\" class=\"headerlink\" title=\"route 相关 - 出系统的路由表信息\"></a>route 相关 - 出系统的路由表信息</h6><p>/proc/net/fib_trie 文件内容:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat /proc/net/fib_trie <span class=\"comment\"># 以树级结构列出系统的路由表信息</span></span><br><span class=\"line\"><span class=\"comment\"># Main:</span></span><br><span class=\"line\"><span class=\"comment\"># +-- 0.0.0.0/0 3 0 5</span></span><br><span class=\"line\"><span class=\"comment\">#     |-- 0.0.0.0</span></span><br><span class=\"line\"><span class=\"comment\">#       /0 universe UNICAST</span></span><br><span class=\"line\"><span class=\"comment\">#     +-- 127.0.0.0/8 2 0 2</span></span><br><span class=\"line\"><span class=\"comment\">#       +-- 127.0.0.0/31 1 0 0</span></span><br><span class=\"line\"><span class=\"comment\">#           |-- 127.0.0.0</span></span><br><span class=\"line\"><span class=\"comment\">#             /32 link BROADCAST</span></span><br><span class=\"line\"><span class=\"comment\">#             /8 host LOCAL</span></span><br><span class=\"line\"><span class=\"comment\">#           |-- 127.0.0.1</span></span><br><span class=\"line\"><span class=\"comment\">#             /32 host LOCAL</span></span><br><span class=\"line\"><span class=\"comment\">#       |-- 127.255.255.255</span></span><br><span class=\"line\"><span class=\"comment\">#           /32 link BROADCAST</span></span><br><span class=\"line\"><span class=\"comment\">#     +-- 168.0.0.0/5 2 0 2</span></span><br><span class=\"line\"><span class=\"comment\">#       +-- 169.254.0.0/16 2 0 2</span></span><br><span class=\"line\"><span class=\"comment\">#           |-- 169.254.0.0</span></span><br><span class=\"line\"><span class=\"comment\">#             /16 link UNICAST</span></span><br><span class=\"line\"><span class=\"comment\">#           |-- 169.254.169.254</span></span><br><span class=\"line\"><span class=\"comment\">#             /32 universe UNICAST</span></span><br><span class=\"line\"><span class=\"comment\">#       +-- 172.31.0.0/24 2 0 2</span></span><br><span class=\"line\"><span class=\"comment\">#           +-- 172.31.0.0/27 2 0 2</span></span><br><span class=\"line\"><span class=\"comment\">#             |-- 172.31.0.0</span></span><br><span class=\"line\"><span class=\"comment\">#                 /32 link BROADCAST</span></span><br><span class=\"line\"><span class=\"comment\">#                 /24 link UNICAST</span></span><br><span class=\"line\"><span class=\"comment\">#             |-- 172.31.0.25</span></span><br><span class=\"line\"><span class=\"comment\">#                 /32 host LOCAL</span></span><br><span class=\"line\"><span class=\"comment\">#           |-- 172.31.0.255</span></span><br><span class=\"line\"><span class=\"comment\">#             /32 link BROADCAST</span></span><br></pre></td></tr></table></figure>\n<p><br></p>\n<h6 id=\"iptables-相关\"><a href=\"#iptables-相关\" class=\"headerlink\" title=\"iptables 相关\"></a>iptables 相关</h6><p><code>/proc/net/nf_conntrack</code> 文件:在老版本的 Linux 内核中叫 <code>ip_conntrack</code>他是一个内核模块,用于跟踪一个连接的状态的。连接状态跟踪可以供其他模块使用最常见的两个使用场景是 iptables 的 nat 的 state 模块<br>iptables 的 nat 通过规则来修改目的/源地址,但光修改地址不行我们还需要能让回来的包能路由到最初的来源主机，此时就需要<code>借助 nf_conntrack 来找到原来那个连接的记录</code>才行;而 state 模块则是直接使用 nf_conntrack 里记录的连接的状态来匹配用户定义的相关规则;</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 例如:下面这条 INPUT 规则用于放行 80 端口上的状态为 NEW 的连接上的包(CentOS7.x以下)。</span></span><br><span class=\"line\">$ cat /proc/net/nf_conntrack | head -n 4</span><br><span class=\"line\">ipv4     2 tcp      6 102 SYN_SENT src=10.20.172.211 dst=10.10.107.214 sport=42562 dport=179 [UNREPLIED] src=10.10.107.214 dst=10.20.172.211 sport=179 dport=42562 mark=0 secctx=system_u:object_r:unlabeled_t:s0 zone=0 use=2</span><br><span class=\"line\">ipv4     2 tcp      6 79 SYN_SENT src=10.20.172.211 dst=10.10.107.214 sport=60579 dport=179 [UNREPLIED] src=10.10.107.214 dst=10.20.172.211 sport=179 dport=60579 mark=0 secctx=system_u:object_r:unlabeled_t:s0 zone=0 use=2</span><br><span class=\"line\">ipv4     2 tcp      6 86366 ESTABLISHED src=10.20.172.211 dst=10.10.107.121 sport=58589 dport=179 src=10.10.107.121 dst=10.20.172.211 sport=179 dport=58589 [ASSURED] mark=0 secctx=system_u:object_r:unlabeled_t:s0 zone=0 use=2</span><br><span class=\"line\">ipv4     2 tcp      6 62 SYN_SENT src=10.20.172.211 dst=10.10.107.214 sport=37531 dport=179 [UNREPLIED] src=10.10.107.214 dst=10.20.172.211 sport=179 dport=37531 mark=0 secctx=system_u:object_r:unlabeled_t:s0 zone=0 use=2</span><br></pre></td></tr></table></figure>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"Linux命令","path":"api/categories/Linux命令.json"}],"tags":[{"name":"镜像操作命令","path":"api/tags/镜像操作命令.json"}]}