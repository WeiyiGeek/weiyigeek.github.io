{"title":"0-MYSQL介绍安装与运维配置","slug":"数据存储/Database-运维/MySQL/基础知识/0-MYSQL介绍安装与运维配置","date":"2019-03-01T06:34:30.000Z","updated":"2023-01-31T02:29:08.955Z","url":"2019/3-1-80.html","path":"api/articles/2019/3-1-80.html.json","covers":["https://img.weiyigeek.top/2019/20190428103149.png","https://img.weiyigeek.top/2019/20190428103631.png","https://img.weiyigeek.top/2019/20190428140839.png","https://img.weiyigeek.top/2019/20190428115549.png","https://img.weiyigeek.top/2019/20190428120432.png","https://img.weiyigeek.top/2019/20190405164211.png","https://img.weiyigeek.top/2019/20190405164550.png","https://img.weiyigeek.top/2019/20190405165850.png"],"content":"<p>[TOC]</p>\n<h4 id=\"0x00-MySQL介绍与特点\"><a href=\"#0x00-MySQL介绍与特点\" class=\"headerlink\" title=\"0x00 MySQL介绍与特点\"></a>0x00 MySQL介绍与特点</h4><p>MySQL数据库是一款非常受欢迎的开源领域的重要的关系型数据库，由瑞典的MySQL AB公司开发，Mysql数据库现属于ORACLE公司，使的自身的商业数据库与开源数据库在市场上占有的份额都是跃居第一的位置，这时MySQL的主要开发者Michael widenius ，跳出来建立了一个MySQL分支数据库这就是MariaDB的诞生与发展，来防止MySQL闭源的潜在危险；</p>\n<a id=\"more\"></a>\n<p>MySQL属于传统关系数据库，<em>开放式的架构使得用户选择性很强，社区开发维护人数众多，功能稳定，性能卓越，且在准寻GPL协议的前体下，可以免费的修改使用</em>，因此也为MySQL的推广带来了更多的便利；</p>\n<p>MySQL是一种关系型数据库管理系统(RDBMS)，关系型数据库的特点是将数据保存在不同的表中，在将这些表放入不同的数据库中，而不是将所有数据统一放在一个大仓库里．这样的设计增加了 <em>MySQL 的读取速度，灵活性可管理性也得到了很大提高</em> ，访问以及管理 MysQL 数据库的最常用标准化语言为 SQL 结构化杳询语言。</p>\n<p><em>Q:为什么选择MySQL数据库？</em></p>\n<ul>\n<li>1-性能卓越，服务稳定，很少出现异常宕机（dang）</li>\n<li>2-开发源代码且无版权制约，自主性及使用成本低；</li>\n<li>3-历史悠久，社区活跃，遇到问题能很快解决；</li>\n<li>4-软件体积小，安装简单，并且易于维护，安装及维护成本低</li>\n<li>5-知名度高，企业非常喜欢直接用之，LAMP/LEMP流行架构；</li>\n<li>6-跨平台运行，提供各种API接口，支持多种开发语法PHP/JSP/ASP，主要是PHP语言；</li>\n</ul>\n<p><strong>（1）MySQL 数据库版本分类</strong><br>MySQL的版本采用双授权政策，和大多数开源的产品一样；分为社区版与商业版本，而这两个版本又各自分为四个版本依此发布，这四个版本为 <em>Alpha，Beta，RC，GA</em> 等版本；<br>官网：<a href=\"https://www.mysql.com\" target=\"_blank\" rel=\"noopener\">https://www.mysql.com</a></p>\n<ol>\n<li><p>MySQL商业版发布介绍：</p>\n<pre><code>由 MySQL AB 公司内部专门的人员负贵开发及维护，但同时也会吸纳社区人员编写的优秀代码及算法，并且由专门的人员严格按照软件测试流程对这些采纳的代码进行严格测试，没有问题再进行发布，简单地说， MysQL 商业版是由 MySQL 公司内部发布，同时参考社区版的先进代码功能和算法，是 MysQL 公司的盈利产品，需要付费才能使用及提供服务支持，稳定性和可靠性无疑都是最好的，例如某知名分类门户网站早期就购买过 MySQL 商业版，价格不比那些闭源的商业数据库便宜花费40万左右好贵的；\n</code></pre></li>\n<li><p>MySQL社区版发布介绍：</p>\n<pre><code>由全世界的MySQL社区开发者，爱好者以及用户参与开发与测试，并完成软件代码的管理，测试工作，社区设立了BUG汇报机制，相对于商业版来说社区版的开发以及测试环境没那么严格；\n</code></pre></li>\n</ol>\n<p><br></p>\n<p><em>Q:商业版于社区版的区别是那些？</em><br>1）B版组织管理与测试环节控制更为严格，稳定性方面，会比社区版本稳定；<br>2）MySQL数据库是一个成熟的数据库产品，B/C版之间的性能相差不大；<br>3）B版不遵从GPL协议，C版遵守GPL协议<br>4）使用B版购买服务后，可享受一切的服务，但是用户必须支持费用；<br>5）社区版本的维护只能靠社区提供，无法像商业版那样获取故障及补丁解决服务了；</p>\n<p><strong>(2) MySQL 数据库四种发布版本介绍</strong></p>\n<ul>\n<li><p>1.Alpha 版本</p>\n<pre><code>Alpha 版一般只在开发的公司内部运行，不对外公开，主要是开发者自己对产品进行测试，检查产品是否存在缺陷、错误，验证产品功能与说明书、用户手册是否一致； MySQL 是属于开放源代码的开源产品，因此需要世界各地开发者、爱好者和用户参与软件的开发、测试和手册编写等工作，所以会对外公布此版本的源码和产品，方便任何人可以参与开发或测试工作，甚至编写与修改用户手册；\n</code></pre></li>\n<li><p>2.Beta 版本 （阿里内部会使用这个版本发现新特性）</p>\n<pre><code>Beta版一般是完成功能的开发和所有的测试工作之后的产品不会存在较大舀功能或性能 BUG ，并且邀请或提供给用户体验与测试，以便更全面地测试软件的不足之处或存在的问题；\n</code></pre></li>\n<li><p>3.RC 版本 </p>\n<pre><code>RC 版属于生产环境发布之前的一个小版本或称候选版，是根据 Beta 版本测试结果，收集到的 BUG 或缺陷之处等收集到的信息，进行修复和完善之后的一版产品；\n</code></pre></li>\n<li><p>4.GA 版本 （稳定版本）</p>\n<pre><code>GA 版是软件产品正式发布的版本(生产版本的产品)，环境都会选择 GA 版本的 MySQL 软件，用于真实的生产环境中，有的企业追求新功能驱动而牺牲稳定性使用其它版本；\n</code></pre></li>\n</ul>\n<p><em>四种发布版本选择说明：</em><br>MySQL AB 官方网站提供数据库各种版本下载，主要是 MySQL 数据库属于开放源代码的数据库产品，鼓励全球的技术爱好者参与研发、测试、文档编写和经验分享，甚至包过产品发展规划，<em>对于 Development 版本、 Alpha 版本和 Beta 版本是绝对不允许使用在任何生产环境的</em>，肯定存在重大的问题或功能未完全实现，<em>绝大多数情况下 RC 版本也是不允许使用在生产环境，毕竟这是一个 OA 版本之前，也即生产版本发布之前的一个小版本</em>。<br>对 MySQL 数据库 GA 版本，也是需要慎重选择，开源社区产品毕竟不是经过严格的测试工序完成的产品，是全球开源技术人员的自愿完成的，会存在比商业产品稳定性弱的缺陷，更严格的选择见后文；</p>\n<p><strong>(3) MySQL 数据库产品线</strong><br>早期MySQL也是遵循版本号逐渐增加的方式发展，例如MySQL-x-xx-xx.tar.gz，例如4.1.7 / 5.0.56 等等；<br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Mysql-5.0.56.tar.gz;  //GA版本</span><br><span class=\"line\">Mysql-主版本号.发行级别.此发行系列版本号.tar.gz;</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">每次更新后，版本字符串的最后一个数字递增，如果相对于前一个版本增加了新功能或由微小的不兼容，字符串的第二数字递增，如果文件格式发送很大的变化，则第一个数字递增；</span></span><br></pre></td></tr></table></figure><br>近年来MySQL为了提高自己的产品竞争性，提高性能，降低开发维护成本等原因，MySQL在发展到5.1系列版本之后，重新规划为三条产品线；</p>\n<ul>\n<li><p>第 1 条 - 5.0.xx ~ 5.1.xx 产品线<br>该条产品线继续完善与改进其用户的体验和性能，同时增加新版本功能，这条线是Mysql早期产品的延续系列；<br>Mysql 4.0 和 3.23是旧的稳定（产品质量）发布系列，该版本不再使用，新的发布只用来修复特别严重的漏洞；</p>\n</li>\n<li><p>第 2 条- 5.4.xx ~ 5.7.xx 产品线<br>为了更好地整合MySQL AB 公司社区和第三方公司开发的新存储引擎，以及吸收新的实现算法等， 从而更好地支持 SMP 架构，提高性能而做了大最的代码重构。<br>版本编号为从 5.4.xx 开始．发展到了 5. 6.xx 该系列 5.5.6 版本占比较多；</p>\n</li>\n<li><p>第 3 条- 6.0.xx - 8.0.xx 产品线<br>为了更好地推广 MysQL cluster 版本，以及提高 MySQL cluster 的性能和稳定性，以及功能改进和增加，以及改动 MySQL 墓础功能，使其对 Cluster 存储引擎提供更有效的支持与优化，版本号为 6.0.xx 开发，<br>现在MySQL的最高社区版本是 for the MySQL 8.0 Generally Available (GA) Release；</p>\n</li>\n</ul>\n<p><em>Q：生产环境如何选择MySQL版本?</em></p>\n<ol>\n<li>选择社区版的稳定GA版本</li>\n<li>可以选择5.1或5.5.互联网公司主流5.5， 其次是5.1和5.6</li>\n<li>选择发布后6个月以上的GA版</li>\n<li>要选择前后几个月没有打的BUG修复的版本，而不是大量修复BUG的几种版本</li>\n<li>最好选择向后较长时间没有更新发布的版本</li>\n<li>考虑开发人员开发程序使用的版本是否兼容你选的版本</li>\n<li>企业非核心业务采用新版本的数据库GA版本软件</li>\n<li>作为内部开发测试数据库环境，跑大概3-6个月时间</li>\n<li>向DBA高手请教，或者在技术氛围好的群里和大家一起交流，使用真正高手用过的好用的GA版本产品</li>\n<li>经过上述工序后，若没有重要的功能BUG或性能瓶颈，则可以开始考虑作为任何业务数据服务的后端数据库软件</li>\n</ol>\n<hr>\n\n<h4 id=\"0x01-MySQL安装\"><a href=\"#0x01-MySQL安装\" class=\"headerlink\" title=\"0x01 MySQL安装\"></a>0x01 MySQL安装</h4><p>MySQL版本选择：<a href=\"https://dev.mysql.com/downloads/mirrors/\" target=\"_blank\" rel=\"noopener\">https://dev.mysql.com/downloads/mirrors/</a><br>应用服务器系统框架选择：i686 、 x86_64<br>MySQL安装的几种方式:</p>\n<ul>\n<li>1 RPM 包</li>\n<li>2 yum / apt 安装</li>\n<li>3 二进制方式免编译安装</li>\n<li>4 常规方式编译安装，cmake编译 （自定义设置一些参数及版本一般比较新）</li>\n</ul>\n<p>安装前需要的配置：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setenforce 0  <span class=\"comment\">#临时关闭</span></span><br><span class=\"line\">sed -i <span class=\"string\">\"s/SELINUX=enforcing/SELINUX=disabled/g\"</span> /etc/selinux/config <span class=\"comment\"># 永久关闭selinux</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#关闭防火墙和开机不启动（生产环境慎用，可以选择开放对应的端口）</span></span><br><span class=\"line\">systemctl stop firewalld.service</span><br><span class=\"line\">systemctl <span class=\"built_in\">disable</span> firewalld.service</span><br></pre></td></tr></table></figure></p>\n<p>补充知识点：</p>\n<ul>\n<li>当MySQL实例启动时，会将自己的进程ID写入一个文件中——该文件即为pid文件;该文件可由参数pid_file控制，默认位于数据库目录下，文件名为主机名.pid：<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables like <span class=\"string\">'pid_file'</span>\\G;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n\n<h5 id=\"1-MySQL5-x源码编译安装\"><a href=\"#1-MySQL5-x源码编译安装\" class=\"headerlink\" title=\"1. MySQL5.x源码编译安装\"></a>1. MySQL5.x源码编译安装</h5><p>主机环境以及 mysql 版本 centos 7 ( Core X86_64 ) + cmake + mysql-5.5.32.tar.gz<br>注意：Mysql 5.x 与 mysql 8.x 是不同的</p>\n<p>基于cmake的原码编译安装：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">##下载cmake 和 mysql源码</span></span><br><span class=\"line\">tar xf cmake-2.8.8.tar.gz &amp;&amp; <span class=\"built_in\">cd</span> cmake-2.8.8</span><br><span class=\"line\">./configure </span><br><span class=\"line\">make &amp; make install</span><br><span class=\"line\"></span><br><span class=\"line\">$ scp mysql-5.5.32.tar.gz root@10.22.53.12:/opt/MYSQL  <span class=\"comment\">#将本地文件上传到服务器上</span></span><br><span class=\"line\">[root@WeiyiGeek MYSQL]<span class=\"comment\"># tar xf mysql-5.5.32.tar.gz    #并解压</span></span><br><span class=\"line\">CMakeLists.txt</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##不建议使用yum进行删除软件,因为他会删除多余得依赖程序,导致意外发生（运维必须注意）</span></span><br><span class=\"line\">yum install ncurses-devel -y  //安装mysql得依赖 （安装软件一般安装devel版本）</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##为mysql添加用户组 并且添加mysql用户指向组</span></span><br><span class=\"line\">groupadd mysql</span><br><span class=\"line\">useradd mysql -s /sbin/nologin -M -g mysql</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##cmake编译mysql源码 （安装指定目录|字符集|local_infile|各种引擎）</span></span><br><span class=\"line\">cmake . -DCMAKE_INSTALL_PREFIX=/application/mysql-5.5.32 -DMYSQL_DATADIR=/application/mysql-5.5.32/data \\</span><br><span class=\"line\">-DMYSQL_UNIX_ADDR=/application/mysql-5.5.32/tmp/mysql.sock \\</span><br><span class=\"line\">-DEXTRA_CHARSETS=gbk,gb2312,utf8,ascii \\</span><br><span class=\"line\">-DENABLED_LOCAL_INFILE=ON \\</span><br><span class=\"line\">-DWITH_INNOBASE_STORAGE_ENGINE=1 \\</span><br><span class=\"line\">-DWITH_FEDERATED_STORAGE_ENGINE=1 \\</span><br><span class=\"line\">-DWITH_BLACKHOLE_STORAGE_ENGINE=1 \\</span><br><span class=\"line\">-DWITHOUT_EXAMPLE_STORAGE_ENGINE=1 \\</span><br><span class=\"line\">-DWITHOUT_PARTITION_STORAGE_ENGINE=1 \\</span><br><span class=\"line\">-DWITH_FAST_MUTEXES=1 \\</span><br><span class=\"line\">-DWITH_ZLIB=bundled \\</span><br><span class=\"line\">-DENABLED_LOCAL_INFILE=1 \\</span><br><span class=\"line\">-DWITH_READLINE=1 \\</span><br><span class=\"line\">-DWITH_EMBEDDED_SERVER=1 \\</span><br><span class=\"line\">-DWITH_DEBUG=0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#下面为了学习我就不安装默认字符集  （校对规则 - 工作中必须安装按照指定得字符集）</span></span><br><span class=\"line\">-DDEFAULT_CHARSET=utf8 \\</span><br><span class=\"line\">-DDEFAULT_COLLATION=utf8_general_ci \\</span><br><span class=\"line\"><span class=\"comment\">#   表示编译生成makefile成功</span></span><br><span class=\"line\"> <span class=\"comment\">#   -- Generating done</span></span><br><span class=\"line\"> <span class=\"comment\">#   -- Build files have been written to: /opt/MYSQL/mysql-5.5.32</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">make &amp;&amp; make install</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##检查是否安装成功|软连接建立</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $?  <span class=\"comment\">#输出0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##mysql环境变量配置</span></span><br><span class=\"line\">ln -s /application/mysql-5.5.32 /application/mysql</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#环境变量</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=<span class=\"string\">\"/application/mysql/bin:<span class=\"variable\">$PATH</span>\"</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">'export PATH=/application/mysql/bin:$PATH'</span> &gt;&gt; /etc/profile  <span class=\"comment\">#注意这里PATH放在前面（后期防止YUM安装得mysql客户端连接编译得服务端）</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$PATH</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#复制mysql配置文件</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /home/oldboy/tools/mysql-5.5.32</span><br><span class=\"line\">cp support-files/my-small.cnf /etc/my.cnf  <span class=\"comment\">#测试环境选小,初始化更具需求增加</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#给date目录权限</span></span><br><span class=\"line\">chown -R mysql:mysql /application/mysql/</span><br><span class=\"line\">chmod -R 1777 /tmp/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#初始化 (容易出错) 存在账号密码   【再logs里面 或在mysql安装目录logs 中存在初始化的密码】</span></span><br><span class=\"line\">mkdir -p /application/mysql/data</span><br><span class=\"line\">[root@WeiyiGeek scripts]<span class=\"comment\"># pwd</span></span><br><span class=\"line\">/application/mysql/scripts/mysql_install_db --basedir=/application/mysql --datadir=/application/mysql/data --user=mysql</span><br><span class=\"line\"></span><br><span class=\"line\">/** 帮助得一些信息</span><br><span class=\"line\">   To start mysqld at boot time you have to copy</span><br><span class=\"line\">support-files/mysql.server to the right place <span class=\"keyword\">for</span> your system</span><br><span class=\"line\">PLEASE REMEMBER TO SET A PASSWORD FOR THE MySQL root USER ! （设置密码）</span><br><span class=\"line\"></span><br><span class=\"line\">/application/mysql/bin/mysqladmin -u root password <span class=\"string\">'new-password'</span></span><br><span class=\"line\">/application/mysql/bin/mysqladmin -u root -h WeiyiGeek password <span class=\"string\">'new-password'</span></span><br><span class=\"line\"></span><br><span class=\"line\">Alternatively you can run:</span><br><span class=\"line\">/application/mysql/bin/mysql_secure_installation</span><br><span class=\"line\"></span><br><span class=\"line\">You can start the MySQL daemon with:</span><br><span class=\"line\"><span class=\"built_in\">cd</span> /application/mysql ; /application/mysql/bin/mysqld_safe &amp;</span><br><span class=\"line\"></span><br><span class=\"line\">You can <span class=\"built_in\">test</span> the MySQL daemon with mysql-test-run.pl</span><br><span class=\"line\"><span class=\"built_in\">cd</span> /application/mysql/mysql-test ; perl mysql-test-run.pl</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#将mysql服务shell脚本复制到mysqld进程</span></span><br><span class=\"line\"> cp /application/mysql/support-files/mysql.server /etc/init.d/mysqld  //</span><br><span class=\"line\"> chmod +x /etc/init.d/mysqld  //添加执行权限</span><br><span class=\"line\"> //启动mysql数据库</span><br><span class=\"line\"> /etc/init.d/mysqld start</span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/20190428103149.png\" alt=\"WeiyiGeek.源码安装\" title=\"\" class=\"\">\n                <p>WeiyiGeek.源码安装</p>\n            </figure></p>\n<hr>\n\n<h5 id=\"2-5-7-24二进制安装\"><a href=\"#2-5-7-24二进制安装\" class=\"headerlink\" title=\"2. 5.7.24二进制安装\"></a>2. 5.7.24二进制安装</h5><p>环境版本：CentOS release 6.10 (Final - 32位) + mysql-5.7.24-linux-glibc2.12-i686.tar.gz （注意版本）<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Step 1 、检查是否安装了 mysql 与 mariadb：</span><br><span class=\"line\">pm -qa | grep mysql  &amp;&amp; rpm -qa | grep mariadb</span><br><span class=\"line\">rpm -e --nodeps mysql-community-libs-8.0.13-1.el6.i686  <span class=\"comment\">#有则卸载</span></span><br><span class=\"line\"><span class=\"comment\"># 将/var/lib/mysql文件夹下的所有文件都删除干净。</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Step 2 、传安装文件到 linux 系统进行安装：</span><br><span class=\"line\"><span class=\"comment\">#出于安全问题，建议使用 md5sum 命令核对一下文件源：</span></span><br><span class=\"line\">md5sum mysql-5.7.24-linux-glibc2.12-i686.tar.gz</span><br><span class=\"line\">mkdir /usr/<span class=\"built_in\">local</span>/msyql  <span class=\"comment\">#/usr/local 目录下创建文件夹存 mysql：</span></span><br><span class=\"line\">tar -zxvf mysql-5.7.24-linux-glibc2.12-i686.tar.gz -C /usr/<span class=\"built_in\">local</span>/mysql5/   <span class=\"comment\">#解压到指定目录</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Step 3 、添加用户和组：</span><br><span class=\"line\">groupadd mysql &amp;&amp; useradd -r -g mysql mysql -s /sbin/nologin -M</span><br><span class=\"line\">more /etc/group | grep <span class=\"string\">\"mysql\"</span>   <span class=\"comment\"># 查看 是否存在 mysql 组</span></span><br><span class=\"line\">groups mysql                     <span class=\"comment\"># 查看 msyql 属于哪个组</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Step 4、依赖安装与mysql配置</span><br><span class=\"line\">[root@WeiyiGeek mysql57]<span class=\"comment\"># rpm -qa | grep libaio</span></span><br><span class=\"line\">libaio-devel-0.3.107-10.el6.i686</span><br><span class=\"line\">libaio-0.3.107-10.el6.i686</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#没有安装的情况下</span></span><br><span class=\"line\">[root@WeiyiGeek mysql57]<span class=\"comment\"># yum -y install libaio</span></span><br><span class=\"line\"><span class=\"comment\">#进入安装 mysql 软件目录安装配置文件：</span></span><br><span class=\"line\">cp ./support-files/my-default.cnf /etc/my.cnf   <span class=\"comment\">#（提示是否覆盖，输入“ y ”同意）</span></span><br><span class=\"line\">vim /etc/my.cnf   <span class=\"comment\">#　修改被覆盖后的 my.cnf</span></span><br><span class=\"line\"></span><br><span class=\"line\">[mysql] </span><br><span class=\"line\"><span class=\"comment\"># 设置mysql客户端默认字符集 </span></span><br><span class=\"line\">default-character-set=utf8  </span><br><span class=\"line\">socket=/var/lib/mysql/mysql.sock </span><br><span class=\"line\"></span><br><span class=\"line\">[mysqld] </span><br><span class=\"line\"><span class=\"comment\">#skip-name-resolve </span></span><br><span class=\"line\">user=root <span class=\"comment\">#先设置以root用户运行,运行后再更改为mysql，注意各个目录文件夹所属用户</span></span><br><span class=\"line\"><span class=\"comment\">#设置3306端口 </span></span><br><span class=\"line\">port = 3306  </span><br><span class=\"line\"><span class=\"comment\">#socket与上面一致</span></span><br><span class=\"line\">socket=/var/lib/mysql/mysql.sock </span><br><span class=\"line\"><span class=\"comment\"># 设置mysql的安装目录 </span></span><br><span class=\"line\">basedir=/usr/<span class=\"built_in\">local</span>/mysql </span><br><span class=\"line\"><span class=\"comment\"># 设置mysql数据库的数据的存放目录 </span></span><br><span class=\"line\">datadir=/usr/<span class=\"built_in\">local</span>/mysql/data </span><br><span class=\"line\">pid-file=/app/mysql-8.0.16/data/mysql.pid</span><br><span class=\"line\">skip-grant-tables <span class=\"comment\">#此项是为了装好后免登陆修改密码使用  （修改后注释即可）</span></span><br><span class=\"line\"><span class=\"comment\">#错误信息</span></span><br><span class=\"line\"><span class=\"built_in\">log</span>-error=/usr/<span class=\"built_in\">local</span>/mysql/<span class=\"built_in\">log</span>/mysql-err.log </span><br><span class=\"line\"><span class=\"comment\"># 允许最大连接数 </span></span><br><span class=\"line\">max_connections=200 </span><br><span class=\"line\"><span class=\"comment\"># 服务端使用的字符集默认为8比特编码的latin1字符集 </span></span><br><span class=\"line\">character-set-server=utf8 </span><br><span class=\"line\"><span class=\"comment\"># 创建新表时将使用的默认存储引擎 </span></span><br><span class=\"line\">default-storage-engine=INNODB </span><br><span class=\"line\"><span class=\"comment\">#lower_case_table_name=1 </span></span><br><span class=\"line\">max_allowed_packet=16M</span><br><span class=\"line\"><span class=\"comment\">#-------------- 配置文件分割线 ------------------------#</span></span><br><span class=\"line\"></span><br><span class=\"line\">mkdir &#123;data,<span class=\"built_in\">log</span>&#125;         <span class=\"comment\"># 创建 data 文件夹：</span></span><br><span class=\"line\">chown -R mysql:mysql data/ <span class=\"built_in\">log</span>/　<span class=\"comment\">#修改当前目录拥有者为 mysql 用户</span></span><br><span class=\"line\">chown -R mysql:mysql /var/lib/mysql</span><br><span class=\"line\">./bin/mysqld --initialize --user=mysql --basedir=/usr/<span class=\"built_in\">local</span>/mysql/ --datadir=/usr/<span class=\"built_in\">local</span>/mysql/data/  <span class=\"comment\">#初始化 mysqld：[root@localhost mysql] 此处有账号密码</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#设置开机启动 </span></span><br><span class=\"line\">　　　　a. 复制启动脚本到资源目录： cp ./support-files/mysql.server /etc/rc.d/init.d/mysqld</span><br><span class=\"line\">　　　　b. 增加 mysqld 服务控制脚本执行权限： chmod +x /etc/rc.d/init.d/mysqld , 更改 mysqld 中下面两个选项</span><br><span class=\"line\">           basedir=/usr/<span class=\"built_in\">local</span>/mysql</span><br><span class=\"line\">           datadir=/usr/<span class=\"built_in\">local</span>/mysql/data</span><br><span class=\"line\">　　　　c. 将 mysqld 服务加入到系统服务： chkconfig --add mysqld</span><br><span class=\"line\">　　　　d. 检查mysqld服务是否已经生效： chkconfig --list mysqld</span><br><span class=\"line\">       查看启动项：chkconfig --list | grep -i mysql</span><br><span class=\"line\">　　　　删除启动项：chkconfig --del mysql</span><br><span class=\"line\">     </span><br><span class=\"line\"><span class=\"comment\">#将mysql的bin目录加入PATH环境变量，编辑 /etc/profile文件</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"export PATH=<span class=\"variable\">$PATH</span>:/usr/local/mysql/bin\"</span> &gt;&gt; /etc/profile</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#执行生效</span></span><br><span class=\"line\"><span class=\"built_in\">source</span> /etc/profile</span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/20190428103631.png\" alt=\"WeiyiGeek.二进制安装\" title=\"\" class=\"\">\n                <p>WeiyiGeek.二进制安装</p>\n            </figure></p>\n<hr>\n\n<h5 id=\"3-MySQL8二进制安装\"><a href=\"#3-MySQL8二进制安装\" class=\"headerlink\" title=\"3. MySQL8二进制安装\"></a>3. MySQL8二进制安装</h5><p>环境版本：CentOS Linux release 7.6.1810 (Core) + mysql-8.0.13-linux-glibc2.12-x86_64.tar.xz<br>官网：<a href=\"https://dev.mysql.com/downloads/mysql/\" target=\"_blank\" rel=\"noopener\">https://dev.mysql.com/downloads/mysql/</a><br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/20190428140839.png\" alt=\"WeiyiGeek.二进制\" title=\"\" class=\"\">\n                <p>WeiyiGeek.二进制</p>\n            </figure></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">####Step 1.安装环境设置 #####</span></span><br><span class=\"line\"><span class=\"comment\"># 依赖安装目录解压：</span></span><br><span class=\"line\">yum update -y &amp;&amp; yum upgrade -y</span><br><span class=\"line\"><span class=\"comment\">#rpm --import /etc/pki/rpm-gpg/xxxx</span></span><br><span class=\"line\">yum install -y epel-release.noarch gcc gcc-c++ openssl openssl-devel libaio libaio-devel ncurses ncurses-deve numactl lsof vim wget net-tools</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 用户建立</span></span><br><span class=\"line\">[root@centos7 ~]$ groupadd -g 500 mysql</span><br><span class=\"line\">[root@centos7 ~]$ useradd -r -g mysql -s /sbin/nologin mysql</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 解压与安装</span></span><br><span class=\"line\"><span class=\"comment\">#https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.16-linux-glibc2.12-x86_64.tar.xz</span></span><br><span class=\"line\">tar -xvf mysql-8.0.16-linux-glibc2.12-x86_64.tar.xz -C /usr/<span class=\"built_in\">local</span>/</span><br><span class=\"line\">mkdir /usr/<span class=\"built_in\">local</span>/mysql8</span><br><span class=\"line\">cp -r mysql-8.0.16-linux-glibc2.12-x86_64/* /usr/<span class=\"built_in\">local</span>/mysql8/</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 建立数据库文件与log日志 (安装在mysql安装目录中 - 实际生产环境中不建议使用)</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/mysql8</span><br><span class=\"line\">mkdir &#123;data,<span class=\"built_in\">log</span>&#125;</span><br><span class=\"line\">mkdir -vp /var/lib/mysql</span><br><span class=\"line\">chown -R mysql:mysql /usr/<span class=\"built_in\">local</span>/mysql8 /var/lib/mysql</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#环境设置</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"export PATH=<span class=\"variable\">$PATH</span>:/usr/local/mysql8/bin\"</span>  &gt;&gt;  /etc/profile</span><br><span class=\"line\"><span class=\"built_in\">source</span> /etc/profile</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#####Step 2.数据库初始化####</span></span><br><span class=\"line\"><span class=\"comment\"># 编辑 /etc/my.cnf</span></span><br><span class=\"line\">[mysqld]</span><br><span class=\"line\">port=3306</span><br><span class=\"line\">datadir=/usr/<span class=\"built_in\">local</span>/mysql8/data</span><br><span class=\"line\"><span class=\"built_in\">log</span>-error=/usr/<span class=\"built_in\">local</span>/mysql8/<span class=\"built_in\">log</span>/mysql-err.log</span><br><span class=\"line\">user=mysql</span><br><span class=\"line\">pid-file=/usr/<span class=\"built_in\">local</span>/mysql8/data/mysql8.pid</span><br><span class=\"line\"><span class=\"comment\">#skip-grant-tables #此项是为了装好后免登陆修改密码使用</span></span><br><span class=\"line\">default_authentication_plugin=mysql_native_password</span><br><span class=\"line\">socket=/var/lib/mysql/mysql.sock </span><br><span class=\"line\">character-set-server=utf8mb4</span><br><span class=\"line\"></span><br><span class=\"line\">[client]</span><br><span class=\"line\"><span class=\"comment\"># 设置mysql客户端默认字符集</span></span><br><span class=\"line\">default-character-set=utf8mb4</span><br><span class=\"line\">socket=/var/lib/mysql/mysql.sock </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 初始化数据库目录 (权限问题) 指定用户不能否则会重新生成pid注意</span></span><br><span class=\"line\">/usr/<span class=\"built_in\">local</span>/mysql8/bin/mysqld --initialize --user=mysql --basedir=/usr/<span class=\"built_in\">local</span>/mysql8 --datadir=/usr/<span class=\"built_in\">local</span>/mysql8/data</span><br><span class=\"line\"> cat /usr/<span class=\"built_in\">local</span>/mysql8.0/<span class=\"built_in\">log</span>/mysql-err.log  <span class=\"comment\">#账号密码</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#### Step 3.启动脚本与mysql配置 ####</span></span><br><span class=\"line\"><span class=\"comment\"># 制作启动脚本 </span></span><br><span class=\"line\">cp  /usr/<span class=\"built_in\">local</span>/mysql8/support-files/mysql.server  /etc/init.d/mysqld</span><br><span class=\"line\"></span><br><span class=\"line\">vi /etc/init.d/mysqld  <span class=\"comment\">#将base与data目录进行更改</span></span><br><span class=\"line\">basedir=/usr/<span class=\"built_in\">local</span>/mysql8</span><br><span class=\"line\">datadir=/usr/<span class=\"built_in\">local</span>/mysql8/data</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 启动、关闭、重启mysql的命令</span></span><br><span class=\"line\">/etc/init.d/mysqld start</span><br><span class=\"line\">/etc/init.d/mysqld stop</span><br><span class=\"line\">/etc/init.d/mysqld restart</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 或者 添加到服务项中</span></span><br><span class=\"line\">[root@localhost mysql8]<span class=\"comment\"># chkconfig --add mysqld</span></span><br><span class=\"line\">[root@localhost mysql8]<span class=\"comment\"># chkconfig --list mysqld</span></span><br><span class=\"line\"></span><br><span class=\"line\">[root@localhost mysql8]<span class=\"comment\"># service mysqld start</span></span><br></pre></td></tr></table></figure>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/20190428115549.png\" alt=\"WeiyiGeek.mysql8.0\" title=\"\" class=\"\">\n                <p>WeiyiGeek.mysql8.0</p>\n            </figure>\n<p><br></p>\n<p><strong>安装补充</strong><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#(1)将MySQL初始化到其他路径并且采用mysqld启动</span></span><br><span class=\"line\">mkdir -vp /app/mysql-8.0.16/&#123;data,<span class=\"built_in\">log</span>,tmp&#125; /var/lib/mysql</span><br><span class=\"line\">chown -R mysql:mysql /usr/<span class=\"built_in\">local</span>/mysql-8.0.16/ /app/mysql-8.0.16 /var/lib/mysql</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#MySQL8.0配置</span></span><br><span class=\"line\"><span class=\"comment\"># 编辑 /etc/my.cnf</span></span><br><span class=\"line\">[mysqld]</span><br><span class=\"line\">port=3306</span><br><span class=\"line\">user=mysql</span><br><span class=\"line\">server-id=1</span><br><span class=\"line\">basedir=/usr/<span class=\"built_in\">local</span>/mysql-8.0.16</span><br><span class=\"line\">socket=/var/lib/mysql/mysql.sock</span><br><span class=\"line\">datadir=/app/mysql-8.0.16/data</span><br><span class=\"line\">pid-file=/app/mysql-8.0.16/data/mysql.pid</span><br><span class=\"line\"><span class=\"built_in\">log</span>-error=/app/mysql-8.0.16/<span class=\"built_in\">log</span>/mysql-err.log</span><br><span class=\"line\">tmpdir=/app/mysql-8.0.16/tmp</span><br><span class=\"line\">init-connect=<span class=\"string\">'SET NAMES utf8mb4'</span></span><br><span class=\"line\">character-set-server=utf8mb4</span><br><span class=\"line\"><span class=\"comment\">#设置密码登录默认验证插件</span></span><br><span class=\"line\">default_authentication_plugin=mysql_native_password</span><br><span class=\"line\"><span class=\"comment\">#skip-grant-tables</span></span><br><span class=\"line\"></span><br><span class=\"line\">[client]</span><br><span class=\"line\"><span class=\"comment\">#设置mysql客户端默认字符集</span></span><br><span class=\"line\">default-character-set=utf8mb4</span><br><span class=\"line\">socket=/var/lib/mysql/mysql.sock </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#初始化数据库目录 注意--defaults-file必须指定在首个参数</span></span><br><span class=\"line\">/usr/<span class=\"built_in\">local</span>/mysql-8.0.16/bin/mysqld --defaults-file=/etc/my.cnf --initialize --user=mysql</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#利用support-files提供的脚本进行启动关闭数据库</span></span><br><span class=\"line\"><span class=\"comment\">#对于base(MySQL安装目录)与data(MySQL数据文件目录)进行实际路径的更改</span></span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<h5 id=\"4-YUM安装MySQL（单机使用-多实例未配置成功）\"><a href=\"#4-YUM安装MySQL（单机使用-多实例未配置成功）\" class=\"headerlink\" title=\"4. YUM安装MySQL（单机使用-多实例未配置成功）\"></a>4. YUM安装MySQL（单机使用-多实例未配置成功）</h5><p>安装环境：Centos 7 (Core X86_64 )<br>数据库版本：MySQL 8.x<br>注意事项：安装前查看是否存在其他版本得mysql以免冲突 rpm -qa | grep -E “mysql|mariadb”</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Step1 ： 将机器连接到外网，进行更新软件及其依赖；</span><br><span class=\"line\">&gt; yum clean all</span><br><span class=\"line\">&gt; yum update -y &amp;&amp; yum upgrade -y</span><br><span class=\"line\">&gt; yum install -y epel-release.noarch gcc gcc-c++ openssl openssl-devel libaio libaio-devel ncurses ncurses-deve numactl lsof vim wget net-tools</span><br><span class=\"line\"></span><br><span class=\"line\">Step 2：使用文档中的mysql8.0的rpm包进行安装yum的mysql镜像源</span><br><span class=\"line\">https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm</span><br><span class=\"line\">&gt; sudo rpm -Uvh mysql80-community-release-el7-1.noarch.rpm</span><br><span class=\"line\"></span><br><span class=\"line\">Step 3:安装mysql服务器端,输入Y即可</span><br><span class=\"line\">&gt; yum repolist all | grep mysql</span><br><span class=\"line\">&gt; sudo yum install mysql-community-server</span><br><span class=\"line\"></span><br><span class=\"line\">Step 4：启动mysqld 服务进程</span><br><span class=\"line\">shell&gt; sudo service mysqld start</span><br><span class=\"line\"></span><br><span class=\"line\">Step 5：查看安装的默认密码，采用记录得密码进行登录并且修改密码</span><br><span class=\"line\">&gt; grep “temoprary password” /var/<span class=\"built_in\">log</span>/mysqld.log </span><br><span class=\"line\"> </span><br><span class=\"line\">Step 6:采用修改的密码进行登录mysql,到此完成了mysql的安装</span><br><span class=\"line\">&gt; Mysql -uroot -pMyNewPass4!</span><br><span class=\"line\"></span><br><span class=\"line\">Step 7：启动自启mysql服务</span><br><span class=\"line\">shell&gt; sudo systemctl start mysqld.service</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Step n:目录文件解释语句</span><br><span class=\"line\">数据目录：/usr/lib/mysql</span><br><span class=\"line\">配置文件：/etc/my.cnf</span><br><span class=\"line\">日志：/var/<span class=\"built_in\">log</span>/mysqld.log</span><br><span class=\"line\">PID文件：/var/run/mysqld</span><br><span class=\"line\">sock：/var/lib/mysql/mysql.sock</span><br><span class=\"line\"></span><br><span class=\"line\">ALTER USER <span class=\"string\">'root'</span>@<span class=\"string\">'%'</span> IDENTIFIED BY <span class=\"string\">'weiye@888'</span>; <span class=\"comment\">#/</span></span><br><span class=\"line\">ALTER USER USER() IDENTIFIED BY <span class=\"string\">'weiye@888'</span>;  <span class=\"comment\">#mysql8.x更改密码 （mysql 8.0 有密码强度设置）</span></span><br><span class=\"line\"><span class=\"comment\">#新建本地用户</span></span><br><span class=\"line\">CREATE USER <span class=\"string\">'test'</span>@<span class=\"string\">'localhost'</span> IDENTIFIED BY <span class=\"string\">'Test@123456'</span>;</span><br><span class=\"line\"><span class=\"comment\">#新建远程用户</span></span><br><span class=\"line\">CREATE USER <span class=\"string\">'test'</span>@<span class=\"string\">'%'</span> IDENTIFIED BY <span class=\"string\">'Test@123456'</span>;</span><br><span class=\"line\"><span class=\"comment\">#新建数据库</span></span><br><span class=\"line\">CREATE DATABASE testdb;</span><br><span class=\"line\"><span class=\"comment\">#赋予指定账户指定数据库远程访问权限</span></span><br><span class=\"line\">GRANT ALL PRIVILEGES ON testdb.* TO <span class=\"string\">'test'</span>@<span class=\"string\">'%'</span>;</span><br><span class=\"line\"><span class=\"comment\">#赋予指定账户对所有数据库远程访问权限</span></span><br><span class=\"line\">GRANT ALL PRIVILEGES ON *.* TO <span class=\"string\">'test'</span>@<span class=\"string\">'%'</span>;</span><br><span class=\"line\"><span class=\"comment\">#赋予指定账户对所有数据库本地访问权限</span></span><br><span class=\"line\">GRANT ALL PRIVILEGES ON *.* TO <span class=\"string\">'test'</span>@<span class=\"string\">'localhost'</span>;</span><br><span class=\"line\"><span class=\"comment\">#刷新权限</span></span><br><span class=\"line\">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<h5 id=\"5-MySql绿色版运行\"><a href=\"#5-MySql绿色版运行\" class=\"headerlink\" title=\"5.MySql绿色版运行\"></a>5.MySql绿色版运行</h5><p>安装环境：Windows Server 2019<br>数据库版本：MySQL 8.x<br>安装流程步骤:</p>\n<ul>\n<li>1.下载<a href=\"https://dev.mysql.com/downloads/mysql/\" target=\"_blank\" rel=\"noopener\">mysql绿色版压缩包</a>,完成后解压到安装目录后，在根目录创建data文件夹；</li>\n<li>2.把mysql下的bin目录添加到环境变量PATH之中，比如<code>;d:\\mysq\\bin\\;</code></li>\n<li>3.根目录创建my.ini文件，并拷贝以下代码，并修改basedir和datadir路径<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># MySQL Server Instance Configuration File</span><br><span class=\"line\"># ----------------------------------------------------------------------</span><br><span class=\"line\"># Generated by the MySQL Server Instance Configuration Wizard</span><br><span class=\"line\">#</span><br><span class=\"line\">#</span><br><span class=\"line\"># Installation Instructions</span><br><span class=\"line\"># ----------------------------------------------------------------------</span><br><span class=\"line\">#</span><br><span class=\"line\"># On Linux you can copy this file to &#x2F;etc&#x2F;my.cnf to set global options,</span><br><span class=\"line\"># mysql-data-dir&#x2F;my.cnf to set server-specific options</span><br><span class=\"line\"># (@localstatedir@ for this installation) or to</span><br><span class=\"line\"># ~&#x2F;.my.cnf to set user-specific options.</span><br><span class=\"line\">#</span><br><span class=\"line\"># On Windows you should keep this file in the installation directory </span><br><span class=\"line\"># of your server (e.g. C:\\Program Files\\MySQL\\MySQL Server X.Y). To</span><br><span class=\"line\"># make sure the server reads the config file use the startup option </span><br><span class=\"line\"># &quot;--defaults-file&quot;. </span><br><span class=\"line\">#</span><br><span class=\"line\"># To run run the server from the command line, execute this in a </span><br><span class=\"line\"># command line shell, e.g.</span><br><span class=\"line\"># mysqld --defaults-file&#x3D;&quot;D:\\GreenSoft\\MySQL\\my.ini&quot;</span><br><span class=\"line\">#</span><br><span class=\"line\"># To install the server as a Windows service manually, execute this in a </span><br><span class=\"line\"># command line shell, e.g.</span><br><span class=\"line\"># mysqld --install mysql --defaults-file&#x3D;&quot;D:\\GreenSoft\\MySQL\\my.ini&quot;</span><br><span class=\"line\">#</span><br><span class=\"line\"># And then execute this in a command line shell to start the server, e.g.</span><br><span class=\"line\"># net start mysql</span><br><span class=\"line\">#</span><br><span class=\"line\">#</span><br><span class=\"line\"># Guildlines for editing this file</span><br><span class=\"line\"># ----------------------------------------------------------------------</span><br><span class=\"line\">#</span><br><span class=\"line\"># In this file, you can use all long options that the program supports.</span><br><span class=\"line\"># If you want to know the options a program supports, start the program</span><br><span class=\"line\"># with the &quot;--help&quot; option.</span><br><span class=\"line\">#</span><br><span class=\"line\"># More detailed information about the individual options can also be</span><br><span class=\"line\"># found in the manual.</span><br><span class=\"line\">#</span><br><span class=\"line\"># For advice on how to change settings please see</span><br><span class=\"line\"># http:&#x2F;&#x2F;dev.mysql.com&#x2F;doc&#x2F;refman&#x2F;8.0&#x2F;en&#x2F;server-configuration-defaults.html</span><br><span class=\"line\">#</span><br><span class=\"line\">#</span><br><span class=\"line\"># CLIENT SECTION</span><br><span class=\"line\"># ----------------------------------------------------------------------</span><br><span class=\"line\">#</span><br><span class=\"line\"># The following options will be read by MySQL client applications.</span><br><span class=\"line\"># Note that only client applications shipped by MySQL are guaranteed</span><br><span class=\"line\"># to read this section. If you want your own MySQL client program to</span><br><span class=\"line\"># honor these values, you need to specify it as an option during the</span><br><span class=\"line\"># MySQL client library initialization.</span><br><span class=\"line\">#</span><br><span class=\"line\"></span><br><span class=\"line\">[client]</span><br><span class=\"line\">no-beep</span><br><span class=\"line\"></span><br><span class=\"line\"># pipe</span><br><span class=\"line\"># socket&#x3D;0.0</span><br><span class=\"line\">port&#x3D;3306</span><br><span class=\"line\"></span><br><span class=\"line\">[mysql]</span><br><span class=\"line\"></span><br><span class=\"line\">default-character-set&#x3D;utf8</span><br><span class=\"line\"></span><br><span class=\"line\">[mysqld]</span><br><span class=\"line\"></span><br><span class=\"line\"># 这是8.0.4的新特性 caching_sha2_password，在linux上面使用命宁 mysql -uroot -proot 可以链接，但是使用windows下面的navict链接不成功 </span><br><span class=\"line\">default_authentication_plugin &#x3D; mysql_native_password</span><br><span class=\"line\"></span><br><span class=\"line\"># These are commonly set, remove the # and set as required.</span><br><span class=\"line\">character-set-server &#x3D; utf8</span><br><span class=\"line\">basedir &#x3D; D:\\Program Files\\mysql-8.0.11-winx64</span><br><span class=\"line\">datadir &#x3D; D:\\Program Files\\mysql-8.0.11-winx64\\data</span><br><span class=\"line\">port &#x3D; 3306</span><br><span class=\"line\">server_id &#x3D; 1</span><br><span class=\"line\"></span><br><span class=\"line\"># Remove leading # and set to the amount of RAM for the most important data</span><br><span class=\"line\"># cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.</span><br><span class=\"line\">innodb_buffer_pool_size &#x3D; 128M</span><br><span class=\"line\"></span><br><span class=\"line\"># Remove leading # to turn on a very important data integrity option: logging</span><br><span class=\"line\"># changes to the binary log between backups.</span><br><span class=\"line\"># log_bin</span><br><span class=\"line\"></span><br><span class=\"line\"># General and Slow logging.</span><br><span class=\"line\">log-output&#x3D;FILE</span><br><span class=\"line\">general-log&#x3D;0</span><br><span class=\"line\">general_log_file&#x3D;&quot;CUPID.log&quot;</span><br><span class=\"line\">slow-query-log&#x3D;1</span><br><span class=\"line\">slow_query_log_file&#x3D;&quot;CUPID-slow.log&quot;</span><br><span class=\"line\">long_query_time&#x3D;10</span><br><span class=\"line\"></span><br><span class=\"line\"># Binary Logging.</span><br><span class=\"line\"># log-bin</span><br><span class=\"line\"></span><br><span class=\"line\"># Error Logging.</span><br><span class=\"line\">log-error&#x3D;&quot;CUPID.err&quot;</span><br><span class=\"line\"></span><br><span class=\"line\"># Remove leading # to set options mainly useful for reporting servers.</span><br><span class=\"line\"># The server defaults are faster for transactions and fast SELECTs.</span><br><span class=\"line\"># Adjust sizes as needed, experiment to find the optimal values.</span><br><span class=\"line\"># join_buffer_size &#x3D; 128M</span><br><span class=\"line\"># sort_buffer_size &#x3D; 2M</span><br><span class=\"line\"># read_rnd_buffer_size &#x3D; 2M </span><br><span class=\"line\"></span><br><span class=\"line\"># 8.0.4版本的时候，用的是这个sql_mode，但在8.0.11版本中会报错，改成下面那个</span><br><span class=\"line\"># sql_mode&#x3D;STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION</span><br><span class=\"line\">sql-mode&#x3D;&quot;STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">default-storage-engine&#x3D;INNODB</span><br><span class=\"line\"></span><br><span class=\"line\">innodb_log_file_size &#x3D; 512M</span><br><span class=\"line\">binlog_format&#x3D;&#39;MIXED&#39;</span><br><span class=\"line\">max_allowed_packet &#x3D; 1G</span><br><span class=\"line\"># innodb_file_per_table &#x3D; 1</span><br><span class=\"line\"># innodb_file_format &#x3D; Barracuda</span><br><span class=\"line\"></span><br><span class=\"line\"># 大小写是否敏感，0敏感 Linux下默认为0， Windows下默认值是 1， MacOS下默认值是 2（0敏感）</span><br><span class=\"line\">lower_case_table_names &#x3D; 1</span><br><span class=\"line\"></span><br><span class=\"line\">innodb_strict_mode &#x3D; 0</span><br><span class=\"line\">max_connections &#x3D; 500</span><br></pre></td></tr></table></figure></li>\n<li>3.安装MYSQL服务与初始化<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysqld --install  <span class=\"comment\">#安装MYSQL服务</span></span><br><span class=\"line\">mysqld --initialize --user=mysql --console   <span class=\"comment\">#初始化mysql并记下临时密码</span></span><br></pre></td></tr></table></figure></li>\n<li>4.启动服务<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">net start mysql  <span class=\"comment\">#启动mysql服务</span></span><br></pre></td></tr></table></figure></li>\n<li>5.基础SQL执行<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ALTER USER <span class=\"string\">'root'</span>@<span class=\"string\">'localhost'</span> IDENTIFIED BY <span class=\"string\">'123456'</span>;</span><br><span class=\"line\">CREATE USER <span class=\"string\">'backup'</span>@<span class=\"string\">'10.0.0.2'</span> IDENTIFIED BY <span class=\"string\">'123456'</span>; <span class=\"comment\">#用户名为backup,密码123456，只允许10.0.0.2远程登录</span></span><br><span class=\"line\">GRANT select，lock tables ON db1.* TO <span class=\"string\">'backup'</span>@<span class=\"string\">'%'</span>;    <span class=\"comment\">#授权db1数据库的select和lock tables权限给backup用户</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n\n<h4 id=\"0x02-MySQL初始化设置\"><a href=\"#0x02-MySQL初始化设置\" class=\"headerlink\" title=\"0x02 MySQL初始化设置\"></a>0x02 MySQL初始化设置</h4><p>mysql启动加载配置文件：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#如果不想使用默认加载顺序中的配置文件，可以在启动命令上增加 --defaults-file='path/to/my.cnf'来指定要使用的配置文件 (需要注意必须放在第一个参数处)</span></span><br><span class=\"line\">/usr/sbin/mysqld --defaults-file=/etc/mysql/my.cnf --basedir=/usr --datadir=/var/lib/mysql \\</span><br><span class=\"line\"> --pid-file=/var/run/mysqld/mysqld.pid \\</span><br><span class=\"line\"> --socket=/var/run/mysqld/mysqld.sock</span><br></pre></td></tr></table></figure></p>\n<p>mysql安装启动成功验证连接：</p>\n<ul>\n<li>mysql -h 主机地址 -u 用户名 －p 用户密码 （注:u与root可以不用加空格，其它也一样） </li>\n<li>mysql -h 127.0.0.1 -u root -p 然后输入密码,就可以连接到本地的MySql数据库了。</li>\n</ul>\n<p><br></p>\n<h5 id=\"5-x-源码安装验证\"><a href=\"#5-x-源码安装验证\" class=\"headerlink\" title=\"5.x 源码安装验证\"></a>5.x 源码安装验证</h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">###上面############</span></span><br><span class=\"line\">[root@WeiyiGeek mysql]$ mysql -h localhost  <span class=\"comment\">#安全完成后默认无密码</span></span><br><span class=\"line\">ALTER USER <span class=\"string\">'root'</span>@<span class=\"string\">'localhost'</span> IDENTIFIED BY <span class=\"string\">'System123@'</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">mysql&gt; select user,host from mysql.user;  //删除空表用户</span><br><span class=\"line\">mysql&gt; delete from mysql.user <span class=\"built_in\">where</span> user=<span class=\"string\">''</span> or user=<span class=\"string\">'::1'</span>; //ipv6</span><br><span class=\"line\">mysql&gt; drop database <span class=\"built_in\">test</span>;  //drop 有时候干不掉 特殊字符</span><br><span class=\"line\">mysql&gt; delete from mysql.user; //或者干掉所有得管理员（实际清空列表）</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#建立一个类似Root权限得用户</span></span><br><span class=\"line\">mysql&gt; grant all privileges on  *.* to system@<span class=\"string\">'localhost'</span> identified by <span class=\"string\">'system'</span> with grant option;  <span class=\"comment\">#grant option; 可以给其他建立得用户赋权限</span></span><br><span class=\"line\">Query OK, 0 rows affected (0.00 sec)</span><br><span class=\"line\">mysql&gt; flush privileges;</span><br><span class=\"line\">Query OK, 0 rows affected (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#还可以直接设置 mysql -root 登陆密码</span></span><br><span class=\"line\">[WeiyiGeek ~]<span class=\"comment\"># /application/mysql/bin/mysqladmin -u system password 'system'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#/** 注意这里有时涉及字符集 - Cent6.x**/</span></span><br><span class=\"line\">/etc/sysconfig/i18n</span><br><span class=\"line\"><span class=\"comment\">#LANG=\"en_US.UTF-8\"</span></span><br><span class=\"line\"><span class=\"comment\">#LANG=\"zh_CN.GB18030\"</span></span><br><span class=\"line\">LANG=<span class=\"string\">\"zh_CN.UTF-8\"</span></span><br><span class=\"line\">SYSFONT=<span class=\"string\">\"latarcyrheb-sun16\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#设置自启动状态 与 验证密码</span></span><br><span class=\"line\">[root@WeiyiGeek ~]<span class=\"comment\"># chkconfig mysqld on</span></span><br><span class=\"line\">[root@WeiyiGeek ~]<span class=\"comment\"># chkconfig --list mysqld</span></span><br><span class=\"line\">[root@WeiyiGeek ~]<span class=\"comment\"># mysql -usystem -psystem</span></span><br></pre></td></tr></table></figure>\n<p><br></p>\n<h5 id=\"5-7-x-二进制安装验证\"><a href=\"#5-7-x-二进制安装验证\" class=\"headerlink\" title=\"5.7.x 二进制安装验证\"></a>5.7.x 二进制安装验证</h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -uroot -p  -A        <span class=\"comment\">#当我们打开数据库，即use dbname时，要预读数据库信息，当使用-A参数时，就不预读数据库信息。</span></span><br><span class=\"line\">update user <span class=\"built_in\">set</span> authentication_string = <span class=\"string\">''</span> <span class=\"built_in\">where</span> user = <span class=\"string\">'root'</span>;  <span class=\"comment\">#先设置密码为空，然后在注释my.cnf文件中的skip-grant-tables</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 5.7.x 支持的快捷改密码</span></span><br><span class=\"line\">设置密码才能进行后续的数据库操作：SET PASSWORD = PASSWORD(<span class=\"string\">'System123@'</span>);（密码设置为了123456）   <span class=\"comment\"># mysql8.0 不支持</span></span><br><span class=\"line\">修改密码为 password：update user <span class=\"built_in\">set</span> authentication_string=PASSWORD(<span class=\"string\">'password'</span>) <span class=\"built_in\">where</span> User=<span class=\"string\">'root'</span>;</span><br><span class=\"line\"><span class=\"comment\"># 建立用户与修改权限</span></span><br><span class=\"line\">mysql&gt; use msyql </span><br><span class=\"line\">mysql&gt; create user <span class=\"string\">'user-name'</span>@<span class=\"string\">'ip-address'</span> identified by <span class=\"string\">'password'</span>;（红色标记为需要修改的地方）</span><br><span class=\"line\">mysql&gt; grant all on *.* to <span class=\"string\">'root'</span>@<span class=\"string\">\"%\"</span> identified by <span class=\"string\">\"password\"</span> with grant option;</span><br><span class=\"line\">mysql&gt; flush privileges;</span><br></pre></td></tr></table></figure>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/20190428120432.png\" alt=\"WeiyiGeek.5.7\" title=\"\" class=\"\">\n                <p>WeiyiGeek.5.7</p>\n            </figure>\n<p><br></p>\n<h5 id=\"8-x-二进制安装验证\"><a href=\"#8-x-二进制安装验证\" class=\"headerlink\" title=\"8.x 二进制安装验证\"></a>8.x 二进制安装验证</h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#如果密码为空，在密码设置好后删掉my.cnf里的 -&gt; skip-grant-tables 之后再重启/etc/init.d/mysqld restart</span></span><br><span class=\"line\">mysql -uroot -p <span class=\"comment\">#交互式登录</span></span><br><span class=\"line\">mysql -uroot -p <span class=\"string\">\"lTRGbo53ii&lt;5\"</span> -S /var/lib/mysql/mysql  <span class=\"comment\">#多实例登录</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#首次登录密码设置，MYSQL8的特性密码强度是有要求的</span></span><br><span class=\"line\">mysql&gt;ALTER USER <span class=\"string\">'root'</span>@<span class=\"string\">'%'</span> IDENTIFIED BY <span class=\"string\">'System123@'</span>;  </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#采用 mysql_native 加密方式 方便 NATIVE客户端远程工具登录</span></span><br><span class=\"line\">mysql&gt;ALTER USER <span class=\"string\">'root'</span>@<span class=\"string\">'%'</span> IDENTIFIED BY <span class=\"string\">'weiyigeek@123'</span> PASSWORD EXPIRE NEVER; </span><br><span class=\"line\">mysql&gt;ALTER USER <span class=\"string\">'root'</span>@<span class=\"string\">'%'</span> IDENTIFIED WITH mysql_native_password BY <span class=\"string\">'weiyigeek@123'</span>; </span><br><span class=\"line\">mysql&gt;update user <span class=\"built_in\">set</span> host = <span class=\"string\">'%'</span> <span class=\"built_in\">where</span> user = <span class=\"string\">'root'</span>;   <span class=\"comment\">#使其被任何主机连接（不安全）</span></span><br><span class=\"line\">mysql&gt;update user <span class=\"built_in\">set</span> authentication_string = <span class=\"string\">''</span> <span class=\"built_in\">where</span> user = <span class=\"string\">'root'</span>;  <span class=\"comment\">#清空root的密码 在skip0granbt-tables处使用</span></span><br></pre></td></tr></table></figure>\n<p><em>补充说明：</em><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#正常的启动与停止Mysql，这样做是防止数据丢失与sock异常；</span></span><br><span class=\"line\"><span class=\"comment\">#1.优雅的关闭数据库方法</span></span><br><span class=\"line\">mysqladmin -uroot -proot shutdown</span><br><span class=\"line\">/etc/init.d/mysqld stop</span><br><span class=\"line\"><span class=\"built_in\">kill</span> -UER2 `cat path/pid`</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#2.多实例Mysql的启动与关闭 、单与多实例登录</span></span><br><span class=\"line\"><span class=\"comment\">#shell 启动/退出</span></span><br><span class=\"line\">/bin/sh <span class=\"variable\">$&#123;MysqlPath&#125;</span>/mysqld_safe -defaults-file=/data/<span class=\"variable\">$&#123;port&#125;</span>/my.cnf 2&gt;&amp;1 &gt; /dev/null &amp;</span><br><span class=\"line\">/bin/sh <span class=\"variable\">$&#123;MysqlPath&#125;</span>/mysqladmin -u <span class=\"variable\">$&#123;mysqlUser&#125;</span> -S /date/<span class=\"variable\">$&#123;port&#125;</span>/mysql.sock shutdown</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#shell登陆</span></span><br><span class=\"line\">mysql -uroot -p -P 3306                     <span class=\"comment\">#单实例(可以自定义MySQL数据文件位置，但是必须写在默认配置文件中,在启动的时候会根据配置文件生成pid以及sock套接字文件)</span></span><br><span class=\"line\">mysql -uroot -p -S /data/3306/mysql.sock    <span class=\"comment\">#多实例</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"0x03-运维配置\"><a href=\"#0x03-运维配置\" class=\"headerlink\" title=\"0x03 运维配置\"></a>0x03 运维配置</h4><p><strong>（1）设置mysql命令行格式</strong><br>采用mysql中的prompt命令或者参数来自定义mysql&gt;，有时可以防止误操作；<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">system@localhost 21:12:30&gt;prompt \\u@\\h \\R:\\m:\\s&gt;   //临时生效</span><br><span class=\"line\">PROMPT <span class=\"built_in\">set</span> to <span class=\"string\">'\\u@\\h \\R:\\m:\\s&gt;'</span></span><br><span class=\"line\"></span><br><span class=\"line\">//修改配置文件永久生效/etc/my.cnf</span><br><span class=\"line\">[mysql]</span><br><span class=\"line\">prompt= \\\\u@\\\\h \\\\R:\\\\m:\\\\s &gt;</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<p><strong>(2) 多实例shell操作脚本</strong><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/usr/bin/env bash</span></span><br><span class=\"line\"><span class=\"comment\"># 实现MYSQL多实例的脚本启动(启动|停止|重启)</span></span><br><span class=\"line\">[ -f /etc/init.d/<span class=\"built_in\">functions</span> ] &amp;&amp; . /etc/init.d/<span class=\"built_in\">functions</span></span><br><span class=\"line\">UMYSQL=<span class=\"string\">\"root\"</span></span><br><span class=\"line\">PMYSQL=<span class=\"string\">\"123456\"</span></span><br><span class=\"line\">SOCKET=<span class=\"string\">'/date/3306/mysql.sock'</span></span><br><span class=\"line\">CONNECT=<span class=\"string\">\"mysql -u<span class=\"variable\">$&#123;UMYSQL&#125;</span> -p<span class=\"variable\">$&#123;PMYSQL&#125;</span> -S <span class=\"variable\">$&#123;SOCKET&#125;</span>\"</span></span><br><span class=\"line\">MYSQLADMIN=<span class=\"string\">\"mysqladmin -u<span class=\"variable\">$&#123;UMYSQL&#125;</span> -p<span class=\"variable\">$&#123;PMYSQL&#125;</span> -S <span class=\"variable\">$&#123;SOCKET&#125;</span>\"</span></span><br><span class=\"line\">MYSQLPATH=<span class=\"string\">'/usr/local/sbin/'</span></span><br><span class=\"line\"><span class=\"comment\">#脚本帮助</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">useage</span></span>()&#123;</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">\"Useage:<span class=\"variable\">$0</span> [start|restart|stop]\"</span></span><br><span class=\"line\">  <span class=\"built_in\">exit</span> 1</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#执行结果判断函数</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">judge</span></span>()&#123;</span><br><span class=\"line\">  RETVAL=$?</span><br><span class=\"line\">  <span class=\"keyword\">if</span> [ <span class=\"variable\">$RTVAL</span> -eq 0 ];<span class=\"keyword\">then</span></span><br><span class=\"line\">    action <span class=\"string\">\"<span class=\"variable\">$1</span> mysql\"</span> /bin/<span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">    action <span class=\"string\">\"<span class=\"variable\">$1</span> mysql\"</span> /bin/<span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"keyword\">fi</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">start</span></span>()&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> [ -e <span class=\"variable\">$SOCKET</span> ];<span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"Mysql have already start....\"</span></span><br><span class=\"line\">    <span class=\"built_in\">exit</span> 1</span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"variable\">$&#123;MYSQLPATH&#125;</span>mysqld_safe --default-file=/data/3306/my.cnf 2&gt;&amp;1 &gt;/dev/null &amp;   <span class=\"comment\">#关键点</span></span><br><span class=\"line\">    judge start</span><br><span class=\"line\">  <span class=\"keyword\">fi</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">stop</span></span>()&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> [ -e <span class=\"variable\">$SOCKET</span> ];<span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"variable\">$&#123;MYSQLPATH&#125;</span><span class=\"variable\">$&#123;MYSQLADMIN&#125;</span> shutdown 2&gt;&amp;1 &gt;/dev/null</span><br><span class=\"line\">    judge stop</span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"Mysql have not start....\"</span></span><br><span class=\"line\">    <span class=\"built_in\">exit</span> 1</span><br><span class=\"line\">  <span class=\"keyword\">fi</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">restart</span></span>()&#123;</span><br><span class=\"line\">  stop</span><br><span class=\"line\">  sleep 2</span><br><span class=\"line\">  start</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">case</span> <span class=\"string\">\"<span class=\"variable\">$1</span>\"</span> <span class=\"keyword\">in</span></span><br><span class=\"line\">  start) start ;;</span><br><span class=\"line\">  stop) stop ;;</span><br><span class=\"line\">  restart) restart ;;</span><br><span class=\"line\">  *) useage</span><br><span class=\"line\"><span class=\"keyword\">esac</span></span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<p><strong>(3) 主从同步shell操作脚本</strong><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/usr/bin/env bash</span></span><br><span class=\"line\"><span class=\"comment\"># 实现MYSQL主从同步的监控Slave_IO_RUNING / Slave_SQL_Running Last_SQL_Error状态</span></span><br><span class=\"line\">[ -f /etc/init.d/<span class=\"built_in\">functions</span> ] &amp;&amp; . /etc/init.d/<span class=\"built_in\">functions</span></span><br><span class=\"line\">UMYSQL=<span class=\"string\">\"root\"</span></span><br><span class=\"line\">PMYSQL=<span class=\"string\">\"123456\"</span></span><br><span class=\"line\">SOCKET=<span class=\"string\">'/date/3306/mysql.sock'</span></span><br><span class=\"line\">CONNECT=<span class=\"string\">\"mysql -u<span class=\"variable\">$&#123;UMYSQL&#125;</span> -p<span class=\"variable\">$&#123;PMYSQL&#125;</span> -S <span class=\"variable\">$&#123;SOCKET&#125;</span>\"</span></span><br><span class=\"line\">MYSQLADMIN=<span class=\"string\">\"mysqladmin -u<span class=\"variable\">$&#123;UMYSQL&#125;</span> -p<span class=\"variable\">$&#123;PMYSQL&#125;</span> -S <span class=\"variable\">$&#123;SOCKET&#125;</span>\"</span></span><br><span class=\"line\">MYSQLPATH=<span class=\"string\">'/usr/local/sbin/'</span></span><br><span class=\"line\">STATUS=($(<span class=\"variable\">$CONNECT</span> -e <span class=\"string\">\"show slave status\\G\"</span> | egrep <span class=\"string\">\"Seconds_Behind|_Running|Last_SQL_Error\"</span>|awk <span class=\"string\">'&#123;print $NF&#125;'</span>))  <span class=\"comment\">#数组</span></span><br><span class=\"line\">ERRNO=array(1158 1159 1008 1007 1062)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">check_status</span></span>()&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> [ <span class=\"string\">\"<span class=\"variable\">$&#123;STATUS[0]&#125;</span>\"</span> = <span class=\"string\">\"Yes\"</span> -a <span class=\"string\">\"<span class=\"variable\">$&#123;STATUS[1]&#125;</span>\"</span> = <span class=\"string\">\"Yes\"</span> -a <span class=\"string\">\"<span class=\"variable\">$&#123;STATUS[2]&#125;</span>\"</span> = <span class=\"string\">\"0\"</span> ];<span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"Mysql slave is ok!\"</span></span><br><span class=\"line\">    <span class=\"built_in\">return</span> 0</span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"built_in\">return</span> 1</span><br><span class=\"line\">  <span class=\"keyword\">fi</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"comment\">#防止出错进行跳过</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">check_errno</span></span>()&#123;</span><br><span class=\"line\">  check_status</span><br><span class=\"line\">  RETVAL=$?</span><br><span class=\"line\">  <span class=\"keyword\">if</span> [ <span class=\"variable\">$RETVAL</span> -eq 1 ];<span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i=0;i&lt;<span class=\"variable\">$&#123;#ERRNO&#125;</span>;i++)</span><br><span class=\"line\">    <span class=\"keyword\">do</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> [ <span class=\"string\">\"<span class=\"variable\">$&#123;STATUS[3]&#125;</span>\"</span> == <span class=\"string\">\"<span class=\"variable\">$&#123;ERRNO[$i]&#125;</span>\"</span> ];<span class=\"keyword\">then</span></span><br><span class=\"line\">          <span class=\"variable\">$CONNECT</span> -e <span class=\"string\">\"stop slave\"</span> <span class=\"comment\">#停止主从服务</span></span><br><span class=\"line\">          <span class=\"variable\">$CONNECT</span> -e <span class=\"string\">\"set global sql_slave_skip_counter = 1\"</span></span><br><span class=\"line\">          <span class=\"variable\">$CONNECT</span> -e <span class=\"string\">\"start start\"</span> <span class=\"comment\">#开启主从服务</span></span><br><span class=\"line\">      <span class=\"keyword\">fi</span></span><br><span class=\"line\">    <span class=\"keyword\">done</span></span><br><span class=\"line\">  <span class=\"keyword\">fi</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">   </span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">check_again</span></span>()&#123;</span><br><span class=\"line\">  STATUS=($(<span class=\"variable\">$CONNECT</span> -e <span class=\"string\">\"show slave status\\G\"</span> | egrep <span class=\"string\">\"Seconds_Behind|_Running|Last_SQL_Error\"</span>|awk <span class=\"string\">'&#123;print $NF&#125;'</span>))  <span class=\"comment\">#数组</span></span><br><span class=\"line\">  check_status &amp;&gt; /dev/null</span><br><span class=\"line\">  <span class=\"keyword\">if</span> [ $? -eq 1 ];<span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"Mysql slave is fail <span class=\"variable\">$(date +%T%u)</span>\"</span>&gt;/var/<span class=\"built_in\">log</span>/mysql.errorlog</span><br><span class=\"line\">    mail -s <span class=\"string\">\"Mysql slave is fail <span class=\"variable\">$(date +%T%u)</span>\"</span> 1111@qq.com&lt;/var/<span class=\"built_in\">log</span>/mysql.errorlog  <span class=\"comment\">#推荐方式</span></span><br><span class=\"line\">  <span class=\"keyword\">fi</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">main</span></span>()&#123;</span><br><span class=\"line\">  check_errno</span><br><span class=\"line\">  check_again</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">main</span><br></pre></td></tr></table></figure></p>\n<hr>\n\n<h4 id=\"0x04-MySQL数据库安全配置\"><a href=\"#0x04-MySQL数据库安全配置\" class=\"headerlink\" title=\"0x04 MySQL数据库安全配置\"></a>0x04 MySQL数据库安全配置</h4><p>安全设置大致分为以下几个步骤:</p>\n<ul>\n<li>修改root账号密码</li>\n<li>禁用root账户远程登录</li>\n<li>密码强度验证插件</li>\n<li>移除匿名用户/移除测试数据库（test）</li>\n<li>本地终端连接登陆密码安全</li>\n<li>mysql数据库防火墙</li>\n<li>mysql数据库权限分配</li>\n</ul>\n<p><strong>(1) 修改root账号密码</strong><br>三种修改mysql管理员密码的方式<br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysqladmin -u root -p 'rootmysql' PASSWORD 'new_mysql_pass'</span><br><span class=\"line\">mysqladmin -u root -p 'rootmysql' PASSWORD 'new_mysql_pass -S /data/3306/mysql.sock</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">此方法适合--skip-grant-tables方法修改密码当忘记密码的时候;</span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> UPDATE mysql.user SET password = PASSWORD(<span class=\"string\">\"new_pass\"</span>) WHERE user=<span class=\"string\">'root'</span> and host=<span class=\"string\">'localhost'</span>;</span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> flush privileges;   <span class=\"comment\">#任何时候都要记住改密的啥时候都要更新权限；</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> SET password = PASSWORD(<span class=\"string\">'olay_new'</span>);  </span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">此方法不适合--skip-grant-tables方法修改密码当忘记密码的时候;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">Mysql8.0</span></span><br><span class=\"line\"><span class=\"meta\">mysql&gt;</span><span class=\"bash\">ALTER USER <span class=\"string\">'root'</span>@<span class=\"string\">'%'</span> IDENTIFIED BY <span class=\"string\">'MyNewPass4!'</span> PASSWORD EXPIRE NEVER; </span></span><br><span class=\"line\"><span class=\"meta\">mysql&gt;</span><span class=\"bash\">ALTER USER <span class=\"string\">'root'</span>@<span class=\"string\">'%'</span> IDENTIFIED WITH mysql_native_password BY <span class=\"string\">'MyNewPass4!'</span>;</span></span><br></pre></td></tr></table></figure></p>\n<p>sql-mode=ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION</p>\n<p><strong>(2) 禁用root账户远程登录</strong><br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">--#配置1： 数据库远程连接（外部访问）#</span></span><br><span class=\"line\">mysql 默认是禁止远程连接的，你在安装mysql的系统行运行mysql -u root -p 后进入mysql,只需要调整%为指定ip地址回去本地;</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt;use mysql;</span><br><span class=\"line\">mysql&gt;grant all privileges on 数据库名字.* to '远程用户名'@'远程IP地址' identified by '远程用户的密码';</span><br><span class=\"line\">mysql&gt;GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'rootpassword' WITH GRANT OPTION;           #开启权限分配</span><br><span class=\"line\">mysql&gt; flush privileges;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--#详细的权限控制</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">USER</span> <span class=\"string\">'TestRemote'</span>@<span class=\"string\">'%'</span> <span class=\"keyword\">IDENTIFIED</span> <span class=\"keyword\">WITH</span> mysql_native_password <span class=\"keyword\">AS</span> <span class=\"string\">'***'</span>;</span><br><span class=\"line\"><span class=\"keyword\">GRANT</span> <span class=\"keyword\">SELECT</span>, <span class=\"keyword\">INSERT</span>, <span class=\"keyword\">UPDATE</span>, <span class=\"keyword\">DELETE</span>, <span class=\"keyword\">CREATE</span>, <span class=\"keyword\">DROP</span>, <span class=\"keyword\">FILE</span>, <span class=\"keyword\">INDEX</span>, <span class=\"keyword\">ALTER</span>, <span class=\"keyword\">CREATE</span> <span class=\"keyword\">TEMPORARY</span> <span class=\"keyword\">TABLES</span>, <span class=\"keyword\">CREATE</span> <span class=\"keyword\">VIEW</span>, <span class=\"keyword\">EVENT</span>, <span class=\"keyword\">TRIGGER</span>, <span class=\"keyword\">SHOW</span> <span class=\"keyword\">VIEW</span>, <span class=\"keyword\">CREATE</span> ROUTINE, <span class=\"keyword\">ALTER</span> ROUTINE, <span class=\"keyword\">EXECUTE</span> <span class=\"keyword\">ON</span> *.* <span class=\"keyword\">TO</span> <span class=\"string\">'TestRemote'</span>@<span class=\"string\">'%'</span> REQUIRE <span class=\"keyword\">NONE</span> <span class=\"keyword\">WITH</span> MAX_QUERIES_PER_HOUR <span class=\"number\">0</span> MAX_CONNECTIONS_PER_HOUR <span class=\"number\">0</span> MAX_UPDATES_PER_HOUR <span class=\"number\">0</span> MAX_USER_CONNECTIONS <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--#注意：代码中的“%”表示任何IP地址，如果你的IP地址固定，可以把%换成你的IP地址（安全设置）；</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--# mysql默认情况下是只能本地访问数据库,现在进行改变(全局配置远程连接)</span></span><br><span class=\"line\">vim /etc/mysql/my.cnf  <span class=\"comment\">#12.06 verion</span></span><br><span class=\"line\">vim /etc/mysql/mysql.conf.d/mysqld.cnf <span class=\"comment\"># 16.04 version</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--#找到bind-address并注销，这样就关闭了白名单，及所有ip都能连接这里的mysql，这里是mysql服务器的全局设置.</span></span><br><span class=\"line\"><span class=\"comment\"># localhost which is more compatible and is not less secure.</span></span><br><span class=\"line\">bind-address            = 127.0.0.1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--#除此以外还能采用phpMyadmin进行修改;</span></span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<p><strong>(5) 本地终端连接登陆密码安全</strong><br>mysql数据库采用终端登录，是不安全的优于系统会记住您执行过的密码;<br>解决办法：</p>\n<ul>\n<li>mysql -uroot -p   #直接回车</li>\n<li>/etc/profile 中加入HISCONTROL=ignorespce 或者 设置histroy记录条数为10条</li>\n<li>在shell脚本进行加密（shell加密）</li>\n</ul>\n<p>(1) shell 脚本加入交互自定义shell密码来启动MySQL<br>只需输入上面我们设置的口令 0932313，即可执行数据库登入:<br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/20190405164211.png\" alt=\"WeiyiGeek.shell与mysql交互登陆\" title=\"\" class=\"\">\n                <p>WeiyiGeek.shell与mysql交互登陆</p>\n            </figure><br>(2) shell脚本加密脚本<br>加密采用工具shc脚本加密工具，此工具安全性极高，破译极其困难，以下为下载、安装及加密的过程。<br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> wget http://www.datsi.fi.upm.es/~frosal/sources/shc-3.8.9b.tgz </span></span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> tar xvf shc-3.8.9b.tgz  &amp;&amp; <span class=\"built_in\">cd</span> shc-3.8.9b </span></span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> mkdir -p /usr/<span class=\"built_in\">local</span>/man/man1/ <span class=\"comment\">#创建目录这一步这个是必须的，没这个目录会报错 </span></span></span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> make install</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> ln –s /usr/<span class=\"built_in\">local</span>/bin/shc /usr/bin/shc <span class=\"comment\">#建立软连接</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">以刚刚的 link_db.sh 为例，进行加密，</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">执行后，会在脚本所在目录生成两个文件，分别为</span></span><br><span class=\"line\">link_db.sh.x    #原来脚本的可执行文件，可随意改名，不用赋权，shc处理的过程中有赋权这一步；然后将link_db.sh.x进行改名并放在/usr/bin目录下；(直接执行)</span><br><span class=\"line\">link_db.sh.x.c  #脚本的源文件，可以直接删除</span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/20190405164550.png\" alt=\"WeiyiGeek.shell与mysql交互登陆\" title=\"\" class=\"\">\n                <p>WeiyiGeek.shell与mysql交互登陆</p>\n            </figure></p>\n<p><br></p>\n<p><strong>(6) mysql数据库防火墙</strong><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#CentOS 7 开放端口 </span></span><br><span class=\"line\">firewall-cmd --add-port=3306/tcp --permanent</span><br><span class=\"line\"><span class=\"comment\">#重新加载防火墙设置 </span></span><br><span class=\"line\">irewall-cmd --reload </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#CentOS 6 </span></span><br><span class=\"line\">iptables -I INPUT -p tcp --dport 3306 -j ACCEPT iptables save</span><br></pre></td></tr></table></figure></p>\n<p><strong>(7) mysql数据库权限分配</strong><br>配置：Mysql权限实践配置<br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">常用<span class=\"built_in\">help</span>命令</span></span><br><span class=\"line\">help create user;</span><br><span class=\"line\">help grants;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">具体的mysql权限</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">可以通过mysql中user,host,db这三张表进行查看权限</span></span><br><span class=\"line\">INSERT </span><br><span class=\"line\">DELETE</span><br><span class=\"line\">UPDATE</span><br><span class=\"line\">SELECT</span><br><span class=\"line\">CREATE #创建库和表</span><br><span class=\"line\">DROP   #删除库和表</span><br><span class=\"line\">REFERENCES #引用</span><br><span class=\"line\">INDEX #索引</span><br><span class=\"line\">ALTER #修改库和表</span><br><span class=\"line\">CREATE TEMPOARY TABLES #创建临时表</span><br><span class=\"line\">LOCK TABLES #锁表</span><br><span class=\"line\">EXECUTE #执行</span><br><span class=\"line\">CREATE VIEW #创建视图</span><br><span class=\"line\">SHOW VIEW  #显示视图</span><br><span class=\"line\">CREATE ROUTINE  #创建存储过程</span><br><span class=\"line\">ALTER ROUTINE  #修改存储过程</span><br><span class=\"line\">EVENT #事件</span><br><span class=\"line\">TRIGGER #触发器</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">下面来建立用户 （<span class=\"built_in\">test</span>）</span></span><br><span class=\"line\">CREATE USER test@'10.0.2.%' IDENTIFIED BY 'test';  #这时的权限是USAGE , 基本只有登录的权限</span><br><span class=\"line\">GRANT ALL ON test.* TO test@'10.0.2.%';</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">等同于下面这一条</span></span><br><span class=\"line\">GRANT ALL ON test.* TO test1@'10.0.2.0/255.255.255.0' IDENTIFIED BY 'test1';  #需要用户有建立字用户权限的功能的话还需加上  :WITH GRANT OPTION</span><br><span class=\"line\">system@localhost 21:48:52 &gt;GRANT ALL ON *.* TO root@'10.0.2.0/24' IDENTIFIED BY 'root' WITH GRANT OPTION;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">最小分配权限案例</span></span><br><span class=\"line\">GRANT INSERT,UPDATE,DELETE,SELECT,CREATE,DROP ON test.* TO test1@'%' IDENTIFIED BY 'test1';</span><br><span class=\"line\"></span><br><span class=\"line\">mysql -usystem -p123456 -e \"SHOW GRANTS FOR system@localhost\"  # -e 交换式</span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/20190405165850.png\" alt=\"WeiyiGeek.shell与mysql交互登陆\" title=\"\" class=\"\">\n                <p>WeiyiGeek.shell与mysql交互登陆</p>\n            </figure></p>\n","comments":true,"excerpt":"[TOC]0x00 MySQL介绍与特点MySQL数据库是一款非常受欢迎的开源领域的重要的关系型数据库，由瑞典的MySQL AB公司开发，Mysql数据库现属于ORACLE公司，使的自身的商业数据库与开源数据库在市场上占有的份额都是跃居第一的位置，这时MySQL的主要开发者Michael widenius ，跳出来建立了一个MySQL分支数据库这就是MariaDB的诞生与发展，来防止MySQL闭源的潜在危险；","categories":[{"name":"Database","path":"api/categories/Database.json"},{"name":"DBA","path":"api/categories/DBA.json"}],"tags":[{"name":"MYSQL","path":"api/tags/MYSQL.json"}]}