{"title":"系统常用设置与查看命令一览表","slug":"系统运维/Windows/常用命令/系统查看类命令/系统常用设置查看命令一览表","date":"2019-07-28T12:35:30.000Z","updated":"2023-01-31T02:29:10.468Z","url":"2019/7-28-232.html","path":"api/articles/2019/7-28-232.html.json","covers":["https://img.weiyigeek.top/2019/1/20190923160636.png","https://img.weiyigeek.top/2019/1/20190923161047.png","https://img.weiyigeek.top/2019/1/20190923162528.png"],"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h4 id=\"set-命令\"><a href=\"#set-命令\" class=\"headerlink\" title=\"set 命令\"></a>set 命令</h4><p>描述：显示、设置或删除 cmd.exe 环境变量， set,E文翻译过来就是“设置”的意思，相当于数学里的“令”。<br>用法和参数：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SET [variable=[string]]</span><br><span class=\"line\">SET /A expression</span><br><span class=\"line\">SET /P variable=[promptString]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#参数</span></span><br><span class=\"line\">variable  指定环境变量名</span><br><span class=\"line\">string    指定要指派给变量的一系列字符串</span><br><span class=\"line\">/P  提供一个交互界面,让用户自己输入变量的值,相当于Linux中Read命令让用户输入值并传入变量读取输入行之前，显示指定的promptString它可以是空的</span><br><span class=\"line\">/A(不区分大小)  命令行开关指定等号右边的字符串为被评估的数字表达式,进行数值运算相当于delcare命令</span><br></pre></td></tr></table></figure><br><br></p>\n<p>注意:如果在当前环境中找不到该变量名称，SET 命令将把 ERRORLEVEL设置成 1。<br>注意:/A Expression表达式优先权顺序<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">()                  - 分组</span><br><span class=\"line\">! ~ -              - 一元运算符</span><br><span class=\"line\">* / %              - 算数运算符</span><br><span class=\"line\">+ -                - 算数运算符</span><br><span class=\"line\">&lt;&lt; &gt;&gt;              - 逻辑移位</span><br><span class=\"line\">&amp;                 - 按位“与”</span><br><span class=\"line\">^                  - 按位“异”</span><br><span class=\"line\">|                  - 按位“或”</span><br><span class=\"line\">= *= /= %= += -=      - 赋值</span><br><span class=\"line\">&amp;= ^= |= &lt;&lt;= &gt;&gt;=</span><br><span class=\"line\">,                  - 表达式分隔符</span><br></pre></td></tr></table></figure><br>如果您使用任何逻辑或取余操作符，您需要将表达式字符串用引号””扩起来。在表达式中的任何非数字字符串键作为环境变量名称，这些环境变量名称的值已在使用前转换成数字。<br>如果指定了一个环境变量名称，但未在当前环境中定义，那么值将被定为零。这使您可以使用环境变量值做计算而不用键入那些 % 符号来得到它们的值。<br>如果 SET /A 在命令脚本外的命令行执行的，那么它显示该表达式的最后值,该分配的操作符在分配的操作符左边需要一个环境变量名称。</p>\n<p><strong>注意事项：</strong></p>\n<ul>\n<li>除十六进制有 0x 前缀，八进制有 0 前缀的，数字值为十进位数字因此，0x12 与 18 和 022相同。</li>\n<li>请注意八进制公式可能很容易搞混: 08 和 09 是无效的数字，因为 8 和 9 不是有效的八进制位数。(&amp; )</li>\n<li>如果使用<code>set或echo %var%</code>打印变量时要注意,如果<code>用户环境变量 和 系统环境变量</code>存在同样的变量时,默认会使用用户环境变量的值;</li>\n</ul>\n<p><br></p>\n<p>系统内置变量：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> %path%</span><br><span class=\"line\"><span class=\"built_in\">echo</span> %Public%</span><br><span class=\"line\"><span class=\"built_in\">echo</span> %systemroot%</span><br><span class=\"line\"><span class=\"built_in\">echo</span> %userprofile%</span><br><span class=\"line\">%CD% - 扩展到当前目录字符串。</span><br><span class=\"line\">%DATE% - 用跟 DATE 命令同样的格式扩展到当前日期</span><br><span class=\"line\">%TIME% - 用跟 TIME 命令同样的格式扩展到当前时间</span><br><span class=\"line\">%RANDOM% - 扩展到 0 和 32767 之间的任意十进制数字</span><br><span class=\"line\">%ERRORLEVEL% - 扩展到当前 ERRORLEVEL 数值</span><br><span class=\"line\">%CMDEXTVERSION% - 扩展到当前命令处理器扩展版本号</span><br><span class=\"line\">%CMDCMDLINE% - 扩展到调用命令处理器的原始命令行</span><br><span class=\"line\">%HIGHESTNUMANODENUMBER% - 扩展到此计算机上的最高 NUMA 节点号</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<p>实际案例:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#示例0.显示当前所有的环境变量和指定变量</span></span><br><span class=\"line\">C:\\Users\\WeiyiGeek&gt; <span class=\"built_in\">set</span>   <span class=\"comment\">#显示所有</span></span><br><span class=\"line\">C:\\Users\\WeiyiGeek&gt; <span class=\"built_in\">set</span> JAVA_HOME</span><br><span class=\"line\">JAVA_HOME=D:\\Programs\\java\\jdk</span><br><span class=\"line\"><span class=\"comment\">#如果命令扩展被启用，SET 会如下改变:可仅用一个变量激活 SET 命令，等号或值不显示所有前缀匹配</span></span><br><span class=\"line\">C:\\Users\\WeiyiGeek&gt; <span class=\"built_in\">set</span> p <span class=\"comment\">#显示P开头相关的变量</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例1.交互式输入变量(与Linux中的Read命令相似)</span></span><br><span class=\"line\"><span class=\"comment\">#set /p 是命令语法 var是变量名 =号右边的\"请输入变量的值: \",这个是提示语,不是变  </span></span><br><span class=\"line\">C:\\Users\\WeiyiGeek&gt; <span class=\"built_in\">set</span> /p demo=<span class=\"string\">\"Please Input demo variable:\"</span></span><br><span class=\"line\">Please Input demo variable:whoami</span><br><span class=\"line\">C:\\Users\\WeiyiGeek&gt; <span class=\"built_in\">echo</span> %demo%</span><br><span class=\"line\">whoami</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例2.设置环境变量ADD与设置新的变量值</span></span><br><span class=\"line\"><span class=\"comment\">#set 指定环境变量名称=%PATH%要指派给变量的字符  </span></span><br><span class=\"line\"><span class=\"built_in\">set</span> path=%path%;c:\\<span class=\"built_in\">test</span>\\bin\\  <span class=\"comment\"># set var=我是值这就是BAT直接在批处理中设置变量的方法</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例3.变量的间接引用系统命令(bat中才可以进行变量引用赋值)</span></span><br><span class=\"line\"><span class=\"comment\">#set 是命令 var是变量名 =号右边的\"我是值\"是变量的值 在批处理中我们要引用这个变量就把var变量名用两个%(百分号)扩起来,如%var%  </span></span><br><span class=\"line\">C:\\Users\\WeiyiGeek&gt; <span class=\"built_in\">set</span> <span class=\"built_in\">test</span>=hostname</span><br><span class=\"line\">C:\\Users\\WeiyiGeek&gt; <span class=\"built_in\">echo</span> %<span class=\"built_in\">test</span>%</span><br><span class=\"line\">hostname                    <span class=\"comment\">#hostname系统变量字符串</span></span><br><span class=\"line\">C:\\Users\\WeiyiGeek&gt; %<span class=\"built_in\">test</span>%  <span class=\"comment\">#关键点实际调用的是hotsname变量值</span></span><br><span class=\"line\">PC-20170910QIBZ</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例4.特殊字符变量值转义</span></span><br><span class=\"line\"><span class=\"comment\">#描述:set str=ok&gt; 这个在批处理运行过程中会出错，系统会提示：“命令语法不正确。”</span></span><br><span class=\"line\"><span class=\"comment\">#原因是，因为 变量str 中的值“ok&gt;”的字符\"&gt;\"为一特殊字符，会被系统当成 定向 符处理，所以会运行出错，那如果确实要设置这样的变量str，值为 \"ok&gt;\"怎么办呢？</span></span><br><span class=\"line\"><span class=\"comment\">#常见的解决办法将特殊字符转义，转义方法在该特殊字符前加一个“^”，如：</span></span><br><span class=\"line\">C:\\Users\\WeiyiGeek&gt; <span class=\"built_in\">set</span> str=ok^&gt;</span><br><span class=\"line\">C:\\Users\\WeiyiGeek&gt; <span class=\"built_in\">echo</span> %str%</span><br><span class=\"line\">ok1&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例5.set进行进制转换和简单的计算[重点来了]</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> /a a=Octal/十进制/Hex </span><br><span class=\"line\"><span class=\"built_in\">set</span> /a a=022/18/0X12</span><br><span class=\"line\">``` </span><br><span class=\"line\">![WeiyiGeek.](https://img.weiyigeek.top/2019/1/20190923160405.png)</span><br><span class=\"line\"></span><br><span class=\"line\">```bash</span><br><span class=\"line\"><span class=\"comment\">#示例6.数值运算</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> /a var=1 + 1  </span><br><span class=\"line\"><span class=\"built_in\">set</span> /a 语法, var变量名 = 1 + 1 <span class=\"comment\">#数学式子</span></span><br><span class=\"line\">\\Users\\WeiyiGeek&gt; <span class=\"built_in\">set</span> /a var=2 + 4,c=10 % 3</span><br><span class=\"line\">1</span><br><span class=\"line\">\\Users\\WeiyiGeek&gt; <span class=\"built_in\">echo</span> %var% %c%</span><br><span class=\"line\">6 1</span><br><span class=\"line\"><span class=\"comment\">#还可以引用变量来加减:</span></span><br><span class=\"line\">\\Users\\WeiyiGeek&gt; <span class=\"built_in\">set</span> /a var=%var% / 2</span><br><span class=\"line\">3</span><br></pre></td></tr></table></figure><br>另外还有一些用逻辑或取余操作符,这些符号,按照上面的使用方法会报错的比如我们在CMD里输入<code>set /a var=1 &amp; 1</code> “与运算”,他并不会显示为1,而是报错, 为什么?<br>对于这样的”逻辑或取余操作符”,我们需要把他们用双引号引起来,看例子<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#符号也可以用 &amp;=  ^=  |=  &lt;&lt;=  &gt;&gt;= 这样的简单用法如</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> /a var= 1 <span class=\"string\">\"&amp;\"</span> 1    这样结果就显示出来了,其他逻辑或取余操作符用法 </span><br><span class=\"line\"><span class=\"built_in\">set</span> /a var= 1 <span class=\"string\">\"^\"</span> 1    异运算 </span><br><span class=\"line\"><span class=\"built_in\">set</span> /a var= 1 <span class=\"string\">\"%\"</span> 1    取模运算 </span><br><span class=\"line\"><span class=\"built_in\">set</span> /a var= 2 <span class=\"string\">\"&lt;&lt;\"</span> 2   位左移  2x(2x2) =&gt;var1*(var1**var2)</span><br><span class=\"line\"><span class=\"built_in\">set</span> /a var= 4 <span class=\"string\">\"&gt;&gt;\"</span> 2   位右移  4/2 =&gt; var1*(var2*var2)</span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/1/20190923160636.png\" alt=\"WeiyiGeek.\" title=\"\" class=\"\">\n                <p>WeiyiGeek.</p>\n            </figure></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#示例7.环境变量增强替换</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> newVar=<span class=\"string\">\"oldVar:str1=str2%\"</span> <span class=\"comment\">#将变量oldVar的值中的str1替换成str2,并将替换后的变量值赋给newVar. </span></span><br><span class=\"line\">C:\\Users\\Administrator&gt; <span class=\"built_in\">set</span> a=www.baidu.com</span><br><span class=\"line\">C:\\Users\\Administrator&gt; <span class=\"built_in\">echo</span> %a%</span><br><span class=\"line\">www.baidu.com</span><br><span class=\"line\"></span><br><span class=\"line\">C:\\Users\\Administrator&gt;<span class=\"built_in\">set</span> a=%a:baidu=qq%  <span class=\"comment\">#进行变量值中字符串替换</span></span><br><span class=\"line\">C:\\Users\\Administrator&gt;<span class=\"built_in\">echo</span> %a%</span><br><span class=\"line\">www.qq.com</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例8.也可以为扩展名指定子字符串(相当于变量的字符串截取)</span></span><br><span class=\"line\">%Var:~start,len%      <span class=\"comment\">#从0开始</span></span><br><span class=\"line\">%PATH:~10,5%   <span class=\"comment\">#10-&gt;+5=15</span></span><br><span class=\"line\"><span class=\"comment\">#会扩展 PATH 环境变量，然后只使用在扩展结果中从第 11 个(偏移量 10)字符开始的五个字符。</span></span><br><span class=\"line\">C:\\Users\\WeiyiGeek&gt; <span class=\"built_in\">set</span> <span class=\"string\">\"a=www.baidu.com\"</span></span><br><span class=\"line\">C:\\Users\\WeiyiGeek&gt; <span class=\"built_in\">set</span> t=<span class=\"string\">\"%a:~0,3%\"</span></span><br><span class=\"line\">C:\\Users\\WeiyiGeek&gt;<span class=\"built_in\">echo</span> %t%</span><br><span class=\"line\"><span class=\"string\">\"www\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#注意两种赋值截取形式的不同</span></span><br><span class=\"line\">C:\\Users\\WeiyiGeek&gt; <span class=\"built_in\">set</span> <span class=\"string\">\"a=www.baidu.com\"</span></span><br><span class=\"line\">C:\\Users\\WeiyiGeek&gt; <span class=\"built_in\">set</span> t=%a:~0,3%</span><br><span class=\"line\">C:\\Users\\WeiyiGeek&gt; <span class=\"built_in\">echo</span> %t%</span><br><span class=\"line\">www  <span class=\"comment\">#没有双引号</span></span><br></pre></td></tr></table></figure>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/1/20190923161047.png\" alt=\"WeiyiGeek.\" title=\"\" class=\"\">\n                <p>WeiyiGeek.</p>\n            </figure>\n<p><strong>补充说明:</strong></p>\n<ul>\n<li><code>关于“字符串截取”：%a:~[m[,n]]%</code>:方括号表示可选，%为变量标识符，a为变量名不可少，冒号用于分隔变量名和说明部分，符号～可以简单理解为“偏移”即可，m为偏移量（缺省为0，即截取从第1个字符开始），n为截取长度（缺省为全部）</li>\n<li>上面所述用法其实相当于vbs函数mid、left、right;<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">%a:~0,n%  相当于函数left(a,n)  取左边n位</span><br><span class=\"line\">%a:~-m%  相当于函数right（a,m） 取右边m位</span><br><span class=\"line\">%a:~m,n% 相当于函数mid(a,m+1,n) 从m+1位开始取n位</span><br><span class=\"line\">%a:~m,-n% 相当于函数mid(a,m+1,len(a)-m-n),从m+1位开始，至倒数n+1位</span><br><span class=\"line\">%a:~m %  相当于函数mid(a,m+1,len(a)-m) 或者right(a,len(a)-m)，从m+1位开始取右边全部。</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><br></p>\n<h4 id=\"setx命令\"><a href=\"#setx命令\" class=\"headerlink\" title=\"setx命令\"></a>setx命令</h4><p>描述: 在用户或系统环境创建或修改环境变量，能基于参数、注册表项或文件输入设置变量。(可本地也可远程)</p>\n<p><em>setx与set命令有什么不同</em>?<br>答:setx能设置成为系统变量永久生效,而set命令则是临时生效;<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#Windows10的PATH如何环境恢复默认</span></span><br><span class=\"line\"><span class=\"string\">\".;\"</span>;C:\\Windows\\system32;C:\\Window;D:\\Program\\FLEXSDK\\bin;C:\\Windows\\System32\\Wbe;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;D:\\Builder\\mingw64\\bin;D:\\Programs\\java\\jdk\\bin;D:\\Programs\\java\\jdk\\jre;C:\\Windows\\SysWOW64;</span><br><span class=\"line\"><span class=\"comment\">#或者该路径找回</span></span><br><span class=\"line\">HYEK_LOCAL_MACHINE\\SYSTEM\\ControlSet001\\Control\\Session Manager\\Environment；</span><br></pre></td></tr></table></figure></p>\n<p>用法和参数:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">语法 1:SETX [/S system [/U [domain\\]user [/P [password]]]] var value [/M]</span><br><span class=\"line\">语法 2:SETX [/S system [/U [domain\\]user [/P [password]]]] var /K regpath [/M]</span><br><span class=\"line\">语法 3:SETX [/S system [/U [domain\\]user [/P [password]]]] /F file &#123;var &#123;/A x,y | /R x,y string&#125;[/M] | /X&#125; [/D delimiters]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#参数</span></span><br><span class=\"line\">var    指定要设置的环境变量。</span><br><span class=\"line\">value  指定分配给环境变量的值。</span><br><span class=\"line\">/K     regpath         指定变量是基于注册表项的信息而设置的，路径的格式应该是 hive\\key\\...\\value HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Control\\TimeZoneInformation\\StandardName。</span><br><span class=\"line\">/F     file            指定要使用的文本文件的文件名。</span><br><span class=\"line\">/A     x,y             指定绝对文件坐标(线 X，项目 Y)作为在此文件里搜索的参数。</span><br><span class=\"line\">/R     x,y string      指定有关“字符串”作为搜索参数的相对文件坐标。</span><br><span class=\"line\">/X                     用 x，y 坐标显示文件内容。</span><br><span class=\"line\">/M                     指定应该在系统 (HKEY_LOCAL_MACHINE) 环境中设置此变量。在 HKEY_CURRENT_USER 环境下，默认将设置此变量。（常用设置成为系统变量）</span><br><span class=\"line\">/D     delimiters      指定其他限定符，如 <span class=\"string\">\",\"</span> 或 <span class=\"string\">\"\\\"。内置分隔符是空格、制表符、回车和换行符，所有ASCII 字符都可作为限定符。限定符的最大数量，包括内置分隔符，是 15。</span></span><br></pre></td></tr></table></figure></p>\n<p>实例演示：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#示例1.设置用户系统环境变量</span></span><br><span class=\"line\">SETX MACHINE COMPAQ                         <span class=\"comment\">#设置用户环境变量 </span></span><br><span class=\"line\">SETX MACHINE <span class=\"string\">\"COMPAQ COMPUTER\"</span> /M           <span class=\"comment\">#设置系统环境变量 </span></span><br><span class=\"line\">SETX PATH <span class=\"string\">\"%PATH%;c:\\test\\demo\"</span>             <span class=\"comment\">#设置软件加入到系统PATH环境变量中</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例2.为远程主机添加用户和系统环境变量</span></span><br><span class=\"line\">SETX /S system /U user /P password  MACHINE COMPAQ</span><br><span class=\"line\">SETX /S system /U user /P password  MYPATH ^%PATH^% /m</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例3.注册表操作</span></span><br><span class=\"line\">SETX TZONE /K HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Control\\TimeZoneInformation\\StandardName</span><br><span class=\"line\">SETX BUILD /K <span class=\"string\">\"HKEY_LOCAL_MACHINE\\Software\\Microsoft\\WindowsNT\\CurrentVersion\\CurrentBuildNumber\"</span> /M</span><br><span class=\"line\">SETX /S system /U user /P password TZONE /K HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Control\\TimeZoneInformation\\StandardName</span><br><span class=\"line\">SETX /S system /U user /P password  BUILD /K <span class=\"string\">\"HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\CurrentBuildNumber\"</span> /M</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#示例4.其他操作</span></span><br><span class=\"line\">SETX /F ipconfig.out /X</span><br><span class=\"line\">SETX IPADDR /F ipconfig.out /A 5,11</span><br><span class=\"line\">SETX OCTET1 /F ipconfig.out /A 5,3 /D <span class=\"string\">\"#$*.\"</span></span><br><span class=\"line\">SETX IPGATEWAY /F ipconfig.out /R 0,7 Gateway</span><br><span class=\"line\">SETX /S system /U user /P password  /F c:\\ipconfig.out /X</span><br></pre></td></tr></table></figure><br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2019/1/20190923162528.png\" alt=\"WeiyiGeek.\" title=\"\" class=\"\">\n                <p>WeiyiGeek.</p>\n            </figure></p>\n<p><br><br>比如JDK加入PATH环境变量命令setx用来设环境变量（永久生效）</p>\n<figure class=\"highlight bat\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"built_in\">ECHO</span> OFF</span><br><span class=\"line\"><span class=\"built_in\">set</span> /p <span class=\"built_in\">CD</span>=\"Please Input JavaHome <span class=\"built_in\">Path</span>:\"</span><br><span class=\"line\"><span class=\"keyword\">IF</span> <span class=\"keyword\">EXIST</span> <span class=\"variable\">%CD%</span>\\bin\\java.exe (</span><br><span class=\"line\"><span class=\"keyword\">IF</span> <span class=\"keyword\">EXIST</span> <span class=\"variable\">%systemroot%</span>\\system32\\setx.exe (</span><br><span class=\"line\">@<span class=\"built_in\">ECHO</span> \"设置JAVA_HOME：<span class=\"variable\">%CD%</span>\"</span><br><span class=\"line\">@SETX JAVA_HOME <span class=\"variable\">%CD%</span></span><br><span class=\"line\">@<span class=\"built_in\">ECHO</span> \"设置CLASSPATH：.;<span class=\"variable\">%%J</span>AVA_HOME<span class=\"variable\">%%\\</span>lib\\tools.jar;<span class=\"variable\">%%J</span>AVA_HOME<span class=\"variable\">%%\\</span>lib\\dt.jar;<span class=\"variable\">%%J</span>AVA_HOME<span class=\"variable\">%%\\</span>jre\\lib\\rt.jar\"</span><br><span class=\"line\">@SETX CLASSPATH \".;<span class=\"variable\">%%J</span>AVA_HOME<span class=\"variable\">%%\\</span>lib\\tools.jar;<span class=\"variable\">%%J</span>AVA_HOME<span class=\"variable\">%%\\</span>lib\\dt.jar;<span class=\"variable\">%%J</span>AVA_HOME<span class=\"variable\">%%\\</span>jre\\lib\\rt.jar\"</span><br><span class=\"line\">@<span class=\"built_in\">ECHO</span> \"设置<span class=\"built_in\">PATH</span>：<span class=\"variable\">%%J</span>AVA_HOME<span class=\"variable\">%%\\</span>bin\"</span><br><span class=\"line\">@SETX <span class=\"built_in\">PATH</span> \"<span class=\"variable\">%%J</span>AVA_HOME<span class=\"variable\">%%\\</span>bin\"</span><br><span class=\"line\">@<span class=\"built_in\">ECHO</span> JDK环境变量设置成功</span><br><span class=\"line\">) <span class=\"keyword\">ELSE</span> (</span><br><span class=\"line\">@<span class=\"built_in\">ECHO</span> ON</span><br><span class=\"line\">@<span class=\"built_in\">ECHO</span> 未能找到<span class=\"variable\">%systemroot%</span>\\system32\\setx.exe，请下载setx.exe程序</span><br><span class=\"line\">)</span><br><span class=\"line\">) <span class=\"keyword\">ELSE</span> (</span><br><span class=\"line\">@<span class=\"built_in\">ECHO</span> ON</span><br><span class=\"line\">@<span class=\"built_in\">ECHO</span> JDK安装目录不正确,未能按照预期计划执行</span><br><span class=\"line\">)</span><br><span class=\"line\">@<span class=\"built_in\">PAUSE</span></span><br></pre></td></tr></table></figure>\n<p><br></p>\n<p><strong>注意事项:</strong></p>\n<ul>\n<li>1) SETX 在注册表中将变量写入主机环境。</li>\n<li>2) 在本地系统，用此工具创建或修改的变量将在以后的命令窗口可用，但在当前的 CMD.exe 命令窗口。</li>\n<li>3) 在远程系统，用此工具创建或修改的变量在下次登录会话可用。</li>\n<li>4) 有效的注册表项数据类型是 REG_DWORD，REG_EXPAND_SZ，REG_SZ和 REG_MULTI_SZ。</li>\n<li>5) 受支持的配置单元:  HKEY_LOCAL_MACHINE (HKLM)， HKEY_CURRENT_USER (HKCU)。</li>\n<li>6) 限定符区分大小写。</li>\n<li>7) REG_DWORD 的值是从注册表里以十进制格式提取出来的。</li>\n<li>8) 注意变量名最好是大写</li>\n</ul>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"Windows命令","path":"api/categories/Windows命令.json"}],"tags":[{"name":"系统命令","path":"api/tags/系统命令.json"}]}