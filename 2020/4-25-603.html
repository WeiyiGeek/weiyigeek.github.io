<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="content-language" content="zh-CN"/>
    <meta name="author" content="WeiyiGeek" />
    <meta name="msvalidate.01" content="5C552FB1D885E0E11D2957EC958C8018" />
    <meta name="shenma-site-verification" content="4c655e91c76be0a93c1b6954c666c9d6_1649049085"/>
    <meta name="bytedance-verification-code" content="lKs4FqwCHSJ3A/c5tT7X" />
    <meta name="sogou_site_verification" content="OC65iET6Bk" />
    
    <title>ğŸŒ 1.Goè¯­è¨€ç¼–ç¨‹å­¦ä¹ è¯¾åå®è·µ|WeiyiGeek Blog|å”¯ä¸€æå®¢Geek-ITç½‘ç»œå®‰å…¨è¿ç»´å¼€å‘æŠ€æœ¯çŸ¥è¯†åˆ†äº«-åšå®¢ç«™ç‚¹</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    
    <meta name="keywords" content="Go">
    <meta name="Description" content="WeiyiGeek-å”¯ä¸€æå®¢åšå®¢ç«™ç‚¹,å…³æ³¨äºç½‘ç»œå®‰å…¨è¿ç»´,Webå®‰å…¨å¼€å‘,IOTç‰©è”ç½‘å®‰å…¨å¼€å‘,åº”ç”¨å¼€å‘,åˆ†äº«æŠ€æœ¯å­¦ä¹ çŸ¥è¯†ä¸å…¥å‘è§£å†³,æå‡ç½‘ç»œå®‰å…¨æŠ€æœ¯ä¸è‡ªèº«æŠ€æœ¯èƒ½åŠ›,ç«‹å¿—ç»´æŠ¤å¤§ä¼—ç½‘ç»œå®‰å…¨ä¸ºå·±ä»»,åšä¸€ä¸ªå¯¹å›½å®¶æœ‰ç”¨çš„äºº,ä¸ºå®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„ä¸­å›½æ¢¦ä¸æ‡ˆå¥‹æ–—">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/jquery/3.5.2-jquery.fancybox.min.css?v=1.6.6" />
    <link rel="stylesheet" href="/css/style.css?v=1.6.6">
    <!--  -->
     <script type="text/javascript" src="/js/custom/articlecost.js?v=1.6.6"></script> 
    <link rel="stylesheet" href="/css/third-party/gitalk.css?v=1.6.6"> 
    <script type="text/javascript">
        // Data Center
        var DC = {
            reward:	true,
            lv: JSON.parse('{"enable":false,"app_id":null,"app_key":null,"icon":true}'),
            v: JSON.parse('{"enable":false,"appid":null,"appkey":null,"notify":true,"verify":true,"placeholder":"give me some sugers plz...","avatar":"wavatar"}')
        };
    </script>
    <script type="text/javascript">window.lazyScripts=[];</script>
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="WeiyiGeek Blog" type="application/atom+xml">
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="/img/brand.jpg" class="brand-bg" alt="WeiyiGeek-backgroud">
      
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg" alt="WeiyiGeek-å¤´åƒ">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">WeiyiGeek</h5>
          <a href="mailto:master@weiyigeek.top" title="master@weiyigeek.top" class="mail">
            <span>m</span><span>a</span><span>s</span><span>t</span><span>e</span><span>r</span><span>@</span><span>w</span><span>e</span><span>i</span><span>y</span><span>i</span><span>g</span><span>e</span><span>e</span><span>k</span><span>.</span><span>t</span><span>o</span><span>p</span>
          </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://weiyigeek.top/img/wechat-search.png" target="_blank">
                  <i class="icon icon-lg icon-wechat"></i>
                </a>
              </li>
            
              <li>
                <a href="https://github.com/weiyigeek" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
              <li>
                <a href="https://t.me/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-telegram"></i>
                </a>
              </li>
            
              <li>
                <a href="https://twitter.com/WeiyiGeek" target="_blank">
                  <i class="icon icon-lg icon-twitter"></i>
                </a>
              </li>
            
              <li>
                <a href="https://weibo.com/615643678" target="_blank">
                  <i class="icon icon-lg icon-weibo"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                é¦–é¡µ
              </a>
            </li>
        
            <li class="">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                æ–‡ç« åˆ†ç±»
              </a>
            </li>
        
            <li class="">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                æ–‡ç« æ ‡ç­¾
              </a>
            </li>
        
            <li class="">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                æ–‡ç« å½’æ¡£
              </a>
            </li>
        
            <li class="">
              <a href="/books"  >
                <i class="icon icon-lg icon-book"></i>
                å­¦ä¹ ä¹¦ç±
              </a>
            </li>
        
            <li class="">
              <a href="/about"  >
                <i class="icon icon-lg icon-user"></i>
                å…³äºä½œè€…
              </a>
            </li>
        
            <li class="">
              <a href="/links"  >
                <i class="icon icon-lg icon-link"></i>
                ç«™ç‚¹å¯¼èˆª
              </a>
            </li>
        
            <li class="">
              <a href="https://weiyigeek.top/img/wechat-search.png" target="_blank" >
                <i class="icon icon-lg icon-wechat"></i>
                å…¬ä¼—è´¦å·
              </a>
            </li>
        
            <li class="">
              <a href="https://space.bilibili.com/385802642" target="_blank" >
                <i class="icon icon-lg icon-youtube-play"></i>
                å“”å“©å“”å“©
              </a>
            </li>
        
            <li class="">
              <a href="https://github.com/weiyigeek" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="">
              <a href="https://twitter.com/WeiyiGeek" target="_blank" >
                <i class="icon icon-lg icon-twitter"></i>
                Twitter
              </a>
            </li>
        
            <li class="">
              <a href="https://weibo.com/615643678" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>1.Goè¯­è¨€ç¼–ç¨‹å­¦ä¹ è¯¾åå®è·µ</span>
            
        </div>

        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        

        
            <a href="/atom.xml" class="header-icon pull-right waves-effect waves-circle waves-light">
                <i class="icon icon-lg icon-rss"></i>
            </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="/img/banner.jpg" class="header-bg" alt="æ–‡ç« å¤´éƒ¨èƒŒæ™¯">
    <div class="container fade-scale">
        <h1 class="title">1.Goè¯­è¨€ç¼–ç¨‹å­¦ä¹ è¯¾åå®è·µ</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-04-25T03:16:58.000Z" itemprop="datePublished" class="page-time">
  2020-04-25
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Development/">Development</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Development/Programming/">Programming</a></li></ul></li></ul>


            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>


<div class="container body-wrap">
    <article id="post-ç¼–ç¨‹ä¸–ç•Œ/Go/Example/1.Goè¯­è¨€ç¼–ç¨‹å­¦ä¹ è¯¾åå®è·µ"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">1.Goè¯­è¨€ç¼–ç¨‹å­¦ä¹ è¯¾åå®è·µ</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-04-25 11:16:58" datetime="2020-04-25T03:16:58.000Z"  itemprop="datePublished">2020-04-25</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Development/">Development</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Development/Programming/">Programming</a></li></ul></li></ul>



            

            


            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <p>[TOC]</p>
<a id="more"></a>
<h2 id="0x01-å˜é‡ç±»å‹ç« èŠ‚"><a href="#0x01-å˜é‡ç±»å‹ç« èŠ‚" class="headerlink" title="0x01 å˜é‡ç±»å‹ç« èŠ‚"></a>0x01 å˜é‡ç±»å‹ç« èŠ‚</h2><p><strong>ç¤ºä¾‹1.ç¼–å†™ä»£ç ç»Ÿè®¡å‡ºå­—ç¬¦ä¸²<code>&quot;ä¸º Hello ä¸­å›½ World,Go è¯­è¨€ å­¦ä¹ &quot;</code>ä¸­æ±‰å­—çš„æ•°é‡ã€‚</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–¹å¼1.ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­ä¸­æ–‡ä¸ªæ•°</span></span><br><span class="line">s2 := <span class="string">"ä¸º Hello ä¸­å›½ World,Go è¯­è¨€ å­¦ä¹ "</span></span><br><span class="line">res := []<span class="keyword">rune</span>(s2)</span><br><span class="line">reslen := <span class="built_in">len</span>(res)</span><br><span class="line">count := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; reslen; i++ &#123;</span><br><span class="line">  <span class="comment">// UTF-8 ç”±äºä¸­æ–‡æˆ–è€…å…¶å®ƒè¯­è¨€å ç”¨3b~4bæ‰€ä»¥æ’é™¤(0~255) è‹±æ–‡ã€ç¬¦å·ä»¥åŠç‰¹æ®Šå­—ç¬¦</span></span><br><span class="line">  <span class="keyword">if</span> res[i] &gt; <span class="number">255</span> &#123;</span><br><span class="line">    count++</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">fmt.Printf(<span class="string">"å­—ç¬¦ä¸²:%s (Length = %d),ä¸€å…±æœ‰ %d ä¸ªä¸­æ–‡å­—ç¬¦"</span>, s2, reslen, count)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹å¼2.åˆ©ç”¨unicodeä¸­æä¾›çš„æ–¹æ³•ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­çš„ä¸ªæ•°</span></span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> _, c := <span class="keyword">range</span> s2 &#123;</span><br><span class="line">  <span class="comment">// åˆ¤æ–­å­—ç¬¦æ˜¯å¦è¯¥å­—ç¬¦é›†ç¼–ç ï¼Œæ¥ç»Ÿè®¡ä¸­æ–‡å­—ç¬¦</span></span><br><span class="line">  <span class="keyword">if</span> unicode.Is(unicode.Han, c) &#123;</span><br><span class="line">    count++</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">fmt.Printf(<span class="string">"å­—ç¬¦ä¸²:%s (Length = %d),ä¸€å…±æœ‰ %d ä¸ªä¸­æ–‡å­—ç¬¦"</span>, s2, reslen, count)</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœ:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å­—ç¬¦ä¸²:ä¸º Hello ä¸­å›½ World,Go è¯­è¨€ å­¦ä¹  (Length = 25),ä¸€å…±æœ‰ 7 ä¸ªä¸­æ–‡å­—ç¬¦</span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="0x02-è¿ç®—ç¬¦ä¸æµç¨‹æ§åˆ¶ç« èŠ‚"><a href="#0x02-è¿ç®—ç¬¦ä¸æµç¨‹æ§åˆ¶ç« èŠ‚" class="headerlink" title="0x02 è¿ç®—ç¬¦ä¸æµç¨‹æ§åˆ¶ç« èŠ‚"></a>0x02 è¿ç®—ç¬¦ä¸æµç¨‹æ§åˆ¶ç« èŠ‚</h2><p><strong>ç¤ºä¾‹1.æœ‰ä¸€å †æ•°å­—ï¼Œå¦‚æœé™¤äº†ä¸€ä¸ªæ•°å­—ä»¥å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ï¼Œé‚£ä¹ˆå¦‚ä½•æ‰¾åˆ°å‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Ÿ</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŸ¥çœ‹å‡ºç°ä¸€æ¬¡çš„æ•°å­—</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">showsinglenumber</span><span class="params">()</span></span> &#123;</span><br><span class="line">  numbers := <span class="number">1234945579785321</span></span><br><span class="line">  snumbers := fmt.Sprintf(<span class="string">"%d"</span>, numbers)</span><br><span class="line">  slength := <span class="built_in">len</span>(snumbers)</span><br><span class="line">  <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; slength; i++ &#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­å…¶ç´¢å¼•ä½ç½®</span></span><br><span class="line">    <span class="keyword">if</span> strings.Index(snumbers, <span class="keyword">string</span>(snumbers[i])) == strings.LastIndex(snumbers, <span class="keyword">string</span>(snumbers[i])) &#123;</span><br><span class="line">      fmt.Println(<span class="string">"åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— : "</span>, <span class="keyword">string</span>(snumbers[i])) <span class="comment">// æ³¨æ„è¾“å‡ºæ—¶éœ€è¦å¼ºåˆ¶è½¬æ¢å¦åˆ™ä¸ºbyteç±»å‹è¾“å‡ºAsciiå€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœ:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— :  8</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>ç¤ºä¾‹2.ç”¨Goè¯­è¨€ç¼–å†™ä¸€ä¸ªä¹ä¹ä¹˜æ³•è¡¨</strong><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¹ä¹ä¹˜æ³•è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">MultiTable</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">9</span>; i++ &#123;</span><br><span class="line">    <span class="keyword">for</span> j := <span class="number">1</span>; j &lt;= i; j++ &#123;</span><br><span class="line">      fmt.Printf(<span class="string">"%d * %d = %d, "</span>, i, j, i*j)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><figure class="image-box">
                <a rel=1.Goè¯­è¨€ç¼–ç¨‹å­¦ä¹ è¯¾åå®è·µ href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2021/5/20210731115534.png" target="_blank" title="WeiyiGeek.GOä¹ä¹ä¹˜æ³•è¡¨" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2021/5/20210731115534.png" alt="WeiyiGeek.GOä¹ä¹ä¹˜æ³•è¡¨" title="" class=""></a>
                <p>WeiyiGeek.GOä¹ä¹ä¹˜æ³•è¡¨</p>
            </figure></p>
<hr>
<h2 id="0x03-æ•°ç»„ç« èŠ‚"><a href="#0x03-æ•°ç»„ç« èŠ‚" class="headerlink" title="0x03 æ•°ç»„ç« èŠ‚"></a>0x03 æ•°ç»„ç« èŠ‚</h2><p><strong>ç¤ºä¾‹1:æ±‚æ•°ç»„<code>[1, 3, 5, 7, 8]</code>æ‰€æœ‰å…ƒç´ çš„å’Œ</strong><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">homework1</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="comment">// æ±‚æ•°ç»„`[1, 3, 5, 7, 8]`æ‰€æœ‰å…ƒç´ çš„å’Œ</span></span><br><span class="line">  arr := [...]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">8</span>&#125;</span><br><span class="line">  sum := <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> _, v := <span class="keyword">range</span> arr &#123;</span><br><span class="line">    sum += v</span><br><span class="line">  &#125;</span><br><span class="line">  fmt.Printf(<span class="string">"%v å…ƒç´ é›†åˆä¹‹å’Œ : %d"</span>, arr, sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>æ‰§è¡Œç»“æœ:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1 3 5 7 8] å…ƒç´ é›†åˆä¹‹å’Œ : 24</span><br></pre></td></tr></table></figure></p>
<p><strong>ç¤ºä¾‹2.æ‰¾å‡ºæ•°ç»„ä¸­å’Œä¸ºæŒ‡å®šå€¼çš„ä¸¤ä¸ªå…ƒç´ çš„ä¸‹æ ‡ï¼Œæ¯”å¦‚ä»æ•°ç»„<code>[1, 3, 5, 7, 8]</code>ä¸­æ‰¾å‡ºå’Œä¸º8çš„ä¸¤ä¸ªå…ƒç´ çš„ä¸‹æ ‡åˆ†åˆ«ä¸º<code>(0,3)</code>å’Œ<code>(1,2)</code>ã€‚</strong><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">homework2</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="comment">// æ¯”å¦‚ä»æ•°ç»„`[1, 3, 5, 7, 8]`ä¸­æ‰¾å‡ºå’Œä¸º8çš„ä¸¤ä¸ªå…ƒç´ çš„ä¸‹æ ‡åˆ†åˆ«ä¸º`(0,3)`å’Œ`(1,2)`ã€‚**</span></span><br><span class="line">  arr := [...]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">8</span>&#125;</span><br><span class="line">  <span class="keyword">for</span> i, v := <span class="keyword">range</span> arr &#123;</span><br><span class="line">    <span class="keyword">for</span> j := i + <span class="number">1</span>; j &lt; <span class="built_in">len</span>(arr); j++ &#123;</span><br><span class="line">      <span class="keyword">if</span> v+arr[j] == <span class="number">8</span> &#123;</span><br><span class="line">        fmt.Printf(<span class="string">"arr[%d] + arr[%d] = %d \n"</span>, i, j, <span class="number">8</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>æ‰§è¡Œç»“æœï¼š<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr[<span class="number">0</span>] + arr[<span class="number">3</span>] = <span class="number">8</span> </span><br><span class="line">arr[<span class="number">1</span>] + arr[<span class="number">2</span>] = <span class="number">8</span></span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>ç¤ºä¾‹3.è¯·ä½¿ç”¨å†…ç½®çš„sortåŒ…å¯¹æ•°ç»„<code>var a = [...]int{3, 7, 8, 9, 1}</code>è¿›è¡Œæ’åºï¼ˆé™„åŠ é¢˜ï¼Œè‡ªè¡ŒæŸ¥èµ„æ–™è§£ç­”ï¼‰ã€‚</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŠŠæ•°ç»„å˜æˆåˆ‡ç‰‡</span></span><br><span class="line">func <span class="function"><span class="title">textsort</span></span>() &#123;</span><br><span class="line">  a := [...]int&#123;3, 7, 8, 9, 1&#125;</span><br><span class="line">  fmt.Printf(<span class="string">"a : %T , %v , ptr : %p \n"</span>, a, a, &amp;a)            // æ•°ç»„</span><br><span class="line">  sort.Ints(a[:])                                              // æ’åº</span><br><span class="line">  fmt.Printf(<span class="string">"a[:] : %T , %v , ptr : %p \n"</span>, a[:], a[:], a[:]) // åˆ‡ç‰‡</span><br><span class="line">  fmt.Println(<span class="string">"After sorted: "</span>, a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a : [5]int , [3 7 8 9 1] , ptr : 0xc0000c6000 </span><br><span class="line">a[:] : []int , [1 3 7 8 9] , ptr : 0xc0000c6000 </span><br><span class="line">After sorted:  [1 3 7 8 9]</span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="0x04-åˆ‡ç‰‡ç« èŠ‚"><a href="#0x04-åˆ‡ç‰‡ç« èŠ‚" class="headerlink" title="0x04 åˆ‡ç‰‡ç« èŠ‚"></a>0x04 åˆ‡ç‰‡ç« èŠ‚</h2><p><strong>ç¤ºä¾‹1.è¯·å†™å‡ºä¸‹é¢ä»£ç çš„è¾“å‡ºç»“æœ</strong><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">text</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="built_in">make</span>([]<span class="keyword">string</span>, <span class="number">5</span>, <span class="number">10</span>)</span><br><span class="line">  <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">    a = <span class="built_in">append</span>(a, fmt.Sprintf(<span class="string">"%v"</span>, i))  <span class="comment">// æ‰©å®¹ + 10 ï¼Œå®¹é‡ + 10</span></span><br><span class="line">  &#125;</span><br><span class="line">  fmt.Println(<span class="built_in">len</span>(a), <span class="built_in">cap</span>(a), a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>å®é™…æ‰§è¡Œç»“æœ:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">15 20 [0 1 2 3 4 5 6 7 8 9]</span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="0x05-æ˜ å°„ç« èŠ‚"><a href="#0x05-æ˜ å°„ç« èŠ‚" class="headerlink" title="0x05 æ˜ å°„ç« èŠ‚"></a>0x05 æ˜ å°„ç« èŠ‚</h2><p><strong>ç¤ºä¾‹1.è§‚å¯Ÿä¸‹é¢ä»£ç ï¼Œå†™å‡ºæœ€ç»ˆçš„æ‰“å°ç»“æœã€‚</strong><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">type</span> Map <span class="keyword">map</span>[<span class="keyword">string</span>][]<span class="keyword">int</span></span><br><span class="line">  m := <span class="built_in">make</span>(Map)</span><br><span class="line">  s := []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</span><br><span class="line">  s = <span class="built_in">append</span>(s, <span class="number">3</span>)</span><br><span class="line">  fmt.Printf(<span class="string">"%+v\n"</span>, s)         <span class="comment">// [ 1,2,3 ]</span></span><br><span class="line">  m[<span class="string">"s"</span>] = s</span><br><span class="line">  s = <span class="built_in">append</span>(s[:<span class="number">1</span>], s[<span class="number">2</span>:]...)    <span class="comment">// å…³é”®ç‚¹</span></span><br><span class="line">  fmt.Printf(<span class="string">"%+v\n"</span>, s)         <span class="comment">// [ 1,3 ]</span></span><br><span class="line">  fmt.Printf(<span class="string">"%+v\n"</span>, m[<span class="string">"s"</span>])    <span class="comment">// [ 1,3,3 ]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>ç¤ºä¾‹2.å†™ä¸€ä¸ªç¨‹åºï¼Œç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ¯ä¸ªå•è¯å‡ºç°çš„æ¬¡æ•°ã€‚æ¯”å¦‚ï¼šâ€how do you doâ€ä¸­how=1 do=2 you=1ã€‚</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">homework2</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="string">"how do you do"</span></span><br><span class="line">  <span class="keyword">var</span> splitA = strings.Split(a, <span class="string">" "</span>)</span><br><span class="line">  <span class="keyword">var</span> count = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>, <span class="built_in">len</span>(splitA))</span><br><span class="line">  <span class="comment">// æ–¹å¼1</span></span><br><span class="line">  <span class="keyword">for</span> _, v := <span class="keyword">range</span> splitA &#123;</span><br><span class="line">    value, ok := count[v]</span><br><span class="line">    <span class="keyword">if</span> !ok &#123;</span><br><span class="line">      value = <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      value++</span><br><span class="line">    &#125;</span><br><span class="line">    count[v] = value</span><br><span class="line">  &#125;</span><br><span class="line">  fmt.Printf(<span class="string">"ç»Ÿè®¡ %v å­—ç¬¦ä¸²æ¯ä¸ªå•è¯å‡ºç°çš„ç»“æœ: %+v \n"</span>, a, count)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ–¹å¼2 (éå¸¸å€¼å¾—å­¦ä¹ )</span></span><br><span class="line">  <span class="keyword">for</span> _, w := <span class="keyword">range</span> splitA &#123;</span><br><span class="line">    <span class="keyword">if</span> _, ok := count[w]; !ok &#123;</span><br><span class="line">      count[w] = <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      count[w]++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  fmt.Printf(<span class="string">"ç»Ÿè®¡ %v å­—ç¬¦ä¸²æ¯ä¸ªå•è¯å‡ºç°çš„ç»“æœ: %+v \n"</span>, a, count)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœ:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç»Ÿè®¡ how <span class="keyword">do</span> you <span class="keyword">do</span> å­—ç¬¦ä¸²æ¯ä¸ªå•è¯å‡ºç°çš„ç»“æœ: map[<span class="keyword">do</span>:2 how:1 you:1]</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>ç¤ºä¾‹3.åˆ¤æ–­ä¸­æ–‡å­—ç¬¦ä¸²çš„å›æ–‡å¦‚ï¼Œä¸€è¡Œç™½é¹­ä¸é¹­ç™½è¡Œä¸€</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">homework1</span><span class="params">()</span></span> &#123;</span><br><span class="line">  s := <span class="string">"aä¸€è¡Œç™½é¹­ä¸é¹­ç™½è¡Œä¸€a"</span></span><br><span class="line">  srune := []<span class="keyword">rune</span>(s)</span><br><span class="line">  fmt.Printf(<span class="string">"%T, Len : %d , Cap : %d \n"</span>, srune, <span class="built_in">len</span>(srune), <span class="built_in">cap</span>(srune))</span><br><span class="line">  <span class="keyword">for</span> i := <span class="keyword">range</span> srune &#123;</span><br><span class="line">    <span class="keyword">if</span> srune[i] != srune[<span class="built_in">len</span>(srune)<span class="number">-1</span>-i] &#123;</span><br><span class="line">      fmt.Printf(<span class="string">"`%v`ä¸æ˜¯å›æ–‡å­—ç¬¦ä¸²"</span>, s)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> i &gt;= <span class="built_in">len</span>(srune)/<span class="number">2</span> &#123;</span><br><span class="line">      fmt.Printf(<span class="string">"`%v`æ˜¯å›æ–‡å­—ç¬¦ä¸²"</span>, s)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœ:<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[]<span class="keyword">int32</span>, Len : <span class="number">11</span> , Cap : <span class="number">12</span></span><br><span class="line"><span class="string">`aä¸€è¡Œç™½é¹­ä¸é¹­ç™½è¡Œä¸€a`</span>æ˜¯å›æ–‡å­—ç¬¦ä¸²</span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="0x06-å‡½æ•°ç« èŠ‚"><a href="#0x06-å‡½æ•°ç« èŠ‚" class="headerlink" title="0x06 å‡½æ•°ç« èŠ‚"></a>0x06 å‡½æ•°ç« èŠ‚</h2><p><strong>ç¤ºä¾‹1.åˆ†é‡‘å¸</strong><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ä½ æœ‰50æšé‡‘å¸ï¼Œéœ€è¦åˆ†é…ç»™ä»¥ä¸‹å‡ ä¸ªäººï¼šMatthew,Sarah,Augustus,Heidi,Emilie,Peter,Giana,Adriano,Aaron,Elizabethã€‚</span></span><br><span class="line"><span class="comment">åˆ†é…è§„åˆ™å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment">a. åå­—ä¸­æ¯åŒ…å«1ä¸ª'e'æˆ–'E'åˆ†1æšé‡‘å¸</span></span><br><span class="line"><span class="comment">b. åå­—ä¸­æ¯åŒ…å«1ä¸ª'i'æˆ–'I'åˆ†2æšé‡‘å¸</span></span><br><span class="line"><span class="comment">c. åå­—ä¸­æ¯åŒ…å«1ä¸ª'o'æˆ–'O'åˆ†3æšé‡‘å¸</span></span><br><span class="line"><span class="comment">d: åå­—ä¸­æ¯åŒ…å«1ä¸ª'u'æˆ–'U'åˆ†4æšé‡‘å¸</span></span><br><span class="line"><span class="comment">å†™ä¸€ä¸ªç¨‹åºï¼Œè®¡ç®—æ¯ä¸ªç”¨æˆ·åˆ†åˆ°å¤šå°‘é‡‘å¸ï¼Œä»¥åŠæœ€åå‰©ä½™å¤šå°‘é‡‘å¸ï¼Ÿ</span></span><br><span class="line"><span class="comment">ç¨‹åºç»“æ„å¦‚ä¸‹ï¼Œè¯·å®ç° â€˜dispatchCoinâ€™ å‡½æ•°</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">  coins = <span class="number">50</span></span><br><span class="line">  users = []<span class="keyword">string</span>&#123;</span><br><span class="line">    <span class="string">"Matthew"</span>, <span class="string">"Sarah"</span>, <span class="string">"Augustus"</span>, <span class="string">"Heidi"</span>, <span class="string">"Emilie"</span>, <span class="string">"Peter"</span>, <span class="string">"Giana"</span>, <span class="string">"Adriano"</span>, <span class="string">"Aaron"</span>, <span class="string">"Elizabeth"</span>,</span><br><span class="line">  &#125;</span><br><span class="line">  distribution = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>, <span class="built_in">len</span>(users))</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dispatchCoin</span><span class="params">()</span> <span class="title">int</span></span> &#123;</span><br><span class="line">  <span class="comment">// 1.éå†ç”¨æˆ·</span></span><br><span class="line">  <span class="keyword">for</span> _, name := <span class="keyword">range</span> users &#123;</span><br><span class="line">    <span class="comment">// 2.åˆ¤æ–­ç”¨æˆ·æ—¶å€™æ˜¯å¦åœ¨ map ä¸­</span></span><br><span class="line">    _, ok := distribution[name]</span><br><span class="line">    <span class="keyword">if</span> ok &#123;</span><br><span class="line">      <span class="keyword">continue</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3.åˆ©ç”¨åŒ¿åå‡½æ•°æ±‚å‡ºæ¯ä¸ªäººçš„è·å¾—é‡‘å¸æ•°</span></span><br><span class="line">    temp := <span class="function"><span class="keyword">func</span><span class="params">()</span> <span class="title">int</span></span> &#123;</span><br><span class="line">      count := <span class="number">0</span></span><br><span class="line">      <span class="keyword">for</span> _, crune := <span class="keyword">range</span> name &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–¹å¼1</span></span><br><span class="line">        <span class="comment">// c := string(crune)</span></span><br><span class="line">        <span class="comment">// if c == "e" || c == "E" &#123;</span></span><br><span class="line">        <span class="comment">// 	count += 1</span></span><br><span class="line">        <span class="comment">// &#125; else if c == "i" || c == "I" &#123;</span></span><br><span class="line">        <span class="comment">// 	count += 2</span></span><br><span class="line">        <span class="comment">// &#125; else if c == "o" || c == "O" &#123;</span></span><br><span class="line">        <span class="comment">// 	count += 3</span></span><br><span class="line">        <span class="comment">// &#125; else if c == "u" || c == "U" &#123;</span></span><br><span class="line">        <span class="comment">// 	count += 4</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="comment">// æ–¹å¼2ï¼ˆæ¨èï¼‰</span></span><br><span class="line">        <span class="keyword">switch</span> crune &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'e'</span>, <span class="string">'E'</span>:</span><br><span class="line">          count += <span class="number">1</span></span><br><span class="line">          coins -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">'i'</span>, <span class="string">'I'</span>:</span><br><span class="line">          count += <span class="number">2</span></span><br><span class="line">          coins -= <span class="number">2</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">'o'</span>, <span class="string">'O'</span>:</span><br><span class="line">          count += <span class="number">3</span></span><br><span class="line">          coins -= <span class="number">3</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">'u'</span>, <span class="string">'U'</span>:</span><br><span class="line">          count += <span class="number">4</span></span><br><span class="line">          coins -= <span class="number">4</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> count</span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4.å°†äººå‘˜å’Œé‡‘å¸æ•°è¿›è¡Œç»‘å®š</span></span><br><span class="line">    distribution[name] = temp</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 5.è¾“å‡ºæ‰€æœ‰äººå‘˜å æœ‰çš„é‡‘å¸æ•°</span></span><br><span class="line">  fmt.Println(distribution)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 6.è¿”å›å‰©ä½™é‡‘å¸æ•°é‡</span></span><br><span class="line">  <span class="keyword">return</span> coins</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">homework</span><span class="params">()</span></span> &#123;</span><br><span class="line">  left := dispatchCoin()</span><br><span class="line">  fmt.Println(<span class="string">"å‰©ä¸‹çš„é‡‘å¸æ•°:"</span>, left)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>æ‰§è¡Œç»“æœ:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map[Aaron:3 Adriano:5 Augustus:12 Elizabeth:4 Emilie:6 Giana:2 Heidi:5 Matthew:1 Peter:2 Sarah:0]</span><br><span class="line">å‰©ä¸‹çš„é‡‘å¸æ•°: 10</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>ç¤ºä¾‹2.æœ‰nä¸ªå°é˜¶ï¼Œä¸€æ¬¡å¯ä»¥èµ°ä¸€æ­¥æˆ–è€…ä¸¤æ­¥ï¼Œé—®ä¸€å…±æœ‰å¤šå°‘ç§èµ°æ³•</strong><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ladder</span><span class="params">(step <span class="keyword">uint64</span>)</span> <span class="params">(ret <span class="keyword">uint64</span>)</span></span> &#123;</span><br><span class="line">  <span class="comment">// å¦‚æœåªæœ‰ä¸€æ­¥é˜¶æ¢¯åˆ™åªæœ‰ä¸€ç§èµ°æ³•ã€‚</span></span><br><span class="line">  <span class="keyword">if</span> step == <span class="number">1</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å¦‚æœæœ‰ä¸¤æ­¥é˜¶æ¢¯åˆ™æœ‰ä¸¤ç§èµ°æ³•ã€‚</span></span><br><span class="line">  <span class="keyword">if</span> step == <span class="number">2</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å¦‚æœ‰ä¸‰æ­¥åˆ™æœ‰3ç§èµ°æ³•ï¼Œæ‰€ä»¥ n æ­¥ = (n - 1) + ï¼ˆn -2ï¼‰</span></span><br><span class="line">  <span class="keyword">return</span> ladder(step<span class="number">-1</span>) + ladder(step<span class="number">-2</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">demo2</span><span class="params">()</span></span> &#123;</span><br><span class="line">  ret := ladder(<span class="number">6</span>)</span><br><span class="line">  fmt.Println(<span class="string">"å½“æœ‰å…­æ­¥é˜¶æ¢¯æ—¶,æœ‰"</span>, ret, <span class="string">"ç§èµ°æ³•!"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>æ‰§è¡Œç»“æœ:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å½“æœ‰å…­æ­¥é˜¶æ¢¯æ—¶,æœ‰ 13 ç§èµ°æ³•!</span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="0x07-ç»“æ„ä½“ç« èŠ‚"><a href="#0x07-ç»“æ„ä½“ç« èŠ‚" class="headerlink" title="0x07 ç»“æ„ä½“ç« èŠ‚"></a>0x07 ç»“æ„ä½“ç« èŠ‚</h2><p><strong>ç¤ºä¾‹1.è¯·é—®ä¸‹é¢ä»£ç çš„æ‰§è¡Œç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</strong><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> student <span class="keyword">struct</span> &#123;</span><br><span class="line">  name <span class="keyword">string</span></span><br><span class="line">  age  <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">homework1</span><span class="params">()</span></span> &#123;</span><br><span class="line">  m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]*student)</span><br><span class="line">  <span class="comment">// åè¿›å…ˆå‡º</span></span><br><span class="line">  stus := []student&#123;</span><br><span class="line">    &#123;name: <span class="string">"å°ç‹"</span>, age: <span class="number">18</span>&#125;,</span><br><span class="line">    &#123;name: <span class="string">"å¨œæ‰"</span>, age: <span class="number">23</span>&#125;,</span><br><span class="line">    &#123;name: <span class="string">"å¤§ç‹"</span>, age: <span class="number">900</span>&#125;, <span class="comment">// åˆå§‹æŒ‡é’ˆæŒ‡å‘çš„ä½ç½®</span></span><br><span class="line">  &#125;</span><br><span class="line">  fmt.Printf(<span class="string">"stus ï¼š %p \n"</span>, &amp;stus)</span><br><span class="line">  <span class="keyword">for</span> _, stu := <span class="keyword">range</span> stus &#123;</span><br><span class="line">    m[stu.name] = &amp;stu</span><br><span class="line">    fmt.Printf(<span class="string">"for stu ï¼š%p, value : %v, Size: %d\n"</span>, &amp;stu, stu, unsafe.Sizeof(stu.age))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> k, v := <span class="keyword">range</span> m &#123;</span><br><span class="line">    fmt.Println(k, <span class="string">"=&gt;"</span>, v.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>æ‰§è¡Œç»“æœ:<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">stus ï¼š <span class="number">0xc00000c030</span> </span><br><span class="line"><span class="keyword">for</span> stu ï¼š<span class="number">0xc00000c048</span>, value : &#123;å°ç‹ <span class="number">18</span>&#125;, Size: <span class="number">8</span></span><br><span class="line"><span class="keyword">for</span> stu ï¼š<span class="number">0xc00000c048</span>, value : &#123;å¨œæ‰ <span class="number">23</span>&#125;, Size: <span class="number">8</span></span><br><span class="line"><span class="keyword">for</span> stu ï¼š<span class="number">0xc00000c048</span>, value : &#123;å¤§ç‹ <span class="number">900</span>&#125;, Size: <span class="number">8</span></span><br><span class="line">å°ç‹ =&gt; å¤§ç‹</span><br><span class="line">å¨œæ‰ =&gt; å¤§ç‹</span><br><span class="line">å¤§ç‹ =&gt; å¤§ç‹</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>ç¤ºä¾‹2.åˆ©ç”¨å‡½æ•°Funtionå®ç°è€ƒç”Ÿä¿¡æ¯ç³»ç»Ÿ</strong><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">  <span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**	Desc: é‡‡ç”¨å‡½æ•°å®ç°è€ƒç”Ÿä¿¡æ¯çš„å¢åŠ ä¸åˆ é™¤**/</span></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">  <span class="comment">// options</span></span><br><span class="line">  flag <span class="keyword">uint8</span></span><br><span class="line">  <span class="comment">// key : value</span></span><br><span class="line">  allStudent <span class="keyword">map</span>[<span class="keyword">int64</span>]*Student</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">  id   <span class="keyword">int64</span></span><br><span class="line">  name <span class="keyword">string</span></span><br><span class="line">  age  <span class="keyword">uint8</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newStudent</span><span class="params">(id <span class="keyword">int64</span>, name <span class="keyword">string</span>, age <span class="keyword">uint8</span>)</span> *<span class="title">Student</span></span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &amp;Student&#123;</span><br><span class="line">    id:   id,</span><br><span class="line">    name: name,</span><br><span class="line">    age:  age,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯è€ƒç”Ÿæ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">judgeStudent</span><span class="params">(id <span class="keyword">int64</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">  _, ok := allStudent[id]</span><br><span class="line">  <span class="keyword">if</span> ok &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ è€ƒç”Ÿ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">addStudent</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> (</span><br><span class="line">    id   <span class="keyword">int64</span></span><br><span class="line">    name <span class="keyword">string</span></span><br><span class="line">    age  <span class="keyword">uint8</span></span><br><span class="line">  )</span><br><span class="line">  fmt.Println(<span class="string">"#è¯·è¾“å…¥è€ƒç”Ÿ id name age ä¿¡æ¯ä»¥ç©ºæ ¼åˆ†å‰²ï¼š"</span>)</span><br><span class="line">  fmt.Scan(&amp;id, &amp;name, &amp;age)</span><br><span class="line">  <span class="keyword">if</span> !judgeStudent(id) &#123;</span><br><span class="line">    student := newStudent(id, name, age)</span><br><span class="line">    allStudent[id] = student</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">"è¯¥idå·çš„è€ƒç”Ÿå·²å­˜åœ¨æ— éœ€é‡å¤æ·»åŠ ."</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤è€ƒç”Ÿ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">delStuednt</span><span class="params">(id <span class="keyword">int64</span>)</span></span> &#123;</span><br><span class="line">  <span class="keyword">if</span> judgeStudent(id) &#123;</span><br><span class="line">    <span class="built_in">delete</span>(allStudent, id)</span><br><span class="line">    fmt.Printf(<span class="string">"å·²åˆ é™¤è€ƒç”Ÿå·ä¸º %d çš„å­¦ç”Ÿä¿¡æ¯.\n"</span>, id)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">"è¯¥idå·çš„è€ƒç”Ÿä¸å­˜åœ¨."</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ˜¾ç¤ºè€ƒç”Ÿ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">showStudent</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">for</span> k, v := <span class="keyword">range</span> allStudent &#123;</span><br><span class="line">    fmt.Printf(<span class="string">"uid: %d å§“å: %s å¹´é¾„: %d\n"</span>, k, v.name, v.age)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="comment">// Step 0.åˆå§‹åŒ–å­˜æ”¾è€ƒç”Ÿä¿¡æ¯çš„Map</span></span><br><span class="line">  allStudent = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int64</span>]*Student)</span><br><span class="line">  fmt.Printf(<span class="string">"allStudent len %v"</span>, <span class="built_in">len</span>(allStudent))</span><br><span class="line">  <span class="comment">// Step 1</span></span><br><span class="line">  fmt.Println(<span class="string">"æ¬¢è¿ä½¿ç”¨å­¦ç”Ÿä¿¡æ¯ç³»ç»Ÿç®€å•ç‰ˆæœ¬"</span>)</span><br><span class="line">  fmt.Printf(<span class="string">"åŠŸèƒ½è¯´æ˜: \n1.å¢åŠ å­¦ç”Ÿ\n2.æŸ¥çœ‹å­¦ç”Ÿ\n3.åˆ é™¤å­¦ç”Ÿ\n4.é€€å‡ºç¨‹åº\n\n"</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Step 2</span></span><br><span class="line">  <span class="keyword">for</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">"åŠŸèƒ½é€‰æ‹©: "</span>)</span><br><span class="line">    fmt.Scanln(&amp;flag)</span><br><span class="line">    fmt.Printf(<span class="string">"#ä½ é€‰æ‹©ç¬¬ %d ä¸ªçš„é€‰é¡¹\n"</span>, flag)</span><br><span class="line">    <span class="comment">// step 3</span></span><br><span class="line">    <span class="keyword">switch</span> flag &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">      addStudent()</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">      showStudent()</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">      fmt.Printf(<span class="string">"è¯·è¾“å…¥è¦åˆ é™¤çš„å­¦ç”Ÿ uid:"</span>)</span><br><span class="line">      <span class="keyword">var</span> uid <span class="keyword">int64</span></span><br><span class="line">      fmt.Scanln(&amp;uid)</span><br><span class="line">      delStuednt(uid)</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">      fmt.Printf(<span class="string">"ç¨‹åºç»“æŸ :"</span>)</span><br><span class="line">      os.Exit(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      fmt.Printf(<span class="string">"åŠŸèƒ½è¯´æ˜: \n1.å¢åŠ å­¦ç”Ÿ\n2.æŸ¥çœ‹å­¦ç”Ÿ\n3.åˆ é™¤å­¦ç”Ÿ\n4.é€€å‡ºç¨‹åº"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>æ‰§è¡Œç»“æœ:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">æ¬¢è¿ä½¿ç”¨å­¦ç”Ÿä¿¡æ¯ç³»ç»Ÿç®€å•ç‰ˆæœ¬</span><br><span class="line">åŠŸèƒ½è¯´æ˜: </span><br><span class="line">1.å¢åŠ å­¦ç”Ÿ</span><br><span class="line">2.æŸ¥çœ‹å­¦ç”Ÿ</span><br><span class="line">3.åˆ é™¤å­¦ç”Ÿ</span><br><span class="line">4.é€€å‡ºç¨‹åº</span><br><span class="line"></span><br><span class="line">åŠŸèƒ½é€‰æ‹©: 1</span><br><span class="line"><span class="comment"># ä½ é€‰æ‹©ç¬¬ 1 ä¸ªçš„é€‰é¡¹</span></span><br><span class="line"><span class="comment"># è¯·è¾“å…¥è€ƒç”Ÿ id name age ä¿¡æ¯ä»¥ç©ºæ ¼åˆ†å‰²ï¼š</span></span><br><span class="line">10086 ç§»åŠ¨ 25</span><br><span class="line">åŠŸèƒ½é€‰æ‹©: 1</span><br><span class="line"><span class="comment"># ä½ é€‰æ‹©ç¬¬ 1 ä¸ªçš„é€‰é¡¹</span></span><br><span class="line"><span class="comment"># è¯·è¾“å…¥è€ƒç”Ÿ id name age ä¿¡æ¯ä»¥ç©ºæ ¼åˆ†å‰²ï¼š</span></span><br><span class="line">10010 è”é€š 25</span><br><span class="line">åŠŸèƒ½é€‰æ‹©: 1 </span><br><span class="line"><span class="comment"># ä½ é€‰æ‹©ç¬¬ 1 ä¸ªçš„é€‰é¡¹</span></span><br><span class="line"><span class="comment"># è¯·è¾“å…¥è€ƒç”Ÿ id name age ä¿¡æ¯ä»¥ç©ºæ ¼åˆ†å‰²ï¼š</span></span><br><span class="line">10000 å…¸ç”µä¿¡ 26</span><br><span class="line">åŠŸèƒ½é€‰æ‹©: 2</span><br><span class="line"><span class="comment"># ä½ é€‰æ‹©ç¬¬ 2 ä¸ªçš„é€‰é¡¹</span></span><br><span class="line">uid: 10086 å§“å: ç§»åŠ¨ å¹´é¾„: 25</span><br><span class="line">uid: 10010 å§“å: è”é€š å¹´é¾„: 25</span><br><span class="line">uid: 10000 å§“å: ç”µä¿¡ å¹´é¾„: 26</span><br><span class="line">åŠŸèƒ½é€‰æ‹©: 3</span><br><span class="line"><span class="comment"># ä½ é€‰æ‹©ç¬¬ 3 ä¸ªçš„é€‰é¡¹</span></span><br><span class="line">è¯·è¾“å…¥è¦åˆ é™¤çš„å­¦ç”Ÿ uid:10000</span><br><span class="line">å·²åˆ é™¤è€ƒç”Ÿå·ä¸º 10000 çš„å­¦ç”Ÿä¿¡æ¯.</span><br><span class="line">åŠŸèƒ½é€‰æ‹©: 2</span><br><span class="line"><span class="comment"># ä½ é€‰æ‹©ç¬¬ 2 ä¸ªçš„é€‰é¡¹</span></span><br><span class="line">uid: 10086 å§“å: ç§»åŠ¨ å¹´é¾„: 25</span><br><span class="line">uid: 10010 å§“å: è”é€š å¹´é¾„: 25</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>ç¤ºä¾‹3.åˆ©ç”¨ç»“æ„ä½“æ–¹æ³•è¿›è¡Œå®ç°è€ƒç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿ</strong><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">  <span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">/**	Desc: é‡‡ç”¨ç»“æ„ä½“æ–¹æ³•å®ç°è€ƒç”Ÿä¿¡æ¯çš„å¢åŠ ä¸åˆ é™¤**/</span></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">  <span class="comment">// options</span></span><br><span class="line">  flag <span class="keyword">uint8</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// key : value</span></span><br><span class="line">  allStudent <span class="keyword">map</span>[<span class="keyword">int64</span>]*Student</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">  id   <span class="keyword">int64</span></span><br><span class="line">  name <span class="keyword">string</span></span><br><span class="line">  age  <span class="keyword">uint8</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newStudent</span><span class="params">(id <span class="keyword">int64</span>, name <span class="keyword">string</span>, age <span class="keyword">uint8</span>)</span> *<span class="title">Student</span></span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &amp;Student&#123;</span><br><span class="line">    id:   id,</span><br><span class="line">    name: name,</span><br><span class="line">    age:  age,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯è€ƒç”Ÿæ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *Student)</span> <span class="title">judge</span><span class="params">(id <span class="keyword">int64</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">  _, ok := allStudent[id]</span><br><span class="line">  <span class="keyword">if</span> ok &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ è€ƒç”Ÿ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *Student)</span> <span class="title">add</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> (</span><br><span class="line">    id   <span class="keyword">int64</span></span><br><span class="line">    name <span class="keyword">string</span></span><br><span class="line">    age  <span class="keyword">uint8</span></span><br><span class="line">  )</span><br><span class="line">  fmt.Println(<span class="string">"#è¯·è¾“å…¥è€ƒç”Ÿ id name age ä¿¡æ¯ä»¥ç©ºæ ¼åˆ†å‰²ï¼š"</span>)</span><br><span class="line">  fmt.Scan(&amp;id, &amp;name, &amp;age)</span><br><span class="line">  <span class="keyword">if</span> !s.judge(id) &#123;</span><br><span class="line">    student := newStudent(id, name, age)</span><br><span class="line">    allStudent[id] = student</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">"è¯¥idå·çš„è€ƒç”Ÿå·²å­˜åœ¨æ— éœ€é‡å¤æ·»åŠ ."</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤è€ƒç”Ÿ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *Student)</span> <span class="title">del</span><span class="params">(id <span class="keyword">int64</span>)</span></span> &#123;</span><br><span class="line">  <span class="keyword">if</span> s.judge(id) &#123;</span><br><span class="line">    <span class="built_in">delete</span>(allStudent, id)</span><br><span class="line">    fmt.Printf(<span class="string">"å·²åˆ é™¤è€ƒç”Ÿå·ä¸º %d çš„å­¦ç”Ÿä¿¡æ¯.\n"</span>, id)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">"è¯¥idå·çš„è€ƒç”Ÿä¸å­˜åœ¨."</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ˜¾ç¤ºè€ƒç”Ÿ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *Student)</span> <span class="title">show</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">for</span> k, v := <span class="keyword">range</span> allStudent &#123;</span><br><span class="line">    fmt.Printf(<span class="string">"uid: %d å§“å: %s å¹´é¾„: %d\n"</span>, k, v.name, v.age)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="comment">// Step 0.åˆå§‹åŒ–å­˜æ”¾è€ƒç”Ÿä¿¡æ¯çš„Map</span></span><br><span class="line">  allStudent = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int64</span>]*Student, <span class="number">48</span>)</span><br><span class="line">  student := Student&#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Step 1</span></span><br><span class="line">  fmt.Println(<span class="string">"æ¬¢è¿ä½¿ç”¨å­¦ç”Ÿä¿¡æ¯ç³»ç»Ÿç®€å•ç‰ˆæœ¬"</span>)</span><br><span class="line">  fmt.Printf(<span class="string">"åŠŸèƒ½è¯´æ˜: \n1.å¢åŠ å­¦ç”Ÿ\n2.æŸ¥çœ‹å­¦ç”Ÿ\n3.åˆ é™¤å­¦ç”Ÿ\n4.é€€å‡ºç¨‹åº\n\n"</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Step 2</span></span><br><span class="line">  <span class="keyword">for</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">"åŠŸèƒ½é€‰æ‹©: "</span>)</span><br><span class="line">    fmt.Scanln(&amp;flag)</span><br><span class="line">    fmt.Printf(<span class="string">"#ä½ é€‰æ‹©ç¬¬ %d ä¸ªçš„é€‰é¡¹\n"</span>, flag)</span><br><span class="line">    <span class="comment">// step 3</span></span><br><span class="line">    <span class="keyword">switch</span> flag &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">      student.add()  <span class="comment">// ç»“æ„ä½“ä¸­è°ƒç”¨addæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">      student.show()  <span class="comment">// ç»“æ„ä½“ä¸­è°ƒç”¨showæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">      fmt.Printf(<span class="string">"è¯·è¾“å…¥è¦åˆ é™¤çš„å­¦ç”Ÿ uid:"</span>)</span><br><span class="line">      <span class="keyword">var</span> uid <span class="keyword">int64</span></span><br><span class="line">      fmt.Scanln(&amp;uid)</span><br><span class="line">      student.del(uid)  <span class="comment">// ç»“æ„ä½“ä¸­è°ƒç”¨delæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">      fmt.Printf(<span class="string">"ç¨‹åºç»“æŸ :"</span>)</span><br><span class="line">      os.Exit(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      fmt.Printf(<span class="string">"åŠŸèƒ½è¯´æ˜: \n1.å¢åŠ å­¦ç”Ÿ\n2.æŸ¥çœ‹å­¦ç”Ÿ\n3.åˆ é™¤å­¦ç”Ÿ\n4.é€€å‡ºç¨‹åº"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>æ‰§è¡Œç»“æœ:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">åŠŸèƒ½é€‰æ‹©: 1</span><br><span class="line"><span class="comment">#ä½ é€‰æ‹©ç¬¬ 1 ä¸ªçš„é€‰é¡¹</span></span><br><span class="line"><span class="comment">#è¯·è¾“å…¥è€ƒç”Ÿ id name age ä¿¡æ¯ä»¥ç©ºæ ¼åˆ†å‰²ï¼š</span></span><br><span class="line">10086 ç§»åŠ¨ 25</span><br><span class="line">åŠŸèƒ½é€‰æ‹©: 1</span><br><span class="line"><span class="comment">#ä½ é€‰æ‹©ç¬¬ 1 ä¸ªçš„é€‰é¡¹</span></span><br><span class="line"><span class="comment">#è¯·è¾“å…¥è€ƒç”Ÿ id name age ä¿¡æ¯ä»¥ç©ºæ ¼åˆ†å‰²ï¼š</span></span><br><span class="line">10010 è”é€š 24</span><br><span class="line">åŠŸèƒ½é€‰æ‹©: 2</span><br><span class="line"><span class="comment">#ä½ é€‰æ‹©ç¬¬ 2 ä¸ªçš„é€‰é¡¹</span></span><br><span class="line">uid: 10086 å§“å: ç§»åŠ¨ å¹´é¾„: 25</span><br><span class="line">uid: 10010 å§“å: è”é€š å¹´é¾„: 24</span><br><span class="line">åŠŸèƒ½é€‰æ‹©: 3</span><br><span class="line"><span class="comment">#ä½ é€‰æ‹©ç¬¬ 3 ä¸ªçš„é€‰é¡¹</span></span><br><span class="line">è¯·è¾“å…¥è¦åˆ é™¤çš„å­¦ç”Ÿ uid:10010</span><br><span class="line">å·²åˆ é™¤è€ƒç”Ÿå·ä¸º 10010 çš„å­¦ç”Ÿä¿¡æ¯.</span><br><span class="line">åŠŸèƒ½é€‰æ‹©: 2</span><br><span class="line"><span class="comment">#ä½ é€‰æ‹©ç¬¬ 2 ä¸ªçš„é€‰é¡¹</span></span><br><span class="line">uid: 10086 å§“å: ç§»åŠ¨ å¹´é¾„: 25</span><br><span class="line">åŠŸèƒ½é€‰æ‹©: 4</span><br><span class="line"><span class="comment">#ä½ é€‰æ‹©ç¬¬ 4 ä¸ªçš„é€‰é¡¹</span></span><br><span class="line">ç¨‹åºç»“æŸ :<span class="built_in">exit</span> status 1</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>ä½œä¸š4.åè½¬ä¸€ä¸ªå•é“¾è¡¨</strong><br>ç¤ºä¾‹è¯´æ˜: <code>1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL</code>, <code>5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL</code><br>ä»£ç ç¤ºä¾‹:<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="comment">// é“¾è¡¨ç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">type</span> ListNode <span class="keyword">struct</span> &#123;</span><br><span class="line">  val  <span class="keyword">int</span></span><br><span class="line">  Next *ListNode</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åè½¬é“¾è¡¨å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseList</span><span class="params">(head *ListNode)</span> *<span class="title">ListNode</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> pre *ListNode</span><br><span class="line">  cur := head</span><br><span class="line">  <span class="keyword">for</span> cur != <span class="literal">nil</span> &#123;</span><br><span class="line">    tmp := cur.Next <span class="comment">// æŠŠä¸‹ä¸€ä¸ªèŠ‚ç‚¹å­˜æ”¾åˆ°ä¸´æ—¶å˜é‡ä¸­</span></span><br><span class="line">    cur.Next = pre  <span class="comment">// é¦–èŠ‚ç‚¹èµ‹äºˆä¸‹ä¸€æŒ‡å‘èŠ‚ç‚¹ï¼ˆé¦–æ¬¡Nilï¼‰</span></span><br><span class="line">    pre = cur       <span class="comment">// å°†å½“å‰èŠ‚ç‚¹ï¼ˆé¦–æ¬¡valä¸º1çš„åœ°å€ï¼‰èµ‹äºˆpre</span></span><br><span class="line">    cur = tmp       <span class="comment">// å°†ä¸Šé¢ä¸´æ—¶å˜é‡åœ°å€ï¼ˆé¦–æ¬¡valä¸º2çš„åœ°å€ï¼‰èµ‹äºˆcur</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> pre <span class="comment">// è¿”å›åè½¬é“¾è¡¨</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="comment">// 1.å®ä¾‹åŒ–é“¾è¡¨</span></span><br><span class="line">  head := &amp;ListNode&#123;</span><br><span class="line">    val: <span class="number">1</span>,</span><br><span class="line">    Next: &amp;ListNode&#123;</span><br><span class="line">      val: <span class="number">2</span>,</span><br><span class="line">      Next: &amp;ListNode&#123;</span><br><span class="line">        val: <span class="number">3</span>,</span><br><span class="line">        Next: &amp;ListNode&#123;</span><br><span class="line">          val: <span class="number">4</span>,</span><br><span class="line">          Next: &amp;ListNode&#123;</span><br><span class="line">            val:  <span class="number">5</span>,</span><br><span class="line">            Next: <span class="literal">nil</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é“¾è¡¨å®ä¾‹åŒ–å¯¹è±¡å‰¯æœ¬æ‹·è´</span></span><br><span class="line">  header := head</span><br><span class="line">  fmt.Println(<span class="string">"åè½¬å‰é¦–åœ°å€:"</span>, header)</span><br><span class="line">  <span class="keyword">for</span> header != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">"%v-&gt;"</span>, header.val)</span><br><span class="line">    header = header.Next</span><br><span class="line">    <span class="keyword">if</span> header == <span class="literal">nil</span> &#123;</span><br><span class="line">      fmt.Printf(<span class="string">"Nil\n"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.è°ƒç”¨åè½¬é“¾è¡¨</span></span><br><span class="line">  res := reverseList(head)</span><br><span class="line">  fmt.Println(<span class="string">"åè½¬åé¦–åœ°å€:"</span>, res)</span><br><span class="line">  <span class="keyword">for</span> res != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">"%v-&gt;"</span>, res.val)</span><br><span class="line">    res = res.Next</span><br><span class="line">    <span class="keyword">if</span> res == <span class="literal">nil</span> &#123;</span><br><span class="line">      fmt.Printf(<span class="string">"Nil\n"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æ‰§è¡Œç»“æœ:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">åè½¬å‰é¦–åœ°å€: &amp;&#123;1 0xc000046240&#125;</span><br><span class="line">1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;Nil</span><br><span class="line">åè½¬åé¦–åœ°å€: &amp;&#123;5 0xc000046260&#125;</span><br><span class="line">5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;Nil</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="0x08-æ¥å£ç« èŠ‚"><a href="#0x08-æ¥å£ç« èŠ‚" class="headerlink" title="0x08 æ¥å£ç« èŠ‚"></a>0x08 æ¥å£ç« èŠ‚</h2><p><strong>ä½œä¸š1.åˆ©ç”¨æ¥å£æ—¢å¯ä»¥æ±‚ä¸‰è§’å½¢çš„é¢ç§¯ä¹Ÿèƒ½æ±‚æ­£æ–¹å½¢çš„é¢ç§¯</strong><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">  <span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> GarphicArea <span class="keyword">interface</span> &#123;</span><br><span class="line">  Square(<span class="keyword">float64</span>) <span class="keyword">float64</span>                     <span class="comment">// æ­£æ–¹å½¢</span></span><br><span class="line">  Triangle(<span class="keyword">float64</span>, <span class="keyword">float64</span>, <span class="keyword">float64</span>) <span class="keyword">float64</span> <span class="comment">//ä¸‰è§’å½¢</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> GarphicName <span class="keyword">struct</span>&#123; Name <span class="keyword">string</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(g *GarphicName)</span> <span class="title">Square</span><span class="params">(a <span class="keyword">float64</span>)</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">  <span class="comment">// S = a^2</span></span><br><span class="line">  <span class="keyword">return</span> math.Pow(a, <span class="number">2</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(g *GarphicName)</span> <span class="title">Triangle</span><span class="params">(a, b, c <span class="keyword">float64</span>)</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">  <span class="comment">//ï¼ˆæµ·ä¼¦å…¬å¼ï¼‰ï¼ˆp=(a+b+c)/2ï¼‰ S=sqrt[p(p-a)(p-b)(p-c)]</span></span><br><span class="line">  p := (a + b + c) / <span class="number">2</span></span><br><span class="line">  <span class="keyword">return</span> math.Sqrt(p * (p - a) * (p - b) * (p - c))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> ga GarphicArea = &amp;GarphicName&#123;<span class="string">"æ­£æ–¹å½¢"</span>&#125;</span><br><span class="line">  fmt.Println(<span class="string">"æ­£æ–¹å½¢é¢ç§¯: "</span>, ga.Square(<span class="number">4</span>))</span><br><span class="line">  ga = &amp;GarphicName&#123;<span class="string">"ä¸‰è§’å½¢"</span>&#125;</span><br><span class="line">  fmt.Println(<span class="string">"ä¸‰è§’å½¢é¢ç§¯: "</span>, ga.Triangle(<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>æ‰§è¡Œç»“æœ:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æ­£æ–¹å½¢é¢ç§¯:  16</span><br><span class="line">ä¸‰è§’å½¢é¢ç§¯:  6</span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="0x09-åŒ…ç« èŠ‚"><a href="#0x09-åŒ…ç« èŠ‚" class="headerlink" title="0x09 åŒ…ç« èŠ‚"></a>0x09 åŒ…ç« èŠ‚</h2><p><strong>ä½œä¸š1.åˆ©ç”¨åŒ…æ¥å°è£…è°ƒç”¨ä½ç§»è¿ç®—ç¬¦è¿›è¡Œå·¦ç§»æˆ–è€…å³ç§»å¤šå°‘ä½ï¼Œå¹¶è¾“å‡ºå…¶äºŒè¿›åˆ¶è¡¨ç¤ºçš„ç»“æœ</strong><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// # weiyigeek.top/custom/pkg/bitmove.go</span></span><br><span class="line"><span class="comment">// # packeageName bitmove</span></span><br><span class="line"><span class="keyword">package</span> bitmove</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Leftmove</span><span class="params">(n <span class="keyword">int</span>, shift <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">  fmt.Printf(<span class="string">"%v &lt;&lt; %v = %08b\n"</span>, n, shift, n&lt;&lt;shift)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">RightMove</span><span class="params">(n <span class="keyword">int</span>, shift <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">  fmt.Printf(<span class="string">"%v &gt;&gt; %v = %08b\n"</span>, n, shift, n&gt;&gt;shift)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// # ä¸»å…¥å£æ–‡ä»¶æˆ‘ä»¬å¯ä½¿ç”¨importæ¥å¯¼å…¥æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„åŒ…ï¼ˆæ³¨æ„åŒ…ä¸­å±æ€§ã€å‡½æ•°ã€ç»“æ„ä½“ã€æ¥å£éœ€è¦é¦–å­—æ¯å¤§å°æ‰èƒ½è¢«å¤–éƒ¨å¼•ç”¨ï¼‰</span></span><br><span class="line"><span class="comment">// # weiyigeek.top/studygo/homework/2.packeage/displacement.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">  bitmove <span class="string">"weiyigeek.top/custom/pkg"</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  bitmove.Leftmove(<span class="number">4</span>, <span class="number">2</span>)</span><br><span class="line">  bitmove.RightMove(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æ‰§è¡Œç»“æœ:<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span> &lt;&lt; <span class="number">2</span> = <span class="number">00010000</span></span><br><span class="line"><span class="number">10</span> &gt;&gt; <span class="number">2</span> = <span class="number">00000010</span></span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="0x10-Timeç« èŠ‚"><a href="#0x10-Timeç« èŠ‚" class="headerlink" title="0x10 Timeç« èŠ‚"></a>0x10 Timeç« èŠ‚</h2><p><strong>ä½œä¸š1.è·å–å½“å‰æ—¶é—´ï¼Œæ ¼å¼åŒ–è¾“å‡ºä¸º2006/01/02 15:04:05`æ ¼å¼ã€‚</strong></p>
<blockquote>
<p>fmt.Println(â€œå½“å‰æ—¶é—´: â€œ, time.Now().Format(â€œ2006/01/02 15:04:05â€))<br>å½“å‰æ—¶é—´:  2021/09/27 15:02:31</p>
</blockquote>
<p><br></p>
<p><strong>ä½œä¸š2.ç¼–å†™ç¨‹åºç»Ÿè®¡ä¸€æ®µä»£ç çš„æ‰§è¡Œè€—æ—¶æ—¶é—´ï¼Œå•ä½ç²¾ç¡®åˆ°å¾®ç§’ã€‚</strong><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">demo2</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="comment">// å¼€å§‹æ—¶é—´</span></span><br><span class="line">  startTime := time.Now()</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä»1+...+1000ä¹‹å’Œ</span></span><br><span class="line">  sum := <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> i := <span class="number">0</span>; i &lt;= <span class="number">1000</span>; i++ &#123;</span><br><span class="line">    sum += i</span><br><span class="line">  &#125;</span><br><span class="line">  fmt.Println(<span class="string">"ä»1+...+1000ä¹‹å’Œä¸º"</span>, sum)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç»“æŸæ—¶é—´</span></span><br><span class="line">  endTime := time.Now()</span><br><span class="line"></span><br><span class="line">  fmt.Println(<span class="string">"è¯¥æ®µä»£ç è€—æ—¶æ—¶é—´ä¸º:"</span>, endTime.Sub(startTime))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ==== æ‰§è¡Œç»“æœ ====</span></span><br><span class="line">ä»<span class="number">1</span>+...+<span class="number">1000</span>ä¹‹å’Œä¸º <span class="number">500500</span></span><br><span class="line">è¯¥æ®µä»£ç è€—æ—¶æ—¶é—´ä¸º: <span class="number">6.765</span>Âµs</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="0x11-é˜¶æ®µæ€§ç»¼åˆå®è·µ"><a href="#0x11-é˜¶æ®µæ€§ç»¼åˆå®è·µ" class="headerlink" title="0x11 é˜¶æ®µæ€§ç»¼åˆå®è·µ"></a>0x11 é˜¶æ®µæ€§ç»¼åˆå®è·µ</h2><p><strong>æ—¥å¿—åº“</strong><br>ç¨‹åºéœ€æ±‚åˆ†æ:</p>
<ul>
<li>(1) æ”¯æŒå‘ä¸åŒçš„åœ°æ–¹è¾“å‡ºæ—¥å¿—,ä¾‹å¦‚æ–‡ä»¶æˆ–è€…ç»ˆç«¯<code>stdout</code>ã€‚</li>
<li>(2) æ—¥å¿—å¤šçº§åˆ«å±•ç¤º,ä¾‹å¦‚<code>Debug/Trace/Info/Warning/Error/Falat</code></li>
<li>(3) å¼€å‘æµ‹è¯•ä¸çº¿ä¸Šç”Ÿäº§å®šä¹‰æ˜¾ç¤ºçº§åˆ«(Info åŠä»¥ä¸Š)ã€‚</li>
<li>(4) æ—¥å¿—å‡ºç°å¼‚å¸¸æ—¶é—´ï¼Œå¼‚å¸¸é”™è¯¯æ–‡ä»¶ï¼Œå‡½æ•°åŠå…¶è¡Œæ•°ã€‚</li>
<li>(5) æ—¥å¿—æ–‡ä»¶åˆ‡å‰²(æŒ‰ç…§å°æ—¶ã€å¤©ã€æ–‡ä»¶å¤§å°åˆ‡å‰²)</li>
</ul>
<p><br/></p>
<p>é¡¹ç›®ä»£ç æ¼”ç¤º:</p>
<ul>
<li>(1) weiyigeek.top/custom/mlogger/consolelogger.go</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> mlogger</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"errors"</span></span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">  <span class="string">"path"</span></span><br><span class="line">  <span class="string">"runtime"</span></span><br><span class="line">  <span class="string">"strings"</span></span><br><span class="line">  <span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.è‡ªå®šä¹‰æ—¥å¿—åº“ç­‰çº§</span></span><br><span class="line"><span class="keyword">type</span> Loglevel <span class="keyword">uint8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">  UNKNOWN Loglevel = <span class="literal">iota</span></span><br><span class="line">  DEBUG</span><br><span class="line">  TRACE</span><br><span class="line">  INFO</span><br><span class="line">  WARNING</span><br><span class="line">  ERROR</span><br><span class="line">  FATAL</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.è§£ææ—¥å¿—ç­‰çº§æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">parseLogLevel</span><span class="params">(s <span class="keyword">string</span>)</span> <span class="params">(Loglevel, error)</span></span> &#123;</span><br><span class="line">  s = strings.ToUpper(s)</span><br><span class="line">  <span class="keyword">switch</span> s &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">"DEBUG"</span>:</span><br><span class="line">    <span class="keyword">return</span> DEBUG, <span class="literal">nil</span></span><br><span class="line">  <span class="keyword">case</span> <span class="string">"TRACE"</span>:</span><br><span class="line">    <span class="keyword">return</span> TRACE, <span class="literal">nil</span></span><br><span class="line">  <span class="keyword">case</span> <span class="string">"INFO"</span>:</span><br><span class="line">    <span class="keyword">return</span> INFO, <span class="literal">nil</span></span><br><span class="line">  <span class="keyword">case</span> <span class="string">"WARNING"</span>:</span><br><span class="line">    <span class="keyword">return</span> WARNING, <span class="literal">nil</span></span><br><span class="line">  <span class="keyword">case</span> <span class="string">"ERROR"</span>:</span><br><span class="line">    <span class="keyword">return</span> ERROR, <span class="literal">nil</span></span><br><span class="line">  <span class="keyword">case</span> <span class="string">"FATAL"</span>:</span><br><span class="line">    <span class="keyword">return</span> FATAL, <span class="literal">nil</span></span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="comment">// ä¸»æ„ä¸èƒ½ä»¥æ ‡ç‚¹ç¬¦å·æ¥ç»“æŸé”™è¯¯ä¿¡æ¯æŠ›å‡º</span></span><br><span class="line">    err := errors.New(<span class="string">"æ— æ•ˆçš„æ—¥å¿—çº§åˆ«-Log Levels Error"</span>)</span><br><span class="line">    <span class="keyword">return</span> UNKNOWN, err</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.ConsoleLoggerç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">type</span> ConsoleLogger <span class="keyword">struct</span> &#123;</span><br><span class="line">  level Loglevel</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.ConsoleLoggerç»“æ„ä½“æ„é€ æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewConsoleLog</span><span class="params">(level <span class="keyword">string</span>)</span> <span class="title">ConsoleLogger</span></span> &#123;</span><br><span class="line">  logLevel, err := parseLogLevel(level)</span><br><span class="line">  <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Print(err)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è¿”å›ConsoleLoggerç»“æ„ä½“å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">return</span> ConsoleLogger&#123;</span><br><span class="line">    level: logLevel,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5.è§£ææ—¥å¿—ç­‰çº§å­—ç¬¦ä¸²åç§°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getLevelName</span><span class="params">(lv Loglevel)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">  <span class="keyword">switch</span> lv &#123;</span><br><span class="line">  <span class="keyword">case</span> DEBUG:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"DEBUG"</span></span><br><span class="line">  <span class="keyword">case</span> TRACE:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"TRACE"</span></span><br><span class="line">  <span class="keyword">case</span> INFO:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"INFO"</span></span><br><span class="line">  <span class="keyword">case</span> WARNING:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"WARNING"</span></span><br><span class="line">  <span class="keyword">case</span> ERROR:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"ERROR"</span></span><br><span class="line">  <span class="keyword">case</span> FATAL:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"FATAL"</span></span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"UNKNOWN"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 6.è·å–é”™è¯¯çš„å‡½æ•°å æ–‡ä»¶ ä»¥åŠ è¡Œå·çš„æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getFileLine</span><span class="params">(skip <span class="keyword">int</span>)</span> <span class="params">(funcName, fileName <span class="keyword">string</span>, lineNum <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">  pc, fileName, lineNum, ok := runtime.Caller(skip)</span><br><span class="line">  <span class="keyword">if</span> !ok &#123;</span><br><span class="line">    fmt.Printf(<span class="string">"Runtime,Caller() failed\n"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  funcName = runtime.FuncForPC(pc).Name()</span><br><span class="line">  fileName = path.Base(fileName)</span><br><span class="line">  funcName = strings.Split(funcName, <span class="string">"."</span>)[<span class="number">1</span>]</span><br><span class="line">  <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 7.æ—¥å¿—æ˜¾ç¤ºçš„ç­‰çº§(å½“å‰æ—¥å¿—çº§åˆ«å¤§ä¼ å…¥çš„æ—¥å¿—çº§åˆ«åˆ™æ˜¾ç¤º)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l ConsoleLogger)</span> <span class="title">enable</span><span class="params">(Loglevel Loglevel)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">  <span class="keyword">return</span> Loglevel &gt;= l.level</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 8.å‘ç»ˆç«¯æ‰“å°æ—¥å¿—çš„æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printLogs</span><span class="params">(lv, format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">  <span class="comment">// é”™è¯¯ä¿¡æ¯æ‹¼æ¥</span></span><br><span class="line">  msg := fmt.Sprintf(format, custom...)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ—¶é—´&amp;æ—¶åŒº</span></span><br><span class="line">  now := time.Now()</span><br><span class="line">  <span class="comment">//timezone, _ := time.LoadLocation("Asia/Shanghai")</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// é”™è¯¯æ–‡ä»¶ä»¥åŠå‡½æ•°åç§°</span></span><br><span class="line">  funcName, fileName, linwNum := getFileLine(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">  fmt.Printf(<span class="string">"[%s] [%s] [%s:%s:%d] %s \n"</span>, now.Format(<span class="string">"2006-01-02 15:04:05"</span>), lv, fileName, funcName, linwNum, msg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 9.å„æ—¥å¿—ç­‰çº§æ‰“å°</span></span><br><span class="line"><span class="comment">// Debug</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l ConsoleLogger)</span> <span class="title">Debug</span><span class="params">(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">  <span class="comment">// æ»¡è¶³ç­‰çº§åˆ™æ‰“å°æ—¥å¿—</span></span><br><span class="line">  <span class="keyword">if</span> l.enable(DEBUG) &#123;</span><br><span class="line">    printLogs(<span class="string">"DEBUG"</span>, format, custom...)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Trace</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l ConsoleLogger)</span> <span class="title">Trace</span><span class="params">(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">  <span class="comment">// æ»¡è¶³ç­‰çº§åˆ™æ‰“å°æ—¥å¿—</span></span><br><span class="line">  <span class="keyword">if</span> l.enable(TRACE) &#123;</span><br><span class="line">    printLogs(<span class="string">"TRACE"</span>, format, custom...)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Info</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l ConsoleLogger)</span> <span class="title">Info</span><span class="params">(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">  <span class="comment">// æ»¡è¶³ç­‰çº§åˆ™æ‰“å°æ—¥å¿—</span></span><br><span class="line">  <span class="keyword">if</span> l.enable(INFO) &#123;</span><br><span class="line">    printLogs(<span class="string">"INFO"</span>, format, custom...)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Error</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l ConsoleLogger)</span> <span class="title">Error</span><span class="params">(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">  <span class="comment">// æ»¡è¶³ç­‰çº§åˆ™æ‰“å°æ—¥å¿—</span></span><br><span class="line">  <span class="keyword">if</span> l.enable(ERROR) &#123;</span><br><span class="line">    printLogs(<span class="string">"ERROR"</span>, format, custom...)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Warning</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l ConsoleLogger)</span> <span class="title">Warning</span><span class="params">(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">  <span class="comment">// æ»¡è¶³ç­‰çº§åˆ™æ‰“å°æ—¥å¿—</span></span><br><span class="line">  <span class="keyword">if</span> l.enable(WARNING) &#123;</span><br><span class="line">    printLogs(<span class="string">"WARNING"</span>, format, custom...)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Falat</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l ConsoleLogger)</span> <span class="title">Falat</span><span class="params">(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">  <span class="comment">// æ»¡è¶³ç­‰çº§åˆ™æ‰“å°æ—¥å¿—</span></span><br><span class="line">  <span class="keyword">if</span> l.enable(FATAL) &#123;</span><br><span class="line">    printLogs(<span class="string">"FATAL"</span>, format, custom...)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•æ¥å£å®šä¹‰</span></span><br><span class="line"><span class="keyword">type</span> Logger <span class="keyword">interface</span> &#123;</span><br><span class="line">  Debug(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">  Trace(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">  Info(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">  Warning(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">  Error(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">  Falat(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br/></p>
<ul>
<li>(2) weiyigeek.top/custom/mlogger/filelogger.go<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> mlogger</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸»è¦å‘æ–‡ä»¶é‡Œå†™å…¥æ—¥å¿—ç›¸å…³ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">  <span class="string">"os"</span></span><br><span class="line">  <span class="string">"path"</span></span><br><span class="line">  <span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.æ–‡ä»¶è®°å½•æ—¥å¿—ç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">type</span> FileLogger <span class="keyword">struct</span> &#123;</span><br><span class="line">  level       Loglevel</span><br><span class="line">  filePath    <span class="keyword">string</span></span><br><span class="line">  fileName    <span class="keyword">string</span></span><br><span class="line">  fileObj     *os.File</span><br><span class="line">  errFileObj  *os.File</span><br><span class="line">  maxFileSize <span class="keyword">int64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.æ–‡ä»¶æ—¥å¿—æ„é€ æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewFileLogger</span><span class="params">(levelStr, fp, fn <span class="keyword">string</span>, maxSize <span class="keyword">int64</span>)</span> *<span class="title">FileLogger</span></span> &#123;</span><br><span class="line">  <span class="comment">// è§£ææ—¥å¿—ç­‰çº§</span></span><br><span class="line">  Loglevel, err := parseLogLevel(levelStr)</span><br><span class="line">  <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">panic</span>(err)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ–‡ä»¶æ—¥å¿—ç»“æ„ä½“å¯¹è±¡</span></span><br><span class="line">  fobj := &amp;FileLogger&#123;</span><br><span class="line">    level:       Loglevel,</span><br><span class="line">    filePath:    fp,</span><br><span class="line">    fileName:    fn,</span><br><span class="line">    maxFileSize: maxSize,</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–æ–‡ä»¶æ—¥å¿—æ–‡ä»¶å¥æŸ„</span></span><br><span class="line">  initErr := fobj.init()</span><br><span class="line">  <span class="keyword">if</span> initErr != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">panic</span>(initErr)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¿”å›å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">return</span> fobj</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.æ–‡ä»¶æ—¥å¿—æ˜¾ç¤ºçš„ç­‰çº§æ§åˆ¶æ–¹æ³•(å½“å‰æ—¥å¿—çº§åˆ«å¤§ä¼ å…¥çš„æ—¥å¿—çº§åˆ«åˆ™æ˜¾ç¤º)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f FileLogger)</span> <span class="title">enable</span><span class="params">(Loglevel Loglevel)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">  <span class="keyword">return</span> Loglevel &gt;= f.level</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.åˆå§‹åŒ–æ–‡ä»¶æ—¥å¿—æ–‡ä»¶å¥æŸ„æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *FileLogger)</span> <span class="title">init</span><span class="params">()</span> <span class="title">error</span></span> &#123;</span><br><span class="line">  <span class="comment">// é€šç”¨æ—¥å¿—åç§°ä¸é”™è¯¯æ—¥å¿—åç§°è·¯å¾„æ‹¼æ¥</span></span><br><span class="line">  fullName := path.Join(f.filePath, f.fileName) + <span class="string">".logs"</span></span><br><span class="line">  fullErrName := path.Join(f.filePath, f.fileName) + <span class="string">".err.logs"</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ›å»ºæ–‡ä»¶å¥æŸ„å¹¶</span></span><br><span class="line">  fileObj, err := os.OpenFile(fullName, os.O_APPEND|os.O_CREATE|os.O_WRONLY, <span class="number">0644</span>)</span><br><span class="line">  <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">"Open Logs file failed, err : %v \n"</span>, err)</span><br><span class="line">    <span class="keyword">return</span> err</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  errFileObj, err := os.OpenFile(fullErrName, os.O_APPEND|os.O_CREATE|os.O_WRONLY, <span class="number">0644</span>)</span><br><span class="line">  <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">"Open Error logs file failed, err : %v \n"</span>, err)</span><br><span class="line">    <span class="keyword">return</span> err</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// èµ‹å€¼å…¶å¯¹è±¡</span></span><br><span class="line">  f.fileObj = fileObj</span><br><span class="line">  f.errFileObj = errFileObj</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5.éªŒè¯æ–‡ä»¶çš„å¤§å°æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *FileLogger)</span> <span class="title">checkFileSize</span><span class="params">(file *os.File)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">  <span class="comment">// æ–‡ä»¶ä¿¡æ¯è¿”å›çš„æ˜¯ç»“æ„ä½“</span></span><br><span class="line">  fileInfo, err := file.Stat()</span><br><span class="line">  <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">"checkFileSize - Get file info failed, err : %v \n"</span>, err)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å¦‚æœå½“å‰æ–‡ä»¶çš„å¤§å°å€¼å¤§äºè¿”å›True,åˆ™è¿›è¡Œåˆ‡å‰²</span></span><br><span class="line">  <span class="keyword">if</span> fileInfo.Size() &gt; f.maxFileSize &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 6.è¿›è¡Œæ—¥å¿—æ–‡ä»¶çš„åˆ‡å‰²æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *FileLogger)</span> <span class="title">SplitFile</span><span class="params">(file *os.File)</span> <span class="params">(*os.File, error)</span></span> &#123;</span><br><span class="line">  <span class="comment">// 1) è·å–æ–‡ä»¶å¥æŸ„ä¿¡æ¯å¹¶å…³é—­å½“å‰æ—¥å¿—æ–‡ä»¶</span></span><br><span class="line">  fileInfo, err := file.Stat()</span><br><span class="line">  <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">"SplitFile - Get file info failed, err : %v \n"</span>, err)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">  &#125;</span><br><span class="line">  nowStr := time.Now().Format(<span class="string">"2006-01-02_150405"</span>)</span><br><span class="line">  LogName := path.Join(f.filePath, fileInfo.Name())</span><br><span class="line">  newLogName := fmt.Sprintf(<span class="string">"%s.bak.%s"</span>, LogName, nowStr)</span><br><span class="line">  file.Close()</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2) å¤‡ä»½å¹¶é‡å‘½åæ—¥å¿—æ–‡ä»¶</span></span><br><span class="line">  os.Rename(LogName, newLogName)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3) é‡æ–°æ‰“å¼€ä¸€ä¸ªæ–°çš„æ—¥å¿—æ–‡ä»¶</span></span><br><span class="line">  fileObj, err := os.OpenFile(LogName, os.O_APPEND|os.O_CREATE|os.O_WRONLY, <span class="number">0644</span>)</span><br><span class="line">  <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">"Open New Logs file failed, err : %v \n"</span>, err)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 4) å°†å¯¹è±¡è¿›è¡Œè¿”å›</span></span><br><span class="line">  <span class="keyword">return</span> fileObj, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 7.å°†æ—¥å¿—åˆ†åˆ«æ‰“å°è¿›å¯¹åº”çš„æ–‡ä»¶ä¹‹ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *FileLogger)</span> <span class="title">printLogs</span><span class="params">(level Loglevel, format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span> <span class="title">error</span></span> &#123;</span><br><span class="line">  <span class="comment">// 1) åˆ¤æ–­æ—¥å¿—ç­‰çº§æ˜¯å¦æ»¡è¶³æŒ‡å®šç­‰çº§ä¹‹ä¸Šçš„è¦æ±‚</span></span><br><span class="line">  <span class="keyword">if</span> f.enable(level) &#123;</span><br><span class="line">    <span class="comment">// 2) å¼‚å¸¸ä¿¡æ¯</span></span><br><span class="line">    msg := fmt.Sprintf(format, custom...)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3) æ—¶é—´ä¸æ—¶åŒº</span></span><br><span class="line">    now := time.Now()</span><br><span class="line">    <span class="comment">//timezone, _ := time.LoadLocation("Asia/Shanghai")</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4) å¼‚å¸¸æ–‡ä»¶å‡½æ•°ä¿¡æ¯</span></span><br><span class="line">    funcName, fileName, linwNum := getFileLine(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5) é€šç”¨æ—¥å¿—æ–‡ä»¶åˆ‡å‰²åˆ¤æ–­åŠè¾“å…¥</span></span><br><span class="line">    <span class="keyword">if</span> f.checkFileSize(f.fileObj) &#123;</span><br><span class="line">      f.fileObj, _ = f.SplitFile(f.fileObj)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Fprintf(f.fileObj, <span class="string">"[%s] [%s] [%s:%s:%d] %s \n"</span>, now.Format(<span class="string">"2006-01-02 15:04:05"</span>), getLevelName(level), fileName, funcName, linwNum, msg)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 6) ä¸¥é‡ä¸é”™è¯¯æ—¥å¿—æ–‡ä»¶åˆ‡å‰²åˆ¤æ–­åŠè¾“å…¥</span></span><br><span class="line">    <span class="keyword">if</span> level &gt;= ERROR &#123;</span><br><span class="line">      <span class="keyword">if</span> f.checkFileSize(f.errFileObj) &#123;</span><br><span class="line">        f.errFileObj, _ = f.SplitFile(f.errFileObj)</span><br><span class="line">      &#125;</span><br><span class="line">      fmt.Fprintf(f.errFileObj, <span class="string">"[%s] [%s] [%s:%s:%d] %s \n"</span>, now.Format(<span class="string">"2006-01-02 15:04:05"</span>), getLevelName(level), fileName, funcName, linwNum, msg)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 8.æ—¥å¿—ç­‰çº§è°ƒç”¨åˆ†åˆ«æ–¹æ³•</span></span><br><span class="line"><span class="comment">// Debug</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *FileLogger)</span> <span class="title">Debug</span><span class="params">(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">  f.printLogs(DEBUG, format, custom...)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Trace</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *FileLogger)</span> <span class="title">Trace</span><span class="params">(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">  f.printLogs(TRACE, format, custom...)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Info</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *FileLogger)</span> <span class="title">Info</span><span class="params">(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">  f.printLogs(INFO, format, custom...)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Error</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *FileLogger)</span> <span class="title">Error</span><span class="params">(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">  f.printLogs(ERROR, format, custom...)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Warning</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *FileLogger)</span> <span class="title">Warning</span><span class="params">(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">  f.printLogs(WARNING, format, custom...)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Falat</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *FileLogger)</span> <span class="title">Falat</span><span class="params">(format <span class="keyword">string</span>, custom ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">  f.printLogs(FATAL, format, custom...)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *FileLogger)</span> <span class="title">Close</span><span class="params">()</span></span> &#123;</span><br><span class="line">  f.fileObj.Close()</span><br><span class="line">  f.errFileObj.Close()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><br/></p>
<ul>
<li>(3) main.go<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**è‡ªå®šä¹‰æ—¥å¿—åº“è°ƒç”¨æ¼”ç¤ºå…¥å£**/</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"time"</span></span><br><span class="line">  <span class="string">"weiyigeek.top/custom/mlogger"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¤ºä¾‹1.å‘ç»ˆç«¯ä¸­è¿›è¡Œæ—¥å¿—ä¿¡æ¯çš„æ‰“å°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">demo1</span><span class="params">()</span></span> &#123;</span><br><span class="line">  log := mlogger.NewConsoleLog(<span class="string">"Debug"</span>)</span><br><span class="line">  <span class="keyword">for</span> &#123;</span><br><span class="line">    log.Debug(<span class="string">"Debug æ—¥å¿—: %s"</span>, <span class="string">"Deveploment Debug"</span>)</span><br><span class="line">    log.Trace(<span class="string">"Trace æ—¥å¿—: %s"</span>, <span class="string">"Deveploment Trace"</span>)</span><br><span class="line">    log.Info(<span class="string">"Info æ—¥å¿—: %s,%d"</span>, <span class="string">"Production Info"</span>, <span class="number">1024</span>)</span><br><span class="line">    log.Warning(<span class="string">"Warning æ—¥å¿—: %s"</span>, <span class="string">"Production Warning"</span>)</span><br><span class="line">    log.Error(<span class="string">"Error æ—¥å¿—: %s"</span>, <span class="string">"Production Error"</span>)</span><br><span class="line">    log.Falat(<span class="string">"Falat æ—¥å¿—: %s"</span>, <span class="string">"Production Falat"</span>)</span><br><span class="line">    time.Sleep(time.Second * <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¤ºä¾‹2.å°†æ—¥å¿—ä¿¡æ¯è¾“å…¥åˆ°æ–‡ä»¶ä¹‹ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">demo2</span><span class="params">()</span></span> &#123;</span><br><span class="line">  log := mlogger.NewFileLogger(<span class="string">"INFO"</span>, <span class="string">"./"</span>, <span class="string">"weiyigeek"</span>, <span class="number">5</span>*<span class="number">1024</span>)</span><br><span class="line">  <span class="keyword">for</span> &#123;</span><br><span class="line">    log.Debug(<span class="string">"Debug æ—¥å¿—: %s"</span>, <span class="string">"FileLogger - å¼€å‘ç¯å¢ƒæ—¥å¿—åŸºçº§åˆ« Debug"</span>)</span><br><span class="line">    log.Trace(<span class="string">"Trace æ—¥å¿—: %s"</span>, <span class="string">"FileLogger - å¼€å‘ç¯å¢ƒæ—¥å¿—åŸºçº§åˆ« Trace"</span>)</span><br><span class="line">    log.Info(<span class="string">"Info æ—¥å¿—: %s,%d"</span>, <span class="string">"FileLogger - ç”Ÿäº§ç¯å¢ƒæ—¥å¿—åŸºçº§åˆ« Info"</span>, <span class="number">1024</span>)</span><br><span class="line">    log.Warning(<span class="string">"Warning æ—¥å¿—: %s"</span>, <span class="string">"FileLogger - ç”Ÿäº§ç¯å¢ƒæ—¥å¿—åŸºçº§åˆ« Warning"</span>)</span><br><span class="line">    log.Error(<span class="string">"Error æ—¥å¿—: %s"</span>, <span class="string">"FileLogger - ç”Ÿäº§ç¯å¢ƒæ—¥å¿—åŸºçº§åˆ« Error"</span>)</span><br><span class="line">    log.Falat(<span class="string">"Falat æ—¥å¿—: %s"</span>, <span class="string">"FileLogger - ç”Ÿäº§ç¯å¢ƒæ—¥å¿—åŸºçº§åˆ« Falat"</span>)</span><br><span class="line">    time.Sleep(time.Second * <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  demo1()</span><br><span class="line">  demo2()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>è¿è¡Œç»“æœ:<br><figure class="image-box">
                <a rel=1.Goè¯­è¨€ç¼–ç¨‹å­¦ä¹ è¯¾åå®è·µ href="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2021/5/20211021101428.png" target="_blank" title="WeiyiGeek.Loggerä¸¤ç§å®ç°æ–¹å¼" data-fancybox="images"><img src="https://cdn.jsdelivr.net/gh/WeiyiGeek/blogimage/2021/5/20211021101428.png" alt="WeiyiGeek.Loggerä¸¤ç§å®ç°æ–¹å¼" title="" class=""></a>
                <p>WeiyiGeek.Loggerä¸¤ç§å®ç°æ–¹å¼</p>
            </figure></p>

        </div>
        
  <hr>
  <p> æ¬¢è¿å„ä½å¿—åŒé“åˆçš„æœ‹å‹ä¸€èµ·å­¦ä¹ äº¤æµï¼Œå¦‚æ–‡ç« æœ‰è¯¯è¯·åœ¨ä¸‹æ–¹ç•™ä¸‹æ‚¨å®è´µçš„ç»éªŒçŸ¥è¯†ï¼Œä¸ªäººé‚®ç®±åœ°å€<b style="color:#ff654e"><code>ã€master#weiyigeek.topã€‘</code></b>æˆ–è€…ä¸ªäººå…¬ä¼—å·<b style="color:#ff654e"><code>ã€WeiyiGeekã€‘</code></b>è”ç³»æˆ‘ã€‚ </p>

  <p> æ›´å¤šæ–‡ç« æ¥æºäº<b style="color:#03a9f4">ã€WeiyiGeek Blog - ä¸ºäº†èƒ½åˆ°è¿œæ–¹ï¼Œè„šä¸‹çš„æ¯ä¸€æ­¥éƒ½ä¸èƒ½å°‘ã€‘</b>, ä¸ªäººé¦–é¡µåœ°å€( <a style="color: #03a9f4;" href="https://weiyigeek.top" target="_blank"> https://weiyigeek.top </a> )</p>

  <p>ä¸“æ ä¹¦å†™ä¸æ˜“ï¼Œå¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªä¸“æ è¿˜ä¸é”™çš„ï¼Œè¯·ç»™è¿™ç¯‡ä¸“æ  <b style="color: red;">ã€ç‚¹ä¸ªèµã€æŠ•ä¸ªå¸ã€æ”¶ä¸ªè—ã€å…³ä¸ªæ³¨ï¼Œè½¬ä¸ªå‘ã€‘(äººé—´äº”å¤§æƒ…)</b>ï¼Œè¿™å°†å¯¹æˆ‘çš„è‚¯å®šï¼Œè°¢è°¢ï¼ã€‚</p>

  <div>
    <img src="https://www.weiyigeek.top/img/weiyigeek.jpg" class="img-responsive" alt="WeiyiGeek-banner">
  </div>

  <ul style="font-weight: bolder;">
    <li>
      <p><span style="color: #03a9f4">echo&nbsp;&nbsp;"ã€ç‚¹ä¸ªèµã€‘ï¼ŒåŠ¨åŠ¨ä½ é‚£ç²—å£®çš„æ‹‡æŒ‡æˆ–è€…èŠŠèŠŠç‰æ‰‹ï¼Œäº²ï¼"</span></p>
    </li>
    <li>
      <p><span style="color: #ff9201">printf("%s",&nbsp;"ã€æŠ•ä¸ªå¸ã€‘ï¼Œä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼ŒæŠ•ä¸ªç¡¬å¸è¡Œä¸è¡Œï¼Œäº²ï¼")</span></p>
    </li>
    <li>
      <p><span style="color: #02a2ff">fmt.Printf("ã€æ”¶ä¸ªè—ã€‘ï¼Œé˜…åå³ç„šä¸åƒç°ï¼Œäº²ï¼")&nbsp;&nbsp;</span></p>
    </li>
    <li>
      <p><span style="color:red">console.info("ã€è½¬ä¸ªå‘ã€‘ï¼Œè®©æ›´å¤šçš„å¿—åŒé“åˆçš„æœ‹å‹ä¸€èµ·å­¦ä¹ äº¤æµï¼Œäº²ï¼")</span></p>
    </li>
    <li>
      <p><span style="color: #ff654e">System.out.println("ã€å…³ä¸ªæ³¨ã€‘ï¼Œåç»­æµè§ˆæŸ¥çœ‹ä¸è¿·è·¯å“Ÿï¼Œäº²ï¼")</span></p>
    </li>
  </ul>

  <div>
    <img src="/img/wechat-search.png" class="img-responsive" alt="æ‰«æFollow(å…³æ³¨)WeiyiGeekå…¬ä¼—å·"  width="380" height="170">
    <img src="/img/wechat-app.png" class="img-responsive" alt="æ‰«æVisit(æµè§ˆ)æå®¢å…¨æ ˆä¿®ç‚¼å°ç¨‹åº"  width="385" height="170">
  </div>
  <hr>
  

  <blockquote class="post-copyright">
    <div class="content">
      
        
<span class="post-time">
    æœ€åæ›´æ–°æ—¶é—´ï¼š<time datetime="2022-03-29T05:39:06.304Z" itemprop="dateUpdated">2022-03-29 13:39:06</time>
</span><br>


        <span>æ–‡ç« åŸå§‹è·¯å¾„ï¼š<a href="https://github.com/WeiyiGeek/blog/edit/master/source/_posts/ç¼–ç¨‹ä¸–ç•Œ/Go/Example/1.Goè¯­è¨€ç¼–ç¨‹å­¦ä¹ è¯¾åå®è·µ.md" target="_blank" rel="noopener noreferrer">_posts/ç¼–ç¨‹ä¸–ç•Œ/Go/Example/1.Goè¯­è¨€ç¼–ç¨‹å­¦ä¹ è¯¾åå®è·µ.md</a></span><br>
         <span class="copy-copyright">è½¬è½½æ³¨æ˜å‡ºå¤„ï¼ŒåŸæ–‡åœ°å€ï¼š<a href="/2020/4-25-603.html" target="_blank" rel="external">https://blog.weiyigeek.top/2020/4-25-603.html</a></span><br>æœ¬ç«™æ–‡ç« å†…å®¹éµå¾ª <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">çŸ¥è¯†å…±äº« ç½²å - éå•†ä¸šæ€§ - ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…åè®®</a> 
    </div>
    <footer>
      <a href="https://blog.weiyigeek.top">
        <img src="/img/avatar.jpg" alt="WeiyiGeek">
        WeiyiGeek
      </a>
    </footer>
  </blockquote>


        
            <div class="page-reward">
  <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-rectangle waves-light">ğŸ‘ é’Ÿæ„ä½œè€…</a>
</div>
            
        
        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Go/" rel="tag">Go</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2020/4-25-603.html&title=ã€Š1.Goè¯­è¨€ç¼–ç¨‹å­¦ä¹ è¯¾åå®è·µã€‹ â€” WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2020/4-25-603.html&title=ã€Š1.Goè¯­è¨€ç¼–ç¨‹å­¦ä¹ è¯¾åå®è·µã€‹ â€” WeiyiGeek Blog&source=[TOC]" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2020/4-25-603.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€Š1.Goè¯­è¨€ç¼–ç¨‹å­¦ä¹ è¯¾åå®è·µã€‹ â€” WeiyiGeek Blog&url=https://blog.weiyigeek.top/2020/4-25-603.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2020/4-25-603.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
          <!-- è¯„è®ºç»„ä»¶ -->


<div id="gitalk-container"></div>
<script type="text/javascript" src="/js/plugins/gitalk.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/custom/gitalk.init.js?v=1.6.6"></script>
        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/2020/4-25-600.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Goç¼–ç¨‹ä¹‹ç›¸å…³å‘½ä»¤å·¥å…·è®°å½•</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/2020/4-24-598.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">9.Goç¼–ç¨‹å¿«é€Ÿå…¥é—¨å­¦ä¹ </h4>
      </a>
    </div>
  
</nav>


    
    
        <aside class="post-widget">
            <nav class="post-toc-wrap" id="post-toc">
                <strong>ç›®å½•</strong>
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x01-å˜é‡ç±»å‹ç« èŠ‚"><span class="post-toc-number">1.</span> <span class="post-toc-text">0x01 å˜é‡ç±»å‹ç« èŠ‚</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x02-è¿ç®—ç¬¦ä¸æµç¨‹æ§åˆ¶ç« èŠ‚"><span class="post-toc-number">2.</span> <span class="post-toc-text">0x02 è¿ç®—ç¬¦ä¸æµç¨‹æ§åˆ¶ç« èŠ‚</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x03-æ•°ç»„ç« èŠ‚"><span class="post-toc-number">3.</span> <span class="post-toc-text">0x03 æ•°ç»„ç« èŠ‚</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x04-åˆ‡ç‰‡ç« èŠ‚"><span class="post-toc-number">4.</span> <span class="post-toc-text">0x04 åˆ‡ç‰‡ç« èŠ‚</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x05-æ˜ å°„ç« èŠ‚"><span class="post-toc-number">5.</span> <span class="post-toc-text">0x05 æ˜ å°„ç« èŠ‚</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x06-å‡½æ•°ç« èŠ‚"><span class="post-toc-number">6.</span> <span class="post-toc-text">0x06 å‡½æ•°ç« èŠ‚</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x07-ç»“æ„ä½“ç« èŠ‚"><span class="post-toc-number">7.</span> <span class="post-toc-text">0x07 ç»“æ„ä½“ç« èŠ‚</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x08-æ¥å£ç« èŠ‚"><span class="post-toc-number">8.</span> <span class="post-toc-text">0x08 æ¥å£ç« èŠ‚</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x09-åŒ…ç« èŠ‚"><span class="post-toc-number">9.</span> <span class="post-toc-text">0x09 åŒ…ç« èŠ‚</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x10-Timeç« èŠ‚"><span class="post-toc-number">10.</span> <span class="post-toc-text">0x10 Timeç« èŠ‚</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x11-é˜¶æ®µæ€§ç»¼åˆå®è·µ"><span class="post-toc-number">11.</span> <span class="post-toc-text">0x11 é˜¶æ®µæ€§ç»¼åˆå®è·µ</span></a></li></ol>
            </nav>
            <div class="toc-bar"><div>
        </aside>
    
</article>

  <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        å¦‚æœæ­¤ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¿˜è¯·æ”¯æŒä¸€ä¸‹åšä¸»å“Ÿ, è°¢è°¢å„ä½çœ‹å‹â™¥!
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardwechat" src="/img/reward-wechat.jpg" height="250" height="250" alt="å¾®ä¿¡æ‰“èµäºŒç»´ç ">
            <img id="rewardalipay" src="/img/reward-alipay.png" height="250" height="250" alt="æ”¯ä»˜å®æ‰“èµäºŒç»´ç ">
        </div>
        
        <label class="reward-toggle">
            <!-- <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/reward-wechat.jpg" data-alipay="/img/reward-alipay.png"> -->
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">å¾®ä¿¡</span>
                <span class="reward-toggle-item alipay">æ”¯ä»˜å®</span>
            </div>
        </label>
        
    </div>
</div>

  
 <!-- å¾®ä¿¡å…¬ä¼—å·å…³æ³¨/æ–‡ç« ç‰ˆæƒå¤åˆ¶ -->

  <div id="btw-mask" style="position: fixed; top: 0px; right: 0px; bottom: 0px; left: 0px; opacity: 0.7; z-index: 999; background: rgb(0, 0, 0); display:none"></div>
<div id="btw-modal" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 360px; text-align: center; font-size: 13px; background: rgb(255, 255, 255); border-radius: 10px; z-index: 9999; font-family: PingFangSC-Regular, sans-serif;display:none">
<span id="btw-modal-close-btn" style="position: absolute; top: 5px; right: 15px; line-height: 1.8; font-size: 15px; cursor: pointer; opacity: 0.2; z-index: 9999; color: rgb(0, 0, 0); background: none; border: none; outline: none;">X</span>
<p id="btw-modal-header" style="margin-top: 40px; line-height: 1.8; font-size: 13px; ">
<b style="color:#6190e8;">ä½ å¥½æœ‹å‹,å¯ä»¥å…³ä¸ªæ³¨å—? â¤ <br> è¿™å°†æ˜¯æˆ‘æŒç»­æ›´æ–°æ–‡ç« çš„åŠ¨åŠ›æºæ³‰ï¼Œè°¢è°¢æ”¯æŒï¼(à¹‘â€²á´—â€µà¹‘) </b> <br> å¦‚ä¸æƒ³å…³æ³¨è¯·ç‚¹å‡»å³ä¸Šè§’çš„ã€Xã€‘<br>
<br>Method 1.Please visit <strong><a href="https://twitter.com/WeiyiGeek" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">ã€My Twitterã€‘</a></strong>. There is an article verification code in the homepage.
<br>æ–¹å¼2.è¯·è®¿é—®æœ¬åšä¸»çš„Bç«™<strong><a href="https://space.bilibili.com/385802642" target="_blank" rel="noopener" style="color: rgb(240, 65, 52);text-decoration:underline;">ã€WeiyiGeekã€‘</a></strong>é¦–é¡µå…³æ³¨UPä¸»,<br>å°†è‡ªåŠ¨éšæœºè·å–è§£é”éªŒè¯ç ã€‚
<br>æ–¹å¼3.æ‰«ä¸€æ‰«ä¸‹æ–¹äºŒç»´ç ï¼Œå…³æ³¨æœ¬ç«™<strong>å®˜æ–¹å…¬ä¼—å·</strong><br>
å›å¤ï¼š<strong style="color: rgb(240, 65, 52);">éªŒè¯ç </strong>
å°†è·å–<strong style="color: rgb(240, 65, 52);">è§£é”(æœ‰æ•ˆæœŸ7å¤©)</strong>æœ¬ç«™æ‰€æœ‰æŠ€æœ¯æ–‡ç« å“Ÿ!</p>
<img src="/img/wechat-search.png" style="width: 300px; margin-top: 10px;">
<div id="btw-modal-input-code" style="margin-top: 20px; background: rgb(255, 255, 255);">
  <input id="btw-modal-input" type="number" minlength="4" maxlength="4" placeholder="è¯·è¾“å…¥éªŒè¯ç |Verification Code"
    style="width: 165px; height: 32px; line-height: 32px; padding: 0px 10px; margin: 0px 10px; font-size: 13px; text-rendering: auto; text-transform: none; cursor: text; outline: none; box-sizing: border-box; border: 1px solid rgb(221, 221, 221); -webkit-appearance: textfield; background-color: white; -webkit-rtl-ordering: logical;"/>
  <button id="btw-submit-btn" onclick="yzm_vertify()"
    style="padding: 0px 20px; height: 32px; font-size: 14px; outline: none; border: none; color: rgb(255, 255, 255); background: rgb(222, 104, 109); cursor: pointer;">æ
    äº¤</button> </div>
<p id="btw-footer" style="margin: 40px 0px 20px; color: rgb(153, 153, 153);">@WeiyiGeek - ä¸ºäº†èƒ½åˆ°è¿œæ–¹ï¼Œè„šä¸‹çš„æ¯ä¸€æ­¥éƒ½ä¸èƒ½å°‘</p>
</div>


</div>

    </main>
    <footer class="footer ">
    
    <div class="top">
        
            <p>
    <span>Linksï¼š</span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top" target="_blank">https://weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.weiyigeek.top" target="_blank">https://blog.weiyigeek.top</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weiyigeek.top/img/wechat-search.png" target="_blank">å…¬ä¼—è´¦å·</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://space.bilibili.com/385802642/article" target="_blank">å“”å“©å“”å“©ä¸“æ </a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://github.com/weiyigeek" target="_blank">ä¸ªäººGithub</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://gitee.com/WeiyiGeek" target="_blank">ä¸ªäººGitee</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.zhihu.com/people/weiyiSec" target="_blank">ä¸ªäººçŸ¥ä¹</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.cnblogs.com/WeiyiGeek" target="_blank">åšå®¢å›­</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://my.oschina.net/weiyigeek" target="_blank">OSCHINA</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.toutiao.com/c/user/token/MS4wLjABAAAAqcPSoMqfctaEqJpGSF775eeCjWkrop4AOyLITdMx-L78F5iXzfQcSRM5sY4dq3wR" target="_blank">ä»Šæ—¥å¤´æ¡</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.csdn.net/u013072756?type=lately" target="_blank">CSDN</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.jianshu.com/u/5199a1104739" target="_blank">ç®€ä¹¦</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cloud.tencent.com/developer/user/1389665/articles" target="_blank">è…¾è®¯äº‘+äº‘ç¤¾åŒº</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://cuttlefish.baidu.com/shop/75c5dbd8d15abe23482f4d40" target="_blank">ç™¾åº¦æ–‡åº“</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://author.baidu.com/home?from=blog&app_id=1726736601523415" target="_blank">ITæå®¢çŸ¥è¯†åˆ†äº«</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://blog.51cto.com/weiyigeek" target="_blank">51CTOåšå®¢</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://juejin.cn/user/122767337595934" target="_blank">æ˜é‡‘</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://weibo.com/a/hot/7622022703618049_1.html" target="_blank">å¾®åšæ–‡ç« </a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.xiaohongshu.com/user/profile/627c98bb000000001000e7ba" target="_blank">å°çº¢ä¹¦</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://segmentfault.com/u/weiyigeek" target="_blank">Segmentfault</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.douyin.com/user/MS4wLjABAAAAMSBdMja6XLsdmzafb0RNbFeBemIOk38K1PaOClZeI1Q" target="_blank">æŠ–éŸ³ä¸»é¡µ</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.kuaishou.com/profile/3xfbrsrhd2i69x9" target="_blank">å¿«æ‰‹ä¸»é¡µ</a>
    </span>
    
</p>

        
    </div>
    
    <div class="bottom">
      <p>
        <span>WeiyiGeek &copy; 2018 - 2022 <a href="https://weiyigeek.top" target="_blank" rel="noopener">weiyigeek.top</a> All rights reserved.å”¯ä¸€æå®¢ITçŸ¥è¯†åˆ†äº« ç‰ˆæƒæ‰€æœ‰ </span>
        
        <span>
          Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/weiyigeek" target="_blank">mellow</a>
        </span>
        
        <br/>è®¿é—®ç»Ÿè®¡
        <span><a href="/sitemap.xml" target="_blank" rel="Sitemaps-ç«™ç‚¹åœ°å›¾">Sitemaps</a> </span>
        <span><a href="/baidusitemap.xml" target="_blank" rel="baidusitemaps-ç™¾åº¦ç«™ç‚¹åœ°å›¾">ç«™ç‚¹åœ°å›¾</a> </span>
        <!-- 
  -->
        <br/>ICPå¤‡æ¡ˆå·<span><a href="https://beian.miit.gov.cn" target="_blank">æ¸ICPå¤‡2022003447å·</a></span>
        <br/>
        <div id="cc-myssl-id">
          <a href="https://myssl.com/blog.weiyigeek.top?from=mysslid" target="_blank" rel="noopener"><img src="https://static.myssl.com/res/images/myssl-id1.png" alt="MySSLå®‰å…¨è®¤è¯" style="max-height:50px;display:block;margin:0 auto"></a>
        </div>
      </p>
    </div>
</footer>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>


<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.weiyigeek.top/2020/4-25-603.html&title=ã€Š1.Goè¯­è¨€ç¼–ç¨‹å­¦ä¹ è¯¾åå®è·µã€‹ â€” WeiyiGeek Blog&pic=https://blog.weiyigeek.top/img/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.weiyigeek.top/2020/4-25-603.html&title=ã€Š1.Goè¯­è¨€ç¼–ç¨‹å­¦ä¹ è¯¾åå®è·µã€‹ â€” WeiyiGeek Blog&source=[TOC]" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.weiyigeek.top/2020/4-25-603.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€Š1.Goè¯­è¨€ç¼–ç¨‹å­¦ä¹ è¯¾åå®è·µã€‹ â€” WeiyiGeek Blog&url=https://blog.weiyigeek.top/2020/4-25-603.html&via=https://blog.weiyigeek.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.weiyigeek.top/2020/4-25-603.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>æ‰«ä¸€æ‰«ï¼Œåˆ†äº«åˆ°å¾®ä¿¡</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACPElEQVR42u3awW7CQAxFUf7/p1Opq0ohmfs8A2o8NytEgXBYvHpsv174On6v8+O/z5xfc37+6jOvPmfxJUOGjMcyjtuL3PKeQV6fvusNVYYMGRswSMgSHgnoj7xXhgwZMnAI8ti9j3IZMmTImAncmbKy9noZMmTIqEUnP5qS4nKGLUOGjB0YM4OBTz/+0nxDhgwZ/5hxhNeq0WMazYNvJUOGjNYM0vAiI8Zakcc/AcWxDBkymjL40ZQPIHkE3989eEaGDBmtGbVSr9YgS3nxDyRDhoymDNJw54E7E9BTDT4ZMmRswOC3JKUkH16SxQ60NCZDhowNGOkKBY/p9HPSNQ4ZMmTswEhnCLxxn7bb0qWxwVFWhgwZjRg8TNNFCs6ujShkyJCxG6PWjucLW+ldeNNNhgwZ+zDSL8e/NG/xpzBU28qQIaMFozaATEeVBJk21wabIzJkyNiGwVtgfOWLN/h4602GDBm9GWg0iEOzdgBO18LQ8FKGDBmNGPMHVzI8SI+7PHxlyJCxA2NV8ccPtLUgHpSbMmTI2ICRHjh5GUdGCLXIvpzEypAhox2D3LhW6qV/5ddgeClDhox2jJkDajpC4GsW5L5v/m/IkCGjKaMWcxxWC9BaiMuQIaM3g4RsbYTJl8DSSL08xMqQIaM1Iw1ZXgjWWnjp+oUMGTJkkLKPh3IaxKjolCFDhgxcwAXFXOl4vKA0lCFDxmMZfDEiXaSoteTSn0OGDBm9GTODgZSRFp2L1zVkyJDxPMYPZNY39QAa/E0AAAAASUVORK5CYII=" alt="å¾®ä¿¡åˆ†äº«äºŒç»´ç ">
</div>


    
    <!-- main-js -->
<script type="text/javascript" src="/js/jquery/2.1.0-jquery.min.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/plugins/ios-orientationchange-fix.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/jquery/3.5.2-jquery.fancybox.min.js?v=1.6.6"></script>
<!--  //cdn.bootcss.com/node-waves/0.7.4/waves.min.js -->
<script type="text/javascript" src="/js/node-waves/0.7.4-waves.min.js?v=1.6.6"></script> 

<script type="text/javascript" src="/js/method.js?v=1.6.6"></script>
<script type="text/javascript" src="/js/blog.js?v=1.6.6"></script>

<!-- third-party -->
<script type="text/javascript" src="/js/plugins/local_search.js?v=1.6.6"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) { search_path = "search.xml";}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script> 

<!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> --> 



  


<script>
  var _hmt = _hmt || [];
  (function() {
    // ç™¾åº¦ç»Ÿè®¡
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?53923c4b5560739bc0ed61e183be6acf";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>
 


<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.staticfile.org/mathjax/2.7.9/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
 
<script>
    (function() {
        var OriginTitile = document.title, titleTime;
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.title = 'WeiyiGeek Blog-å…³æ³¨äºç½‘ç»œå®‰å…¨_ç‰©è”ç½‘å®‰å…¨å¼€å‘_ç½‘ç»œå®‰å…¨è¿ç»´-å­¦ä¹ å¿ƒå¾—åˆ†äº«';
                clearTimeout(titleTime);
            } else {
                document.title = '(ã¤ã‚§âŠ‚)å’¦!åˆå¥½äº†!';
                titleTime = setTimeout(function() {
                    document.title = OriginTitile;
                },2000);
            }
        });
    })();
</script>
 
     <script type="text/javascript" src="/js/custom/copytips.js?v=1.6.6"></script> 
</body>
</html>
