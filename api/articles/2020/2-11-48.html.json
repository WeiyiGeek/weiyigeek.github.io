{"title":"Oracle数据库运维使中用常见错误处理","slug":"数据存储/Oracle/Oracle数据库运维使中用常见错误处理","date":"2020-02-11T13:34:33.000Z","updated":"2023-01-31T02:29:07.992Z","url":"2020/2-11-48.html","path":"api/articles/2020/2-11-48.html.json","covers":["https://img.weiyigeek.top/2021/5/20211022211430.png","https://img.weiyigeek.top/2021/5/20211022230814.png","https://img.weiyigeek.top/2021/5/20211118175350.png"],"content":"<p>[TOC]</p>\n<a id=\"more\"></a>\n<h2 id=\"0x00-Oracle-10G-入坑出坑\"><a href=\"#0x00-Oracle-10G-入坑出坑\" class=\"headerlink\" title=\"0x00 Oracle 10G 入坑出坑\"></a>0x00 Oracle 10G 入坑出坑</h2><h3 id=\"1-在ORACLE-DATABASE-10G点击安装程序时显示程序异常终止-发生内部错误的提示。\"><a href=\"#1-在ORACLE-DATABASE-10G点击安装程序时显示程序异常终止-发生内部错误的提示。\" class=\"headerlink\" title=\"1.在ORACLE DATABASE 10G点击安装程序时显示程序异常终止,发生内部错误的提示。\"></a>1.在<code>ORACLE DATABASE 10G</code>点击安装程序时显示程序异常终止,发生内部错误的提示。</h3><p><strong>问题:</strong> 我们在<code>ORACLE DATABASE 10G</code>点击安装程序时显示程序异常终止,发生内部错误的提示。<br><strong>版本:</strong> 10G<br><strong>环境:</strong> WindowsServer<br><strong>解决办法：</strong> 设置兼容性为 windows xp，和右键管理员启动安装程序Setup.exe<br><figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2021/5/20211022211430.png\" alt=\"WeiyiGeek.显示程序异常终止\" title=\"\" class=\"\">\n                <p>WeiyiGeek.显示程序异常终止</p>\n            </figure></p>\n<hr>\n<h3 id=\"2-在进行Oracle登陆时报-ORA-01034-ORACLE-Not-Available-与-ORA-27101-Shared-Memory-Does-not-exist-错误\"><a href=\"#2-在进行Oracle登陆时报-ORA-01034-ORACLE-Not-Available-与-ORA-27101-Shared-Memory-Does-not-exist-错误\" class=\"headerlink\" title=\"2.在进行Oracle登陆时报 ORA-01034 (ORACLE Not Available) 与 ORA-27101 (Shared Memory Does not exist) 错误\"></a>2.在进行Oracle登陆时报 <code>ORA-01034</code> (ORACLE Not Available) 与 <code>ORA-27101</code> (Shared Memory Does not exist) 错误</h3><p><strong>问题:</strong> 在进行Oracle登陆时报 <code>ORA-01034</code> (ORACLE Not Available) 与 <code>ORA-27101</code> (Shared Memory Does not exist) 错误。<br><strong>版本:</strong> 10G<br><strong>环境:</strong> WindowsServer<br><strong>原因:</strong> 由于我们通过手工<code>SHUTDOWN IMMEDIATE;</code>命令关闭了数据库实例，一旦关闭之后用户无法直接连接sqlplusw命令<br><strong>解决办法:</strong> 此时可以先使用”sqlplusw.exe /nolog”登录，之后使用管理员登录(sys), 然后启动数据库示例。<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; sqlplusw.exe /nolog</span><br><span class=\"line\">&gt; STARTUP;</span><br></pre></td></tr></table></figure></p>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2021/5/20211022230814.png\" alt=\"WeiyiGeek.数据库实例被关闭无法连接\" title=\"\" class=\"\">\n                <p>WeiyiGeek.数据库实例被关闭无法连接</p>\n            </figure>\n<hr>\n<h2 id=\"0x01-Oracle-11G-入坑出坑\"><a href=\"#0x01-Oracle-11G-入坑出坑\" class=\"headerlink\" title=\"0x01 Oracle 11G 入坑出坑\"></a>0x01 Oracle 11G 入坑出坑</h2><h3 id=\"1-连接-Oracle-11g-数据库并打开时报-ORA-29275-partial-multibyte-character-错误。\"><a href=\"#1-连接-Oracle-11g-数据库并打开时报-ORA-29275-partial-multibyte-character-错误。\" class=\"headerlink\" title=\"1.连接 Oracle 11g 数据库并打开时报 ORA-29275: partial multibyte character 错误。\"></a>1.连接 Oracle 11g 数据库并打开时报 ORA-29275: partial multibyte character 错误。</h3><p><strong>问题:</strong> 利用Native打开Oracle数据库时报ORA-29275错误。<br><strong>原因:</strong> 与字符集存储方式有关系,可以修改客户端和服务器的字符集存储方式。</p>\n<hr>\n<h2 id=\"0x02-Oracle-12C-入坑出坑\"><a href=\"#0x02-Oracle-12C-入坑出坑\" class=\"headerlink\" title=\"0x02 Oracle 12C 入坑出坑\"></a>0x02 Oracle 12C 入坑出坑</h2><h3 id=\"1-使用SQL-Plus工具连接Oracle时报ORA-12560-TNS-协议适配器错误。\"><a href=\"#1-使用SQL-Plus工具连接Oracle时报ORA-12560-TNS-协议适配器错误。\" class=\"headerlink\" title=\"1.使用SQL*Plus工具连接Oracle时报ORA-12560: TNS : 协议适配器错误。\"></a>1.使用SQL*Plus工具连接Oracle时报<code>ORA-12560: TNS : 协议适配器</code>错误。</h3><p><strong>问题:</strong> 登陆时报<code>ORA-12560: TNS : 协议适配器</code>错误<br><strong>环境:</strong> Windows<br><strong>排查方法:</strong></p>\n<ul>\n<li>(1) 监听程序是否正常运行。</li>\n<li>(2) Oracle 数据库实例服务是否正常运行。</li>\n<li>(3) 在注册表中修改Oracle数据库的SID为已存在的实例名称。</li>\n</ul>\n<p><br></p>\n<h3 id=\"2-安装-Oracle-12C-时报CreateFile-error-32-when-trying-set-file-time错误。\"><a href=\"#2-安装-Oracle-12C-时报CreateFile-error-32-when-trying-set-file-time错误。\" class=\"headerlink\" title=\"2.安装 Oracle 12C 时报CreateFile() error 32 when trying set file time错误。\"></a>2.安装 Oracle 12C 时报<code>CreateFile() error 32 when trying set file time</code>错误。</h3><p><strong>问题:</strong> 在WindowsServers中安装Oracle12C时报<code>CreateFile() error 32 when trying set file time</code>错误.<br><strong>环境:</strong> Windows Server 2019<br><strong>原因:</strong> 某些杀毒软件的阻止的缘故，笔者所遇是360虚拟化安全以及windows自带的安全中心。<br><strong>解决办法:</strong> 停用杀毒软件服务关闭Windows自带的病毒和威胁防护,关闭防火墙和网络保护,然后重新执行oracle安装程序。</p>\n<figure class=\"image-box\">\n                <img src=\"https://img.weiyigeek.top/2021/5/20211118175350.png\" alt=\"WeiyiGeek.解决办法\" title=\"\" class=\"\">\n                <p>WeiyiGeek.解决办法</p>\n            </figure>\n<p> <br></p>\n<h3 id=\"3-安装-Oracle-12C-时打开setup-exe安装程序空白挂起无响应CPU达到100-。\"><a href=\"#3-安装-Oracle-12C-时打开setup-exe安装程序空白挂起无响应CPU达到100-。\" class=\"headerlink\" title=\"3.安装 Oracle 12C 时打开setup.exe安装程序空白挂起无响应CPU达到100%。\"></a>3.安装 Oracle 12C 时打开setup.exe安装程序空白挂起无响应CPU达到100%。</h3><p><strong>问题:</strong> 在WindowsServers中安装Oracle12C时打开setup.exe安装程序后卡死无响应CPU达到100%问题。<br><strong>环境:</strong> WindowsServer2019<br><strong>原因:</strong> 由于安装前的环境未依赖检测未成功，笔者所遇是由于IPC$与C$共享被删除以及server、workstation服务被禁用。<br><strong>解决办法:</strong><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 确保service manager中的所有oracle服务都已停止，然后删除以下目录、</span></span><br><span class=\"line\">C:\\Users\\Administrator\\AppData\\CVU_12.2.0.1.0_[your_account_name]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># (1) 方式1，设置共享以及server、workstation服务开启</span></span><br><span class=\"line\">net share C$=C:</span><br><span class=\"line\">Start-Service -DisplayName Server</span><br><span class=\"line\">Start-Service -DisplayName Workstation</span><br><span class=\"line\"><span class=\"comment\"># 手动注册表将下述键DWORD值更改为1</span></span><br><span class=\"line\">HKEY_LOCAL_MACHINE\\System\\Current ControlSet\\Services\\LanmanServer\\Parameters</span><br><span class=\"line\">AutoShareServer</span><br><span class=\"line\">AutoShareWks</span><br><span class=\"line\"><span class=\"comment\"># 最后应该可以看见445的监听。</span></span><br><span class=\"line\">netstat -ano | findstr <span class=\"string\">\"445\"</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># (2) 方式2，如果设置方式1后还是不行就采用此种方式。</span></span><br><span class=\"line\"><span class=\"comment\"># 针对客户端安装，在cmd中执行命令；</span></span><br><span class=\"line\">setup.exe -ignorePrereq -J<span class=\"string\">\"-Doracle.install.client.validate.clientSupportedOSCheck=false\"</span> </span><br><span class=\"line\"><span class=\"comment\"># 针对服务端安装，在cmd中执行命令：</span></span><br><span class=\"line\">setup.exe -ignorePrereq -J<span class=\"string\">\"-Doracle.install.db.validate.supportedOSCheck=false\"</span></span><br></pre></td></tr></table></figure></p>\n<p>参考地址: <a href=\"https://community.oracle.com/thread/4285583\" target=\"_blank\" rel=\"noopener\">https://community.oracle.com/thread/4285583</a></p>\n<p><br></p>\n<h3 id=\"4-安装-Oracle-12C-时Client安装出现-quot-INS-30131-quot-错误请确保当前用户具有访问临时位置所需的权限\"><a href=\"#4-安装-Oracle-12C-时Client安装出现-quot-INS-30131-quot-错误请确保当前用户具有访问临时位置所需的权限\" class=\"headerlink\" title=\"4.安装 Oracle 12C 时Client安装出现&quot;[INS-30131]&quot;错误请确保当前用户具有访问临时位置所需的权限\"></a>4.安装 Oracle 12C 时Client安装出现<code>&quot;[INS-30131]&quot;</code>错误请确保当前用户具有访问临时位置所需的权限</h3><p><strong>问题:</strong> 安装 Oracle 12C 时Client安装出现”[INS-30131]”错误“请确保当前用户具有访问临时位置所需的权限”<br><strong>环境:</strong> WindowsServer2019<br><strong>原因:</strong> 在安装Oracle12c时执行setup.exe将会自动解压到<code>C:\\Users\\Administrator\\AppData\\Local\\Temp</code>再进行安装，当文件夹权限不足时就会拒绝安装程序的访问；<br><strong>解决办法:</strong> 开启c$磁盘共享，并将其中共享中权限设置为：管理员有完成访问权限，其他用户有只读访问权限(R)<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* 管理工具&gt;计算机管理&gt;系统工具&gt;共享文件夹&gt;共享 </span><br><span class=\"line\">* 点击“下一步”&gt; </span><br><span class=\"line\">* 单击“浏览”&gt; </span><br><span class=\"line\">* 选择<span class=\"string\">\"本地磁盘（C:）\"</span>&gt;确定 </span><br><span class=\"line\">* “共享名”输入 <span class=\"string\">\"C$\"</span> &gt;<span class=\"string\">\"下一步\"</span> ，OK! </span><br><span class=\"line\">* 其中共享中权限设置为：管理员有完成访问权限，其他用户有只读访问权限(R) </span><br><span class=\"line\"><span class=\"comment\"># 测试一下C盘共享 是否成功. 在cmd里打</span></span><br><span class=\"line\">net share <span class=\"comment\"># 查看c$共享</span></span><br><span class=\"line\">net use \\\\localhost\\c$ <span class=\"comment\"># 本地连接c$</span></span><br></pre></td></tr></table></figure></p>\n<p>Tips: 如果此时报<code>系统错误53 The network path was not found</code>,请检查”服务”里的”TCP/IP NetBIOS Helper”服务是否已开启。</p>\n<p><br></p>\n<h3 id=\"5-安装-Oracle-12C-时安装程序一直卡在启动-‘Oracle-Database-Configuration-Assistant’-不动此时进度88-。\"><a href=\"#5-安装-Oracle-12C-时安装程序一直卡在启动-‘Oracle-Database-Configuration-Assistant’-不动此时进度88-。\" class=\"headerlink\" title=\"5.安装 Oracle 12C 时安装程序一直卡在启动 ‘Oracle Database Configuration Assistant’ 不动此时进度88%。\"></a>5.安装 Oracle 12C 时安装程序一直卡在启动 ‘Oracle Database Configuration Assistant’ 不动此时进度88%。</h3><p><strong>问题:</strong> 安装 Oracle 12C 时安装程序一直卡在启动 ‘Oracle Database Configuration Assistant’ 步骤不动此时安装进度为88%”<br><strong>环境:</strong> WindowsServer2019<br><strong>原因:</strong> 磁盘共享以及权限原因导致,其次是其实 oracle 早就启动和配置好了，但是一般我们在安装的时候肯定开着其他应用程序界面提示被隐藏。<br><strong>解决办法:</strong><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 步骤1.参考前面问题4和问题5的解决办法。</span></span><br><span class=\"line\"><span class=\"comment\"># 步骤2</span></span><br><span class=\"line\">Windows 用户只要直接点击右下角的回到桌面，或者快捷键 Windows + D 或者Alt+Tab验证是否存在提示框。</span><br></pre></td></tr></table></figure></p>\n","comments":true,"excerpt":"[TOC]","categories":[{"name":"Database","path":"api/categories/Database.json"}],"tags":[{"name":"Oracle","path":"api/tags/Oracle.json"}]}